{"version":3,"file":"ej2-navigations.umd.min.js","sources":["../src/common/h-scroll.js","../src/toolbar/toolbar.js","../src/accordion/accordion.js","../src/context-menu/context-menu.js","../src/tab/tab.js","../src/treeview/treeview.js","../src/sidebar/sidebar.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Touch, Component, EventHandler, selectAll, getUniqueID } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Property, Browser, detach } from '@syncfusion/ej2-base';\nvar CLS_ROOT = 'e-hscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_HSCROLLCON = 'e-hscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVRIGHTARROW = 'e-nav-right-arrow';\nvar CLS_NAVLEFTARROW = 'e-nav-left-arrow';\nvar CLS_HSCROLLNAV = 'e-scroll-nav';\nvar CLS_HSCROLLNAVRIGHT = 'e-scroll-right-nav';\nvar CLS_HSCROLLNAVLEFT = 'e-scroll-left-nav';\nvar CLS_DEVICE = 'e-scroll-device';\n/**\n * HScroll module is introduces horizontal scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs horizontal scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new HScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar HScroll = /** @class */ (function (_super) {\n    __extends(HScroll, _super);\n    /**\n     * Initializes a new instance of the HScroll class.\n     * @param options  - Specifies HScroll model properties as options.\n     * @param element  - Specifies the element for which horizontal scrolling applies.\n     */\n    function HScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    HScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        var element = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (element.id === '') {\n            element.id = getUniqueID('hscroll');\n            this.uniqueId = true;\n        }\n        element.style.display = 'block';\n        if (this.enableRtl) {\n            element.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    HScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this) });\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n            EventHandler.add(this.scrollEle, 'scroll', this.scrollHandler, this);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n        }\n    };\n    HScroll.prototype.initialize = function () {\n        var scrollEle = this.createElement('div', { className: CLS_HSCROLLCON });\n        var scrollDiv = this.createElement('div', { className: CLS_HSCROLLBAR });\n        scrollDiv.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollEle.appendChild(ele_1);\n        }\n        scrollDiv.appendChild(scrollEle);\n        ele.appendChild(scrollDiv);\n        scrollDiv.style.overflowX = 'hidden';\n        this.scrollEle = scrollDiv;\n        this.scrollItems = scrollEle;\n    };\n    HScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    HScroll.prototype.getModuleName = function () {\n        return 'hScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    HScroll.prototype.destroy = function () {\n        var ele = this.element;\n        ele.style.display = '';\n        ele.classList.remove(CLS_ROOT);\n        var nav = selectAll('.e-' + ele.id + '_nav.' + CLS_HSCROLLNAV, ele);\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            ele.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (nav.length > 0) {\n            detach(nav[0]);\n            detach(nav[1]);\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Specifies the value to disable/enable the HScroll component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, HScroll will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    HScroll.prototype.disable = function (value) {\n        var navEles = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n        value ? this.element.classList.add(CLS_DISABLE) : this.element.classList.remove(CLS_DISABLE);\n        navEles.forEach(function (el) {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    };\n    HScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var nav = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsLeft = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVLEFT);\n        var navEle = this.createElement('div', { id: id.concat('_left'), className: clsLeft + ' ' + CLS_DISABLE });\n        navEle.setAttribute('aria-disabled', 'true');\n        var navLeftItem = this.createElement('div', { className: CLS_NAVLEFTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navEle.appendChild(navLeftItem);\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n        element.insertBefore(navEle, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navEle.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navEle]);\n    };\n    HScroll.prototype.onKeyPress = function (e) {\n        var _this = this;\n        if (e.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, e.target);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    HScroll.prototype.onKeyUp = function (e) {\n        if (e.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            e.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    HScroll.prototype.eventBinding = function (ele) {\n        var _this = this;\n        ele.forEach(function (el) {\n            new Touch(el, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            el.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            el.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            el.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            el.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            el.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(el, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    HScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    HScroll.prototype.tabHoldHandler = function (e) {\n        var _this = this;\n        var trgt = e.originalEvent.target;\n        trgt = this.contains(trgt, CLS_HSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDis = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDis, trgt);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    HScroll.prototype.contains = function (ele, className) {\n        return ele.classList.contains(className);\n    };\n    HScroll.prototype.eleScrolling = function (scrollDis, trgt) {\n        var element = this.scrollEle;\n        var rootEle = this.element;\n        var classList = trgt.classList;\n        if (classList.contains(CLS_HSCROLLNAV)) {\n            classList = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (this.contains(rootEle, CLS_RTL) && this.browserCheck) {\n            scrollDis = -scrollDis;\n        }\n        var scrlLeft = element.scrollLeft;\n        if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n            if (classList.contains(CLS_NAVRIGHTARROW)) {\n                element.scrollLeft = scrlLeft + scrollDis;\n            }\n            else {\n                element.scrollLeft = scrlLeft - scrollDis;\n            }\n        }\n        else {\n            if (classList.contains(CLS_NAVLEFTARROW)) {\n                element.scrollLeft = scrlLeft + scrollDis;\n            }\n            else {\n                element.scrollLeft = scrlLeft - scrollDis;\n            }\n        }\n    };\n    HScroll.prototype.clickEventHandler = function (e) {\n        this.eleScrolling(this.scrollStep, e.target);\n    };\n    HScroll.prototype.touchHandler = function (e) {\n        var ele = this.scrollEle;\n        var distance;\n        distance = e.distanceX;\n        if ((this.ieCheck) && this.contains(this.element, CLS_RTL)) {\n            distance = -distance;\n        }\n        if (e.scrollDirection === 'Left') {\n            ele.scrollLeft = ele.scrollLeft + distance;\n        }\n        else if (e.scrollDirection === 'Right') {\n            ele.scrollLeft = ele.scrollLeft - distance;\n        }\n    };\n    HScroll.prototype.arrowDisabling = function (addDisable, removeDisable) {\n        addDisable.classList.add(CLS_DISABLE);\n        addDisable.setAttribute('aria-disabled', 'true');\n        addDisable.removeAttribute('tabindex');\n        clearInterval(this.timeout);\n        removeDisable.classList.remove(CLS_DISABLE);\n        removeDisable.setAttribute('aria-disabled', 'false');\n        removeDisable.setAttribute('tabindex', '0');\n        this.repeatScroll();\n    };\n    HScroll.prototype.scrollHandler = function (e) {\n        var target = e.target;\n        var width = target.offsetWidth;\n        var rootEle = this.element;\n        var navLeftEle = this.element.querySelector('.' + CLS_HSCROLLNAVLEFT);\n        var navRightEle = this.element.querySelector('.' + CLS_HSCROLLNAVRIGHT);\n        var scrollLeft = target.scrollLeft;\n        if (scrollLeft <= 0) {\n            scrollLeft = -scrollLeft;\n        }\n        if (scrollLeft === 0) {\n            if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n                this.arrowDisabling(navLeftEle, navRightEle);\n            }\n            else {\n                this.arrowDisabling(navRightEle, navLeftEle);\n            }\n        }\n        else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) {\n            if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n                this.arrowDisabling(navRightEle, navLeftEle);\n            }\n            else {\n                this.arrowDisabling(navLeftEle, navRightEle);\n            }\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_HSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     * @param  {HScrollModel} newProp\n     * @param  {HScrollModel} oldProp\n     * @returns void\n     * @private\n     */\n    HScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(40)\n    ], HScroll.prototype, \"scrollStep\", void 0);\n    HScroll = __decorate([\n        NotifyPropertyChanges\n    ], HScroll);\n    return HScroll;\n}(Component));\nexport { HScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, isVisible, closest, attributes, detach, classList, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { selectAll, setStyleAttribute as setStyle } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, getUniqueID, formatUnit, Collection, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Browser } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { calculatePosition } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { HScroll } from '../common/h-scroll';\nvar CLS_ITEMS = 'e-toolbar-items';\nvar CLS_ITEM = 'e-toolbar-item';\nvar CLS_RTL = 'e-rtl';\nvar CLS_SEPARATOR = 'e-separator';\nvar CLS_POPUPICON = 'e-popup-up-icon';\nvar CLS_POPUPDOWN = 'e-popup-down-icon';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_POPUPTEXT = 'e-toolbar-text';\nvar CLS_TBARTEXT = 'e-popup-text';\nvar CLS_TBAROVERFLOW = 'e-overflow-show';\nvar CLS_POPOVERFLOW = 'e-overflow-hide';\nvar CLS_TBARBTN = 'e-tbar-btn';\nvar CLS_TBARNAV = 'e-hor-nav';\nvar CLS_TBARSCRLNAV = 'e-scroll-nav';\nvar CLS_TBARRIGHT = 'e-toolbar-right';\nvar CLS_TBARLEFT = 'e-toolbar-left';\nvar CLS_TBARCENTER = 'e-toolbar-center';\nvar CLS_TBARPOS = 'e-tbar-pos';\nvar CLS_TBARSCROLL = 'e-hscroll-content';\nvar CLS_POPUPNAV = 'e-hor-nav';\nvar CLS_POPUPCLASS = 'e-toolbar-pop';\nvar CLS_POPUP = 'e-toolbar-popup';\nvar CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nvar CLS_TBARNAVACT = 'e-nav-active';\nvar CLS_TBARIGNORE = 'e-ignore';\nvar CLS_POPPRI = 'e-popup-alone';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_MULTIROW = 'e-toolbar-multirow';\nvar CLS_MULTIROW_SEPARATOR = 'e-multirow-separator';\nvar CLS_EXTENDABLE_ITEM = 'e-extended-item';\nvar CLS_EXTENDABLE_SEPARATOR = 'e-extended-separator';\nvar CLS_EXTEANDABLE_TOOLBAR = 'e-extended-toolbar';\nvar CLS_EXTENDABLECLASS = 'e-toolbar-extended';\nvar CLS_EXTENDPOPUP = 'e-expended-nav';\nvar CLS_EXTENDEDPOPOPEN = 'e-tbar-extended';\n/**\n * An item object that is used to configure Toolbar commands.\n */\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('auto')\n    ], Item.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"showAlwaysInPopup\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"prefixIcon\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"suffixIcon\", void 0);\n    __decorate([\n        Property('None')\n    ], Item.prototype, \"overflow\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"template\", void 0);\n    __decorate([\n        Property('Button')\n    ], Item.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], Item.prototype, \"showTextOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Item.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"tooltipText\", void 0);\n    __decorate([\n        Property('Left')\n    ], Item.prototype, \"align\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    /**\n     * Initializes a new instance of the Toolbar class.\n     * @param options  - Specifies Toolbar model properties as options.\n     * @param element  - Specifies the element that is rendered as a Toolbar.\n     */\n    function Toolbar(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Toolbar.\n         */\n        _this.keyConfigs = {\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            popupOpen: 'enter',\n            popupClose: 'escape',\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void.\n     */\n    Toolbar.prototype.destroy = function () {\n        var _this = this;\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        this.tempId.forEach(function (ele) {\n            if (!isNOU(_this.element.querySelector(ele))) {\n                document.body.appendChild(_this.element.querySelector(ele)).style.display = 'none';\n            }\n        });\n        while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n        }\n        if (this.trgtEle) {\n            ele.appendChild(this.ctrlTem);\n        }\n        this.clearProperty();\n        this.popObj = null;\n        this.tbarAlign = null;\n        this.remove(this.element, 'e-toolpop');\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-orientation', 'aria-haspopup', 'role'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Toolbar.prototype.preRender = function () {\n        var eventArgs = { enableCollision: true, scrollStep: this.scrollStep };\n        this.trigger('beforeCreate', eventArgs);\n        this.enableCollision = eventArgs.enableCollision;\n        this.scrollStep = eventArgs.scrollStep;\n        this.scrollModule = null;\n        this.popObj = null;\n        this.tempId = [];\n        this.tbarItemsCol = this.items;\n        this.popupPriCount = 0;\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n    };\n    Toolbar.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resize.bind(this));\n        this.keyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs\n        });\n        EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n        this.element.setAttribute('tabIndex', '0');\n    };\n    Toolbar.prototype.docKeyDown = function (e) {\n        if (e.target.tagName === 'INPUT') {\n            return;\n        }\n        var popCheck = !isNOU(this.popObj) && isVisible(this.popObj.element) && this.overflowMode !== 'Extended';\n        if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && popCheck) {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        var keyCheck = (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36);\n        if (keyCheck) {\n            e.preventDefault();\n        }\n    };\n    Toolbar.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        this.destroyHScroll();\n        this.keyModule.destroy();\n        EventHandler.remove(document, 'scroll', this.docEvent);\n        EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n        EventHandler.remove(document, 'click', this.docEvent);\n    };\n    Toolbar.prototype.clearProperty = function () {\n        this.tbarEle = [];\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n    };\n    Toolbar.prototype.docEvent = function (e) {\n        var popEle = closest(e.target, '.e-popup');\n        if (this.popObj && isVisible(this.popObj.element) && !popEle && this.overflowMode === 'Popup') {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n    };\n    Toolbar.prototype.destroyHScroll = function () {\n        if (this.scrollModule) {\n            if (this.tbarAlign) {\n                this.add(this.scrollModule.element, CLS_TBARPOS);\n            }\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Toolbar.prototype.destroyItems = function () {\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) {\n            detach(el);\n        });\n        var tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n        if (this.tbarAlign) {\n            [].slice.call(tbarItems.children).forEach(function (el) {\n                detach(el);\n            });\n            this.tbarAlign = false;\n            this.remove(tbarItems, CLS_TBARPOS);\n        }\n        this.clearProperty();\n    };\n    Toolbar.prototype.destroyMode = function () {\n        if (this.scrollModule) {\n            this.remove(this.scrollModule.element, CLS_RTL);\n            this.destroyHScroll();\n        }\n        this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        if (this.popObj) {\n            this.popupRefresh(this.popObj.element, true);\n        }\n    };\n    Toolbar.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Toolbar.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    Toolbar.prototype.elementFocus = function (ele) {\n        var fChild = ele.firstElementChild;\n        if (fChild) {\n            fChild.focus();\n            this.activeEleSwitch(ele);\n        }\n        else {\n            ele.focus();\n        }\n    };\n    Toolbar.prototype.clstElement = function (tbrNavChk, trgt) {\n        var clst;\n        if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n            clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n        }\n        else if (this.element === trgt || tbrNavChk) {\n            clst = this.element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_DISABLE + ' ):not(.' + CLS_SEPARATOR + ' )');\n        }\n        else {\n            clst = closest(trgt, '.' + CLS_ITEM);\n        }\n        return clst;\n    };\n    Toolbar.prototype.keyHandling = function (clst, e, trgt, navChk, scrollChk) {\n        var popObj = this.popObj;\n        var rootEle = this.element;\n        var popAnimate = { name: 'FadeOut', duration: 100 };\n        switch (e.action) {\n            case 'moveRight':\n                if (rootEle === trgt) {\n                    this.elementFocus(clst);\n                }\n                else if (!navChk) {\n                    this.eleFocus(clst, 'next');\n                }\n                break;\n            case 'moveLeft':\n                if (!navChk) {\n                    this.eleFocus(clst, 'previous');\n                }\n                break;\n            case 'home':\n            case 'end':\n                var ele = void 0;\n                var nodes = void 0;\n                if (clst) {\n                    var popupCheck = closest(clst, '.e-popup');\n                    if (popupCheck) {\n                        if (isVisible(this.popObj.element)) {\n                            nodes = popupCheck.children;\n                            if (e.action === 'home') {\n                                ele = nodes[0];\n                            }\n                            else {\n                                ele = nodes[nodes.length - 1];\n                            }\n                        }\n                    }\n                    else {\n                        nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM);\n                        if (e.action === 'home') {\n                            ele = nodes[0];\n                        }\n                        else {\n                            ele = nodes[nodes.length - 1];\n                        }\n                    }\n                    if (ele) {\n                        this.elementFocus(ele);\n                    }\n                }\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                var value = e.action === 'moveUp' ? 'previous' : 'next';\n                if (popObj && closest(trgt, '.e-popup')) {\n                    var popEle = popObj.element;\n                    var popFrstEle = popEle.firstElementChild;\n                    if ((value === 'previous' && popFrstEle === clst) || (value === 'next' && popEle.lastElementChild === clst)) {\n                        return;\n                    }\n                    else {\n                        this.eleFocus(clst, value);\n                    }\n                }\n                else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n                    this.elementFocus(clst);\n                }\n                break;\n            case 'tab':\n                if (!scrollChk && !navChk) {\n                    var ele_1 = clst.firstElementChild;\n                    if (rootEle === trgt) {\n                        if (this.activeEle) {\n                            this.activeEle.focus();\n                        }\n                        else {\n                            this.activeEleRemove(ele_1);\n                            ele_1.focus();\n                        }\n                        this.element.removeAttribute('tabindex');\n                    }\n                }\n                break;\n            case 'popupClose':\n                if (popObj && this.overflowMode !== 'Extended') {\n                    popObj.hide(popAnimate);\n                }\n                break;\n            case 'popupOpen':\n                if (!navChk) {\n                    return;\n                }\n                if (popObj && !isVisible(popObj.element)) {\n                    popObj.element.style.top = rootEle.offsetHeight + 'px';\n                    popObj.show({ name: 'FadeIn', duration: 100 });\n                }\n                else {\n                    popObj.hide(popAnimate);\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        if (trgt.tagName === 'INPUT' || trgt.tagName === 'TEXTAREA' || this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        e.preventDefault();\n        var clst;\n        var tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n        var tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n        clst = this.clstElement(tbrNavChk, trgt);\n        if (clst || tbarScrollChk) {\n            this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Toolbar component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, Toolbar will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    Toolbar.prototype.disable = function (value) {\n        var rootEle = this.element;\n        value ? rootEle.classList.add(CLS_DISABLE) : rootEle.classList.remove(CLS_DISABLE);\n        rootEle.setAttribute('tabindex', !value ? '0' : '-1');\n        if (this.activeEle) {\n            this.activeEle.setAttribute('tabindex', !value ? '0' : '-1');\n        }\n        if (this.scrollModule) {\n            this.scrollModule.disable(value);\n        }\n        if (this.popObj) {\n            if (isVisible(this.popObj.element) && this.overflowMode !== 'Extended') {\n                this.popObj.hide();\n            }\n            rootEle.querySelector('#' + rootEle.id + '_nav').setAttribute('tabindex', !value ? '0' : '-1');\n        }\n    };\n    Toolbar.prototype.eleFocus = function (closest, pos) {\n        var sib = Object(closest)[pos + 'ElementSibling'];\n        var contains = function (el) {\n            return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE);\n        };\n        if (sib) {\n            var skipEle = contains(sib);\n            if (skipEle) {\n                if (Object(sib)[pos + 'ElementSibling']) {\n                    sib = Object(sib)[pos + 'ElementSibling'];\n                    skipEle = contains(sib);\n                    if (skipEle) {\n                        this.eleFocus(sib, pos);\n                        return;\n                    }\n                }\n                else {\n                    return;\n                }\n            }\n            this.elementFocus(sib);\n        }\n        else if (this.tbarAlign) {\n            var elem = Object(closest.parentElement)[pos + 'ElementSibling'];\n            if (!isNOU(elem) && elem.children.length === 0) {\n                elem = Object(elem)[pos + 'ElementSibling'];\n            }\n            if (!isNOU(elem) && elem.children.length > 0) {\n                if (pos === 'next') {\n                    var el = elem.querySelector('.' + CLS_ITEM);\n                    if (contains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        el.firstElementChild.focus();\n                        this.activeEleSwitch(el);\n                    }\n                }\n                else {\n                    var el = elem.lastElementChild;\n                    if (contains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        this.elementFocus(el);\n                    }\n                }\n            }\n        }\n    };\n    Toolbar.prototype.clickHandler = function (e) {\n        var trgt = e.target;\n        var clsList = trgt.classList;\n        var ele = this.element;\n        var isPopupElement = !isNOU(closest(trgt, '.' + CLS_POPUPCLASS));\n        var popupNav = closest(trgt, ('.' + CLS_TBARNAV));\n        if (!popupNav) {\n            popupNav = trgt;\n        }\n        if (!ele.children[0].classList.contains('e-hscroll') && (clsList.contains(CLS_TBARNAV))) {\n            clsList = trgt.querySelector('.e-icons').classList;\n        }\n        if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n            this.popupClickHandler(ele, popupNav, CLS_RTL);\n        }\n        var itemObj;\n        var clst = closest(e.target, '.' + CLS_ITEM);\n        if ((isNOU(clst) || clst.classList.contains(CLS_DISABLE)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n            return;\n        }\n        if (clst) {\n            itemObj = this.items[this.tbarEle.indexOf(clst)];\n        }\n        var eventArgs = { originalEvent: e, item: itemObj };\n        this.trigger('clicked', eventArgs);\n        if (!isNOU(this.popObj) && isPopupElement && !eventArgs.cancel && this.overflowMode === 'Popup') {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n    };\n    ;\n    Toolbar.prototype.popupClickHandler = function (ele, popupNav, CLS_RTL) {\n        var popObj = this.popObj;\n        if (isVisible(popObj.element)) {\n            popupNav.classList.remove(CLS_TBARNAVACT);\n            popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        else {\n            if (ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = true;\n                popObj.position = { X: 'left', Y: 'top' };\n            }\n            if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = false;\n                popObj.position = { X: 'right', Y: 'top' };\n            }\n            popObj.dataBind();\n            popObj.refreshPosition();\n            popObj.element.style.top = this.element.offsetHeight + 'px';\n            if (this.overflowMode === 'Extended') {\n                popObj.element.style.minHeight = '0px';\n            }\n            popupNav.classList.add(CLS_TBARNAVACT);\n            popObj.show({ name: 'FadeIn', duration: 100 });\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Toolbar.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.separator();\n        this.wireEvents();\n    };\n    Toolbar.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        if (Browser.info.name !== 'msie' || this.height !== 'auto' || this.overflowMode === 'MultiRow') {\n            setStyle(this.element, { 'height': height });\n        }\n        setStyle(this.element, { 'width': width });\n        var ariaAttr = {\n            'role': 'toolbar', 'aria-disabled': 'false', 'aria-haspopup': 'false', 'aria-orientation': 'horizontal',\n        };\n        attributes(this.element, ariaAttr);\n    };\n    Toolbar.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? this.element.querySelector('div') : null;\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n        this.renderItems();\n        this.renderOverflowMode();\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n            this.popupRefresh(this.popObj.element, false);\n        }\n    };\n    Toolbar.prototype.initHScroll = function (element, innerItems) {\n        if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n            if (this.tbarAlign) {\n                this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n            }\n            this.scrollModule = new HScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl });\n            this.scrollModule.createElement = this.createElement;\n            this.scrollModule.appendTo(innerItems[0]);\n            this.remove(this.scrollModule.element, CLS_TBARPOS);\n            setStyle(this.element, { overflow: 'hidden' });\n        }\n    };\n    Toolbar.prototype.itemWidthCal = function (items) {\n        var width = 0;\n        var style;\n        [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach(function (el) {\n            if (isVisible(el)) {\n                style = window.getComputedStyle(el);\n                width += (el.offsetWidth + parseFloat(style.marginRight) + parseFloat(style.marginLeft));\n            }\n        });\n        return width;\n    };\n    Toolbar.prototype.checkOverflow = function (element, innerItem) {\n        if (isNOU(element) || isNOU(innerItem) || !isVisible(element)) {\n            return false;\n        }\n        var eleWidth = element.offsetWidth;\n        var itemWidth = innerItem.offsetWidth;\n        if (this.tbarAlign || this.scrollModule || (eleWidth === itemWidth)) {\n            itemWidth = this.itemWidthCal(this.scrollModule ? innerItem.querySelector('.e-hscroll-content') : innerItem);\n        }\n        var popNav = element.querySelector('.' + CLS_TBARNAV);\n        var scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n        if (itemWidth > eleWidth - (popNav ? popNav.offsetWidth : (scrollNav ? scrollNav.offsetWidth * 2 : 0))) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /** @hidden */\n    Toolbar.prototype.refreshOverflow = function () {\n        this.resize();\n    };\n    Toolbar.prototype.renderOverflowMode = function () {\n        var ele = this.element;\n        var innerItems = ele.querySelector('.' + CLS_ITEMS);\n        var priorityCheck = this.popupPriCount > 0;\n        if (ele && ele.children.length > 0) {\n            this.offsetWid = ele.offsetWidth;\n            this.remove(this.element, 'e-toolpop');\n            if (Browser.info.name === 'msie' && this.height === 'auto') {\n                ele.style.height = '';\n            }\n            switch (this.overflowMode) {\n                case 'Scrollable':\n                    if (isNOU(this.scrollModule)) {\n                        this.initHScroll(ele, ele.getElementsByClassName(CLS_ITEMS));\n                    }\n                    break;\n                case 'Popup':\n                    this.add(this.element, 'e-toolpop');\n                    if (this.tbarAlign) {\n                        this.removePositioning();\n                    }\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n                        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n                    }\n                    if (this.tbarAlign) {\n                        this.add(innerItems, CLS_TBARPOS);\n                        this.itemPositioning();\n                    }\n                    break;\n                case 'MultiRow':\n                    this.add(innerItems, CLS_MULTIROW);\n                    if (ele.style.overflow === 'hidden') {\n                        ele.style.overflow = '';\n                    }\n                    if (Browser.info.name === 'msie' || ele.style.height !== 'auto') {\n                        ele.style.height = 'auto';\n                    }\n                    break;\n                case 'Extended':\n                    this.add(this.element, CLS_EXTEANDABLE_TOOLBAR);\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n                        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n                    }\n            }\n        }\n    };\n    Toolbar.prototype.separator = function () {\n        var element = this.element;\n        var eleItem = [].slice.call(element.querySelectorAll('.' + CLS_SEPARATOR));\n        var eleInlineItem;\n        var multiVar = element.querySelector('.' + CLS_MULTIROW_SEPARATOR);\n        var extendVar = element.querySelector('.' + CLS_EXTENDABLE_SEPARATOR);\n        eleInlineItem = this.overflowMode === 'MultiRow' ? multiVar : extendVar;\n        if (eleInlineItem !== null) {\n            if (this.overflowMode === 'MultiRow') {\n                eleInlineItem.classList.remove(CLS_MULTIROW_SEPARATOR);\n            }\n            else if (this.overflowMode === 'Extended') {\n                eleInlineItem.classList.remove(CLS_EXTENDABLE_SEPARATOR);\n            }\n        }\n        for (var i = 0; i <= eleItem.length - 1; i++) {\n            if (eleItem[i].offsetLeft < 30 && eleItem[i].offsetLeft !== 0) {\n                if (this.overflowMode === 'MultiRow') {\n                    eleItem[i].classList.add(CLS_MULTIROW_SEPARATOR);\n                }\n                else if (this.overflowMode === 'Extended') {\n                    eleItem[i].classList.add(CLS_EXTENDABLE_SEPARATOR);\n                }\n            }\n        }\n    };\n    Toolbar.prototype.createPopupEle = function (ele, innerEle) {\n        var innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        if (!innerNav) {\n            this.createPopupIcon(ele);\n        }\n        innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var eleWidth = (ele.offsetWidth - (innerNav.offsetWidth));\n        this.element.classList.remove('e-rtl');\n        setStyle(this.element, { direction: 'initial' });\n        this.checkPriority(ele, innerEle, eleWidth, true);\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        this.element.style.removeProperty('direction');\n        this.createPopup();\n    };\n    Toolbar.prototype.pushingPoppedEle = function (tbarObj, popupPri, ele, eleHeight, sepHeight) {\n        var element = tbarObj.element;\n        var nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n        var nodeIndex = 0;\n        var poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n        var nodePri = 0;\n        poppedEle.forEach(function (el, index) {\n            nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n            if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n                if (tbarObj.tbResize && nodes.length > index) {\n                    ele.insertBefore(el, nodes[index]);\n                    ++nodePri;\n                }\n                else {\n                    ele.insertBefore(el, ele.children[nodes.length]);\n                    ++nodePri;\n                }\n            }\n            else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (el.classList.contains(CLS_POPOVERFLOW)) {\n                popupPri.push(el);\n            }\n            else if (tbarObj.tbResize) {\n                ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n                ++nodeIndex;\n            }\n            else {\n                ele.appendChild(el);\n            }\n            if (el.classList.contains(CLS_SEPARATOR)) {\n                setStyle(el, { display: '', height: sepHeight + 'px' });\n            }\n            else {\n                setStyle(el, { display: '', height: eleHeight + 'px' });\n            }\n        });\n        popupPri.forEach(function (el) {\n            ele.appendChild(el);\n        });\n        var tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n        for (var i = tbarEle.length - 1; i >= 0; i--) {\n            var tbarElement = tbarEle[i];\n            if (tbarElement.classList.contains(CLS_SEPARATOR) && this.overflowMode !== 'Extended') {\n                setStyle(tbarElement, { display: 'none' });\n            }\n            else {\n                break;\n            }\n        }\n    };\n    Toolbar.prototype.createPopup = function () {\n        var element = this.element;\n        var eleHeight;\n        var eleItem;\n        var sepHeight;\n        var sepItem;\n        if (this.overflowMode === 'Extended') {\n            sepItem = element.querySelector('.' + CLS_SEPARATOR + ':not(.' + CLS_POPUP + ' )');\n            sepHeight = (element.style.height === 'auto' || element.style.height === '') ? null : sepItem.offsetHeight;\n        }\n        eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_POPUP + ' )');\n        eleHeight = (element.style.height === 'auto' || element.style.height === '') ? null : eleItem.offsetHeight;\n        var ele;\n        var popupPri = [];\n        if (element.querySelector('#' + element.id + '_popup.' + CLS_POPUPCLASS)) {\n            ele = element.querySelector('#' + element.id + '_popup.' + CLS_POPUPCLASS);\n        }\n        else {\n            var extendEle = this.createElement('div', {\n                id: element.id + '_popup', className: CLS_POPUPCLASS + ' ' + CLS_EXTENDABLECLASS\n            });\n            var popupEle = this.createElement('div', { id: element.id + '_popup', className: CLS_POPUPCLASS });\n            ele = this.overflowMode === 'Extended' ? extendEle : popupEle;\n        }\n        this.pushingPoppedEle(this, popupPri, ele, eleHeight, sepHeight);\n        this.popupInit(element, ele);\n    };\n    Toolbar.prototype.popupInit = function (element, ele) {\n        if (!this.popObj) {\n            element.appendChild(ele);\n            setStyle(this.element, { overflow: '' });\n            var eleStyles = window.getComputedStyle(element);\n            var popup = new Popup(null, {\n                relateTo: this.element,\n                offsetY: parseFloat(eleStyles.height),\n                enableRtl: this.enableRtl,\n                open: this.popupOpen.bind(this),\n                close: this.popupClose.bind(this),\n                collision: { Y: this.enableCollision ? 'flip' : 'none' },\n                position: this.enableRtl ? { X: 'left', Y: 'top' } : { X: 'right', Y: 'top' }\n            });\n            if (this.overflowMode === 'Extended') {\n                popup.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n                popup.offsetX = 0;\n            }\n            popup.appendTo(ele);\n            EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n            EventHandler.add(document, 'click ', this.docEvent.bind(this));\n            popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n            popup.hide();\n            this.popObj = popup;\n            this.element.setAttribute('aria-haspopup', 'true');\n        }\n        else {\n            var popupEle = this.popObj.element;\n            setStyle(popupEle, { maxHeight: '', display: 'block' });\n            setStyle(popupEle, { maxHeight: popupEle.offsetHeight + 'px', display: '' });\n        }\n    };\n    Toolbar.prototype.tbarPopupHandler = function (isOpen) {\n        if (this.overflowMode === 'Extended') {\n            isOpen ? this.add(this.element, CLS_EXTENDEDPOPOPEN) : this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        }\n    };\n    Toolbar.prototype.popupOpen = function (e) {\n        var popObj = this.popObj;\n        var eleStyles = window.getComputedStyle(this.element);\n        popObj.offsetY = parseFloat(eleStyles.height);\n        popObj.dataBind();\n        var popupEle = this.popObj.element;\n        var toolEle = this.popObj.element.parentElement;\n        var popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n        setStyle(popObj.element, { height: 'auto', maxHeight: '' });\n        popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n        if (this.overflowMode === 'Extended') {\n            popObj.element.style.minHeight = '';\n        }\n        var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.add(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n        this.tbarPopupHandler(true);\n        var scrollVal = isNOU(window.scrollY) ? 0 : window.scrollY;\n        if (((window.innerHeight + scrollVal) < popupElePos) && (this.element.offsetTop < popupEle.offsetHeight)) {\n            var overflowHeight = (popupEle.offsetHeight - ((popupElePos - window.innerHeight - scrollVal) + 5));\n            popObj.height = overflowHeight + 'px';\n            for (var i = 0; i <= popupEle.childElementCount; i++) {\n                var ele = popupEle.children[i];\n                if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n                    overflowHeight = ele.offsetTop;\n                    break;\n                }\n            }\n            setStyle(popObj.element, { maxHeight: overflowHeight + 'px' });\n        }\n    };\n    Toolbar.prototype.popupClose = function (e) {\n        var element = this.element;\n        var popupNav = element.querySelector('.' + CLS_TBARNAV);\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.remove(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n        this.tbarPopupHandler(false);\n    };\n    Toolbar.prototype.checkPriority = function (ele, inEle, eleWidth, pre) {\n        var popPriority = this.popupPriCount > 0;\n        var len = inEle.length;\n        var eleWid = eleWidth;\n        var sepCheck = 0;\n        var itemCount = 0;\n        var itemPopCount = 0;\n        var checkClass = function (ele, val) {\n            var rVal = false;\n            val.forEach(function (cls) {\n                if (ele.classList.contains(cls)) {\n                    rVal = true;\n                }\n            });\n            return rVal;\n        };\n        for (var i = len - 1; i >= 0; i--) {\n            var mrgn = parseFloat((window.getComputedStyle(inEle[i])).marginRight);\n            mrgn += parseFloat((window.getComputedStyle(inEle[i])).marginLeft);\n            var fstEleCheck = inEle[i] === this.tbarEle[0];\n            if (fstEleCheck) {\n                this.tbarEleMrgn = mrgn;\n            }\n            var eleWid_1 = fstEleCheck ? (inEle[i].offsetWidth + mrgn) : inEle[i].offsetWidth;\n            if (checkClass(inEle[i], [CLS_POPPRI]) && popPriority) {\n                inEle[i].classList.add(CLS_POPUP);\n                setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                itemPopCount++;\n            }\n            if ((inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn) > eleWidth) {\n                if (inEle[i].classList.contains(CLS_SEPARATOR)) {\n                    if (this.overflowMode === 'Extended') {\n                        if (itemCount === itemPopCount) {\n                            var sepEle = inEle[i];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                inEle[i].classList.add(CLS_POPUP);\n                                itemPopCount++;\n                            }\n                        }\n                        itemCount++;\n                    }\n                    else if (this.overflowMode === 'Popup') {\n                        if (sepCheck > 0 && itemCount === itemPopCount) {\n                            var sepEle = inEle[i + itemCount + (sepCheck - 1)];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                setStyle(sepEle, { display: 'none' });\n                            }\n                        }\n                        sepCheck++;\n                        itemCount = 0;\n                        itemPopCount = 0;\n                    }\n                }\n                else {\n                    itemCount++;\n                }\n                if (inEle[i].classList.contains(CLS_TBAROVERFLOW) && pre) {\n                    eleWidth -= (inEle[i].offsetWidth + (mrgn));\n                }\n                else if (!checkClass(inEle[i], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                    inEle[i].classList.add(CLS_POPUP);\n                    setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                    itemPopCount++;\n                }\n                else {\n                    eleWidth -= (inEle[i].offsetWidth + (mrgn));\n                }\n            }\n        }\n        if (pre) {\n            var popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n            this.checkPriority(ele, popedEle, eleWid, false);\n        }\n    };\n    Toolbar.prototype.createPopupIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n        className = this.overflowMode === 'Extended' ? className + ' ' + CLS_EXTENDPOPUP : className;\n        var nav = this.createElement('div', { id: id, className: className });\n        if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n            nav.classList.add('e-ie-align');\n        }\n        var navItem = this.createElement('div', { className: CLS_POPUPDOWN + ' e-icons' });\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n    };\n    Toolbar.prototype.tbarPriRef = function (inEle, indx, sepPri, el, des, elWid, wid, ig) {\n        var ignoreCount = ig;\n        var popEle = this.popObj.element;\n        var query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n        var priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n        var checkClass = function (ele, val) {\n            return ele.classList.contains(val);\n        };\n        if (selectAll(query, inEle).length === 0) {\n            var eleSep = inEle.children[indx - (indx - sepPri) - 1];\n            var ignoreCheck = (!isNOU(eleSep) && checkClass(eleSep, CLS_TBARIGNORE));\n            if ((!isNOU(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep)) || ignoreCheck) {\n                var sepDisplay = 'none';\n                eleSep.style.display = 'inherit';\n                var eleSepWidth = eleSep.offsetWidth + (parseFloat(window.getComputedStyle(eleSep).marginRight) * 2);\n                var prevSep = eleSep.previousElementSibling;\n                if ((elWid + eleSepWidth) < wid || des) {\n                    inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n                    if (!isNOU(prevSep)) {\n                        prevSep.style.display = '';\n                    }\n                }\n                else {\n                    if (prevSep.classList.contains(CLS_SEPARATOR)) {\n                        prevSep.style.display = sepDisplay;\n                    }\n                }\n                eleSep.style.display = '';\n            }\n            else {\n                inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n            }\n        }\n        else {\n            inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - priEleCnt]);\n        }\n    };\n    Toolbar.prototype.popupRefresh = function (popupEle, destroy) {\n        var _this = this;\n        var ele = this.element;\n        var popNav = ele.querySelector('.' + CLS_TBARNAV);\n        var innerEle = ele.querySelector('.' + CLS_ITEMS);\n        if (isNOU(popNav)) {\n            return;\n        }\n        innerEle.removeAttribute('style');\n        popupEle.style.display = 'block';\n        var width = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n        var popupEleWidth = 0;\n        [].slice.call(popupEle.children).forEach(function (el) {\n            popupEleWidth += _this.popupEleWidth(el);\n            setStyle(el, { 'position': '' });\n        });\n        if ((width + popNav.offsetWidth) > (popupEleWidth) && this.popupPriCount === 0) {\n            destroy = true;\n        }\n        this.popupEleRefresh(width, popupEle, destroy);\n        popupEle.style.display = '';\n        if (popupEle.children.length === 0 && popNav && this.popObj) {\n            detach(popNav);\n            popNav = null;\n            this.popObj.destroy();\n            detach(this.popObj.element);\n            this.popObj = null;\n            ele.setAttribute('aria-haspopup', 'false');\n            ele.classList.remove('e-toolpop');\n        }\n    };\n    Toolbar.prototype.ignoreEleFetch = function (index, innerEle) {\n        var ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n        var ignoreInx = [];\n        var count = 0;\n        if (ignoreEle.length > 0) {\n            ignoreEle.forEach(function (ele) {\n                ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n            });\n        }\n        else {\n            return 0;\n        }\n        ignoreInx.forEach(function (val) {\n            if (val <= index) {\n                count++;\n            }\n        });\n        return count;\n    };\n    Toolbar.prototype.checkPopupRefresh = function (root, popEle) {\n        popEle.style.display = 'block';\n        var elWid = this.popupEleWidth(popEle.firstElementChild);\n        popEle.firstElementChild.style.removeProperty('Position');\n        var tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n        var tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n        popEle.style.removeProperty('display');\n        if (tbarWidth > (elWid + tbarItemsWid)) {\n            return true;\n        }\n        return false;\n    };\n    Toolbar.prototype.popupEleWidth = function (el) {\n        el.style.position = 'absolute';\n        var elWidth = el.offsetWidth;\n        var btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n        if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n            var btn = el.children[0];\n            if (!isNOU(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n                btnText.style.display = 'none';\n            }\n            else if (!isNOU(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n                btnText.style.display = 'block';\n            }\n            btn.style.minWidth = '0%';\n            elWidth = parseFloat(el.style.minWidth);\n            btn.style.minWidth = '';\n            if (!isNOU(btnText)) {\n                btnText.style.display = '';\n            }\n        }\n        return elWidth;\n    };\n    Toolbar.prototype.popupEleRefresh = function (width, popupEle, destroy) {\n        var popPriority = this.popupPriCount > 0;\n        var eleSplice = this.tbarEle;\n        var priEleCnt;\n        var index;\n        var checkOverflow;\n        var innerEle = this.element.querySelector('.' + CLS_ITEMS);\n        var ignoreCount = 0;\n        var _loop_1 = function (el) {\n            if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n                return \"continue\";\n            }\n            var elWidth = this_1.popupEleWidth(el);\n            if (el === this_1.tbarEle[0]) {\n                elWidth += this_1.tbarEleMrgn;\n            }\n            el.style.position = '';\n            if (elWidth < width || destroy) {\n                el.style.minWidth = '';\n                if (!el.classList.contains(CLS_POPOVERFLOW)) {\n                    el.classList.remove(CLS_POPUP);\n                }\n                index = this_1.tbarEle.indexOf(el);\n                if (this_1.tbarAlign) {\n                    var pos = this_1.items[index].align;\n                    index = this_1.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n                    eleSplice = this_1.tbarAlgEle[(pos + 's').toLowerCase()];\n                    innerEle = this_1.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n                }\n                var sepBeforePri_1 = 0;\n                if (this_1.overflowMode !== 'Extended') {\n                    eleSplice.slice(0, index).forEach(function (el) {\n                        if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n                            if (el.classList.contains(CLS_SEPARATOR)) {\n                                el.style.display = '';\n                                width -= el.offsetWidth;\n                            }\n                            sepBeforePri_1++;\n                        }\n                    });\n                }\n                ignoreCount = this_1.ignoreEleFetch(index, innerEle);\n                if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                    this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount);\n                    width -= el.offsetWidth;\n                }\n                else if (index === 0) {\n                    innerEle.insertBefore(el, innerEle.firstChild);\n                    width -= el.offsetWidth;\n                }\n                else {\n                    priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, this_1.popObj.element).length;\n                    innerEle.insertBefore(el, innerEle.children[(index + ignoreCount) - priEleCnt]);\n                    width -= el.offsetWidth;\n                }\n                el.style.height = '';\n            }\n            else {\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {\n            var el = _a[_i];\n            var state_1 = _loop_1(el);\n            if (state_1 === \"break\")\n                break;\n        }\n        checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n        if (checkOverflow && !destroy) {\n            this.renderOverflowMode();\n        }\n    };\n    Toolbar.prototype.removePositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        this.remove(item, CLS_TBARPOS);\n        var innerItem = [].slice.call(item.childNodes);\n        innerItem[1].removeAttribute('style');\n        innerItem[2].removeAttribute('style');\n    };\n    Toolbar.prototype.refreshPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        this.add(item, CLS_TBARPOS);\n        this.itemPositioning();\n    };\n    Toolbar.prototype.itemPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n        var innerItem;\n        if (this.scrollModule) {\n            innerItem = [].slice.call(item.querySelector('.' + CLS_TBARSCROLL).children);\n        }\n        else {\n            innerItem = [].slice.call(item.childNodes);\n        }\n        var margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n        var tbarWid = this.element.offsetWidth;\n        if (popupNav) {\n            tbarWid -= popupNav.offsetWidth;\n            var popWid = popupNav.offsetWidth + 'px';\n            innerItem[2].removeAttribute('style');\n            this.enableRtl ? innerItem[2].style.left = popWid : innerItem[2].style.right = popWid;\n        }\n        if (tbarWid <= margin) {\n            return;\n        }\n        var value = (((tbarWid - margin)) - innerItem[1].offsetWidth) / 2;\n        innerItem[1].removeAttribute('style');\n        var mrgn = (innerItem[0].offsetWidth + value) + 'px';\n        this.enableRtl ? innerItem[1].style.marginRight = mrgn : innerItem[1].style.marginLeft = mrgn;\n    };\n    Toolbar.prototype.tbarItemAlign = function (item, itemEle, pos) {\n        var _this = this;\n        if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n            return;\n        }\n        var alignDiv = [];\n        alignDiv.push(this.createElement('div', { className: CLS_TBARLEFT }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARCENTER }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARRIGHT }));\n        if (pos === 0 && item.align !== 'Left') {\n            alignDiv.forEach(function (ele) {\n                itemEle.appendChild(ele);\n            });\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n        else if (item.align !== 'Left') {\n            var alignEle = itemEle.childNodes;\n            var leftAlign_1 = alignDiv[0];\n            [].slice.call(alignEle).forEach(function (el) {\n                _this.tbarAlgEle.lefts.push(el);\n                leftAlign_1.appendChild(el);\n            });\n            itemEle.appendChild(leftAlign_1);\n            itemEle.appendChild(alignDiv[1]);\n            itemEle.appendChild(alignDiv[2]);\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n    };\n    Toolbar.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.trgtEle.cloneNode(true);\n        this.add(this.trgtEle, CLS_ITEMS);\n        this.tbarEle = [];\n        var innerEle = [].slice.call(this.trgtEle.children);\n        innerEle.forEach(function (ele) {\n            if (ele.tagName === 'DIV') {\n                _this.tbarEle.push(ele);\n                ele.setAttribute('aria-disabled', 'false');\n                _this.add(ele, CLS_ITEM);\n            }\n        });\n    };\n    Toolbar.prototype.renderItems = function () {\n        var ele = this.element;\n        var itemEleDom;\n        var innerItem;\n        var innerPos;\n        var items = this.items;\n        if (ele && ele.children.length > 0) {\n            itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n        }\n        if (this.trgtEle != null) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            if (!itemEleDom) {\n                itemEleDom = this.createElement('div', { className: CLS_ITEMS });\n            }\n            for (var i = 0; i < items.length; i++) {\n                innerItem = this.renderSubComponent(items[i], i);\n                if (this.tbarEle.indexOf(innerItem) === -1) {\n                    this.tbarEle.push(innerItem);\n                }\n                if (!this.tbarAlign) {\n                    this.tbarItemAlign(items[i], itemEleDom, i);\n                }\n                innerPos = itemEleDom.querySelector('.e-toolbar-' + items[i].align.toLowerCase());\n                if (innerPos) {\n                    if (!(items[i].showAlwaysInPopup && items[i].overflow !== 'Show')) {\n                        this.tbarAlgEle[(items[i].align + 's').toLowerCase()].push(innerItem);\n                    }\n                    innerPos.appendChild(innerItem);\n                }\n                else {\n                    itemEleDom.appendChild(innerItem);\n                }\n            }\n            ele.appendChild(itemEleDom);\n        }\n    };\n    Toolbar.prototype.setAttr = function (attr, element) {\n        var key = Object.keys(attr);\n        var keyVal;\n        for (var i = 0; i < key.length; i++) {\n            keyVal = key[i];\n            keyVal === 'class' ? this.add(element, attr[keyVal]) : element.setAttribute(keyVal, attr[keyVal]);\n        }\n    };\n    /**\n     * Enables or disables the specified Toolbar item.\n     * @param  {HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n     * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, `isEnable` is set to true.\n     * @returns void.\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        var elements = items;\n        var len = elements.length;\n        if (isNOU(isEnable)) {\n            isEnable = true;\n        }\n        var enable = function (isEnable, ele) {\n            if (isEnable) {\n                ele.classList.remove(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'false');\n            }\n            else {\n                ele.classList.add(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'true');\n            }\n        };\n        if (len && len > 1) {\n            for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                var ele = _a[_i];\n                enable(isEnable, ele);\n            }\n            isEnable ? removeClass(elements, CLS_DISABLE) : addClass(elements, CLS_DISABLE);\n        }\n        else {\n            var ele = void 0;\n            ele = (len && len === 1) ? elements[0] : items;\n            enable(isEnable, ele);\n        }\n    };\n    /**\n     * Adds new items to the Toolbar that accepts an array as Toolbar items.\n     * @param  {ItemsModel[]} items - DOM element or an array of items to be added to the Toolbar.\n     * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n     * @returns void.\n     */\n    Toolbar.prototype.addItems = function (items, index) {\n        var innerItems;\n        var itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(itemsDiv)) {\n            this.itemsRerender(items);\n            return;\n        }\n        var innerEle;\n        var itemAgn = 'Left';\n        if (isNOU(index)) {\n            index = 0;\n        }\n        items.forEach(function (e) {\n            if (!isNOU(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n                itemAgn = e.align;\n            }\n        });\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            if (isNOU(item.type)) {\n                item.type = 'Button';\n            }\n            innerItems = selectAll('.' + CLS_ITEM, this.element);\n            item.align = itemAgn;\n            innerEle = this.renderSubComponent(item, index);\n            if (this.tbarEle.length >= index && innerItems.length >= 0) {\n                if (isNOU(this.scrollModule)) {\n                    this.destroyMode();\n                }\n                var algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n                var ele = void 0;\n                if (!this.tbarAlign && itemAgn !== 'Left') {\n                    this.tbarItemAlign(item, itemsDiv, 1);\n                    this.tbarAlign = true;\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.appendChild(innerEle);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n                    this.refreshPositioning();\n                }\n                else if (this.tbarAlign) {\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.insertBefore(innerEle, ele.children[index]);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n                    this.refreshPositioning();\n                }\n                else if (innerItems.length === 0) {\n                    innerItems = selectAll('.' + CLS_ITEMS, this.element);\n                    innerItems[0].appendChild(innerEle);\n                }\n                else {\n                    innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]);\n                }\n                this.items.splice(index, 0, item);\n                this.tbarEle.splice(index, 0, innerEle);\n                index++;\n                this.offsetWid = itemsDiv.offsetWidth;\n            }\n        }\n        itemsDiv.style.width = '';\n        this.renderOverflowMode();\n    };\n    /**\n     * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n     * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n     * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n     * @returns void.\n     */\n    Toolbar.prototype.removeItems = function (args) {\n        var elements = args;\n        var index;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (typeof (elements) === 'number') {\n            index = parseInt(args.toString(), 10);\n            this.removeItemByIndex(index, innerItems);\n        }\n        else {\n            if (elements && elements.length > 1) {\n                for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                    var ele = _a[_i];\n                    index = this.tbarEle.indexOf(ele);\n                    this.removeItemByIndex(index, innerItems);\n                    innerItems = selectAll('.' + CLS_ITEM, this.element);\n                }\n            }\n            else {\n                var ele = (elements && elements.length && elements.length === 1) ? elements[0] : args;\n                index = innerItems.indexOf(ele);\n                this.removeItemByIndex(index, innerItems);\n            }\n        }\n        this.resize();\n    };\n    Toolbar.prototype.removeItemByIndex = function (index, innerItems) {\n        if (this.tbarEle[index] && innerItems[index]) {\n            var eleIdx = this.tbarEle.indexOf(innerItems[index]);\n            if (this.tbarAlign) {\n                var indexAgn = void 0;\n                indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].indexOf(this.tbarEle[eleIdx]);\n                this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].splice(indexAgn, 1);\n            }\n            detach(innerItems[index]);\n            this.items.splice(eleIdx, 1);\n            this.tbarEle.splice(eleIdx, 1);\n        }\n    };\n    Toolbar.prototype.templateRender = function (templateProp, innerEle, item, index) {\n        var itemType = item.type;\n        var eleObj = templateProp;\n        var isComponent;\n        if (typeof (templateProp) === 'object') {\n            isComponent = typeof (eleObj.appendTo) === 'function';\n        }\n        if (typeof (templateProp) === 'string' || !isComponent) {\n            var templateFn = void 0;\n            var val = templateProp;\n            val = (typeof (templateProp) === 'string') ? templateProp.trim() : templateProp;\n            var e = void 0;\n            try {\n                if (typeof (templateProp) === 'object' && !isNOU(templateProp.tagName)) {\n                    innerEle.appendChild(templateProp);\n                }\n                else if (document.querySelectorAll(val).length) {\n                    var ele = document.querySelector(val);\n                    var tempStr = ele.outerHTML.trim();\n                    innerEle.appendChild(ele);\n                    ele.style.display = '';\n                    if (!isNOU(tempStr)) {\n                        this.tempId.push(val);\n                    }\n                }\n            }\n            catch (e) {\n                templateFn = templateCompiler(val);\n            }\n            var tempArray = void 0;\n            if (!isNOU(templateFn)) {\n                tempArray = templateFn({}, this, 'template');\n            }\n            if (!isNOU(tempArray) && tempArray.length > 0) {\n                [].slice.call(tempArray).forEach(function (ele) {\n                    if (!isNOU(ele.tagName)) {\n                        ele.style.display = '';\n                    }\n                    innerEle.appendChild(ele);\n                });\n            }\n        }\n        else if (itemType === 'Input') {\n            var ele = this.createElement('input');\n            item.id ? (ele.id = item.id) : (ele.id = getUniqueID('tbr-ipt'));\n            innerEle.appendChild(ele);\n            eleObj.appendTo(ele);\n        }\n        this.add(innerEle, CLS_TEMPLATE);\n        this.tbarEle.push(innerEle);\n    };\n    Toolbar.prototype.buttonRendering = function (item, innerEle) {\n        var dom = this.createElement('button', { className: CLS_TBARBTN });\n        dom.setAttribute('type', 'button');\n        var textStr = item.text;\n        var iconCss;\n        var iconPos;\n        item.id ? (dom.id = item.id) : dom.id = getUniqueID('e-tbr-btn');\n        var btnTxt = this.createElement('div', { className: 'e-tbar-btn-text' });\n        if (textStr) {\n            btnTxt.innerHTML = textStr;\n            dom.appendChild(btnTxt);\n            dom.classList.add('e-tbtn-txt');\n        }\n        else {\n            this.add(innerEle, 'e-tbtn-align');\n        }\n        if (item.prefixIcon || item.suffixIcon) {\n            if ((item.prefixIcon && item.suffixIcon) || item.prefixIcon) {\n                iconCss = item.prefixIcon + ' e-icons';\n                iconPos = 'Left';\n            }\n            else {\n                iconCss = item.suffixIcon + ' e-icons';\n                iconPos = 'Right';\n            }\n        }\n        var btnObj = new Button({ iconCss: iconCss, iconPosition: iconPos });\n        btnObj.createElement = this.createElement;\n        btnObj.appendTo(dom);\n        if (item.width) {\n            setStyle(dom, { 'width': formatUnit(item.width) });\n        }\n        return dom;\n    };\n    Toolbar.prototype.renderSubComponent = function (item, index) {\n        var innerEle;\n        var dom;\n        innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.setAttribute('aria-disabled', 'false');\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        if (item.htmlAttributes) {\n            this.setAttr(item.htmlAttributes, innerEle);\n        }\n        if (item.tooltipText) {\n            var tempDom = this.createElement('div', { innerHTML: item.tooltipText });\n            innerEle.setAttribute('title', tempDom.textContent);\n        }\n        if (item.cssClass) {\n            innerEle.className = innerEle.className + ' ' + item.cssClass;\n        }\n        if (item.template) {\n            this.templateRender(item.template, innerEle, item, index);\n        }\n        else {\n            switch (item.type) {\n                case 'Button':\n                    dom = this.buttonRendering(item, innerEle);\n                    dom.setAttribute('tabindex', '-1');\n                    innerEle.appendChild(dom);\n                    innerEle.addEventListener('click', this.itemClick.bind(this));\n                    break;\n                case 'Separator':\n                    this.add(innerEle, CLS_SEPARATOR);\n                    break;\n            }\n        }\n        if (item.showTextOn) {\n            var sTxt = item.showTextOn;\n            if (sTxt === 'Toolbar') {\n                this.add(innerEle, CLS_POPUPTEXT);\n                this.add(innerEle, 'e-tbtn-align');\n            }\n            else if (sTxt === 'Overflow') {\n                this.add(innerEle, CLS_TBARTEXT);\n            }\n        }\n        if (item.overflow) {\n            var overflow = item.overflow;\n            if (overflow === 'Show') {\n                this.add(innerEle, CLS_TBAROVERFLOW);\n            }\n            else if (overflow === 'Hide') {\n                if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n                    this.add(innerEle, CLS_POPOVERFLOW);\n                }\n            }\n        }\n        if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n            this.add(innerEle, CLS_POPPRI);\n            this.popupPriCount++;\n        }\n        return innerEle;\n    };\n    Toolbar.prototype.itemClick = function (e) {\n        this.activeEleSwitch(e.currentTarget);\n    };\n    Toolbar.prototype.activeEleSwitch = function (ele) {\n        this.activeEleRemove(ele.firstElementChild);\n        this.activeEle.focus();\n    };\n    Toolbar.prototype.activeEleRemove = function (curEle) {\n        if (!isNOU(this.activeEle)) {\n            this.activeEle.setAttribute('tabindex', '-1');\n        }\n        this.activeEle = curEle;\n        if (isNOU(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n            curEle.removeAttribute('tabindex');\n        }\n        else {\n            this.activeEle.setAttribute('tabindex', '0');\n        }\n    };\n    Toolbar.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar.prototype.itemsRerender = function (newProp) {\n        this.items = this.tbarItemsCol;\n        this.destroyMode();\n        this.destroyItems();\n        this.items = newProp;\n        this.tbarItemsCol = this.items;\n        this.renderItems();\n        this.renderOverflowMode();\n    };\n    Toolbar.prototype.resize = function () {\n        var ele = this.element;\n        this.tbResize = true;\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.overflowMode === 'Popup') {\n            this.popObj.hide();\n        }\n        var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n        if (!checkOverflow) {\n            this.destroyHScroll();\n        }\n        if (checkOverflow && this.scrollModule && (this.offsetWid === ele.offsetWidth)) {\n            return;\n        }\n        if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n            this.renderOverflowMode();\n        }\n        if (this.popObj) {\n            if (this.overflowMode === 'Extended') {\n                var eleStyles = window.getComputedStyle(this.element);\n                this.popObj.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n            }\n            if (this.tbarAlign) {\n                this.removePositioning();\n            }\n            this.popupRefresh(this.popObj.element, false);\n            if (this.tbarAlign) {\n                this.refreshPositioning();\n            }\n        }\n        this.offsetWid = ele.offsetWidth;\n        this.tbResize = false;\n        this.separator();\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {ToolbarModel} newProp\n     * @param  {ToolbarModel} oldProp\n     * @returns void\n     * @private\n     */\n    Toolbar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var tEle = this.element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProb = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProb.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var oldProperty = Object(oldProp.items[index])[property];\n                            var newProperty = Object(newProp.items[index])[property];\n                            if (this.tbarAlign || property === 'align') {\n                                this.refresh();\n                                break;\n                            }\n                            var popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                            var booleanCheck = property === 'overflow' && this.popupPriCount !== 0;\n                            if ((popupPriCheck) || (this.items[index].showAlwaysInPopup) && booleanCheck) {\n                                --this.popupPriCount;\n                            }\n                            if (isNOU(this.scrollModule)) {\n                                this.destroyMode();\n                            }\n                            var itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n                            detach(itemCol[index]);\n                            this.tbarEle.splice(index, 1);\n                            this.addItems([this.items[index]], index);\n                            this.items.splice(index, 1);\n                            if (this.items[index].template) {\n                                this.tbarEle.splice(this.items.length, 1);\n                            }\n                        }\n                    }\n                    else {\n                        this.itemsRerender(newProp.items);\n                    }\n                    break;\n                case 'width':\n                    var wid = tEle.offsetWidth;\n                    setStyle(tEle, { 'width': formatUnit(newProp.width) });\n                    this.renderOverflowMode();\n                    if (this.popObj && wid < tEle.offsetWidth) {\n                        this.popupRefresh(this.popObj.element, false);\n                    }\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'overflowMode':\n                    this.destroyMode();\n                    this.renderOverflowMode();\n                    if (this.enableRtl) {\n                        this.add(tEle, CLS_RTL);\n                    }\n                    this.refreshOverflow();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(tEle, CLS_RTL) : this.remove(tEle, CLS_RTL);\n                    if (!isNOU(this.scrollModule)) {\n                        newProp.enableRtl ? this.add(this.scrollModule.element, CLS_RTL) : this.remove(this.scrollModule.element, CLS_RTL);\n                    }\n                    if (!isNOU(this.popObj)) {\n                        newProp.enableRtl ? this.add(this.popObj.element, CLS_RTL) : this.remove(this.popObj.element, CLS_RTL);\n                    }\n                    if (this.tbarAlign) {\n                        this.itemPositioning();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Shows or hides the Toolbar item that is in the specified index.\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n     * @returns void.\n     */\n    Toolbar.prototype.hideItem = function (index, value) {\n        if (this.tbarEle[index]) {\n            var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n            if (value === true) {\n                innerItems[index].classList.add(CLS_HIDDEN);\n            }\n            else {\n                innerItems[index].classList.remove(CLS_HIDDEN);\n            }\n            this.refreshOverflow();\n        }\n    };\n    __decorate([\n        Collection([], Item)\n    ], Toolbar.prototype, \"items\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"height\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Toolbar.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Toolbar.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"beforeCreate\", void 0);\n    Toolbar = __decorate([\n        NotifyPropertyChanges\n    ], Toolbar);\n    return Toolbar;\n}(Component));\nexport { Toolbar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, KeyboardEvents, rippleEffect } from '@syncfusion/ej2-base';\nimport { getUniqueID, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { addClass, isVisible, closest, attributes, classList, detach, select } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Collection, Animation } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, formatUnit, selectAll } from '@syncfusion/ej2-base';\nvar CLS_ACRDN_ROOT = 'e-acrdn-root';\nvar CLS_ROOT = 'e-accordion';\nvar CLS_ITEM = 'e-acrdn-item';\nvar CLS_ITEMFOCUS = 'e-item-focus';\nvar CLS_ITEMHIDE = 'e-hide';\nvar CLS_HEADER = 'e-acrdn-header';\nvar CLS_HEADERICN = 'e-acrdn-header-icon';\nvar CLS_HEADERCTN = 'e-acrdn-header-content';\nvar CLS_CONTENT = 'e-acrdn-panel';\nvar CLS_CTENT = 'e-acrdn-content';\nvar CLS_TOOGLEICN = 'e-toggle-icon';\nvar CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nvar CLS_EXPANDICN = 'e-expand-icon';\nvar CLS_RTL = 'e-rtl';\nvar CLS_CTNHIDE = 'e-content-hide';\nvar CLS_SLCT = 'e-select';\nvar CLS_SLCTED = 'e-selected';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_ANIMATE = 'e-animate';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_TOGANIMATE = 'e-toggle-animation';\nvar CLS_NEST = 'e-nested';\nvar CLS_EXPANDSTATE = 'e-expand-state';\nvar AccordionActionSettings = /** @class */ (function (_super) {\n    __extends(AccordionActionSettings, _super);\n    function AccordionActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], AccordionActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AccordionActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], AccordionActionSettings.prototype, \"easing\", void 0);\n    return AccordionActionSettings;\n}(ChildProperty));\nexport { AccordionActionSettings };\nvar AccordionAnimationSettings = /** @class */ (function (_super) {\n    __extends(AccordionAnimationSettings, _super);\n    function AccordionAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"expand\", void 0);\n    return AccordionAnimationSettings;\n}(ChildProperty));\nexport { AccordionAnimationSettings };\n/**\n * An item object that is used to configure Accordion items.\n */\nvar AccordionItem = /** @class */ (function (_super) {\n    __extends(AccordionItem, _super);\n    function AccordionItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"content\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"header\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], AccordionItem.prototype, \"expanded\", void 0);\n    return AccordionItem;\n}(ChildProperty));\nexport { AccordionItem };\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\nvar Accordion = /** @class */ (function (_super) {\n    __extends(Accordion, _super);\n    /**\n     * Initializes a new instance of the Accordion class.\n     * @param options  - Specifies Accordion model properties as options.\n     * @param element  - Specifies the element that is rendered as an Accordion.\n     */\n    function Accordion(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Accordion.\n         */\n        _this.keyConfigs = {\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            enter: 'enter',\n            space: 'space',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    Accordion.prototype.destroy = function () {\n        var _this = this;\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        this.isDestroy = true;\n        this.templateEle.forEach(function (eleStr) {\n            if (!isNOU(_this.element.querySelector(eleStr))) {\n                document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n        while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n        }\n        if (this.trgtEle) {\n            while (this.ctrlTem.firstChild) {\n                ele.appendChild(this.ctrlTem.firstChild);\n            }\n        }\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-multiselectable', 'role'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n    };\n    Accordion.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.isNested = false;\n        this.templateEle = [];\n        if (!this.isDestroy) {\n            this.isDestroy = false;\n        }\n        if (!isNOU(nested)) {\n            nested.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        else {\n            this.element.classList.add(CLS_ACRDN_ROOT);\n        }\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n        if (!this.enablePersistence || isNOU(this.expandedItems)) {\n            this.expandedItems = [];\n        }\n    };\n    Accordion.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Accordion.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    /**\n     * To initialize the control rendering\n     * @private\n     */\n    Accordion.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n    };\n    Accordion.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        setStyle(this.element, { 'width': width, 'height': height });\n        var ariaAttr = {\n            'aria-disabled': 'false', 'role': 'presentation', 'aria-multiselectable': 'true'\n        };\n        if (this.expandedItems.length > 0) {\n            this.initExpand = this.expandedItems;\n        }\n        attributes(this.element, ariaAttr);\n        if (this.expandMode === 'Single') {\n            this.element.setAttribute('aria-multiselectable', 'false');\n        }\n    };\n    Accordion.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? select('div', this.element) : null;\n        this.renderItems();\n        this.initItemExpand();\n    };\n    Accordion.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        if (!isNOU(this.keyModule)) {\n            this.keyModule.destroy();\n        }\n    };\n    Accordion.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        if (!this.isNested && !this.isDestroy) {\n            rippleEffect(this.element, { selector: '.' + CLS_HEADER });\n        }\n        if (!this.isNested) {\n            this.keyModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfigs,\n                eventName: 'keydown'\n            });\n        }\n    };\n    Accordion.prototype.focusIn = function (e) {\n        e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.focusOut = function (e) {\n        e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.element.cloneNode(true);\n        var innerEles = this.element.children;\n        var content;\n        addClass(innerEles, [CLS_ITEM]);\n        [].slice.call(innerEles).forEach(function (el) {\n            el.id = getUniqueID('acrdn_item');\n            if (el.children.length > 0) {\n                _this.add(el.children[0], CLS_HEADER);\n                var header = el.children[0];\n                attributes(header, { 'tabindex': '0', 'role': 'heading', 'aria-level': innerEles.length.toString() });\n                header.id = getUniqueID('acrdn_header');\n                EventHandler.add(header, 'focus', _this.focusIn, _this);\n                EventHandler.add(header, 'blur', _this.focusOut, _this);\n                var headerEle = header.firstElementChild;\n                if (headerEle) {\n                    headerEle.classList.add(CLS_HEADERCTN);\n                }\n                content = el.children[1];\n                if (content) {\n                    content.id = getUniqueID('acrdn_panel');\n                    header.setAttribute('aria-controls', content.id);\n                    content.style.display = '';\n                    el.classList.add(CLS_SLCT);\n                    el.children[0].appendChild(_this.toggleIconGenerate());\n                    classList(content, [CLS_CONTENT, CLS_CTNHIDE], []);\n                    attributes(content, { 'aria-labelledby': header.id, 'aria-hidden': 'true' });\n                    content = content.firstElementChild;\n                    if (content) {\n                        content.classList.add(CLS_CTENT);\n                        content.style.display = '';\n                    }\n                }\n            }\n        });\n    };\n    Accordion.prototype.toggleIconGenerate = function () {\n        var tglIcon = this.createElement('div', { className: CLS_TOOGLEICN });\n        var hdrColIcon = this.createElement('span', { className: CLS_COLLAPSEICN });\n        tglIcon.appendChild(hdrColIcon);\n        return tglIcon;\n    };\n    Accordion.prototype.initItemExpand = function () {\n        var len = this.initExpand.length;\n        if (len === 0) {\n            return;\n        }\n        if (this.expandMode === 'Single') {\n            this.expandItem(true, this.initExpand[len - 1]);\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                this.expandItem(true, this.initExpand[i]);\n            }\n        }\n    };\n    Accordion.prototype.renderItems = function () {\n        var _this = this;\n        var ele = this.element;\n        var innerItem;\n        if (isNOU(this.initExpand)) {\n            this.initExpand = [];\n        }\n        var items = this.items;\n        if (!isNOU(this.trgtEle)) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            items.forEach(function (item, index) {\n                innerItem = _this.renderInnerItem(item, index);\n                ele.appendChild(innerItem);\n                if (innerItem.childElementCount > 0) {\n                    EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                    EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                }\n            });\n        }\n    };\n    Accordion.prototype.clickHandler = function (e) {\n        var _this = this;\n        var trgt = e.target;\n        var eventArgs = {};\n        var index;\n        var tglIcon;\n        var acrdEle = closest(trgt, '.' + CLS_ROOT);\n        if (acrdEle !== this.element) {\n            return;\n        }\n        trgt.classList.add('e-target');\n        var acrdnItem = closest(trgt, '.' + CLS_ITEM);\n        var acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n        var acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n        if (acrdnItem && (isNOU(acrdnHdr) || isNOU(acrdnCtn))) {\n            acrdnHdr = acrdnItem.children[0];\n            acrdnCtn = acrdnItem.children[1];\n        }\n        if (acrdnHdr) {\n            tglIcon = select('.' + CLS_TOOGLEICN, acrdnHdr);\n        }\n        var acrdnCtnItem;\n        if (acrdnCtn) {\n            acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM);\n        }\n        var acrdActive = [];\n        index = this.getIndexByItem(acrdnItem);\n        if (acrdnCtnItem) {\n            eventArgs.item = this.items[this.getIndexByItem(acrdnCtnItem)];\n        }\n        eventArgs.originalEvent = e;\n        var ctnCheck = !isNOU(tglIcon) && isNOU(this.trgtEle) && acrdnItem.childElementCount <= 1;\n        if (ctnCheck && (isNOU(acrdnCtn) || !isNOU(select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n            acrdnItem.appendChild(this.contentRendering(index));\n            this.ariaAttrUpdate(acrdnItem);\n        }\n        this.trigger('clicked', eventArgs);\n        var cntclkCheck = (acrdnCtn && !isNOU(select('.e-target', acrdnCtn)));\n        cntclkCheck = cntclkCheck && (isNOU(select('.' + CLS_ROOT, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT) === this.element));\n        trgt.classList.remove('e-target');\n        if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n            return;\n        }\n        [].slice.call(this.element.children).forEach(function (el) {\n            if (el.classList.contains(CLS_ACTIVE)) {\n                acrdActive.push(el);\n            }\n        });\n        var acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM + ' [' + CLS_ANIMATE + ']'));\n        if (acrdAniEle.length > 0) {\n            for (var _i = 0, acrdAniEle_1 = acrdAniEle; _i < acrdAniEle_1.length; _i++) {\n                var el = acrdAniEle_1[_i];\n                acrdActive.push(el.parentElement);\n            }\n        }\n        var sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n        var sameHeader = false;\n        if (!isNOU(acrdnItem) && !isNOU(acrdnHdr)) {\n            var acrdnCtn_1 = select('.' + CLS_CONTENT, acrdnItem);\n            var acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n            var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n            if (isNOU(acrdnCtn_1)) {\n                return;\n            }\n            sameHeader = (expandState === acrdnItem);\n            if (isVisible(acrdnCtn_1) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n                this.collapse(acrdnCtn_1);\n            }\n            else {\n                if ((acrdActive.length > 0) && this.expandMode === 'Single' && !sameContentCheck) {\n                    acrdActive.forEach(function (el) {\n                        _this.collapse(select('.' + CLS_CONTENT, el));\n                        el.classList.remove(CLS_EXPANDSTATE);\n                    });\n                }\n                this.expand(acrdnCtn_1);\n            }\n            if (!isNOU(expandState) && !sameHeader) {\n                expandState.classList.remove(CLS_EXPANDSTATE);\n            }\n        }\n    };\n    Accordion.prototype.eleMoveFocus = function (action, root, trgt) {\n        var clst;\n        var clstItem = closest(trgt, '.' + CLS_ITEM);\n        if (trgt === root) {\n            clst = ((action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER));\n        }\n        else if (trgt.classList.contains(CLS_HEADER)) {\n            clstItem = (action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling);\n            if (clstItem) {\n                clst = select('.' + CLS_HEADER, clstItem);\n            }\n        }\n        if (clst) {\n            clst.focus();\n        }\n    };\n    Accordion.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        var header = closest(e.target, CLS_HEADER);\n        if (isNOU(header) && !trgt.classList.contains(CLS_ROOT) && !trgt.classList.contains(CLS_HEADER)) {\n            return;\n        }\n        var clst;\n        var root = this.element;\n        var content;\n        switch (e.action) {\n            case 'moveUp':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'moveDown':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'space':\n            case 'enter':\n                content = trgt.nextElementSibling;\n                if (!isNOU(content) && content.classList.contains(CLS_CONTENT)) {\n                    if (content.getAttribute('e-animate') !== 'true') {\n                        trgt.click();\n                    }\n                }\n                else {\n                    trgt.click();\n                }\n                break;\n            case 'home':\n            case 'end':\n                clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n                clst.focus();\n                break;\n        }\n    };\n    Accordion.prototype.headerEleGenerate = function () {\n        var header = this.createElement('div', { className: CLS_HEADER, id: getUniqueID('acrdn_header') });\n        var ariaAttr = {\n            'tabindex': '0', 'role': 'heading', 'aria-expanded': 'false', 'aria-selected': 'false',\n            'aria-disabled': 'false', 'aria-level': this.items.length.toString()\n        };\n        attributes(header, ariaAttr);\n        return header;\n    };\n    Accordion.prototype.renderInnerItem = function (item, index) {\n        var innerEle;\n        innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.id = getUniqueID('acrdn_item');\n        if (item.header) {\n            var ctnEle = this.headerEleGenerate();\n            var hdrEle = this.createElement('div', { className: CLS_HEADERCTN });\n            ctnEle.appendChild(hdrEle);\n            ctnEle.appendChild(this.fetchElement(hdrEle, item.header, index, true));\n            innerEle.appendChild(ctnEle);\n        }\n        var hdr = select('.' + CLS_HEADER, innerEle);\n        if (item.expanded && !isNOU(index) && (!this.enablePersistence)) {\n            if (this.initExpand.indexOf(index) === -1) {\n                this.initExpand.push(index);\n            }\n        }\n        if (item.cssClass) {\n            innerEle.classList.add(item.cssClass);\n        }\n        if (item.iconCss) {\n            var hdrIcnEle = this.createElement('div', { className: CLS_HEADERICN });\n            var icon = this.createElement('span', { className: item.iconCss + ' e-icons' });\n            hdrIcnEle.appendChild(icon);\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                hdr.appendChild(hdrIcnEle);\n                innerEle.appendChild(hdr);\n            }\n            else {\n                hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n            }\n        }\n        if (item.content) {\n            var hdrIcon = this.toggleIconGenerate();\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                innerEle.appendChild(hdr);\n            }\n            hdr.appendChild(hdrIcon);\n            this.add(innerEle, CLS_SLCT);\n        }\n        return innerEle;\n    };\n    Accordion.prototype.fetchElement = function (ele, value, index, isHeader) {\n        var templateFn;\n        var temString;\n        try {\n            if (document.querySelectorAll(value).length) {\n                var eleVal = document.querySelector(value);\n                temString = eleVal.outerHTML.trim();\n                ele.appendChild(eleVal);\n                eleVal.style.display = '';\n            }\n        }\n        catch (e) {\n            templateFn = templateCompiler(value);\n        }\n        var tempArray;\n        if (!isNOU(templateFn)) {\n            tempArray = templateFn();\n        }\n        if (!isNOU(tempArray) && tempArray.length > 0 && !(isNOU(tempArray[0].tagName) && tempArray.length === 1)) {\n            [].slice.call(tempArray).forEach(function (el) {\n                if (!isNOU(el.tagName)) {\n                    el.style.display = '';\n                }\n                ele.appendChild(el);\n            });\n        }\n        else if (ele.childElementCount === 0) {\n            ele.innerHTML = value;\n        }\n        if (!isNOU(temString)) {\n            this.templateEle.push(value);\n        }\n        return ele;\n    };\n    Accordion.prototype.ariaAttrUpdate = function (itemEle) {\n        var header = select('.' + CLS_HEADER, itemEle);\n        var content = select('.' + CLS_CONTENT, itemEle);\n        header.setAttribute('aria-controls', content.id);\n        content.setAttribute('aria-labelledby', header.id);\n    };\n    Accordion.prototype.contentRendering = function (index) {\n        var content = this.items[index].content;\n        var itemcnt = this.createElement('div', { className: CLS_CONTENT + ' ' + CLS_CTNHIDE, id: getUniqueID('acrdn_panel') });\n        attributes(itemcnt, { 'aria-hidden': 'true' });\n        var ctn = this.createElement('div', { className: CLS_CTENT });\n        itemcnt.appendChild(this.fetchElement(ctn, content, index, false));\n        return itemcnt;\n    };\n    Accordion.prototype.expand = function (trgt) {\n        var eventArgs;\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || (isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true') || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n        var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n        var animation = {\n            name: this.animation.expand.effect,\n            duration: this.animation.expand.duration,\n            timingFunction: this.animation.expand.easing\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = { element: trgtItemEle,\n            item: this.items[this.getIndexByItem(trgtItemEle)],\n            isExpanded: true };\n        var eff = animation.name;\n        this.trigger('expanding', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        icon.classList.add(CLS_TOGANIMATE);\n        this.expandedItemsPush(trgtItemEle);\n        if (!isNOU(expandState)) {\n            expandState.classList.remove(CLS_EXPANDSTATE);\n        }\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n        if ((animation.name === 'None')) {\n            this.expandProgress('begin', icon, trgt, trgtItemEle, eventArgs);\n            this.expandProgress('end', icon, trgt, trgtItemEle, eventArgs);\n            return;\n        }\n        this.expandAnimation(eff, icon, trgt, trgtItemEle, animation, eventArgs);\n    };\n    Accordion.prototype.expandAnimation = function (ef, icn, trgt, trgtItemEle, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHgt;\n        this.lastActiveItemId = trgtItemEle.id;\n        if (ef === 'SlideDown') {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n                trgt.style.position = 'absolute';\n                height = trgtItemEle.offsetHeight;\n                trgtHgt = trgt.offsetHeight;\n                trgt.style.maxHeight = (trgt.offsetHeight) + 'px';\n                trgtItemEle.style.maxHeight = '';\n            };\n            animate.progress = function () {\n                trgtItemEle.style.minHeight = (height + trgt.offsetHeight) + 'px';\n            };\n            animate.end = function () {\n                setStyle(trgt, { 'position': '', 'maxHeight': '' });\n                trgtItemEle.style.minHeight = '';\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n            };\n            animate.end = function () {\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.expandProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(trgt, CLS_CTNHIDE);\n        this.add(trgtItemEle, CLS_SLCTED);\n        this.add(icon, CLS_EXPANDICN);\n        if (progress === 'end') {\n            this.add(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'false');\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'true', 'aria-expanded': 'true' });\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    Accordion.prototype.expandedItemsPush = function (item) {\n        var index = this.getIndexByItem(item);\n        if (this.expandedItems.indexOf(index) === -1) {\n            this.expandedItems.push(index);\n        }\n    };\n    Accordion.prototype.getIndexByItem = function (item) {\n        return [].slice.call(this.element.children).indexOf(item);\n    };\n    Accordion.prototype.expandedItemsPop = function (item) {\n        var index = this.getIndexByItem(item);\n        this.expandedItems.splice(this.expandedItems.indexOf(index), 1);\n    };\n    Accordion.prototype.collapse = function (trgt) {\n        var eventArgs;\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var animation = {\n            name: this.animation.collapse.effect,\n            duration: this.animation.collapse.duration,\n            timingFunction: this.animation.collapse.easing,\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = { element: trgtItemEle,\n            item: this.items[this.getIndexByItem(trgtItemEle)],\n            isExpanded: false };\n        var eff = animation.name;\n        this.trigger('expanding', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.expandedItemsPop(trgtItemEle);\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n        icon.classList.add(CLS_TOGANIMATE);\n        if ((animation.name === 'None')) {\n            this.collapseProgress('begin', icon, trgt, trgtItemEle, eventArgs);\n            this.collapseProgress('end', icon, trgt, trgtItemEle, eventArgs);\n            return;\n        }\n        this.collapseAnimation(eff, trgt, trgtItemEle, icon, animation, eventArgs);\n    };\n    Accordion.prototype.collapseAnimation = function (ef, trgt, trgtItEl, icn, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHeight;\n        var itemHeight;\n        var remain;\n        this.lastActiveItemId = trgtItEl.id;\n        if (ef === 'SlideUp') {\n            animate.begin = function () {\n                itemHeight = trgtItEl.offsetHeight;\n                trgtItEl.style.minHeight = itemHeight + 'px';\n                trgt.style.position = 'absolute';\n                height = trgtItEl.offsetHeight;\n                trgtHeight = trgt.offsetHeight;\n                trgt.style.maxHeight = trgtHeight + 'px';\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.progress = function () {\n                remain = ((height - (trgtHeight - trgt.offsetHeight)));\n                if (remain < itemHeight) {\n                    trgtItEl.style.minHeight = remain + 'px';\n                }\n            };\n            animate.end = function () {\n                trgt.style.display = 'none';\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n                trgtItEl.style.minHeight = '';\n                setStyle(trgt, { 'position': '', 'maxHeight': '', 'display': '' });\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.end = function () {\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.collapseProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(icon, CLS_EXPANDICN);\n        this.remove(trgtItemEle, CLS_SLCTED);\n        if (progress === 'end') {\n            this.add(trgt, CLS_CTNHIDE);\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.remove(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'true');\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'false', 'aria-expanded': 'false' });\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Accordion.prototype.getModuleName = function () {\n        return 'accordion';\n    };\n    Accordion.prototype.itemAttribUpdate = function () {\n        var itemEle = [].slice.call(this.element.children);\n        var itemLen = this.items.length;\n        itemEle.forEach(function (ele) {\n            select('.' + CLS_HEADER, ele).setAttribute('aria-level', '' + itemLen);\n        });\n    };\n    /**\n     * Adds new item to the Accordion with the specified index of the Accordion.\n     * @param  {AccordionItemModel} item - Item array that is to be added to the Accordion.\n     * @param  {number} index - Number value that determines where the item should be added.\n     * By default, item is added at the last index if the index is not specified.\n     * @returns void\n     */\n    Accordion.prototype.addItem = function (item, index) {\n        var ele = this.element;\n        if (isNOU(index)) {\n            index = this.items.length;\n        }\n        if (ele.childElementCount >= index) {\n            this.items.splice(index, 0, item);\n            var innerItemEle = this.renderInnerItem(item, index);\n            if (ele.childElementCount === index) {\n                ele.appendChild(innerItemEle);\n            }\n            else {\n                ele.insertBefore(innerItemEle, ele.children[index]);\n            }\n            EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', this.focusIn, this);\n            EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', this.focusOut, this);\n            this.itemAttribUpdate();\n        }\n        this.expandedItems = [];\n        this.expandedItemRefresh(ele);\n        if (item.expanded) {\n            this.expandItem(true, index);\n        }\n    };\n    Accordion.prototype.expandedItemRefresh = function (ele) {\n        var _this = this;\n        [].slice.call(ele.children).forEach(function (el) {\n            if (el.classList.contains(CLS_SLCTED)) {\n                _this.expandedItemsPush(el);\n            }\n        });\n    };\n    /**\n     * Dynamically removes item from Accordion.\n     * @param  {number} index - Number value that determines which item should be removed.\n     * @returns void.\n     */\n    Accordion.prototype.removeItem = function (index) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        detach(ele);\n        this.items.splice(index, 1);\n        this.itemAttribUpdate();\n        this.expandedItems = [];\n        this.expandedItemRefresh(this.element);\n    };\n    /**\n     * Sets focus to the specified index item header in Accordion.\n     * @param  {number} index - Number value that determines which item should be focused.\n     * @returns void.\n     */\n    Accordion.prototype.select = function (index) {\n        var ele = this.element.children[index];\n        if (isNOU(ele) || isNOU(select('.' + CLS_HEADER, ele))) {\n            return;\n        }\n        ele.children[0].focus();\n    };\n    /**\n     * Shows or hides the specified item from Accordion.\n     * @param  {number} index - Number value that determines which item should be hidden/shown.\n     * @param  {Boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n     *  If the `isHidden` value is false, the item is shown or else item it is hidden.\n     * @returns void.\n     */\n    Accordion.prototype.hideItem = function (index, isHidden) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        if (isNOU(isHidden)) {\n            isHidden = true;\n        }\n        isHidden ? this.add(ele, CLS_ITEMHIDE) : this.remove(ele, CLS_ITEMHIDE);\n    };\n    /**\n     * Enables/Disables the specified Accordion item.\n     * @param  {number} index - Number value that determines which item should be enabled/disabled.\n     * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n     * If the `isEnable` value is true, the item is enabled or else it is disabled.\n     * @returns void.\n     */\n    Accordion.prototype.enableItem = function (index, isEnable) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        var eleHeader = ele.firstElementChild;\n        if (isEnable) {\n            this.remove(ele, CLS_DISABLE);\n            attributes(eleHeader, { 'tabindex': '0', 'aria-disabled': 'false' });\n            eleHeader.focus();\n        }\n        else {\n            if (ele.classList.contains(CLS_ACTIVE)) {\n                this.expandItem(false, index);\n                this.eleMoveFocus('movedown', this.element, eleHeader);\n            }\n            this.add(ele, CLS_DISABLE);\n            eleHeader.setAttribute('aria-disabled', 'true');\n            eleHeader.removeAttribute('tabindex');\n        }\n    };\n    /**\n     * Expands/Collapses the specified Accordion item.\n     * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n     * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n     *  Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n     * @returns void.\n     */\n    Accordion.prototype.expandItem = function (isExpand, index) {\n        var _this = this;\n        var root = this.element;\n        if (isNOU(index)) {\n            if (this.expandMode === 'Single' && isExpand) {\n                var ele = root.children[root.childElementCount - 1];\n                this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n            }\n            else {\n                var item = select('#' + this.lastActiveItemId, this.element);\n                [].slice.call(this.element.children).forEach(function (el) {\n                    _this.itemExpand(isExpand, el, _this.getIndexByItem(el));\n                    el.classList.remove(CLS_EXPANDSTATE);\n                });\n                var expandedItem = select('.' + CLS_EXPANDSTATE, this.element);\n                if (expandedItem) {\n                    expandedItem.classList.remove(CLS_EXPANDSTATE);\n                }\n                if (item) {\n                    item.classList.add(CLS_EXPANDSTATE);\n                }\n            }\n        }\n        else {\n            var ele = this.element.children[index];\n            if (isNOU(ele) || !ele.classList.contains(CLS_SLCT) || (ele.classList.contains(CLS_ACTIVE) && isExpand)) {\n                return;\n            }\n            else {\n                if (this.expandMode === 'Single') {\n                    this.expandItem(false);\n                }\n                this.itemExpand(isExpand, ele, index);\n            }\n        }\n    };\n    Accordion.prototype.itemExpand = function (isExpand, ele, index) {\n        var ctn = ele.children[1];\n        if (ele.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        if (isNOU(ctn) && isExpand) {\n            ctn = this.contentRendering(index);\n            ele.appendChild(ctn);\n            this.ariaAttrUpdate(ele);\n        }\n        else if (isNOU(ctn)) {\n            return;\n        }\n        isExpand ? this.expand(ctn) : this.collapse(ctn);\n    };\n    Accordion.prototype.destroyItems = function () {\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) { detach(el); });\n    };\n    Accordion.prototype.updateItem = function (item, index) {\n        if (!isNOU(item)) {\n            var itemObj = this.items[index];\n            this.items.splice(index, 1);\n            detach(item);\n            this.addItem(itemObj, index);\n        }\n    };\n    Accordion.prototype.getPersistData = function () {\n        var keyEntity = ['expandedItems'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {AccordionModel} newProp\n     * @param  {AccordionModel} oldProp\n     * @returns void\n     * @private\n     */\n    Accordion.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var acrdn = this.element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var j = 0; j < changedProp.length; j++) {\n                            var index = parseInt(Object.keys(newProp.items)[j], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var item = selectAll('.' + CLS_ITEM, this.element)[index];\n                            var oldVal = Object(oldProp.items[index])[property];\n                            var newVal = Object(newProp.items[index])[property];\n                            if (property === 'header' || property === 'iconCss' || property === 'expanded') {\n                                this.updateItem(item, index);\n                            }\n                            if (property === 'cssClass' && !isNOU(item)) {\n                                item.classList.remove(oldVal);\n                                item.classList.add(newVal);\n                            }\n                            if (property === 'content' && !isNOU(item) && item.children.length === 2) {\n                                if (item.classList.contains(CLS_SLCTED)) {\n                                    this.expandItem(false, index);\n                                }\n                                detach(item.querySelector('.' + CLS_CONTENT));\n                            }\n                        }\n                    }\n                    else {\n                        this.destroyItems();\n                        this.renderItems();\n                        this.initItemExpand();\n                    }\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(acrdn, CLS_RTL) : this.remove(acrdn, CLS_RTL);\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyle(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'expandMode':\n                    if (newProp.expandMode === 'Single') {\n                        this.element.setAttribute('aria-multiselectable', 'false');\n                        if (this.expandedItems.length > 1) {\n                            this.expandItem(false);\n                        }\n                    }\n                    else {\n                        this.element.setAttribute('aria-multiselectable', 'true');\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Collection([], AccordionItem)\n    ], Accordion.prototype, \"items\", void 0);\n    __decorate([\n        Property('100%')\n    ], Accordion.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Accordion.prototype, \"height\", void 0);\n    __decorate([\n        Property('Multiple')\n    ], Accordion.prototype, \"expandMode\", void 0);\n    __decorate([\n        Complex({}, AccordionAnimationSettings)\n    ], Accordion.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"destroyed\", void 0);\n    Accordion = __decorate([\n        NotifyPropertyChanges\n    ], Accordion);\n    return Accordion;\n}(Component));\nexport { Accordion };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents, Touch } from '@syncfusion/ej2-base';\nimport { attributes, Animation } from '@syncfusion/ej2-base';\nimport { Browser, Collection, setValue, getValue, getUniqueID, getInstance } from '@syncfusion/ej2-base';\nimport { select, selectAll, closest, detach, append, rippleEffect, isVisible } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { calculatePosition, isCollide, fit, getScrollableParent, getZindexPartial } from '@syncfusion/ej2-popups';\nvar DOWNARROW = 'downarrow';\nvar ENTER = 'enter';\nvar ESCAPE = 'escape';\nvar FOCUSED = 'e-focused';\nvar HEADER = 'e-menu-header';\nvar LEFTARROW = 'leftarrow';\nvar RIGHTARROW = 'rightarrow';\nvar RTL = 'e-rtl';\nvar SELECTED = 'e-selected';\nvar SEPARATOR = 'e-separator';\nvar UPARROW = 'uparrow';\nvar WRAPPER = 'e-contextmenu-wrapper';\nvar CARET = 'e-caret';\nvar ITEM = 'e-menu-item';\nvar DISABLED = 'e-disabled';\nvar HIDE = 'e-menu-hide';\nvar ICONS = 'e-icons';\n/**\n * Specifies context menu items.\n */\nvar MenuItem = /** @class */ (function (_super) {\n    __extends(MenuItem, _super);\n    function MenuItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuItem.prototype, \"separator\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], MenuItem.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"url\", void 0);\n    return MenuItem;\n}(ChildProperty));\nexport { MenuItem };\n/**\n * The ContextMenu is a graphical user interface that appears on the user right click/touch hold operation.\n * ```html\n * <div id = 'target'></div>\n * <ul id = 'contextmenu'></ul>\n * ```\n * ```typescript\n * <script>\n * var contextMenuObj = new ContextMenu({items: [{ text: 'Cut' }, { text: 'Copy' },{ text: 'Paste' }], target: '#target'});\n * </script>\n * ```\n */\nvar ContextMenu = /** @class */ (function (_super) {\n    __extends(ContextMenu, _super);\n    /**\n     * Constructor for creating the widget.\n     * @private\n     */\n    function ContextMenu(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.animation = new Animation({});\n        _this.navIdx = [];\n        _this.isTapHold = false;\n        return _this;\n    }\n    /**\n     * Initialized animation with parent menu animation settings.\n     * @private\n     */\n    ContextMenu.prototype.preRender = function () {\n        if (this.element.tagName === 'EJS-CONTEXTMENU') {\n            this.element.style.display = 'none';\n            this.element.classList.remove('e-' + this.getModuleName());\n            this.element.classList.remove('e-control');\n            var ejInst = getValue('ej2_instances', this.element);\n            var ul = this.createElement('ul');\n            this.ngElement = this.element;\n            this.element = ul;\n            this.element.classList.add('e-control');\n            this.element.classList.add('e-' + this.getModuleName());\n            setValue('ej2_instances', ejInst, this.element);\n            if (!this.element.id) {\n                this.element.id = getUniqueID(this.getModuleName());\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    ContextMenu.prototype.render = function () {\n        this.initWrapper();\n        this.renderItems();\n        this.wireEvents();\n    };\n    ContextMenu.prototype.initWrapper = function () {\n        var wrapper = this.getWrapper();\n        if (!wrapper) {\n            wrapper = this.createElement('div', { className: WRAPPER });\n            document.body.appendChild(wrapper);\n        }\n        if (this.cssClass) {\n            wrapper.classList.add(this.cssClass);\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        attributes(this.element, { 'role': 'menu', 'tabindex': '0' });\n        wrapper.appendChild(this.element);\n    };\n    ContextMenu.prototype.renderItems = function () {\n        if (!this.items.length) {\n            this.items = ListBase.createJsonFromElement(this.element);\n            this.element.innerHTML = '';\n        }\n        var ul = this.createItems(this.items);\n        append(Array.prototype.slice.call(ul.children), this.element);\n        this.element.classList.add('e-menu-parent');\n    };\n    ContextMenu.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (Browser.isIos) {\n                    new Touch(target, { tapHold: this.touchHandler.bind(this) });\n                }\n                else {\n                    EventHandler.add(target, 'contextmenu', this.cmenuHandler, this);\n                }\n            }\n            this.targetElement = target;\n            for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollHandler, this);\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.add(wrapper, 'mouseover', this.moverHandler, this);\n            EventHandler.add(document, 'mousedown', this.mouseDownHandler, this);\n        }\n        this.delegateClickHandler = this.clickHandler.bind(this);\n        EventHandler.add(document, 'click', this.delegateClickHandler, this);\n        new KeyboardEvents(wrapper, {\n            keyAction: this.keyBoardHandler.bind(this),\n            keyConfigs: {\n                downarrow: DOWNARROW,\n                uparrow: UPARROW,\n                enter: ENTER,\n                leftarrow: LEFTARROW,\n                rightarrow: RIGHTARROW,\n                escape: ESCAPE\n            }\n        });\n        rippleEffect(wrapper, { selector: '.' + ITEM });\n    };\n    ContextMenu.prototype.mouseDownHandler = function (e) {\n        if (closest(e.target, '.' + WRAPPER) !== this.getWrapper()) {\n            this.closeMenu(this.navIdx.length, e);\n        }\n    };\n    ContextMenu.prototype.keyBoardHandler = function (e) {\n        e.preventDefault();\n        switch (e.action) {\n            case DOWNARROW:\n            case UPARROW:\n                this.upDownKeyHandler(e);\n                break;\n            case RIGHTARROW:\n                this.rightEnterKeyHandler(e);\n                break;\n            case LEFTARROW:\n                this.leftEscKeyHandler(e);\n                break;\n            case ENTER:\n                this.rightEnterKeyHandler(e);\n                break;\n            case ESCAPE:\n                this.leftEscKeyHandler(e);\n                break;\n        }\n    };\n    ContextMenu.prototype.upDownKeyHandler = function (e) {\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        var defaultIdx = e.action === DOWNARROW ? 0 : cul.childElementCount - 1;\n        var fliIdx = defaultIdx;\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            fliIdx = this.getIdx(cul, fli);\n            fli.classList.remove(FOCUSED);\n            e.action === DOWNARROW ? fliIdx++ : fliIdx--;\n            if (fliIdx === (e.action === DOWNARROW ? cul.childElementCount : -1)) {\n                fliIdx = defaultIdx;\n            }\n        }\n        var cli = cul.children[fliIdx];\n        fliIdx = this.isValidLI(cli, fliIdx, e.action);\n        cul.children[fliIdx].classList.add(FOCUSED);\n        cul.children[fliIdx].focus();\n    };\n    ContextMenu.prototype.isValidLI = function (cli, index, action) {\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            ((action === DOWNARROW) || (action === RIGHTARROW)) ? index++ : index--;\n        }\n        cli = cul.children[index];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            index = this.isValidLI(cli, index, action);\n        }\n        return index;\n    };\n    ContextMenu.prototype.rightEnterKeyHandler = function (e) {\n        var eventArgs;\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            var fliIdx = this.getIdx(cul, fli);\n            var navIdx = this.navIdx.concat(fliIdx);\n            var index = void 0;\n            var item = this.getItem(navIdx);\n            if (item.items.length) {\n                this.navIdx.push(fliIdx);\n                this.openMenu(fli, item, null, null, e);\n                fli.classList.remove(FOCUSED);\n                fli.classList.add(SELECTED);\n                if (e.action === ENTER) {\n                    eventArgs = { element: fli, item: item };\n                    this.trigger('select', eventArgs);\n                }\n                fli.focus();\n                cul = wrapper.children[this.navIdx.length];\n                index = this.isValidLI(cul.children[0], 0, e.action);\n                cul.children[index].classList.add(FOCUSED);\n                cul.children[index].focus();\n            }\n            else {\n                if (e.action === ENTER) {\n                    fli.classList.remove(FOCUSED);\n                    fli.classList.add(SELECTED);\n                    eventArgs = { element: fli, item: item };\n                    this.trigger('select', eventArgs);\n                    this.closeMenu(null, e);\n                }\n            }\n        }\n    };\n    ContextMenu.prototype.leftEscKeyHandler = function (e) {\n        if (this.navIdx.length) {\n            var wrapper = this.getWrapper();\n            this.closeMenu(this.navIdx.length, e);\n            var cul = wrapper.children[this.navIdx.length];\n            var sli = this.getLIByClass(cul, SELECTED);\n            if (sli) {\n                sli.setAttribute('aria-expanded', 'false');\n                sli.classList.remove(SELECTED);\n                sli.classList.add(FOCUSED);\n                sli.focus();\n            }\n        }\n        else {\n            if (e.action === ESCAPE) {\n                this.closeMenu(null, e);\n            }\n        }\n    };\n    ContextMenu.prototype.scrollHandler = function (e) {\n        this.closeMenu(null, e);\n    };\n    ContextMenu.prototype.touchHandler = function (e) {\n        this.isTapHold = true;\n        this.cmenuHandler(e.originalEvent);\n    };\n    ContextMenu.prototype.cmenuHandler = function (e) {\n        e.preventDefault();\n        this.closeMenu(null, e);\n        if (this.canOpen(e.target)) {\n            if (e.changedTouches) {\n                this.openMenu(null, null, e.changedTouches[0].pageY + 1, e.changedTouches[0].pageX + 1, e);\n            }\n            else {\n                this.openMenu(null, null, e.pageY + 1, e.pageX + 1, e);\n            }\n        }\n    };\n    /**\n     * Closes the ContextMenu if it is opened.\n     */\n    ContextMenu.prototype.close = function () {\n        this.closeMenu();\n    };\n    ContextMenu.prototype.closeMenu = function (ulIndex, e) {\n        if (ulIndex === void 0) { ulIndex = 0; }\n        if (e === void 0) { e = null; }\n        if (this.isMenuVisible()) {\n            var ul = void 0;\n            var item = void 0;\n            var items = void 0;\n            var closeArgs = void 0;\n            var beforeCloseArgs = void 0;\n            var wrapper = this.getWrapper();\n            for (var cnt = wrapper.childElementCount; cnt > ulIndex; cnt--) {\n                item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n                items = item ? item.items : this.items;\n                ul = wrapper.children[cnt - 1];\n                beforeCloseArgs = { element: ul, parentItem: item, items: items, event: e, cancel: false };\n                this.trigger('beforeClose', beforeCloseArgs);\n                if (!beforeCloseArgs.cancel) {\n                    this.toggleAnimation(ul, false);\n                    this.navIdx.length = ulIndex ? ulIndex - 1 : ulIndex;\n                    closeArgs = { element: ul, parentItem: item, items: items };\n                    this.trigger('onClose', closeArgs);\n                }\n            }\n        }\n    };\n    ContextMenu.prototype.isMenuVisible = function () {\n        return (this.navIdx.length > 0 || (this.element.classList.contains('e-contextmenu') && isVisible(this.element).valueOf()));\n    };\n    ContextMenu.prototype.canOpen = function (target) {\n        var canOpen = true;\n        if (this.filter) {\n            canOpen = false;\n            var filter = this.filter.split(' ');\n            for (var i = 0, len = target.classList.length; i < len; i++) {\n                if (filter.indexOf(target.classList[i]) > -1) {\n                    canOpen = true;\n                    break;\n                }\n            }\n        }\n        return canOpen;\n    };\n    /**\n     * This method is used to open the ContextMenu in specified position.\n     * @param top - To specify ContextMenu vertical positioning.\n     * @param left - To specify ContextMenu horizontal positioning.\n     * @param target - To calculate z-index for ContextMenu based upon the specified target.\n     * @method open\n     * @returns void\n     */\n    ContextMenu.prototype.open = function (top, left, target) {\n        this.openMenu(null, null, top, left, null, target);\n    };\n    ContextMenu.prototype.openMenu = function (li, item, top, left, e, target) {\n        if (top === void 0) { top = 0; }\n        if (left === void 0) { left = 0; }\n        if (e === void 0) { e = null; }\n        if (target === void 0) { target = this.targetElement; }\n        var ul;\n        var navIdx;\n        var wrapper = this.getWrapper();\n        if (li) {\n            ul = this.createItems(item.items);\n            if (Browser.isDevice) {\n                wrapper.lastChild.style.display = 'none';\n                var data = { text: item.text, iconCss: ICONS + ' e-previous' };\n                var hdata = new MenuItem(this.items[0], null, data, true);\n                var hli = this.createItems([hdata]).children[0];\n                hli.classList.add(HEADER);\n                ul.insertBefore(hli, ul.children[0]);\n            }\n            ul.style.zIndex = this.element.style.zIndex;\n            wrapper.appendChild(ul);\n        }\n        else {\n            ul = this.element;\n            ul.style.zIndex = getZindexPartial(target ? target : this.element).toString();\n        }\n        navIdx = this.getIndex(li ? li.id : null, true);\n        var items = li ? item.items : this.items;\n        var eventArgs = { element: ul, items: items, parentItem: item, event: e, cancel: false };\n        this.trigger('beforeOpen', eventArgs);\n        if (eventArgs.cancel) {\n            this.navIdx.pop();\n        }\n        else {\n            this.setPosition(li, ul, top, left);\n            this.toggleAnimation(ul);\n        }\n    };\n    ContextMenu.prototype.setPosition = function (li, ul, top, left) {\n        var px = 'px';\n        this.toggleVisiblity(ul);\n        if (ul === this.element) {\n            var collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('right') > -1) {\n                left = left - ul.offsetWidth;\n            }\n            if (collide.indexOf('bottom') > -1) {\n                var offset = fit(ul, null, { X: false, Y: true }, { top: top, left: left });\n                top = offset.top - 20;\n            }\n            collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('left') > -1) {\n                var offset = fit(ul, null, { X: true, Y: false }, { top: top, left: left });\n                left = offset.left;\n            }\n        }\n        else {\n            if (Browser.isDevice) {\n                top = Number(this.element.style.top.replace(px, ''));\n                left = Number(this.element.style.left.replace(px, ''));\n            }\n            else {\n                var x = this.enableRtl ? 'left' : 'right';\n                var offset = calculatePosition(li, x, 'top');\n                top = offset.top;\n                left = offset.left;\n                var collide = isCollide(ul, null, this.enableRtl ? left - ul.offsetWidth : left, top);\n                var xCollision = collide.indexOf('left') > -1 || collide.indexOf('right') > -1;\n                if (xCollision) {\n                    offset = calculatePosition(li, this.enableRtl ? 'right' : 'left', 'top');\n                    left = offset.left;\n                }\n                if (this.enableRtl || xCollision) {\n                    left = (this.enableRtl && xCollision) ? left : left - ul.offsetWidth;\n                }\n                if (collide.indexOf('bottom') > -1) {\n                    offset = fit(ul, null, { X: false, Y: true }, { top: top, left: left });\n                    top = offset.top;\n                }\n            }\n        }\n        this.toggleVisiblity(ul, false);\n        ul.style.top = top + px;\n        ul.style.left = left + px;\n    };\n    ContextMenu.prototype.toggleVisiblity = function (ul, isVisible) {\n        if (isVisible === void 0) { isVisible = true; }\n        ul.style.visibility = isVisible ? 'hidden' : '';\n        ul.style.display = isVisible ? 'block' : 'none';\n    };\n    ContextMenu.prototype.createItems = function (items) {\n        var _this = this;\n        var showIcon = this.hasField(items, 'iconCss');\n        var listBaseOptions = {\n            showIcon: showIcon,\n            moduleName: 'menu',\n            itemCreating: function (args) {\n                if (!args.curData.id) {\n                    args.curData.id = getUniqueID('menuitem');\n                }\n                args.curData.htmlAttributes = {\n                    role: 'menuitem',\n                    tabindex: '-1'\n                };\n            },\n            itemCreated: function (args) {\n                if (args.curData.separator) {\n                    args.item.classList.add(SEPARATOR);\n                    args.item.removeAttribute('role');\n                }\n                if (showIcon && !args.curData.iconCss && !args.curData.separator) {\n                    args.item.classList.add('e-blankicon');\n                }\n                if (args.curData.items && args.curData.items.length) {\n                    var span = _this.createElement('span', { className: ICONS + ' ' + CARET });\n                    args.item.appendChild(span);\n                    args.item.setAttribute('aria-haspopup', 'true');\n                    args.item.setAttribute('aria-expanded', 'false');\n                    args.item.removeAttribute('role');\n                    args.item.classList.add('e-menu-caret-icon');\n                }\n                var eventArgs = { item: args.curData, element: args.item };\n                _this.trigger('beforeItemRender', eventArgs);\n            }\n        };\n        var ul = ListBase.createList(this.createElement, this.toRawObject(items.slice()), listBaseOptions, true);\n        ul.setAttribute('tabindex', '0');\n        return ul;\n    };\n    ContextMenu.prototype.toRawObject = function (items) {\n        var item;\n        var menuItems = [];\n        for (var i = 0, len = items.length; i < len; i++) {\n            item = items[i].properties;\n            menuItems.push(item);\n        }\n        return menuItems;\n    };\n    ContextMenu.prototype.moverHandler = function (e) {\n        var wrapper = this.getWrapper();\n        var trgt = e.target;\n        var cli = this.getLI(trgt);\n        if (cli && closest(cli, '.' + WRAPPER)) {\n            var fli = select('.' + FOCUSED, wrapper);\n            if (fli) {\n                fli.classList.remove(FOCUSED);\n            }\n            cli.classList.add(FOCUSED);\n            if (!this.showItemOnClick) {\n                this.clickHandler(e);\n            }\n        }\n    };\n    ContextMenu.prototype.hasField = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    ContextMenu.prototype.getWrapper = function () {\n        return closest(this.element, '.' + WRAPPER);\n    };\n    ContextMenu.prototype.clickHandler = function (e) {\n        if (this.isTapHold) {\n            this.isTapHold = false;\n        }\n        else {\n            var wrapper = this.getWrapper();\n            var trgt = e.target;\n            var cli = this.getLI(trgt);\n            var cliWrapper = cli ? closest(cli, '.' + WRAPPER) : null;\n            var isInstLI = cli && cliWrapper && wrapper.firstElementChild.id === cliWrapper.firstElementChild.id;\n            if (isInstLI && e.type === 'click' && !cli.classList.contains(HEADER)) {\n                this.setLISelected(cli);\n                var navIdx = this.getIndex(cli.id, true);\n                var item = this.getItem(navIdx);\n                var eventArgs = { element: cli, item: item };\n                this.trigger('select', eventArgs);\n            }\n            if (isInstLI && (e.type === 'mouseover' || Browser.isDevice || this.showItemOnClick)) {\n                var ul = void 0;\n                if (cli.classList.contains(HEADER)) {\n                    ul = wrapper.children[this.navIdx.length - 1];\n                    this.toggleAnimation(ul);\n                    var sli = this.getLIByClass(ul, SELECTED);\n                    if (sli) {\n                        sli.classList.remove(SELECTED);\n                    }\n                    detach(cli.parentNode);\n                    this.navIdx.pop();\n                }\n                else {\n                    if (!cli.classList.contains(SEPARATOR)) {\n                        var showSubMenu = true;\n                        var cul = cli.parentNode;\n                        var cliIdx = this.getIdx(cul, cli);\n                        if (!Browser.isDevice) {\n                            var culIdx = this.getIdx(wrapper, cul);\n                            if (this.navIdx[culIdx] === cliIdx) {\n                                showSubMenu = false;\n                            }\n                            if (culIdx !== this.navIdx.length && (e.type !== 'mouseover' || showSubMenu)) {\n                                var sli = this.getLIByClass(cul, SELECTED);\n                                if (sli) {\n                                    sli.classList.remove(SELECTED);\n                                }\n                                this.closeMenu(culIdx + 1, e);\n                            }\n                        }\n                        if (showSubMenu) {\n                            var idx = this.navIdx.concat(cliIdx);\n                            var item = this.getItem(idx);\n                            if (item.items.length) {\n                                if (e.type === 'mouseover') {\n                                    this.setLISelected(cli);\n                                }\n                                cli.setAttribute('aria-expanded', 'true');\n                                this.navIdx.push(cliIdx);\n                                this.openMenu(cli, item, null, null, e);\n                            }\n                            else {\n                                if (e.type !== 'mouseover') {\n                                    this.closeMenu(null, e);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (trgt.tagName !== 'UL' || trgt.parentElement !== wrapper) {\n                    if (!cli || !cli.querySelector('.' + CARET)) {\n                        this.closeMenu(null, e);\n                    }\n                }\n            }\n        }\n    };\n    ContextMenu.prototype.setLISelected = function (li) {\n        var sli = this.getLIByClass(li.parentElement, SELECTED);\n        if (sli) {\n            sli.classList.remove(SELECTED);\n        }\n        li.classList.remove(FOCUSED);\n        li.classList.add(SELECTED);\n    };\n    ContextMenu.prototype.getLIByClass = function (ul, classname) {\n        for (var i = 0, len = ul.children.length; i < len; i++) {\n            if (ul.children[i].classList.contains(classname)) {\n                return ul.children[i];\n            }\n        }\n        return null;\n    };\n    ContextMenu.prototype.getItem = function (navIdx) {\n        navIdx = navIdx.slice();\n        var idx = navIdx.pop();\n        var items = this.getItems(navIdx);\n        return items[idx];\n    };\n    ContextMenu.prototype.getItems = function (navIdx) {\n        var items = this.items;\n        for (var i = 0; i < navIdx.length; i++) {\n            items = items[navIdx[i]].items;\n        }\n        return items;\n    };\n    ContextMenu.prototype.getIdx = function (ul, li, skipHdr) {\n        if (skipHdr === void 0) { skipHdr = true; }\n        var idx = Array.prototype.indexOf.call(ul.children, li);\n        if (skipHdr && ul.children[0].classList.contains(HEADER)) {\n            idx--;\n        }\n        return idx;\n    };\n    ContextMenu.prototype.getLI = function (elem) {\n        if (elem.tagName === 'LI') {\n            return elem;\n        }\n        return closest(elem, 'li');\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     * @param {ContextMenuModel} newProp\n     * @param {ContextMenuModel} oldProp\n     * @returns void\n     */\n    ContextMenu.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        wrapper.classList.remove(oldProp.cssClass);\n                    }\n                    if (newProp.cssClass) {\n                        wrapper.classList.add(newProp.cssClass);\n                    }\n                    break;\n                case 'enableRtl':\n                    wrapper.classList.toggle(RTL);\n                    break;\n                case 'filter':\n                    this.closeMenu();\n                    this.filter = newProp.filter;\n                    break;\n                case 'showItemOnClick':\n                    this.unWireEvents();\n                    this.showItemOnClick = newProp.showItemOnClick;\n                    this.wireEvents();\n                    break;\n                case 'target':\n                    this.unWireEvents();\n                    this.target = newProp.target;\n                    this.wireEvents();\n                    break;\n                case 'items':\n                    var idx = void 0;\n                    var navIdx = void 0;\n                    var item = void 0;\n                    var keys = Object.keys(newProp.items);\n                    for (var i = 0; i < keys.length; i++) {\n                        navIdx = this.getChangedItemIndex(newProp, [], Number(keys[i]));\n                        if (navIdx.length <= this.getWrapper().children.length) {\n                            idx = navIdx.pop();\n                            item = this.getItems(navIdx);\n                            this.insertAfter([item[idx]], item[idx].text);\n                            this.removeItem(item, navIdx, idx);\n                        }\n                        navIdx.length = 0;\n                    }\n                    break;\n            }\n        }\n    };\n    ContextMenu.prototype.getChangedItemIndex = function (newProp, index, idx) {\n        index.push(idx);\n        var key = Object.keys(newProp.items[idx]).pop();\n        if (key === 'items') {\n            var item = newProp.items[idx];\n            this.getChangedItemIndex(item, index, Number(Object.keys(item.items).pop()));\n        }\n        else {\n            if (key === 'isParentArray' && index.length > 1) {\n                index.pop();\n            }\n        }\n        return index;\n    };\n    ContextMenu.prototype.removeItem = function (item, navIdx, idx) {\n        item.splice(idx, 1);\n        var uls = this.getWrapper().children;\n        if (navIdx.length < uls.length) {\n            detach(uls[navIdx.length].children[idx]);\n        }\n    };\n    /**\n     * Used to unwire the bind events.\n     * @private\n     */\n    ContextMenu.prototype.unWireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var touchModule = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (Browser.isIos) {\n                    touchModule = getInstance(target, Touch);\n                    if (touchModule) {\n                        touchModule.destroy();\n                    }\n                }\n                else {\n                    EventHandler.remove(target, 'contextmenu', this.cmenuHandler);\n                }\n            }\n            for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollHandler);\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.remove(wrapper, 'mouseover', this.moverHandler);\n            EventHandler.remove(document, 'mousedown', this.mouseDownHandler);\n        }\n        EventHandler.remove(document, 'click', this.delegateClickHandler);\n        var keyboardModule = getInstance(wrapper, KeyboardEvents);\n        if (keyboardModule) {\n            keyboardModule.destroy();\n        }\n    };\n    ContextMenu.prototype.toggleAnimation = function (ul, isMenuOpen) {\n        var _this = this;\n        if (isMenuOpen === void 0) { isMenuOpen = true; }\n        if (this.animationSettings.effect === 'None' || !isMenuOpen) {\n            this.end(ul, isMenuOpen);\n        }\n        else {\n            this.animation.animate(ul, {\n                name: this.animationSettings.effect,\n                duration: this.animationSettings.duration,\n                timingFunction: this.animationSettings.easing,\n                begin: function (options) {\n                    options.element.style.display = 'block';\n                    options.element.style.maxHeight = options.element.getBoundingClientRect().height + 'px';\n                },\n                end: function (options) {\n                    _this.end(options.element, isMenuOpen);\n                }\n            });\n        }\n    };\n    ContextMenu.prototype.end = function (ul, isMenuOpen) {\n        if (isMenuOpen) {\n            ul.style.display = 'block';\n            ul.style.maxHeight = '';\n            var item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n            var eventArgs = { element: ul, parentItem: item, items: item ? item.items : this.items };\n            this.trigger('onOpen', eventArgs);\n            if (ul.querySelector('.' + FOCUSED)) {\n                ul.querySelector('.' + FOCUSED).focus();\n            }\n            else {\n                var ele = void 0;\n                ele = this.getWrapper().children[this.getIdx(this.getWrapper(), ul) - 1];\n                if (ele) {\n                    ele.querySelector('.' + SELECTED).focus();\n                }\n                else {\n                    this.element.focus();\n                }\n            }\n        }\n        else {\n            if (ul === this.element) {\n                var fli = this.getLIByClass(this.element, FOCUSED);\n                if (fli) {\n                    fli.classList.remove(FOCUSED);\n                }\n                var sli = this.getLIByClass(this.element, SELECTED);\n                if (sli) {\n                    sli.classList.remove(SELECTED);\n                }\n                ul.style.display = 'none';\n            }\n            else {\n                detach(ul);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    ContextMenu.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextmenu';\n    };\n    ContextMenu.prototype.getIndex = function (data, isUniqueId, items, navIdx, isCallBack) {\n        if (items === void 0) { items = this.items; }\n        if (navIdx === void 0) { navIdx = []; }\n        if (isCallBack === void 0) { isCallBack = false; }\n        var item;\n        for (var i = 0, len = items.length; i < len; i++) {\n            item = items[i];\n            if ((isUniqueId ? item.id : item.text) === data) {\n                navIdx.push(i);\n                break;\n            }\n            else if (item.items.length) {\n                navIdx = this.getIndex(data, isUniqueId, item.items, navIdx, true);\n                if (navIdx[navIdx.length - 1] === -1) {\n                    if (i !== len - 1) {\n                        navIdx.pop();\n                    }\n                }\n                else {\n                    navIdx.unshift(i);\n                    break;\n                }\n            }\n            else {\n                if (i === len - 1) {\n                    navIdx.push(-1);\n                }\n            }\n        }\n        return (!isCallBack && navIdx[0] === -1) ? [] : navIdx;\n    };\n    /**\n     * This method is used to enable or disable the menu items in the ContextMenu based on the items and enable argument.\n     * @param items - Text items that needs to be enabled/disabled.\n     * @param enable - Set `true`/`false` to enable/disable the list items.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    ContextMenu.prototype.enableItems = function (items, enable, isUniqueId) {\n        if (enable === void 0) { enable = true; }\n        var ul;\n        var idx;\n        var navIdx;\n        var disabled = DISABLED;\n        var wrapper = this.getWrapper();\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            idx = navIdx.pop();\n            ul = wrapper.children[navIdx.length];\n            if (ul) {\n                if (enable) {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[idx + 1].classList.remove(disabled);\n                    }\n                    else {\n                        ul.children[idx].classList.remove(disabled);\n                    }\n                }\n                else {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[idx + 1].classList.add(disabled);\n                    }\n                    else {\n                        ul.children[idx].classList.add(disabled);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * This method is used to show the menu items in the ContextMenu based on the items text.\n     * @param items - Text items that needs to be shown.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    ContextMenu.prototype.showItems = function (items, isUniqueId) {\n        this.showHideItems(items, false, isUniqueId);\n    };\n    /**\n     * This method is used to hide the menu items in the ContextMenu based on the items text.\n     * @param items - Text items that needs to be hidden.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    ContextMenu.prototype.hideItems = function (items, isUniqueId) {\n        this.showHideItems(items, true, isUniqueId);\n    };\n    ContextMenu.prototype.showHideItems = function (items, ishide, isUniqueId) {\n        var ul;\n        var index;\n        var navIdx;\n        var wrapper = this.getWrapper();\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            index = navIdx.pop();\n            ul = wrapper.children[navIdx.length];\n            if (ul) {\n                if (ishide) {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[index + 1].classList.add(HIDE);\n                    }\n                    else {\n                        ul.children[index].classList.add(HIDE);\n                    }\n                }\n                else {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[index + 1].classList.remove(HIDE);\n                    }\n                    else {\n                        ul.children[index].classList.remove(HIDE);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * It is used to remove the menu items from the ContextMenu based on the items text.\n     * @param items - Text items that needs to be removed.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    ContextMenu.prototype.removeItems = function (items, isUniqueId) {\n        var idx;\n        var navIdx;\n        var iitems;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            this.removeItem(iitems, navIdx, idx);\n        }\n    };\n    /**\n     * It is used to insert the menu items after the specified menu item text.\n     * @param items - Items that needs to be inserted.\n     * @param text - Text item after that the element to be inserted.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    ContextMenu.prototype.insertAfter = function (items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId);\n    };\n    /**\n     * It is used to insert the menu items before the specified menu item text.\n     * @param items - Items that needs to be inserted.\n     * @param text - Text item before that the element to be inserted.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    ContextMenu.prototype.insertBefore = function (items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId, false);\n    };\n    ContextMenu.prototype.insertItems = function (items, text, isUniqueId, isAfter) {\n        if (isAfter === void 0) { isAfter = true; }\n        var li;\n        var idx;\n        var navIdx;\n        var iitems;\n        var menuitem;\n        var showIcon;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(text, isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            menuitem = new MenuItem(iitems[0], 'items', items[i], true);\n            iitems.splice(isAfter ? idx + 1 : idx, 0, menuitem);\n            var uls = this.getWrapper().children;\n            if (navIdx.length < uls.length) {\n                idx = isAfter ? idx + 1 : idx;\n                showIcon = this.hasField(iitems, 'iconCss');\n                li = this.createItems(iitems).children[idx];\n                uls[navIdx.length].insertBefore(li, uls[navIdx.length].children[idx]);\n            }\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    ContextMenu.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        if (wrapper) {\n            _super.prototype.destroy.call(this);\n            this.unWireEvents();\n            if (this.ngElement) {\n                this.ngElement.style.display = 'block';\n            }\n            else {\n                this.closeMenu();\n                this.element.innerHTML = '';\n                ['top', 'left', 'display', 'z-index'].forEach(function (key) {\n                    _this.element.style.removeProperty(key);\n                });\n                ['role', 'tabindex', 'class', 'style'].forEach(function (key) {\n                    if (['class', 'style'].indexOf(key) === -1 || !_this.element.getAttribute(key)) {\n                        _this.element.removeAttribute(key);\n                    }\n                });\n                wrapper.parentNode.insertBefore(this.element, wrapper);\n            }\n            detach(wrapper);\n        }\n    };\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"filter\", void 0);\n    __decorate([\n        Property(false)\n    ], ContextMenu.prototype, \"showItemOnClick\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], ContextMenu.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"target\", void 0);\n    __decorate([\n        Property({ duration: 400, easing: 'ease', effect: 'SlideDown' })\n    ], ContextMenu.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"onOpen\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"onClose\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"select\", void 0);\n    ContextMenu = __decorate([\n        NotifyPropertyChanges\n    ], ContextMenu);\n    return ContextMenu;\n}(Component));\nexport { ContextMenu };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, closest, Collection, Complex, attributes, detach } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, select, isVisible } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Browser, formatUnit, L10n } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, isNullOrUndefined as isNOU, selectAll } from '@syncfusion/ej2-base';\nimport { EventHandler, rippleEffect, Touch, compile, Animation } from '@syncfusion/ej2-base';\nimport { Toolbar } from '../toolbar/toolbar';\nvar CLS_TAB = 'e-tab';\nvar CLS_HEADER = 'e-tab-header';\nvar CLS_CONTENT = 'e-content';\nvar CLS_NEST = 'e-nested';\nvar CLS_ITEMS = 'e-items';\nvar CLS_ITEM = 'e-item';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_RTL = 'e-rtl';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_DISABLE = 'e-disable';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_FOCUS = 'e-focused';\nvar CLS_ICONS = 'e-icons';\nvar CLS_ICON = 'e-icon';\nvar CLS_ICON_CLOSE = 'e-close-icon';\nvar CLS_CLOSE_SHOW = 'e-close-show';\nvar CLS_TEXT = 'e-tab-text';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_WRAP = 'e-tab-wrap';\nvar CLS_TEXT_WRAP = 'e-text-wrap';\nvar CLS_TAB_ICON = 'e-tab-icon';\nvar CLS_TB_ITEMS = 'e-toolbar-items';\nvar CLS_TB_ITEM = 'e-toolbar-item';\nvar CLS_TB_POP = 'e-toolbar-pop';\nvar CLS_TB_POPUP = 'e-toolbar-popup';\nvar CLS_POPUP_OPEN = 'e-popup-open';\nvar CLS_POPUP_CLOSE = 'e-popup-close';\nvar CLS_PROGRESS = 'e-progress';\nvar CLS_IGNORE = 'e-ignore';\nvar CLS_OVERLAY = 'e-overlay';\nvar TabActionSettings = /** @class */ (function (_super) {\n    __extends(TabActionSettings, _super);\n    function TabActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideLeftIn')\n    ], TabActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(600)\n    ], TabActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], TabActionSettings.prototype, \"easing\", void 0);\n    return TabActionSettings;\n}(ChildProperty));\nexport { TabActionSettings };\nvar TabAnimationSettings = /** @class */ (function (_super) {\n    __extends(TabAnimationSettings, _super);\n    function TabAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideLeftIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"previous\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideRightIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"next\", void 0);\n    return TabAnimationSettings;\n}(ChildProperty));\nexport { TabAnimationSettings };\n/**\n * Objects used for configuring the Tab item header properties.\n */\nvar Header = /** @class */ (function (_super) {\n    __extends(Header, _super);\n    function Header() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Header.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], Header.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('left')\n    ], Header.prototype, \"iconPosition\", void 0);\n    return Header;\n}(ChildProperty));\nexport { Header };\n/**\n * An array of object that is used to configure the Tab.\n */\nvar TabItem = /** @class */ (function (_super) {\n    __extends(TabItem, _super);\n    function TabItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({}, Header)\n    ], TabItem.prototype, \"header\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TabItem.prototype, \"disabled\", void 0);\n    return TabItem;\n}(ChildProperty));\nexport { TabItem };\n/**\n * Tab is a content panel to show multiple contents in a single space, one at a time.\n * Each Tab item has an associated content, that will be displayed based on the active Tab header item.\n * ```html\n * <div id=\"tab\"></div>\n * <script>\n *   var tabObj = new Tab();\n *   tab.appendTo(\"#tab\");\n * </script>\n * ```\n */\nvar Tab = /** @class */ (function (_super) {\n    __extends(Tab, _super);\n    /**\n     * Initializes a new instance of the Tab class.\n     * @param options  - Specifies Tab model properties as options.\n     * @param element  - Specifies the element that is rendered as a Tab.\n     */\n    function Tab(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.show = { name: 'SlideDown', duration: 100 };\n        _this.hide = { name: 'SlideUp', duration: 100 };\n        _this.animateOptions = {};\n        _this.animObj = new Animation(_this.animateOptions);\n        _this.maxHeight = 0;\n        _this.title = 'Close';\n        _this.lastIndex = 0;\n        /**\n         * Contains the keyboard configuration of the Tab.\n         */\n        _this.keyConfigs = {\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n            enter: 'enter',\n            space: 'space',\n            delete: 'delete',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow'\n        };\n        return _this;\n    }\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers, attributes and classes.\n     * @returns void\n     */\n    Tab.prototype.destroy = function () {\n        var _this = this;\n        if (!isNOU(this.tbObj)) {\n            this.tbObj.destroy();\n        }\n        this.unWireEvents();\n        ['role', 'aria-disabled', 'aria-activedescendant', 'tabindex', 'aria-orientation'].forEach(function (val) {\n            _this.element.removeAttribute(val);\n        });\n        this.expTemplateContent();\n        if (!this.isTemplate) {\n            this.element.innerHTML = '';\n        }\n        else {\n            var cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            this.element.classList.remove(CLS_TEMPLATE);\n            if (!isNOU(cntEle)) {\n                cntEle.innerHTML = this.cnt;\n            }\n        }\n        _super.prototype.destroy.call(this);\n        this.trigger('destroyed');\n    };\n    /**\n     * Initialize component\n     * @private\n     */\n    Tab.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.prevIndex = 0;\n        this.isNested = false;\n        this.isPopup = false;\n        this.initRender = true;\n        this.isSwipeed = false;\n        this.itemIndexArray = [];\n        this.templateEle = [];\n        if (!isNOU(nested)) {\n            nested.parentElement.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        var name = Browser.info.name;\n        var css = (name === 'msie') ? 'e-ie' : (name === 'edge') ? 'e-edge' : (name === 'safari') ? 'e-safari' : '';\n        setStyle(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        this.setCssClass(this.element, this.cssClass, true);\n        attributes(this.element, { role: 'tablist', 'aria-disabled': 'false', 'aria-activedescendant': '' });\n        this.setCssClass(this.element, css, true);\n    };\n    /**\n     * Initialize the component rendering\n     * @private\n     */\n    Tab.prototype.render = function () {\n        this.btnCls = this.createElement('span', { className: CLS_ICONS + ' ' + CLS_ICON_CLOSE, attrs: { title: this.title } });\n        this.renderContainer();\n        this.wireEvents();\n        this.initRender = false;\n    };\n    Tab.prototype.renderContainer = function () {\n        var ele = this.element;\n        if (this.items.length > 0 && ele.children.length === 0) {\n            ele.appendChild(this.createElement('div', { className: CLS_CONTENT }));\n            this.setOrientation(this.headerPlacement, this.createElement('div', { className: CLS_HEADER }));\n            this.isTemplate = false;\n        }\n        else if (this.element.children.length > 0) {\n            this.isTemplate = true;\n            ele.classList.add(CLS_TEMPLATE);\n            var header = ele.querySelector('.' + CLS_HEADER);\n            if (header && this.headerPlacement === 'Bottom') {\n                this.setOrientation(this.headerPlacement, header);\n            }\n        }\n        if (!isNOU(select('.' + CLS_HEADER, this.element)) && !isNOU(select('.' + CLS_CONTENT, this.element))) {\n            this.renderHeader();\n            this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n            if (!isNOU(this.tbItems)) {\n                rippleEffect(this.tbItems, { selector: '.e-tab-wrap' });\n            }\n            this.renderContent();\n            if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n                this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n                this.bdrLine = this.createElement('div', { className: CLS_INDICATOR + ' ' + CLS_HIDDEN + ' ' + CLS_IGNORE });\n                var scrCnt = select('.e-hscroll-content', this.tbItems);\n                if (!isNOU(scrCnt)) {\n                    scrCnt.insertBefore(this.bdrLine, scrCnt.firstChild);\n                }\n                else {\n                    this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstChild);\n                }\n                this.setContentHeight(true);\n                this.select(this.selectedItem);\n            }\n            this.setRTL(this.enableRtl);\n        }\n    };\n    Tab.prototype.renderHeader = function () {\n        var _this = this;\n        var tabItems = [];\n        this.hdrEle = select('.' + CLS_HEADER, this.element);\n        if (!this.isTemplate) {\n            tabItems = this.parseObject(this.items, 0);\n        }\n        else {\n            var count = this.hdrEle.children.length;\n            var hdrItems = [];\n            for (var i = 0; i < count; i++) {\n                hdrItems.push(this.hdrEle.children.item(i).innerHTML);\n            }\n            if (count > 0) {\n                this.hdrEle.innerHTML = '';\n                this.hdrEle.appendChild(this.createElement('div', { className: CLS_ITEMS }));\n                hdrItems.forEach(function (item, index) {\n                    _this.lastIndex = index;\n                    var attr = {\n                        className: CLS_ITEM, id: CLS_ITEM + '_' + index,\n                        attrs: { role: 'tab', 'aria-controls': CLS_CONTENT + '_' + index, 'aria-selected': 'false' }\n                    };\n                    var txt = _this.createElement('span', {\n                        className: CLS_TEXT, innerHTML: item, attrs: { 'role': 'presentation' }\n                    }).outerHTML;\n                    var cont = _this.createElement('div', {\n                        className: CLS_TEXT_WRAP, innerHTML: txt + _this.btnCls.outerHTML\n                    }).outerHTML;\n                    var wrap = _this.createElement('div', { className: CLS_WRAP, innerHTML: cont, attrs: { tabIndex: '-1' } });\n                    select('.' + CLS_ITEMS, _this.element).appendChild(_this.createElement('div', attr));\n                    selectAll('.' + CLS_ITEM, _this.element)[index].appendChild(wrap);\n                });\n            }\n        }\n        this.tbObj = new Toolbar({\n            width: '100%',\n            overflowMode: this.overflowMode,\n            items: (tabItems.length !== 0) ? tabItems : [],\n            clicked: this.clickHandler.bind(this)\n        });\n        this.tbObj.createElement = this.createElement;\n        this.tbObj.appendTo(this.hdrEle);\n        attributes(this.element, { 'aria-orientation': 'horizontal' });\n        this.setCloseButton(this.showCloseButton);\n        this.setProperties({ headerPlacement: (this.element.children.item(0).classList.contains(CLS_HEADER)) ? 'Top' : 'Bottom' }, true);\n    };\n    Tab.prototype.renderContent = function () {\n        this.cntEle = select('.' + CLS_CONTENT, this.element);\n        var hdrItem = selectAll('.' + CLS_TB_ITEM, this.element);\n        if (this.isTemplate) {\n            this.cnt = (this.cntEle.children.length > 0) ? this.cntEle.innerHTML : '';\n            var contents = this.cntEle.children;\n            for (var i = 0; i < hdrItem.length; i++) {\n                if (contents.length - 1 >= i) {\n                    contents.item(i).className += CLS_ITEM;\n                    attributes(contents.item(i), { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + i });\n                    contents.item(i).id = CLS_CONTENT + '_' + i;\n                }\n            }\n        }\n    };\n    Tab.prototype.reRenderItems = function () {\n        this.renderContainer();\n        if (!isNOU(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n    };\n    Tab.prototype.parseObject = function (items, index) {\n        var _this = this;\n        var tbCount = selectAll('.' + CLS_TB_ITEM, this.element).length;\n        var tItems = [];\n        var txtWrapEle;\n        items.forEach(function (item, i) {\n            if (isNOU(item.header) || isNOU(item.header.text)) {\n                _this.items.splice(i, 0);\n                return;\n            }\n            var pos = (isNOU(item.header.iconPosition)) ? '' : item.header.iconPosition;\n            var css = (isNOU(item.header.iconCss)) ? '' : item.header.iconCss;\n            var txt = item.header.text;\n            _this.lastIndex = ((tbCount === 0) ? i : ((_this.isReplace) ? (index + i) : (_this.lastIndex + 1)));\n            var disabled = (item.disabled) ? ' ' + CLS_DISABLE + ' ' + CLS_OVERLAY : '';\n            txtWrapEle = _this.createElement('div', { className: CLS_TEXT, attrs: { 'role': 'presentation' } });\n            var tHtml = ((txt instanceof Object) ? txt.outerHTML : txt);\n            var txtEmpty = (!isNOU(tHtml) && tHtml !== '');\n            if (!isNOU(txt.tagName)) {\n                txtWrapEle.appendChild(txt);\n            }\n            else {\n                _this.headerTextCompile(txtWrapEle, txt);\n            }\n            var tEle;\n            var icon = _this.createElement('span', {\n                className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n            });\n            var tCont = _this.createElement('div', { className: CLS_TEXT_WRAP });\n            tCont.appendChild(txtWrapEle);\n            if ((txt === '' || txt === undefined) && css === '') {\n                return;\n            }\n            else {\n                if ((txt !== '' && txt !== undefined) && css !== '') {\n                    if ((pos === 'left' || pos === 'top')) {\n                        tCont.insertBefore(icon, tCont.firstElementChild);\n                    }\n                    else {\n                        tCont.appendChild(icon);\n                    }\n                    tEle = txtWrapEle;\n                }\n                else {\n                    tEle = ((css === '') ? txtWrapEle : icon);\n                    if (tEle === icon) {\n                        detach(txtWrapEle);\n                        tCont.appendChild(icon);\n                    }\n                }\n            }\n            var wrapAttrs = (item.disabled) ? {} : { tabIndex: '-1' };\n            tCont.appendChild(_this.btnCls.cloneNode(true));\n            var wrap = _this.createElement('div', { className: CLS_WRAP, attrs: wrapAttrs });\n            wrap.appendChild(tCont);\n            if (_this.itemIndexArray === []) {\n                _this.itemIndexArray.push(CLS_ITEM + '_' + _this.lastIndex);\n            }\n            else {\n                _this.itemIndexArray.splice((index + i), 0, CLS_ITEM + '_' + _this.lastIndex);\n            }\n            var attrObj = {\n                id: CLS_ITEM + '_' + _this.lastIndex, role: 'tab', 'aria-selected': 'false'\n            };\n            var tItem = { htmlAttributes: attrObj, template: wrap };\n            tItem.cssClass = item.cssClass + ' ' + disabled + ' ' + ((css !== '') ? 'e-i' + pos : '') + ' ' + ((!txtEmpty) ? CLS_ICON : '');\n            if (pos === 'top' || pos === 'bottom') {\n                _this.element.classList.add('e-vertical-icon');\n            }\n            tItems.push(tItem);\n        });\n        return tItems;\n    };\n    Tab.prototype.removeActiveClass = function (id) {\n        var hdrActEle = selectAll(':root .' + CLS_HEADER + ' .' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element)[0];\n        if (this.headerPlacement === 'Bottom') {\n            hdrActEle = selectAll(':root .' + CLS_HEADER + ' .' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element.children[1])[0];\n        }\n        if (!isNOU(hdrActEle)) {\n            hdrActEle.classList.remove(CLS_ACTIVE);\n            var no = this.extIndex(hdrActEle.id);\n            var trg = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + '_' + no);\n        }\n    };\n    Tab.prototype.checkPopupOverflow = function (ele) {\n        this.tbPop = select('.' + CLS_TB_POP, this.element);\n        var popIcon = select('.e-hor-nav', this.element);\n        var tbrItems = select('.' + CLS_TB_ITEMS, this.element);\n        if ((this.enableRtl && ((popIcon.offsetLeft + popIcon.offsetWidth) > tbrItems.offsetLeft))\n            || (!this.enableRtl && popIcon.offsetLeft < tbrItems.offsetWidth)) {\n            ele.classList.add(CLS_TB_POPUP);\n            this.tbPop.insertBefore(ele.cloneNode(true), selectAll('.' + CLS_TB_POPUP, this.tbPop)[0]);\n            ele.outerHTML = '';\n        }\n        return true;\n    };\n    Tab.prototype.popupHandler = function (target) {\n        var ripEle = target.querySelector('.e-ripple-element');\n        if (!isNOU(ripEle)) {\n            ripEle.outerHTML = '';\n            target.querySelector('.' + CLS_WRAP).classList.remove('e-ripple');\n        }\n        this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n        var lastChild = this.tbItem[this.tbItem.length - 1];\n        if (this.tbItem.length !== 0) {\n            target.classList.remove(CLS_TB_POPUP);\n            this.tbItems.appendChild(target.cloneNode(true));\n            this.actEleId = target.id;\n            target.outerHTML = '';\n            if (this.checkPopupOverflow(lastChild)) {\n                var prevEle = this.tbItems.lastChild.previousElementSibling;\n                this.checkPopupOverflow(prevEle);\n            }\n            this.isPopup = true;\n        }\n        return selectAll('.' + CLS_TB_ITEM, this.tbItems).length - 1;\n    };\n    Tab.prototype.setCloseButton = function (val) {\n        var trg = select('.' + CLS_HEADER, this.element);\n        (val === true) ? trg.classList.add(CLS_CLOSE_SHOW) : trg.classList.remove(CLS_CLOSE_SHOW);\n        this.tbObj.refreshOverflow();\n        this.refreshActElePosition();\n    };\n    Tab.prototype.prevCtnAnimation = function (prev, current) {\n        var animation;\n        var checkRTL = this.enableRtl || this.element.classList.contains(CLS_RTL);\n        if (this.isPopup || prev <= current) {\n            if (this.animation.previous.effect === 'SlideLeftIn') {\n                animation = { name: 'SlideLeftOut',\n                    duration: this.animation.previous.duration, timingFunction: this.animation.previous.easing };\n            }\n            else {\n                animation = null;\n            }\n        }\n        else {\n            if (this.animation.next.effect === 'SlideRightIn') {\n                animation = { name: 'SlideRightOut',\n                    duration: this.animation.next.duration, timingFunction: this.animation.next.easing };\n            }\n            else {\n                animation = null;\n            }\n        }\n        return animation;\n    };\n    Tab.prototype.triggerPrevAnimation = function (oldCnt, prevIndex) {\n        var _this = this;\n        var animateObj = this.prevCtnAnimation(prevIndex, this.selectedItem);\n        if (!isNOU(animateObj)) {\n            animateObj.begin = function () {\n                setStyle(oldCnt, { 'position': 'absolute' });\n                oldCnt.classList.add(CLS_PROGRESS);\n                oldCnt.classList.add('e-view');\n            };\n            animateObj.end = function () {\n                oldCnt.style.display = 'none';\n                oldCnt.classList.remove(CLS_ACTIVE);\n                oldCnt.classList.remove(CLS_PROGRESS);\n                oldCnt.classList.remove('e-view');\n                setStyle(oldCnt, { 'display': '', 'position': '' });\n                if (oldCnt.childNodes.length === 0 && !_this.isTemplate) {\n                    detach(oldCnt);\n                }\n            };\n            new Animation(animateObj).animate(oldCnt);\n        }\n        else {\n            oldCnt.classList.remove(CLS_ACTIVE);\n        }\n    };\n    Tab.prototype.triggerAnimation = function (id, value) {\n        var _this = this;\n        var prevIndex = this.prevIndex;\n        var itemCollection = [].slice.call(this.element.querySelector('.' + CLS_CONTENT).children);\n        var oldCnt;\n        itemCollection.forEach(function (item) {\n            if (item.id === _this.prevActiveEle) {\n                oldCnt = item;\n            }\n        });\n        var prevEle = this.tbItem[prevIndex];\n        var no = this.extIndex(this.tbItem[this.selectedItem].id);\n        var newCnt = this.getTrgContent(this.cntEle, no);\n        if (isNOU(oldCnt) && !isNOU(prevEle)) {\n            var idNo = this.extIndex(prevEle.id);\n            oldCnt = this.getTrgContent(this.cntEle, idNo);\n        }\n        this.prevActiveEle = newCnt.id;\n        if (this.initRender || value === false || this.animation === {} || isNOU(this.animation)) {\n            if (oldCnt && oldCnt !== newCnt) {\n                oldCnt.classList.remove(CLS_ACTIVE);\n            }\n            return;\n        }\n        var cnt = select('.' + CLS_CONTENT, this.element);\n        var animateObj;\n        if (this.prevIndex > this.selectedItem && !this.isPopup) {\n            var openEff = this.animation.previous.effect;\n            animateObj = {\n                name: ((openEff === 'None') ? '' : ((openEff !== 'SlideLeftIn') ? openEff : 'SlideLeftIn')),\n                duration: this.animation.previous.duration,\n                timingFunction: this.animation.previous.easing\n            };\n        }\n        else if (this.isPopup || this.prevIndex < this.selectedItem || this.prevIndex === this.selectedItem) {\n            var clsEff = this.animation.next.effect;\n            animateObj = {\n                name: ((clsEff === 'None') ? '' : ((clsEff !== 'SlideRightIn') ? clsEff : 'SlideRightIn')),\n                duration: this.animation.next.duration,\n                timingFunction: this.animation.next.easing\n            };\n        }\n        animateObj.progress = function () {\n            cnt.classList.add(CLS_PROGRESS);\n            _this.setActiveBorder();\n        };\n        animateObj.end = function () {\n            cnt.classList.remove(CLS_PROGRESS);\n            newCnt.classList.add(CLS_ACTIVE);\n        };\n        if (!this.initRender && !isNOU(oldCnt)) {\n            this.triggerPrevAnimation(oldCnt, prevIndex);\n        }\n        this.isPopup = false;\n        if (animateObj.name === '') {\n            newCnt.classList.add(CLS_ACTIVE);\n        }\n        else {\n            new Animation(animateObj).animate(newCnt);\n        }\n    };\n    Tab.prototype.keyPressed = function (trg) {\n        var trgParent = closest(trg, '.' + CLS_HEADER + ' .' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (!isNOU(this.popEle) && trg.classList.contains('e-hor-nav')) {\n            (this.popEle.classList.contains(CLS_POPUP_OPEN)) ? this.popObj.hide(this.hide) : this.popObj.show(this.show);\n        }\n        else if (trg.classList.contains('e-scroll-nav')) {\n            trg.click();\n        }\n        else {\n            if (!isNOU(trgParent) && trgParent.classList.contains(CLS_ACTIVE) === false) {\n                this.select(trgIndex);\n                if (!isNOU(this.popEle)) {\n                    this.popObj.hide(this.hide);\n                }\n            }\n        }\n    };\n    Tab.prototype.getEleIndex = function (item) {\n        return Array.prototype.indexOf.call(selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element), item);\n    };\n    Tab.prototype.extIndex = function (id) {\n        return id.replace(CLS_ITEM + '_', '');\n    };\n    Tab.prototype.expTemplateContent = function () {\n        var _this = this;\n        this.templateEle.forEach(function (eleStr) {\n            if (!isNOU(_this.element.querySelector(eleStr))) {\n                document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n    };\n    Tab.prototype.templateCompile = function (ele, cnt) {\n        var tempEle = this.createElement('div');\n        this.compileElement(tempEle, cnt, 'content');\n        if (tempEle.childNodes.length !== 0) {\n            ele.appendChild(tempEle);\n        }\n    };\n    Tab.prototype.compileElement = function (ele, val, prop) {\n        if (typeof val === 'string') {\n            val = val.trim();\n        }\n        var templateFn = compile(val);\n        var templateFUN;\n        if (!isNOU(templateFn)) {\n            templateFUN = templateFn({}, this, prop);\n        }\n        if (!isNOU(templateFn) && templateFUN.length > 0) {\n            [].slice.call(templateFUN).forEach(function (el) {\n                ele.appendChild(el);\n            });\n        }\n    };\n    Tab.prototype.headerTextCompile = function (element, text) {\n        this.compileElement(element, text, 'headerText');\n    };\n    Tab.prototype.getContent = function (ele, cnt, callType) {\n        var eleStr;\n        if (typeof cnt === 'string' || isNOU(cnt.innerHTML)) {\n            if (cnt[0] === '.' || cnt[0] === '#') {\n                if (document.querySelectorAll(cnt).length) {\n                    var eleVal = document.querySelector(cnt);\n                    eleStr = eleVal.outerHTML.trim();\n                    if (callType === 'clone') {\n                        ele.appendChild(eleVal.cloneNode(true));\n                    }\n                    else {\n                        ele.appendChild(eleVal);\n                        eleVal.style.display = '';\n                    }\n                }\n                else {\n                    this.templateCompile(ele, cnt);\n                }\n            }\n            else {\n                this.templateCompile(ele, cnt);\n            }\n        }\n        else {\n            ele.appendChild(cnt);\n        }\n        if (!isNOU(eleStr)) {\n            if (this.templateEle.indexOf(cnt.toString()) === -1) {\n                this.templateEle.push(cnt.toString());\n            }\n        }\n    };\n    Tab.prototype.getTrgContent = function (cntEle, no) {\n        var ele;\n        if (this.element.classList.contains(CLS_NEST)) {\n            ele = select('.' + CLS_NEST + '> .' + CLS_CONTENT + ' > #' + CLS_CONTENT + '_' + no, this.element);\n        }\n        else {\n            ele = this.findEle(cntEle.children, CLS_CONTENT + '_' + no);\n        }\n        return ele;\n    };\n    Tab.prototype.findEle = function (items, key) {\n        var ele;\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].id === key) {\n                ele = items[i];\n                break;\n            }\n        }\n        return ele;\n    };\n    Tab.prototype.setOrientation = function (place, ele) {\n        (place === 'Bottom') ? this.element.appendChild(ele) : this.element.insertBefore(ele, select('.' + CLS_CONTENT, this.element));\n    };\n    Tab.prototype.setCssClass = function (ele, cls, val) {\n        if (cls === '') {\n            return;\n        }\n        var list = cls.split(' ');\n        for (var i = 0; i < list.length; i++) {\n            if (val) {\n                ele.classList.add(list[i]);\n            }\n            else {\n                ele.classList.remove(list[i]);\n            }\n        }\n    };\n    Tab.prototype.setContentHeight = function (val) {\n        if (isNOU(this.cntEle)) {\n            return;\n        }\n        var height;\n        var hdrEle = select('.' + CLS_HEADER, this.element);\n        if (this.heightAdjustMode === 'None') {\n            if (this.height === 'auto') {\n                return;\n            }\n            else {\n                setStyle(this.cntEle, { 'height': (this.element.offsetHeight - hdrEle.offsetHeight) + 'px' });\n            }\n        }\n        else if (this.heightAdjustMode === 'Fill') {\n            setStyle(this.element, { 'height': '100%' });\n            setStyle(this.cntEle, { 'height': 'auto' });\n        }\n        else if (this.heightAdjustMode === 'Auto') {\n            var cnt = selectAll('.' + CLS_CONTENT + ' > .' + CLS_ITEM, this.element);\n            if (this.isTemplate === true) {\n                for (var i = 0; i < cnt.length; i++) {\n                    cnt[i].setAttribute('style', 'display:block; visibility: visible');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(cnt[i]));\n                    cnt[i].style.removeProperty('display');\n                    cnt[i].style.removeProperty('visibility');\n                }\n            }\n            else {\n                this.cntEle = select('.' + CLS_CONTENT, this.element);\n                if (val === true) {\n                    this.cntEle.appendChild(this.createElement('div', {\n                        id: (CLS_CONTENT + '_' + 0), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                        attrs: { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + 0 }\n                    }));\n                }\n                var ele = this.cntEle.children.item(0);\n                for (var i = 0; i < this.items.length; i++) {\n                    this.getContent(ele, this.items[i].content, 'clone');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(ele));\n                    ele.innerHTML = '';\n                }\n                this.templateEle = [];\n                this.getContent(ele, this.items[0].content, 'render');\n                ele.classList.remove(CLS_ACTIVE);\n            }\n            setStyle(this.cntEle, { 'height': this.maxHeight + 'px' });\n        }\n        else {\n            setStyle(this.cntEle, { 'height': 'auto' });\n        }\n    };\n    Tab.prototype.getHeight = function (ele) {\n        var cs = window.getComputedStyle(ele);\n        return ele.offsetHeight + parseFloat(cs.getPropertyValue('padding-top')) + parseFloat(cs.getPropertyValue('padding-bottom')) +\n            parseFloat(cs.getPropertyValue('margin-top')) + parseFloat(cs.getPropertyValue('margin-bottom'));\n    };\n    Tab.prototype.setActiveBorder = function () {\n        var trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element);\n        if (this.headerPlacement === 'Bottom') {\n            trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element.children[1]);\n        }\n        if (trg === null) {\n            return;\n        }\n        var root = closest(trg, '.' + CLS_TAB);\n        if (this.element !== root) {\n            return;\n        }\n        var hsCnt = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS + ' .e-hscroll-content', this.element.children[0]);\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        var bar = select('.' + CLS_HEADER + ' .' + CLS_INDICATOR, this.element);\n        if (this.headerPlacement === 'Bottom') {\n            hsCnt = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS + ' .e-hscroll-content', this.element.children[1]);\n        }\n        var tbWidth = (isNOU(hsCnt)) ? this.tbItems.offsetWidth : hsCnt.offsetWidth;\n        if (tbWidth !== 0) {\n            setStyle(bar, { 'left': trg.offsetLeft + 'px', 'right': tbWidth - (trg.offsetLeft + trg.offsetWidth) + 'px' });\n        }\n        else {\n            setStyle(bar, { 'left': 'auto', 'right': 'auto' });\n        }\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.remove(CLS_HIDDEN);\n        }\n    };\n    Tab.prototype.setActive = function (value) {\n        this.tbItem = selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element);\n        var trg = this.tbItem[value];\n        if (value >= 0) {\n            this.setProperties({ selectedItem: value }, true);\n        }\n        if (value < 0 || isNaN(value) || this.tbItem.length === 0) {\n            return;\n        }\n        if (trg.classList.contains(CLS_ACTIVE)) {\n            this.setActiveBorder();\n            return;\n        }\n        if (!this.isTemplate) {\n            var prev = this.tbItem[this.prevIndex];\n            if (!isNOU(prev)) {\n                prev.removeAttribute('aria-controls');\n            }\n            attributes(trg, { 'aria-controls': CLS_CONTENT + '_' + value });\n        }\n        var id = trg.id;\n        this.removeActiveClass(id);\n        trg.classList.add(CLS_ACTIVE);\n        trg.setAttribute('aria-selected', 'true');\n        var no = Number(this.extIndex(id));\n        if (isNOU(this.prevActiveEle)) {\n            this.prevActiveEle = CLS_CONTENT + '_' + no;\n        }\n        attributes(this.element, { 'aria-activedescendant': id });\n        if (this.isTemplate) {\n            if (select('.' + CLS_CONTENT, this.element).children.length > 0) {\n                var trg_1 = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + '_' + no);\n                if (!isNOU(trg_1)) {\n                    trg_1.classList.add(CLS_ACTIVE);\n                }\n                this.triggerAnimation(id, this.enableAnimation);\n            }\n        }\n        else {\n            this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n            if (isNOU(item)) {\n                this.cntEle.appendChild(this.createElement('div', {\n                    id: CLS_CONTENT + '_' + this.extIndex(id), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                    attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + this.extIndex(id) }\n                }));\n                var eleTrg = this.getTrgContent(this.cntEle, this.extIndex(id));\n                var itemIndex = Array.prototype.indexOf.call(this.itemIndexArray, trg.id);\n                this.getContent(eleTrg, this.items[itemIndex].content, 'render');\n            }\n            else {\n                item.classList.add(CLS_ACTIVE);\n            }\n            this.triggerAnimation(id, this.enableAnimation);\n        }\n        this.setActiveBorder();\n        var curActItem = select('.' + CLS_HEADER + ' #' + id, this.element);\n        this.refreshItemVisibility(curActItem);\n        curActItem.firstChild.focus();\n        var eventArg = {\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: trg,\n            selectedIndex: value,\n            isSwiped: this.isSwipeed\n        };\n        if (!this.initRender || this.selectedItem !== 0) {\n            this.trigger('selected', eventArg);\n        }\n    };\n    Tab.prototype.setItems = function (items) {\n        this.isReplace = true;\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        this.tbObj.items = this.parseObject(items, 0);\n        this.tbObj.dataBind();\n        this.isReplace = false;\n    };\n    Tab.prototype.setRTL = function (value) {\n        this.tbObj.enableRtl = value;\n        this.tbObj.dataBind();\n        this.setCssClass(this.element, CLS_RTL, value);\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshActiveBorder = function () {\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.add(CLS_HIDDEN);\n        }\n        this.setActiveBorder();\n    };\n    Tab.prototype.wireEvents = function () {\n        window.addEventListener('resize', this.refreshActElePosition.bind(this));\n        EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n        EventHandler.add(this.element, 'keydown', this.spaceKeyDown, this);\n        if (!isNOU(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n        this.keyModule = new KeyboardEvents(this.element, { keyAction: this.keyHandler.bind(this), keyConfigs: this.keyConfigs });\n        this.tabKeyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyHandler.bind(this),\n            keyConfigs: { openPopup: 'shift+f10', tab: 'tab', shiftTab: 'shift+tab' },\n            eventName: 'keydown'\n        });\n    };\n    Tab.prototype.unWireEvents = function () {\n        this.keyModule.destroy();\n        this.tabKeyModule.destroy();\n        if (!isNOU(this.cntEle)) {\n            this.touchModule.destroy();\n        }\n        window.removeEventListener('resize', this.refreshActElePosition.bind(this));\n        this.element.removeEventListener('mouseover', this.hoverHandler.bind(this));\n    };\n    Tab.prototype.clickHandler = function (args) {\n        this.element.classList.remove(CLS_FOCUS);\n        var trg = args.originalEvent.target;\n        var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (trg.classList.contains(CLS_ICON_CLOSE)) {\n            this.removeTab(trgIndex);\n        }\n        else {\n            this.isPopup = false;\n            if (!isNOU(trgParent) && trgIndex !== this.selectedItem) {\n                this.select(trgIndex);\n            }\n        }\n    };\n    Tab.prototype.swipeHandler = function (e) {\n        if (e.velocity < 3 && isNOU(e.originalEvent.changedTouches)) {\n            return;\n        }\n        this.isSwipeed = true;\n        if (e.swipeDirection === 'Right' && this.selectedItem !== 0) {\n            for (var k = this.selectedItem - 1; k >= 0; k--) {\n                if (!this.tbItem[k].classList.contains('e-hidden')) {\n                    this.select(k);\n                    break;\n                }\n            }\n        }\n        else if (e.swipeDirection === 'Left' && (this.selectedItem !== selectAll('.' + CLS_TB_ITEM, this.element).length - 1)) {\n            for (var i = this.selectedItem + 1; i < this.tbItem.length; i++) {\n                if (!this.tbItem[i].classList.contains('e-hidden')) {\n                    this.select(i);\n                    break;\n                }\n            }\n        }\n        this.isSwipeed = false;\n    };\n    Tab.prototype.spaceKeyDown = function (e) {\n        if ((e.keyCode === 32 && e.which === 32) || (e.keyCode === 35 && e.which === 35)) {\n            var clstHead = closest(e.target, '.' + CLS_HEADER);\n            if (!isNOU(clstHead)) {\n                e.preventDefault();\n            }\n        }\n    };\n    Tab.prototype.keyHandler = function (e) {\n        if (this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        this.element.classList.add(CLS_FOCUS);\n        var trg = e.target;\n        var actEle = select('.' + CLS_HEADER + ' .' + CLS_ACTIVE, this.element);\n        var tabItem = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', this.element);\n        this.popEle = select('.' + CLS_TB_POP, this.element);\n        if (!isNOU(this.popEle)) {\n            this.popObj = this.popEle.ej2_instances[0];\n        }\n        switch (e.action) {\n            case 'space':\n            case 'enter':\n                if (trg.parentElement.classList.contains(CLS_DISABLE)) {\n                    return;\n                }\n                if (e.action === 'enter' && trg.classList.contains('e-hor-nav')) {\n                    break;\n                }\n                this.keyPressed(trg);\n                break;\n            case 'tab':\n            case 'shiftTab':\n                if (trg.classList.contains(CLS_WRAP)\n                    && closest(trg, '.' + CLS_TB_ITEM).classList.contains(CLS_ACTIVE) === false) {\n                    trg.setAttribute('tabindex', '-1');\n                }\n                if (this.popObj && isVisible(this.popObj.element)) {\n                    this.popObj.hide(this.hide);\n                }\n                actEle.children.item(0).setAttribute('tabindex', '0');\n                break;\n            case 'moveLeft':\n            case 'moveRight':\n                var item = closest(document.activeElement, '.' + CLS_TB_ITEM);\n                if (!isNOU(item)) {\n                    this.refreshItemVisibility(item);\n                }\n                break;\n            case 'openPopup':\n                e.preventDefault();\n                if (!isNOU(this.popEle) && this.popEle.classList.contains(CLS_POPUP_CLOSE)) {\n                    this.popObj.show(this.show);\n                }\n                break;\n            case 'delete':\n                var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n                if (this.showCloseButton === true && !isNOU(trgParent)) {\n                    var nxtSib = trgParent.nextSibling;\n                    if (!isNOU(nxtSib) && nxtSib.classList.contains(CLS_TB_ITEM)) {\n                        nxtSib.firstChild.focus();\n                    }\n                    this.removeTab(this.getEleIndex(trgParent));\n                }\n                this.setActiveBorder();\n                break;\n        }\n    };\n    Tab.prototype.refreshActElePosition = function () {\n        var activeEle = select('.' + CLS_TB_ITEM + '.' + CLS_TB_POPUP + '.' + CLS_ACTIVE, this.element);\n        if (!isNOU(activeEle)) {\n            this.select(this.getEleIndex(activeEle));\n        }\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshItemVisibility = function (target) {\n        var scrCnt = select('.e-hscroll-content', this.tbItems);\n        if (!isNOU(scrCnt)) {\n            var scrBar = select('.e-hscroll-bar', this.tbItems);\n            var scrStart = scrBar.scrollLeft;\n            var scrEnd = scrStart + scrBar.offsetWidth;\n            var eleStart = target.offsetLeft;\n            var eleWidth = target.offsetWidth;\n            var eleEnd = target.offsetLeft + target.offsetWidth;\n            if ((scrStart < eleStart) && (scrEnd < eleEnd)) {\n                var eleViewRange = scrEnd - eleStart;\n                scrBar.scrollLeft = scrStart + (eleWidth - eleViewRange);\n            }\n            else {\n                if ((scrStart > eleStart) && (scrEnd > eleEnd)) {\n                    var eleViewRange = eleEnd - scrStart;\n                    scrBar.scrollLeft = scrStart - (eleWidth - eleViewRange);\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    Tab.prototype.hoverHandler = function (e) {\n        var trg = e.target;\n        if (!isNOU(trg.classList) && trg.classList.contains(CLS_ICON_CLOSE)) {\n            trg.setAttribute('title', new L10n('tab', { closeButtonTitle: this.title }, this.locale).getConstant('closeButtonTitle'));\n        }\n    };\n    /**\n     * Enables or disables the specified Tab item. On passing value as `false`, the item will be disabled.\n     * @param  {number} index - Index value of target Tab item.\n     * @param  {boolean} value - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, isEnable is true.\n     * @returns void.\n     */\n    Tab.prototype.enableTab = function (index, value) {\n        var tbItems = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(tbItems)) {\n            return;\n        }\n        if (value === true) {\n            tbItems.classList.remove(CLS_DISABLE, CLS_OVERLAY);\n            tbItems.firstChild.setAttribute('tabindex', '-1');\n        }\n        else {\n            tbItems.classList.add(CLS_DISABLE, CLS_OVERLAY);\n            tbItems.firstChild.removeAttribute('tabindex');\n            if (tbItems.classList.contains(CLS_ACTIVE)) {\n                this.select(index + 1);\n            }\n        }\n        if (!isNOU(this.items[index])) {\n            this.items[index].disabled = !value;\n            this.dataBind();\n        }\n        tbItems.setAttribute('aria-disabled', (value === true) ? 'false' : 'true');\n    };\n    /**\n     * Adds new items to the Tab that accepts an array as Tab items.\n     * @param  {TabItemsModel[]} items - An array of item that is added to the Tab.\n     * @param  {number} index - Number value that determines where the items to be added. By default, index is 0.\n     * @returns void.\n     */\n    Tab.prototype.addTab = function (items, index) {\n        var _this = this;\n        var lastEleIndex = 0;\n        if (!this.isReplace) {\n            this.trigger('adding', { addedItems: items });\n        }\n        this.hdrEle = select('.' + CLS_HEADER, this.element);\n        if (isNOU(this.hdrEle)) {\n            this.items = items;\n            this.reRenderItems();\n            return;\n        }\n        var itemsCount = selectAll('.' + CLS_TB_ITEM, this.element).length;\n        if (itemsCount !== 0) {\n            lastEleIndex = this.lastIndex + 1;\n        }\n        if (isNOU(index)) {\n            index = itemsCount - 1;\n        }\n        if (itemsCount < index || index < 0 || isNaN(index)) {\n            return;\n        }\n        if (itemsCount === 0 && !isNOU(this.hdrEle)) {\n            this.hdrEle.style.display = '';\n        }\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.add(CLS_HIDDEN);\n        }\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        var tabItems = this.parseObject(items, index);\n        items.forEach(function (item, place) {\n            _this.items.splice((index + place), 0, item);\n            if (_this.isTemplate && !isNOU(item.header) && !isNOU(item.header.text)) {\n                var no = lastEleIndex + place;\n                var ele = _this.createElement('div', {\n                    id: CLS_CONTENT + '_' + no, className: CLS_ITEM, attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + no }\n                });\n                _this.cntEle.insertBefore(ele, _this.cntEle.children[(index + place)]);\n                var eleTrg = _this.getTrgContent(_this.cntEle, no.toString());\n                _this.getContent(eleTrg, item.content, 'render');\n            }\n        });\n        this.tbObj.addItems(tabItems, index);\n        if (!this.isReplace) {\n            this.trigger('added', { addedItems: items });\n        }\n        if (this.selectedItem === index) {\n            this.select(index);\n        }\n        else {\n            this.setActiveBorder();\n        }\n    };\n    /**\n     * Removes the items in the Tab from the specified index.\n     * @param  {number} index - Index of target item that is going to be removed.\n     * @returns void.\n     */\n    Tab.prototype.removeTab = function (index) {\n        var trg = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        var removeArgs = { removedItem: trg, removedIndex: index };\n        this.trigger('removing', removeArgs);\n        if (isNOU(trg)) {\n            return;\n        }\n        this.tbObj.removeItems(index);\n        this.items.splice(index, 1);\n        this.itemIndexArray.splice(index, 1);\n        this.refreshActiveBorder();\n        var cntTrg = select('#' + CLS_CONTENT + '_' + this.extIndex(trg.id), select('.' + CLS_CONTENT, this.element));\n        if (!isNOU(cntTrg)) {\n            detach(cntTrg);\n        }\n        this.trigger('removed', removeArgs);\n        if (trg.classList.contains(CLS_ACTIVE)) {\n            index = (index > selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', this.element).length - 1) ? index - 1 : index;\n            this.enableAnimation = false;\n            this.selectedItem = index;\n            this.select(index);\n        }\n        if (selectAll('.' + CLS_TB_ITEM, this.element).length === 0) {\n            this.hdrEle.style.display = 'none';\n        }\n        this.enableAnimation = true;\n    };\n    /**\n     * Shows or hides the Tab that is in the specified index.\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (false) or show (true). By default, value is true.\n     * @returns void.\n     */\n    Tab.prototype.hideTab = function (index, value) {\n        var item = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(item)) {\n            return;\n        }\n        if (isNOU(value)) {\n            value = true;\n        }\n        this.bdrLine.classList.add(CLS_HIDDEN);\n        if (value === true) {\n            item.classList.add(CLS_HIDDEN);\n            if (item.classList.contains(CLS_ACTIVE)) {\n                if (index !== 0) {\n                    for (var i = index - 1; i >= 0; i--) {\n                        if (!this.tbItem[i].classList.contains('e-hidden')) {\n                            this.select(i);\n                            break;\n                        }\n                        else if (i === 0) {\n                            for (var k = index + 1; k < this.tbItem.length; k++) {\n                                if (!this.tbItem[k].classList.contains('e-hidden')) {\n                                    this.select(k);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    for (var k = index + 1; k < this.tbItem.length; k++) {\n                        if (!this.tbItem[k].classList.contains('e-hidden')) {\n                            this.select(k);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            item.classList.remove(CLS_HIDDEN);\n        }\n        this.setActiveBorder();\n        item.setAttribute('aria-hidden', '' + value);\n    };\n    /**\n     * Specifies the index or HTMLElement to select an item from the Tab.\n     * @param  {number | HTMLElement} args - Index or DOM element is used for selecting an item from the Tab.\n     * @returns void.\n     */\n    Tab.prototype.select = function (args) {\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        this.tbItem = selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element);\n        this.prevItem = this.tbItem[this.prevIndex];\n        var trg = this.tbItem[args];\n        if (!isNOU(this.prevItem) && !this.prevItem.classList.contains(CLS_DISABLE)) {\n            this.prevItem.children.item(0).setAttribute('tabindex', '-1');\n        }\n        var eventArg = {\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: this.tbItem[this.selectedItem],\n            selectedIndex: this.selectedItem,\n            selectingItem: trg,\n            selectingIndex: args,\n            isSwiped: this.isSwipeed\n        };\n        if (!this.initRender || this.selectedItem !== 0) {\n            this.trigger('selecting', eventArg);\n        }\n        if (eventArg.cancel) {\n            return;\n        }\n        if (typeof args === 'number') {\n            if (!isNOU(this.tbItem[args]) && this.tbItem[args].classList.contains(CLS_DISABLE)) {\n                for (var i = args + 1; i < this.items.length; i++) {\n                    if (this.items[i].disabled === false) {\n                        args = i;\n                        break;\n                    }\n                    else {\n                        args = 0;\n                    }\n                }\n            }\n            if (this.tbItem.length > args && args >= 0 && !isNaN(args)) {\n                if (!this.tbItem[this.selectedItem].classList.contains('e-hidden')) {\n                    this.prevIndex = this.selectedItem;\n                }\n                else {\n                    for (var i = this.selectedItem; i >= 0; i--) {\n                        if (!this.tbItem[i].classList.contains('e-hidden')) {\n                            this.prevIndex = i;\n                            break;\n                        }\n                    }\n                }\n                if (this.tbItem[args].classList.contains(CLS_TB_POPUP)) {\n                    this.setActive(this.popupHandler(this.tbItem[args]));\n                }\n                else {\n                    this.setActive(args);\n                }\n            }\n            else {\n                this.setActive(0);\n            }\n        }\n        else if (args instanceof (HTMLElement)) {\n            this.setActive(this.getEleIndex(args));\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Tab component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, Tab will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    Tab.prototype.disable = function (value) {\n        this.setCssClass(this.element, CLS_DISABLE, value);\n        this.element.setAttribute('aria-disabled', '' + value);\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    Tab.prototype.getPersistData = function () {\n        return this.addOnPersist(['selectedItem', 'actEleId']);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Tab.prototype.getModuleName = function () {\n        return 'tab';\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {TabModel} newProp\n     * @param  {TabModel} oldProp\n     * @returns void\n     * @private\n     */\n    Tab.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyle(this.element, { width: formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyle(this.element, { height: formatUnit(newProp.height) });\n                    this.setContentHeight(false);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(this.element, newProp.cssClass, true);\n                    break;\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProp.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var oldVal = Object(oldProp.items[index])[property];\n                            var newVal = Object(newProp.items[index])[property];\n                            var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM + '_' + index, this.element);\n                            var cntItem = select('.' + CLS_CONTENT + ' #' + CLS_CONTENT + '_' + index, this.element);\n                            if (property === 'header') {\n                                var arr = [];\n                                arr.push(this.items[index]);\n                                this.items.splice(index, 1);\n                                this.itemIndexArray.splice(index, 1);\n                                this.tbObj.items.splice(index, 1);\n                                var isHiddenEle = hdrItem.classList.contains(CLS_HIDDEN);\n                                detach(hdrItem);\n                                this.isReplace = true;\n                                this.addTab(arr, index);\n                                if (isHiddenEle) {\n                                    this.hideTab(index);\n                                }\n                                this.isReplace = false;\n                            }\n                            if (property === 'content' && !isNOU(cntItem)) {\n                                var strVal = typeof newVal === 'string' || isNOU(newVal.innerHTML);\n                                if (strVal && (newVal[0] === '.' || newVal[0] === '#') && newVal.length) {\n                                    var eleVal = document.querySelector(newVal);\n                                    cntItem.appendChild(eleVal);\n                                    eleVal.style.display = '';\n                                }\n                                else if (newVal === '' && oldVal[0] === '#') {\n                                    document.body.appendChild(this.element.querySelector(oldVal)).style.display = 'none';\n                                    cntItem.innerHTML = newVal;\n                                }\n                                else {\n                                    cntItem.innerHTML = newVal;\n                                }\n                            }\n                            if (property === 'cssClass') {\n                                if (!isNOU(hdrItem)) {\n                                    hdrItem.classList.remove(oldVal);\n                                    hdrItem.classList.add(newVal);\n                                }\n                                if (!isNOU(cntItem)) {\n                                    cntItem.classList.remove(oldVal);\n                                    cntItem.classList.add(newVal);\n                                }\n                            }\n                            if (property === 'disabled') {\n                                this.enableTab(index, ((newVal === true) ? false : true));\n                            }\n                        }\n                    }\n                    else {\n                        this.lastIndex = 0;\n                        if (isNOU(this.tbObj)) {\n                            this.reRenderItems();\n                        }\n                        else {\n                            this.setItems(newProp.items);\n                            if (this.templateEle.length > 0) {\n                                this.expTemplateContent();\n                            }\n                            this.templateEle = [];\n                            select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element).innerHTML = '';\n                            this.select(this.selectedItem);\n                        }\n                    }\n                    break;\n                case 'showCloseButton':\n                    this.setCloseButton(newProp.showCloseButton);\n                    break;\n                case 'selectedItem':\n                    this.selectedItem = oldProp.selectedItem;\n                    this.select(newProp.selectedItem);\n                    break;\n                case 'headerPlacement':\n                    var tempHdrEle = select('.' + CLS_HEADER, this.element);\n                    this.setOrientation(newProp.headerPlacement, tempHdrEle);\n                    this.select(this.selectedItem);\n                    break;\n                case 'enableRtl':\n                    this.setRTL(newProp.enableRtl);\n                    break;\n                case 'overflowMode':\n                    this.tbObj.overflowMode = newProp.overflowMode;\n                    this.tbObj.dataBind();\n                    this.refreshActElePosition();\n                    break;\n                case 'heightAdjustMode':\n                    this.setContentHeight(false);\n                    this.select(this.selectedItem);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Collection([], TabItem)\n    ], Tab.prototype, \"items\", void 0);\n    __decorate([\n        Property('100%')\n    ], Tab.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tab.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Tab.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(0)\n    ], Tab.prototype, \"selectedItem\", void 0);\n    __decorate([\n        Property('Top')\n    ], Tab.prototype, \"headerPlacement\", void 0);\n    __decorate([\n        Property('Content')\n    ], Tab.prototype, \"heightAdjustMode\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Tab.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"showCloseButton\", void 0);\n    __decorate([\n        Complex({}, TabAnimationSettings)\n    ], Tab.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"adding\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"added\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selecting\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selected\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removed\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"destroyed\", void 0);\n    Tab = __decorate([\n        NotifyPropertyChanges\n    ], Tab);\n    return Tab;\n}(Component));\nexport { Tab };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, isUndefined, Browser, compile } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { rippleEffect, Animation } from '@syncfusion/ej2-base';\nimport { Draggable, Droppable } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, closest, matches, detach, select, selectAll, isVisible, append } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { isNullOrUndefined as isNOU, Touch, getValue, setValue } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { createCheckBox, rippleMouseHandler } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nvar ROOT = 'e-treeview';\nvar CONTROL = 'e-control';\nvar COLLAPSIBLE = 'e-icon-collapsible';\nvar EXPANDABLE = 'e-icon-expandable';\nvar LISTITEM = 'e-list-item';\nvar LISTTEXT = 'e-list-text';\nvar PARENTITEM = 'e-list-parent';\nvar HOVER = 'e-hover';\nvar ACTIVE = 'e-active';\nvar LOAD = 'e-icons-spinner';\nvar PROCESS = 'e-process';\nvar ICON = 'e-icons';\nvar TEXTWRAP = 'e-text-content';\nvar INPUT = 'e-input';\nvar INPUTGROUP = 'e-input-group';\nvar TREEINPUT = 'e-tree-input';\nvar EDITING = 'e-editing';\nvar RTL = 'e-rtl';\nvar DRAGITEM = 'e-drag-item';\nvar DROPPABLE = 'e-droppable';\nvar DRAGGING = 'e-dragging';\nvar SIBLING = 'e-sibling';\nvar DROPIN = 'e-drop-in';\nvar DROPNEXT = 'e-drop-next';\nvar DROPOUT = 'e-drop-out';\nvar NODROP = 'e-no-drop';\nvar FULLROWWRAP = 'e-fullrow-wrap';\nvar FULLROW = 'e-fullrow';\nvar SELECTED = 'e-selected';\nvar EXPANDED = 'e-expanded';\nvar NODECOLLAPSED = 'e-node-collapsed';\nvar DISABLE = 'e-disable';\nvar CONTENT = 'e-content';\nvar DOWNTAIL = 'e-downtail';\nvar DROPCOUNT = 'e-drop-count';\nvar CHECK = 'e-check';\nvar INDETERMINATE = 'e-stop';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECKBOXRIPPLE = 'e-ripple-container';\nvar FOCUS = 'e-node-focus';\nvar IMAGE = 'e-list-img';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar treeAriaAttr = {\n    treeRole: 'tree',\n    itemRole: 'treeitem',\n    listRole: 'group',\n    itemText: '',\n    wrapperRole: '',\n};\n/**\n * Configures the fields to bind to the properties of node in the TreeView component.\n */\nvar FieldsSettings = /** @class */ (function (_super) {\n    __extends(FieldsSettings, _super);\n    function FieldsSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('child')\n    ], FieldsSettings.prototype, \"child\", void 0);\n    __decorate([\n        Property([])\n    ], FieldsSettings.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('expanded')\n    ], FieldsSettings.prototype, \"expanded\", void 0);\n    __decorate([\n        Property('hasChildren')\n    ], FieldsSettings.prototype, \"hasChildren\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], FieldsSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], FieldsSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('id')\n    ], FieldsSettings.prototype, \"id\", void 0);\n    __decorate([\n        Property('imageUrl')\n    ], FieldsSettings.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property('isChecked')\n    ], FieldsSettings.prototype, \"isChecked\", void 0);\n    __decorate([\n        Property('parentID')\n    ], FieldsSettings.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], FieldsSettings.prototype, \"query\", void 0);\n    __decorate([\n        Property('selected')\n    ], FieldsSettings.prototype, \"selected\", void 0);\n    __decorate([\n        Property(null)\n    ], FieldsSettings.prototype, \"tableName\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldsSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], FieldsSettings.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('navigateUrl')\n    ], FieldsSettings.prototype, \"navigateUrl\", void 0);\n    return FieldsSettings;\n}(ChildProperty));\nexport { FieldsSettings };\n/**\n * Configures animation settings for the TreeView component.\n */\nvar ActionSettings = /** @class */ (function (_super) {\n    __extends(ActionSettings, _super);\n    function ActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], ActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], ActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], ActionSettings.prototype, \"easing\", void 0);\n    return ActionSettings;\n}(ChildProperty));\nexport { ActionSettings };\n/**\n * Configures the animation settings for expanding and collapsing nodes in TreeView.\n */\nvar NodeAnimationSettings = /** @class */ (function (_super) {\n    __extends(NodeAnimationSettings, _super);\n    function NodeAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"expand\", void 0);\n    return NodeAnimationSettings;\n}(ChildProperty));\nexport { NodeAnimationSettings };\n/**\n * The TreeView component is used to represent hierarchical data in a tree like structure with advanced\n * functions to perform edit, drag and drop, selection with check-box, and more.\n * ```html\n *  <div id=\"tree\"></div>\n * ```\n * ```typescript\n *  let treeObj: TreeView = new TreeView();\n *  treeObj.appendTo('#tree');\n * ```\n */\nvar TreeView = /** @class */ (function (_super) {\n    __extends(TreeView, _super);\n    function TreeView(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseDownStatus = false;\n        return _this;\n    }\n    TreeView_1 = TreeView;\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    TreeView.prototype.getModuleName = function () {\n        return 'treeview';\n    };\n    /**\n     * Initialize the event handler\n     */\n    TreeView.prototype.preRender = function () {\n        var _this = this;\n        this.checkActionNodes = [];\n        this.dragStartAction = false;\n        this.isAnimate = false;\n        this.keyConfigs = {\n            escape: 'escape',\n            end: 'end',\n            enter: 'enter',\n            f2: 'f2',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            ctrlA: 'ctrl+A',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space',\n        };\n        this.listBaseOption = {\n            expandCollapse: true,\n            showIcon: true,\n            expandIconClass: EXPANDABLE,\n            ariaAttributes: treeAriaAttr,\n            expandIconPosition: 'Left',\n            itemCreated: function (e) {\n                _this.beforeNodeCreate(e);\n            },\n        };\n        this.updateListProp(this.fields);\n        this.aniObj = new Animation({});\n        this.treeList = [];\n        this.isLoaded = false;\n        this.setTouchClass();\n        if (isNOU(this.selectedNodes)) {\n            this.setProperties({ selectedNodes: [] }, true);\n        }\n        if (isNOU(this.checkedNodes)) {\n            this.setProperties({ checkedNodes: [] }, true);\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     * @hidden\n     */\n    TreeView.prototype.getPersistData = function () {\n        var keyEntity = ['selectedNodes', 'checkedNodes'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    TreeView.prototype.render = function () {\n        this.isAnimate = true;\n        this.initialize();\n        this.setDataBinding();\n        this.setExpandOnType();\n        this.setRipple();\n        this.wireEditingEvents(this.allowEditing);\n        this.setDragAndDrop(this.allowDragAndDrop);\n        this.wireEvents();\n    };\n    TreeView.prototype.initialize = function () {\n        this.element.setAttribute('role', 'tree');\n        this.element.setAttribute('tabindex', '0');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n        this.setCssClass(null, this.cssClass);\n        this.setEnableRtl();\n        this.setFullRow(this.fullRowSelect);\n        this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n    };\n    TreeView.prototype.setEnableRtl = function () {\n        this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    };\n    TreeView.prototype.setRipple = function () {\n        var tempStr = '.' + FULLROW + ',.' + TEXTWRAP;\n        var rippleModel = {\n            selector: tempStr,\n            ignore: '.' + TEXTWRAP + ' > .' + ICON + ',.' + INPUTGROUP + ',.' + INPUT + ', .' + CHECKBOXWRAP\n        };\n        this.rippleFn = rippleEffect(this.element, rippleModel);\n        var iconModel = {\n            selector: '.' + TEXTWRAP + ' > .' + ICON,\n            isCenterRipple: true,\n        };\n        this.rippleIconFn = rippleEffect(this.element, iconModel);\n    };\n    TreeView.prototype.setFullRow = function (isEnabled) {\n        isEnabled ? addClass([this.element], FULLROWWRAP) : removeClass([this.element], FULLROWWRAP);\n    };\n    TreeView.prototype.setMultiSelect = function (isEnabled) {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        if (isEnabled) {\n            firstUl.setAttribute('aria-multiselectable', 'true');\n        }\n        else {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n    };\n    TreeView.prototype.templateComplier = function (template) {\n        if (template) {\n            var e = void 0;\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        return undefined;\n    };\n    TreeView.prototype.setDataBinding = function () {\n        var _this = this;\n        this.treeList.push('false');\n        if (this.fields.dataSource instanceof DataManager) {\n            this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function (e) {\n                _this.treeList.pop();\n                _this.treeData = e.result;\n                _this.isNumberTypeId = _this.getType();\n                _this.setRootData();\n                _this.renderItems(true);\n                if (_this.treeList.length === 0 && !_this.isLoaded) {\n                    _this.finalize();\n                }\n            });\n        }\n        else {\n            this.treeList.pop();\n            if (isNOU(this.fields.dataSource)) {\n                this.rootData = this.treeData = [];\n            }\n            else {\n                this.treeData = this.fields.dataSource;\n                this.setRootData();\n            }\n            this.renderItems(false);\n        }\n        if (this.treeList.length === 0 && !this.isLoaded) {\n            this.finalize();\n        }\n    };\n    TreeView.prototype.getQuery = function (mapper, value) {\n        if (value === void 0) { value = null; }\n        var columns = [];\n        var query;\n        if (!mapper.query) {\n            query = new Query();\n            var prop = this.getActualProperties(mapper);\n            for (var _i = 0, _a = Object.keys(prop); _i < _a.length; _i++) {\n                var col = _a[_i];\n                if (col !== 'dataSource' && col !== 'tableName' && col !== 'child' && !!mapper[col]\n                    && columns.indexOf(mapper[col]) === -1) {\n                    columns.push(mapper[col]);\n                }\n            }\n            query.select(columns);\n            if (prop.hasOwnProperty('tableName')) {\n                query.from(mapper.tableName);\n            }\n        }\n        else {\n            query = mapper.query.clone();\n        }\n        ListBase.addSorting(this.sortOrder, mapper.text, query);\n        if (!isNOU(value) && !isNOU(mapper.parentID)) {\n            query.where(mapper.parentID, 'equal', (this.isNumberTypeId ? parseFloat(value) : value));\n        }\n        return query;\n    };\n    TreeView.prototype.getType = function () {\n        return this.treeData[0] ? ((typeof getValue(this.fields.id, this.treeData[0]) === 'number') ? true : false) : false;\n    };\n    TreeView.prototype.setRootData = function () {\n        this.dataType = this.getDataType(this.treeData, this.fields);\n        if (this.dataType === 1) {\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n            var rootItems = this.getChildNodes(this.treeData, undefined, true);\n            if (isNOU(rootItems)) {\n                this.rootData = [];\n            }\n            else {\n                this.rootData = rootItems;\n            }\n        }\n        else {\n            this.rootData = this.treeData;\n        }\n    };\n    TreeView.prototype.renderItems = function (isSorted) {\n        this.listBaseOption.ariaAttributes.level = 1;\n        this.ulElement = ListBase.createList(this.createElement, isSorted ? this.rootData : this.getSortedData(this.rootData), this.listBaseOption);\n        this.element.appendChild(this.ulElement);\n        this.finalizeNode(this.element);\n    };\n    TreeView.prototype.beforeNodeCreate = function (e) {\n        if (this.showCheckBox) {\n            var checkboxEle = createCheckBox(this.createElement, true, { cssClass: this.touchClass });\n            var icon = select('div.' + ICON, e.item);\n            var id = e.item.getAttribute('data-uid');\n            e.item.childNodes[0].insertBefore(checkboxEle, e.item.childNodes[0].childNodes[isNOU(icon) ? 0 : 1]);\n            var checkValue = getValue(e.fields.isChecked, e.curData);\n            if (this.checkedNodes.indexOf(id) > -1) {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else if (!isNOU(checkValue) && checkValue.toString() === 'true') {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else {\n                checkboxEle.setAttribute('aria-checked', 'false');\n            }\n            var frame = select('.' + CHECKBOXFRAME, checkboxEle);\n            EventHandler.add(frame, 'mousedown', this.frameMouseHandler, this);\n            EventHandler.add(frame, 'mouseup', this.frameMouseHandler, this);\n        }\n        if (this.fullRowSelect) {\n            this.createFullRow(e.item);\n        }\n        if (this.allowMultiSelection && !e.item.classList.contains(SELECTED)) {\n            e.item.setAttribute('aria-selected', 'false');\n        }\n        var fields = e.fields;\n        this.addActionClass(e, fields.selected, SELECTED);\n        this.addActionClass(e, fields.expanded, EXPANDED);\n        if (!isNOU(this.nodeTemplateFn)) {\n            var textEle = e.item.querySelector('.' + LISTTEXT);\n            textEle.innerHTML = '';\n            append(this.nodeTemplateFn(e.curData), textEle);\n        }\n        var eventArgs = {\n            node: e.item,\n            nodeData: e.curData,\n            text: e.text,\n        };\n        this.trigger('drawNode', eventArgs);\n    };\n    TreeView.prototype.frameMouseHandler = function (e) {\n        var rippleSpan = select('.' + CHECKBOXRIPPLE, e.target.parentElement);\n        rippleMouseHandler(e, rippleSpan);\n    };\n    TreeView.prototype.addActionClass = function (e, action, cssClass) {\n        var data = e.curData;\n        var actionValue = getValue(action, data);\n        if (!isNOU(actionValue) && actionValue.toString() !== 'false') {\n            e.item.classList.add(cssClass);\n        }\n    };\n    TreeView.prototype.getDataType = function (ds, mapper) {\n        if (this.fields.dataSource instanceof DataManager) {\n            for (var i = 0; i < ds.length; i++) {\n                if ((typeof mapper.child === 'string') && isNOU(getValue(mapper.child, ds[i]))) {\n                    return 1;\n                }\n            }\n            return 2;\n        }\n        for (var i = 0, len = ds.length; i < len; i++) {\n            if ((typeof mapper.child === 'string') && !isNOU(getValue(mapper.child, ds[i]))) {\n                return 2;\n            }\n            if (!isNOU(getValue(mapper.parentID, ds[i])) || !isNOU(getValue(mapper.hasChildren, ds[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    };\n    TreeView.prototype.getGroupedData = function (dataSource, groupBy) {\n        var cusQuery = new Query().group(groupBy);\n        var ds = ListBase.getDataSource(dataSource, cusQuery);\n        var grpItem = [];\n        for (var j = 0; j < ds.length; j++) {\n            var itemObj = ds[j].items;\n            grpItem.push(itemObj);\n        }\n        return grpItem;\n    };\n    TreeView.prototype.getSortedData = function (list) {\n        if (list && this.sortOrder !== 'None') {\n            list = ListBase.getDataSource(list, ListBase.addSorting(this.sortOrder, this.fields.text));\n        }\n        return list;\n    };\n    TreeView.prototype.finalizeNode = function (element) {\n        var iNodes = selectAll('.' + IMAGE, element);\n        for (var k = 0; k < iNodes.length; k++) {\n            iNodes[k].setAttribute('alt', IMAGE);\n        }\n        if (this.isLoaded) {\n            var sNodes = selectAll('.' + SELECTED, element);\n            for (var i = 0; i < sNodes.length; i++) {\n                this.selectNode(sNodes[i], null);\n                break;\n            }\n            removeClass(sNodes, SELECTED);\n        }\n        var cNodes = selectAll('.' + LISTITEM + ':not(.' + EXPANDED + ')', element);\n        for (var j = 0; j < cNodes.length; j++) {\n            var icon = select('div.' + ICON, cNodes[j]);\n            if (icon && icon.classList.contains(EXPANDABLE)) {\n                cNodes[j].setAttribute('aria-expanded', 'false');\n                addClass([cNodes[j]], NODECOLLAPSED);\n            }\n        }\n        var eNodes = selectAll('.' + EXPANDED, element);\n        for (var i = 0; i < eNodes.length; i++) {\n            this.renderChildNodes(eNodes[i]);\n        }\n        removeClass(eNodes, EXPANDED);\n        this.updateList();\n        if (this.isLoaded) {\n            this.updateCheckedProp();\n        }\n    };\n    TreeView.prototype.updateCheckedProp = function () {\n        var _this = this;\n        if (this.showCheckBox) {\n            var nodes_1 = [].concat([], this.checkedNodes);\n            this.checkedNodes.forEach(function (value, index) {\n                var checkBox = _this.element.querySelector('[data-uid=\"' + value + '\"]');\n                if (isNOU(checkBox)) {\n                    nodes_1 = nodes_1.filter(function (e) { return e !== value; });\n                }\n            });\n            this.setProperties({ checkedNodes: nodes_1 }, true);\n        }\n    };\n    TreeView.prototype.ensureParentCheckState = function (element) {\n        if (!isNOU(element)) {\n            if (element.classList.contains(ROOT)) {\n                return;\n            }\n            var ulElement = element;\n            if (element.classList.contains(LISTITEM)) {\n                ulElement = select('.' + PARENTITEM, element);\n            }\n            var checkedNodes = selectAll('.' + CHECK, ulElement);\n            var nodes = selectAll('.' + LISTITEM, ulElement);\n            var checkBoxEle = element.getElementsByClassName(CHECKBOXWRAP)[0];\n            if (nodes.length === checkedNodes.length) {\n                this.changeState(checkBoxEle, 'check', null, true, true);\n            }\n            else if (checkedNodes.length > 0) {\n                this.changeState(checkBoxEle, 'indeterminate', null, true, true);\n            }\n            else if (checkedNodes.length === 0) {\n                this.changeState(checkBoxEle, 'uncheck', null, true, true);\n            }\n            var parentUL = closest(element, '.' + PARENTITEM);\n            if (!isNOU(parentUL)) {\n                var currentParent = closest(parentUL, '.' + LISTITEM);\n                this.ensureParentCheckState(currentParent);\n            }\n        }\n    };\n    TreeView.prototype.ensureChildCheckState = function (element, e) {\n        if (!isNOU(element)) {\n            var childElement = select('.' + PARENTITEM, element);\n            var checkBoxes = void 0;\n            if (!isNOU(childElement)) {\n                checkBoxes = selectAll('.' + CHECKBOXWRAP, childElement);\n                var isChecked = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                var checkedState = void 0;\n                for (var index = 0; index < checkBoxes.length; index++) {\n                    if (!isNOU(this.currentLoadData) && !isNOU(getValue(this.fields.isChecked, this.currentLoadData[index]))) {\n                        checkedState = getValue(this.fields.isChecked, this.currentLoadData[index]) ? 'check' : 'uncheck';\n                    }\n                    else {\n                        var isNodeChecked = checkBoxes[index].getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                        checkedState = (!this.isLoaded && isNodeChecked) ? 'check' : (isChecked ? 'check' : 'uncheck');\n                    }\n                    this.changeState(checkBoxes[index], checkedState, e, true, true);\n                }\n            }\n        }\n    };\n    TreeView.prototype.doCheckBoxAction = function (nodes, doCheck) {\n        if (!isNOU(nodes)) {\n            for (var i = 0, len = nodes.length; i < len; i++) {\n                var liEle = this.getElement(nodes[i]);\n                if (isNOU(liEle)) {\n                    continue;\n                }\n                var checkBox = select('.' + PARENTITEM + ' .' + CHECKBOXWRAP, liEle);\n                this.validateCheckNode(checkBox, !doCheck, liEle, null);\n            }\n        }\n        else {\n            var checkBoxes = selectAll('.' + CHECKBOXWRAP, this.element);\n            for (var index = 0; index < checkBoxes.length; index++) {\n                this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck');\n            }\n        }\n    };\n    TreeView.prototype.changeState = function (wrapper, state, e, isPrevent, isAdd) {\n        var ariaState;\n        var eventArgs;\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        if (!isPrevent) {\n            this.checkActionNodes = [];\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            this.trigger('nodeChecking', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            this.addCheck(currLi);\n            ariaState = 'true';\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            this.removeCheck(currLi);\n            ariaState = 'false';\n        }\n        else if (state === 'indeterminate' && !frameSpan.classList.contains(INDETERMINATE)) {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            this.removeCheck(currLi);\n            ariaState = 'mixed';\n        }\n        ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n        if (!isNOU(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        if (isAdd) {\n            var data = [].concat([], this.checkActionNodes);\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            if (isUndefined(isPrevent)) {\n                eventArgs.data = data;\n            }\n        }\n        if (!isPrevent) {\n            if (!isNOU(ariaState)) {\n                wrapper.setAttribute('aria-checked', ariaState);\n                eventArgs.data[0].checked = ariaState;\n                this.trigger('nodeChecked', eventArgs);\n                this.checkActionNodes = [];\n            }\n        }\n    };\n    TreeView.prototype.addCheck = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.checkedNodes.indexOf(id) === -1) {\n            this.checkedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeCheck = function (liEle) {\n        var index = this.checkedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.checkedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.getCheckEvent = function (currLi, action, e) {\n        this.checkActionNodes.push(this.getNodeData(currLi));\n        var nodeData = this.checkActionNodes;\n        return { action: action, cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, data: nodeData };\n    };\n    TreeView.prototype.finalize = function () {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        firstUl.setAttribute('role', treeAriaAttr.treeRole);\n        this.setMultiSelect(this.allowMultiSelection);\n        var firstNode = select('.' + LISTITEM, this.element);\n        if (firstNode) {\n            addClass([firstNode], FOCUS);\n            this.updateIdAttr(null, firstNode);\n        }\n        this.doSelectionAction();\n        this.updateCheckedProp();\n        this.isLoaded = true;\n        this.isAnimate = false;\n        var eventArgs = { data: this.treeData };\n        this.trigger('dataBound', eventArgs);\n    };\n    TreeView.prototype.doSelectionAction = function () {\n        var sNodes = selectAll('.' + SELECTED, this.element);\n        var sUids = this.selectedNodes;\n        if (sUids.length > 0) {\n            this.setProperties({ selectedNodes: [] }, true);\n            for (var i = 0; i < sUids.length; i++) {\n                var sNode = select('[data-uid=\"' + sUids[i] + '\"]', this.element);\n                this.selectNode(sNode, null, true);\n                if (!this.allowMultiSelection) {\n                    break;\n                }\n            }\n        }\n        else {\n            this.selectGivenNodes(sNodes);\n        }\n        removeClass(sNodes, SELECTED);\n    };\n    TreeView.prototype.selectGivenNodes = function (sNodes) {\n        for (var i = 0; i < sNodes.length; i++) {\n            if (!sNodes[i].classList.contains('e-disable')) {\n                this.selectNode(sNodes[i], null, true);\n            }\n            if (!this.allowMultiSelection) {\n                break;\n            }\n        }\n    };\n    TreeView.prototype.clickHandler = function (event) {\n        var target = event.originalEvent.target;\n        EventHandler.remove(this.element, 'contextmenu', this.preventContextMenu);\n        if (!target || this.dragStartAction) {\n            return;\n        }\n        else {\n            var classList = target.classList;\n            var li = closest(target, '.' + LISTITEM);\n            if (!li) {\n                return;\n            }\n            else {\n                this.removeHover();\n                this.setFocusElement(li);\n                if (this.showCheckBox && !li.classList.contains('e-disable')) {\n                    var checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n                    if (!isNOU(checkWrapper)) {\n                        var checkElement = select('.' + CHECKBOXFRAME, checkWrapper);\n                        this.validateCheckNode(checkWrapper, checkElement.classList.contains(CHECK), li, event.originalEvent);\n                        this.triggerClickEvent(event.originalEvent, li);\n                        return;\n                    }\n                }\n                if (classList.contains(EXPANDABLE)) {\n                    this.expandAction(li, target, event);\n                }\n                else if (classList.contains(COLLAPSIBLE)) {\n                    this.collapseNode(li, target, event);\n                }\n                else {\n                    if (!classList.contains(PARENTITEM) && !classList.contains(LISTITEM)) {\n                        this.toggleSelect(li, event.originalEvent, false);\n                    }\n                }\n                this.triggerClickEvent(event.originalEvent, li);\n            }\n        }\n    };\n    TreeView.prototype.nodeCheckingEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        this.checkActionNodes = [];\n        var ariaState = !isCheck ? 'true' : 'false';\n        if (!isNOU(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        var eventArgs = this.getCheckEvent(currLi, isCheck ? 'uncheck' : 'check', e);\n        this.trigger('nodeChecking', eventArgs);\n        return eventArgs;\n    };\n    TreeView.prototype.nodeCheckedEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        var eventArgs = this.getCheckEvent(wrapper, isCheck ? 'uncheck' : 'check', e);\n        eventArgs.data = eventArgs.data.splice(0, eventArgs.data.length - 1);\n        this.trigger('nodeChecked', eventArgs);\n    };\n    TreeView.prototype.triggerClickEvent = function (e, li) {\n        var eventArgs = {\n            event: e,\n            node: li,\n        };\n        this.trigger('nodeClicked', eventArgs);\n    };\n    TreeView.prototype.expandNode = function (currLi, icon) {\n        var _this = this;\n        if (icon.classList.contains(LOAD)) {\n            this.hideSpinner(icon);\n        }\n        removeClass([icon], EXPANDABLE);\n        addClass([icon], COLLAPSIBLE);\n        var start = 0;\n        var end = 0;\n        var proxy = this;\n        var ul = select('.' + PARENTITEM, currLi);\n        var liEle = currLi;\n        this.setHeight(liEle, ul);\n        if (!this.isAnimate) {\n            this.aniObj.animate(ul, {\n                name: this.animation.expand.effect,\n                duration: this.animation.expand.duration,\n                timingFunction: this.animation.expand.easing,\n                begin: function (args) {\n                    liEle.style.overflow = 'hidden';\n                    start = liEle.offsetHeight;\n                    end = select('.' + TEXTWRAP, currLi).offsetHeight;\n                },\n                progress: function (args) {\n                    args.element.style.display = 'block';\n                    proxy.animateHeight(args, start, end);\n                },\n                end: function (args) {\n                    args.element.style.display = 'block';\n                    _this.expandedNode(liEle, ul, icon);\n                }\n            });\n        }\n        else {\n            this.expandedNode(liEle, ul, icon);\n        }\n    };\n    TreeView.prototype.expandedNode = function (currLi, ul, icon) {\n        ul.style.display = 'block';\n        currLi.style.display = 'block';\n        currLi.style.overflow = '';\n        currLi.style.height = '';\n        removeClass([icon], PROCESS);\n        currLi.setAttribute('aria-expanded', 'true');\n        removeClass([currLi], NODECOLLAPSED);\n        if (this.isLoaded && this.expandArgs) {\n            this.expandArgs = this.getExpandEvent(currLi, null);\n            this.trigger('nodeExpanded', this.expandArgs);\n        }\n    };\n    TreeView.prototype.collapseNode = function (currLi, icon, e) {\n        var _this = this;\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        var colArgs;\n        if (this.isLoaded) {\n            colArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeCollapsing', colArgs);\n            if (colArgs.cancel) {\n                removeClass([icon], PROCESS);\n                return;\n            }\n        }\n        removeClass([icon], COLLAPSIBLE);\n        addClass([icon], EXPANDABLE);\n        var start = 0;\n        var end = 0;\n        var proxy = this;\n        var ul = select('.' + PARENTITEM, currLi);\n        var liEle = currLi;\n        addClass([currLi], NODECOLLAPSED);\n        this.aniObj.animate(ul, {\n            name: this.animation.collapse.effect,\n            duration: this.animation.collapse.duration,\n            timingFunction: this.animation.collapse.easing,\n            begin: function (args) {\n                liEle.style.overflow = 'hidden';\n                start = select('.' + TEXTWRAP, currLi).offsetHeight;\n                end = liEle.offsetHeight;\n            },\n            progress: function (args) {\n                proxy.animateHeight(args, start, end);\n            },\n            end: function (args) {\n                liEle.style.overflow = '';\n                args.element.style.display = 'none';\n                liEle.style.height = '';\n                removeClass([icon], PROCESS);\n                currLi.setAttribute('aria-expanded', 'false');\n                if (_this.isLoaded) {\n                    _this.trigger('nodeCollapsed', colArgs);\n                }\n            }\n        });\n    };\n    TreeView.prototype.setHeight = function (currLi, ul) {\n        ul.style.display = 'block';\n        ul.style.visibility = 'hidden';\n        currLi.style.height = currLi.offsetHeight + 'px';\n        ul.style.display = 'none';\n        ul.style.visibility = '';\n    };\n    TreeView.prototype.animateHeight = function (args, start, end) {\n        var remaining = (args.duration - args.timeStamp) / args.duration;\n        var currentHeight = (end - start) * remaining + start;\n        args.element.parentElement.style.height = currentHeight + 'px';\n    };\n    TreeView.prototype.renderChildNodes = function (parentLi, expandChild) {\n        var _this = this;\n        var eicon = select('div.' + ICON, parentLi);\n        if (isNOU(eicon)) {\n            return;\n        }\n        this.showSpinner(eicon);\n        var childItems;\n        if (this.fields.dataSource instanceof DataManager) {\n            var level = this.parents(parentLi, '.' + PARENTITEM).length;\n            var mapper_1 = this.getChildFields(this.fields, level, 1);\n            if (isNOU(mapper_1) || isNOU(mapper_1.dataSource)) {\n                detach(eicon);\n                parentLi.removeAttribute('aria-expanded');\n                return;\n            }\n            this.treeList.push('false');\n            mapper_1.dataSource.executeQuery(this.getQuery(mapper_1, parentLi.getAttribute('data-uid'))).then(function (e) {\n                _this.treeList.pop();\n                childItems = e.result;\n                _this.currentLoadData = childItems;\n                if (isNOU(childItems) || childItems.length === 0) {\n                    detach(eicon);\n                    parentLi.removeAttribute('aria-expanded');\n                }\n                else {\n                    _this.updateListProp(mapper_1);\n                    var id = parentLi.getAttribute('data-uid');\n                    var nodeData = _this.getNodeObject(id);\n                    setValue('child', childItems, nodeData);\n                    _this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n                    parentLi.appendChild(ListBase.createList(_this.createElement, childItems, _this.listBaseOption));\n                    _this.expandNode(parentLi, eicon);\n                    _this.ensureCheckNode(parentLi);\n                    _this.finalizeNode(parentLi);\n                    _this.renderSubChild(parentLi, expandChild);\n                }\n                if (_this.treeList.length === 0 && !_this.isLoaded) {\n                    _this.finalize();\n                }\n            });\n        }\n        else {\n            childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n            this.currentLoadData = childItems;\n            if (isNOU(childItems) || childItems.length === 0) {\n                detach(eicon);\n                parentLi.removeAttribute('aria-expanded');\n                return;\n            }\n            else {\n                this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n                parentLi.appendChild(ListBase.createList(this.createElement, this.getSortedData(childItems), this.listBaseOption));\n                this.expandNode(parentLi, eicon);\n                this.ensureCheckNode(parentLi);\n                this.finalizeNode(parentLi);\n                this.renderSubChild(parentLi, expandChild);\n            }\n        }\n    };\n    TreeView.prototype.ensureCheckNode = function (element) {\n        if (this.showCheckBox) {\n            this.ensureChildCheckState(element);\n            this.ensureParentCheckState(element);\n        }\n        this.currentLoadData = null;\n    };\n    TreeView.prototype.getFields = function (mapper, nodeLevel, dataLevel) {\n        if (nodeLevel === dataLevel) {\n            return mapper;\n        }\n        else {\n            return this.getFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildFields = function (mapper, nodeLevel, dataLevel) {\n        var childData;\n        if (nodeLevel === dataLevel) {\n            return this.getChildMapper(mapper);\n        }\n        else {\n            return this.getChildFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildMapper = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    TreeView.prototype.getChildNodes = function (obj, parentId, isRoot) {\n        if (isRoot === void 0) { isRoot = false; }\n        var childNodes;\n        if (isNOU(obj)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            return this.getChildGroup(this.groupedData, parentId, isRoot);\n        }\n        else {\n            if (typeof this.fields.child === 'string') {\n                for (var i = 0, objlen = obj.length; i < objlen; i++) {\n                    var dataId = getValue(this.fields.id, obj[i]);\n                    if (dataId && dataId.toString() === parentId) {\n                        return getValue(this.fields.child, obj[i]);\n                    }\n                    else if (!isNOU(getValue(this.fields.child, obj[i]))) {\n                        childNodes = this.getChildNodes(getValue(this.fields.child, obj[i]), parentId);\n                        if (childNodes !== undefined) {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildGroup = function (data, parentId, isRoot) {\n        var childNodes;\n        if (isNOU(data)) {\n            return childNodes;\n        }\n        for (var i = 0, objlen = data.length; i < objlen; i++) {\n            if (!isNOU(data[i][0]) && !isNOU(getValue(this.fields.parentID, data[i][0]))) {\n                if (getValue(this.fields.parentID, data[i][0]).toString() === parentId) {\n                    return data[i];\n                }\n            }\n            else if (isRoot) {\n                return data[i];\n            }\n            else {\n                return [];\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.renderSubChild = function (element, expandChild) {\n        if (expandChild) {\n            var cIcons = selectAll('.' + EXPANDABLE, element);\n            for (var i = 0, len = cIcons.length; i < len; i++) {\n                var icon = cIcons[i];\n                var curLi = closest(icon, '.' + LISTITEM);\n                this.expandArgs = this.getExpandEvent(curLi, null);\n                this.trigger('nodeExpanding', this.expandArgs);\n                this.renderChildNodes(curLi, expandChild);\n            }\n        }\n    };\n    TreeView.prototype.toggleSelect = function (li, e, multiSelect) {\n        if (!li.classList.contains('e-disable')) {\n            if (this.allowMultiSelection && ((e && e.ctrlKey) || multiSelect) && this.isActive(li)) {\n                this.unselectNode(li, e);\n            }\n            else {\n                this.selectNode(li, e, multiSelect);\n            }\n        }\n    };\n    TreeView.prototype.isActive = function (li) {\n        return li.classList.contains(ACTIVE) ? true : false;\n    };\n    TreeView.prototype.selectNode = function (li, e, multiSelect) {\n        if (isNOU(li) || (!this.allowMultiSelection && this.isActive(li) && !isNOU(e))) {\n            this.setFocusElement(li);\n            return;\n        }\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'select', e);\n            this.trigger('nodeSelecting', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        if (!this.allowMultiSelection || (!multiSelect && (!e || (e && !e.ctrlKey)))) {\n            this.removeSelectAll();\n        }\n        if (this.allowMultiSelection && e && e.shiftKey) {\n            if (!this.startNode) {\n                this.startNode = li;\n            }\n            var startIndex = this.liList.indexOf(this.startNode);\n            var endIndex = this.liList.indexOf(li);\n            if (startIndex > endIndex) {\n                var temp = startIndex;\n                startIndex = endIndex;\n                endIndex = temp;\n            }\n            for (var i = startIndex; i <= endIndex; i++) {\n                var currNode = this.liList[i];\n                if (isVisible(currNode) && !currNode.classList.contains('e-disable')) {\n                    this.addSelect(currNode);\n                }\n            }\n        }\n        else {\n            this.startNode = li;\n            this.addSelect(li);\n        }\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.unselectNode = function (li, e) {\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'un-select', e);\n            this.trigger('nodeSelecting', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        this.removeSelect(li);\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.setFocusElement = function (li) {\n        if (!isNOU(li)) {\n            var focusedNode = this.getFocusedNode();\n            if (focusedNode) {\n                removeClass([focusedNode], FOCUS);\n            }\n            addClass([li], FOCUS);\n            this.updateIdAttr(focusedNode, li);\n        }\n    };\n    TreeView.prototype.addSelect = function (liEle) {\n        liEle.setAttribute('aria-selected', 'true');\n        addClass([liEle], ACTIVE);\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.selectedNodes.indexOf(id) === -1) {\n            this.selectedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeSelect = function (liEle) {\n        if (this.allowMultiSelection) {\n            liEle.setAttribute('aria-selected', 'false');\n        }\n        else {\n            liEle.removeAttribute('aria-selected');\n        }\n        removeClass([liEle], ACTIVE);\n        var index = this.selectedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.selectedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.removeSelectAll = function () {\n        var selectedLI = this.element.querySelectorAll('.' + ACTIVE);\n        for (var _i = 0, selectedLI_1 = selectedLI; _i < selectedLI_1.length; _i++) {\n            var ele = selectedLI_1[_i];\n            if (this.allowMultiSelection) {\n                ele.setAttribute('aria-selected', 'false');\n            }\n            else {\n                ele.removeAttribute('aria-selected');\n            }\n        }\n        removeClass(selectedLI, ACTIVE);\n        this.setProperties({ selectedNodes: [] }, true);\n    };\n    TreeView.prototype.getSelectEvent = function (currLi, action, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { action: action, cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, nodeData: nodeData };\n    };\n    TreeView.prototype.setExpandOnType = function () {\n        this.expandOnType = (this.expandOn === 'Auto') ? (Browser.isDevice ? 'Click' : 'DblClick') : this.expandOn;\n    };\n    TreeView.prototype.expandHandler = function (e) {\n        var target = e.originalEvent.target;\n        if (!target || target.classList.contains(INPUT) || target.classList.contains(ROOT) ||\n            target.classList.contains(PARENTITEM) || target.classList.contains(LISTITEM) ||\n            target.classList.contains(ICON) || this.showCheckBox && closest(target, '.' + CHECKBOXWRAP)) {\n            return;\n        }\n        else {\n            this.expandCollapseAction(closest(target, '.' + LISTITEM), e);\n        }\n    };\n    TreeView.prototype.expandCollapseAction = function (currLi, e) {\n        var icon = select('div.' + ICON, currLi);\n        if (!icon || icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            var classList = icon.classList;\n            if (classList.contains(EXPANDABLE)) {\n                this.expandAction(currLi, icon, e);\n            }\n            else {\n                this.collapseNode(currLi, icon, e);\n            }\n        }\n    };\n    TreeView.prototype.expandAction = function (currLi, icon, e, expandChild) {\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        if (this.isLoaded) {\n            this.expandArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeExpanding', this.expandArgs);\n            if (this.expandArgs.cancel) {\n                removeClass([icon], PROCESS);\n                return;\n            }\n        }\n        var ul = select('.' + PARENTITEM, currLi);\n        if (ul && ul.nodeName === 'UL') {\n            this.expandNode(currLi, icon);\n        }\n        else {\n            this.renderChildNodes(currLi, expandChild);\n        }\n    };\n    TreeView.prototype.keyActionHandler = function (e) {\n        var target = e.target;\n        var focusedNode = this.getFocusedNode();\n        if (target && target.classList.contains(INPUT)) {\n            var inpEle = target;\n            if (e.action === 'enter') {\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            else if (e.action === 'escape') {\n                inpEle.value = this.oldText;\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            return;\n        }\n        e.preventDefault();\n        var eventArgs = {\n            cancel: false,\n            event: e,\n            node: focusedNode,\n        };\n        this.trigger('keyPress', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        switch (e.action) {\n            case 'space':\n                if (this.showCheckBox) {\n                    this.checkNode(e);\n                }\n                break;\n            case 'moveRight':\n                this.openNode(this.enableRtl ? false : true, e);\n                break;\n            case 'moveLeft':\n                this.openNode(this.enableRtl ? true : false, e);\n                break;\n            case 'shiftDown':\n                this.shiftKeySelect(true, e);\n                break;\n            case 'moveDown':\n            case 'ctrlDown':\n            case 'csDown':\n                this.navigateNode(true);\n                break;\n            case 'shiftUp':\n                this.shiftKeySelect(false, e);\n                break;\n            case 'moveUp':\n            case 'ctrlUp':\n            case 'csUp':\n                this.navigateNode(false);\n                break;\n            case 'home':\n            case 'shiftHome':\n            case 'ctrlHome':\n            case 'csHome':\n                this.navigateRootNode(true);\n                break;\n            case 'end':\n            case 'shiftEnd':\n            case 'ctrlEnd':\n            case 'csEnd':\n                this.navigateRootNode(false);\n                break;\n            case 'enter':\n            case 'ctrlEnter':\n            case 'shiftEnter':\n            case 'csEnter':\n                this.toggleSelect(focusedNode, e);\n                break;\n            case 'f2':\n                if (this.allowEditing && !focusedNode.classList.contains('e-disable')) {\n                    this.createTextbox(focusedNode, e);\n                }\n                break;\n            case 'ctrlA':\n                if (this.allowMultiSelection) {\n                    var sNodes = selectAll('.' + LISTITEM + ':not(.' + ACTIVE + ')', this.element);\n                    this.selectGivenNodes(sNodes);\n                }\n                break;\n        }\n    };\n    TreeView.prototype.navigateToFocus = function (isUp) {\n        var focusNode = this.getFocusedNode().querySelector('.' + TEXTWRAP);\n        var pos = focusNode.getBoundingClientRect();\n        var parent = this.getScrollParent(this.element);\n        if (!isNOU(parent)) {\n            var parentPos = parent.getBoundingClientRect();\n            if (pos.bottom > parentPos.bottom) {\n                parent.scrollTop += pos.bottom - parentPos.bottom;\n            }\n            else if (pos.top < parentPos.top) {\n                parent.scrollTop -= parentPos.top - pos.top;\n            }\n        }\n        var isVisible = this.isVisibleInViewport(focusNode);\n        if (!isVisible) {\n            focusNode.scrollIntoView(isUp);\n        }\n    };\n    TreeView.prototype.isVisibleInViewport = function (txtWrap) {\n        var pos = txtWrap.getBoundingClientRect();\n        return (pos.top >= 0 && pos.left >= 0 && pos.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n            pos.right <= (window.innerWidth || document.documentElement.clientWidth));\n    };\n    TreeView.prototype.getScrollParent = function (node) {\n        if (isNOU(node)) {\n            return null;\n        }\n        return (node.scrollHeight > node.clientHeight) ? node : this.getScrollParent(node.parentElement);\n    };\n    TreeView.prototype.shiftKeySelect = function (isTowards, e) {\n        if (this.allowMultiSelection) {\n            var focusedNode = this.getFocusedNode();\n            var nextNode = isTowards ? this.getNextNode(focusedNode) : this.getPrevNode(focusedNode);\n            this.removeHover();\n            this.setFocusElement(nextNode);\n            this.toggleSelect(nextNode, e, false);\n            this.navigateToFocus(!isTowards);\n        }\n        else {\n            this.navigateNode(isTowards);\n        }\n    };\n    TreeView.prototype.checkNode = function (e) {\n        var focusedNode = this.getFocusedNode();\n        var checkWrap = select('.' + CHECKBOXWRAP, focusedNode);\n        var isChecked = select(' .' + CHECKBOXFRAME, checkWrap).classList.contains(CHECK);\n        if (!focusedNode.classList.contains('e-disable')) {\n            this.validateCheckNode(checkWrap, isChecked, focusedNode, e);\n        }\n    };\n    TreeView.prototype.validateCheckNode = function (checkWrap, isCheck, li, e) {\n        var eventArgs = this.nodeCheckingEvent(checkWrap, isCheck, e);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true);\n        this.ensureChildCheckState(li);\n        this.ensureParentCheckState(closest(closest(li, '.' + PARENTITEM), '.' + LISTITEM));\n        this.nodeCheckedEvent(checkWrap, isCheck, e);\n    };\n    TreeView.prototype.openNode = function (toBeOpened, e) {\n        var focusedNode = this.getFocusedNode();\n        var icon = select('div.' + ICON, focusedNode);\n        if (toBeOpened) {\n            if (!icon) {\n                return;\n            }\n            else if (icon.classList.contains(EXPANDABLE)) {\n                this.expandAction(focusedNode, icon, e);\n            }\n            else {\n                this.focusNextNode(focusedNode, true);\n            }\n        }\n        else {\n            if (icon && icon.classList.contains(COLLAPSIBLE)) {\n                this.collapseNode(focusedNode, icon, e);\n            }\n            else {\n                var parentLi = closest(closest(focusedNode, '.' + PARENTITEM), '.' + LISTITEM);\n                if (!parentLi) {\n                    return;\n                }\n                else {\n                    if (!parentLi.classList.contains('e-disable')) {\n                        this.setFocus(focusedNode, parentLi);\n                        this.navigateToFocus(true);\n                    }\n                }\n            }\n        }\n    };\n    TreeView.prototype.navigateNode = function (isTowards) {\n        var focusedNode = this.getFocusedNode();\n        this.focusNextNode(focusedNode, isTowards);\n    };\n    TreeView.prototype.navigateRootNode = function (isBackwards) {\n        var focusedNode = this.getFocusedNode();\n        var rootNode = isBackwards ? this.getRootNode() : this.getEndNode();\n        if (!rootNode.classList.contains('e-disable')) {\n            this.setFocus(focusedNode, rootNode);\n            this.navigateToFocus(isBackwards);\n        }\n    };\n    TreeView.prototype.getFocusedNode = function () {\n        var selectedItem;\n        var fNode = select('.' + LISTITEM + '.' + FOCUS, this.element);\n        if (isNOU(fNode)) {\n            selectedItem = select('.' + LISTITEM, this.element);\n        }\n        return isNOU(fNode) ? (isNOU(selectedItem) ? this.element.firstElementChild : selectedItem) : fNode;\n    };\n    TreeView.prototype.focusNextNode = function (li, isTowards) {\n        var nextNode = isTowards ? this.getNextNode(li) : this.getPrevNode(li);\n        this.setFocus(li, nextNode);\n        this.navigateToFocus(!isTowards);\n        if (nextNode.classList.contains('e-disable')) {\n            var lastChild = nextNode.lastChild;\n            if (nextNode.previousSibling == null && nextNode.classList.contains('e-level-1')) {\n                this.focusNextNode(nextNode, true);\n            }\n            else if (nextNode.nextSibling == null && nextNode.classList.contains('e-node-collapsed')) {\n                this.focusNextNode(nextNode, false);\n            }\n            else if (nextNode.nextSibling == null && lastChild.classList.contains('e-text-content')) {\n                this.focusNextNode(nextNode, false);\n            }\n            else {\n                this.focusNextNode(nextNode, isTowards);\n            }\n        }\n    };\n    TreeView.prototype.getNextNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var nextNode;\n        do {\n            index++;\n            nextNode = this.liList[index];\n            if (isNOU(nextNode)) {\n                return li;\n            }\n        } while (!isVisible(nextNode));\n        return nextNode;\n    };\n    TreeView.prototype.getPrevNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var prevNode;\n        do {\n            index--;\n            prevNode = this.liList[index];\n            if (isNOU(prevNode)) {\n                return li;\n            }\n        } while (!isVisible(prevNode));\n        return prevNode;\n    };\n    TreeView.prototype.getRootNode = function () {\n        var index = 0;\n        var rootNode;\n        do {\n            rootNode = this.liList[index];\n            index++;\n        } while (!isVisible(rootNode));\n        return rootNode;\n    };\n    TreeView.prototype.getEndNode = function () {\n        var index = this.liList.length - 1;\n        var endNode;\n        do {\n            endNode = this.liList[index];\n            index--;\n        } while (!isVisible(endNode));\n        return endNode;\n    };\n    TreeView.prototype.setFocus = function (preNode, nextNode) {\n        removeClass([preNode], [HOVER, FOCUS]);\n        if (!nextNode.classList.contains('e-disable')) {\n            addClass([nextNode], [HOVER, FOCUS]);\n            this.updateIdAttr(preNode, nextNode);\n        }\n    };\n    TreeView.prototype.updateIdAttr = function (preNode, nextNode) {\n        this.element.removeAttribute('aria-activedescendant');\n        if (preNode) {\n            preNode.removeAttribute('id');\n        }\n        nextNode.setAttribute('id', this.element.id + '_active');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n    };\n    TreeView.prototype.focusIn = function () {\n        if (!this.mouseDownStatus) {\n            addClass([this.getFocusedNode()], HOVER);\n        }\n        this.mouseDownStatus = false;\n    };\n    TreeView.prototype.focusOut = function () {\n        removeClass([this.getFocusedNode()], HOVER);\n    };\n    TreeView.prototype.onMouseOver = function (e) {\n        var target = e.target;\n        var classList = target.classList;\n        var currentLi = closest(target, '.' + LISTITEM);\n        if (!currentLi || classList.contains(PARENTITEM) || classList.contains(LISTITEM)) {\n            this.removeHover();\n            return;\n        }\n        else {\n            if (currentLi && !currentLi.classList.contains('e-disable')) {\n                this.setHover(currentLi);\n            }\n        }\n    };\n    TreeView.prototype.setHover = function (li) {\n        if (!li.classList.contains(HOVER)) {\n            this.removeHover();\n            addClass([li], HOVER);\n        }\n    };\n    ;\n    TreeView.prototype.onMouseLeave = function (e) {\n        this.removeHover();\n    };\n    TreeView.prototype.removeHover = function () {\n        var hoveredNode = selectAll('.' + HOVER, this.element);\n        if (hoveredNode && hoveredNode.length) {\n            removeClass(hoveredNode, HOVER);\n        }\n    };\n    ;\n    TreeView.prototype.getNodeData = function (currLi, fromDS) {\n        if (!isNOU(currLi) && currLi.classList.contains(LISTITEM) && closest(currLi, '.' + CONTROL).classList.contains(ROOT)) {\n            var id = currLi.getAttribute('data-uid');\n            var text = this.getText(currLi, fromDS);\n            var pNode = closest(currLi.parentNode, '.' + LISTITEM);\n            var pid = pNode ? pNode.getAttribute('data-uid') : null;\n            var selected = currLi.classList.contains(ACTIVE);\n            var expanded = (currLi.getAttribute('aria-expanded') === 'true') ? true : false;\n            var checked = null;\n            if (this.showCheckBox) {\n                checked = select('.' + CHECKBOXWRAP, currLi).getAttribute('aria-checked');\n            }\n            return { id: id, text: text, parentID: pid, selected: selected, expanded: expanded, isChecked: checked };\n        }\n        return { id: '', text: '', parentID: '', selected: '', expanded: '', isChecked: '' };\n    };\n    TreeView.prototype.getText = function (currLi, fromDS) {\n        if (fromDS) {\n            var nodeData = this.getNodeObject(currLi.getAttribute('data-uid'));\n            var level = parseFloat(currLi.getAttribute('aria-level'));\n            var nodeFields = this.getFields(this.fields, level, 1);\n            return getValue(nodeFields.text, nodeData);\n        }\n        return select('.' + LISTTEXT, currLi).textContent;\n    };\n    TreeView.prototype.getExpandEvent = function (currLi, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, nodeData: nodeData, event: e };\n    };\n    TreeView.prototype.reRenderNodes = function () {\n        this.element.innerHTML = '';\n        this.setTouchClass();\n        this.setProperties({ selectedNodes: [], checkedNodes: [] }, true);\n        this.isLoaded = false;\n        this.setDataBinding();\n    };\n    TreeView.prototype.setCssClass = function (oldClass, newClass) {\n        if (!isNOU(oldClass) && oldClass !== '') {\n            removeClass([this.element], oldClass.split(' '));\n        }\n        if (!isNOU(newClass) && newClass !== '') {\n            addClass([this.element], newClass.split(' '));\n        }\n    };\n    TreeView.prototype.editingHandler = function (e) {\n        var target = e.target;\n        if (!target || target.classList.contains(ROOT) || target.classList.contains(PARENTITEM) ||\n            target.classList.contains(LISTITEM) || target.classList.contains(ICON) ||\n            target.classList.contains(INPUT) || target.classList.contains(INPUTGROUP)) {\n            return;\n        }\n        else {\n            var liEle = closest(target, '.' + LISTITEM);\n            this.createTextbox(liEle, e);\n        }\n    };\n    TreeView.prototype.createTextbox = function (liEle, e) {\n        var oldInpEle = select('.' + TREEINPUT, this.element);\n        if (oldInpEle) {\n            oldInpEle.blur();\n        }\n        var textEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var innerEle = this.createElement('input', { className: TREEINPUT, attrs: { value: this.oldText } });\n        var eventArgs = this.getEditEvent(liEle, null, innerEle.outerHTML);\n        this.trigger('nodeEditing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        var inpWidth = textEle.offsetWidth + 5;\n        var style = 'width:' + inpWidth + 'px';\n        addClass([liEle], EDITING);\n        textEle.innerHTML = eventArgs.innerHtml;\n        var inpEle = select('.' + TREEINPUT, textEle);\n        this.inputObj = Input.createInput({\n            element: inpEle,\n            properties: {\n                enableRtl: this.enableRtl,\n            }\n        }, this.createElement);\n        this.inputObj.container.setAttribute('style', style);\n        inpEle.focus();\n        var inputEle = inpEle;\n        inputEle.setSelectionRange(0, inputEle.value.length);\n        this.wireInputEvents(inpEle);\n    };\n    TreeView.prototype.updateOldText = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        this.editData = this.getNodeObject(id);\n        var level = parseFloat(liEle.getAttribute('aria-level'));\n        this.editFields = this.getFields(this.fields, level, 1);\n        this.oldText = getValue(this.editFields.text, this.editData);\n    };\n    TreeView.prototype.inputFocusOut = function (e) {\n        if (!select('.' + TREEINPUT, this.element)) {\n            return;\n        }\n        var target = e.target;\n        var newText = target.value;\n        var txtEle = closest(target, '.' + LISTTEXT);\n        var liEle = closest(target, '.' + LISTITEM);\n        detach(this.inputObj.container);\n        this.appendNewText(liEle, txtEle, newText, true);\n    };\n    TreeView.prototype.appendNewText = function (liEle, txtEle, newText, isInput) {\n        var eventArgs = this.getEditEvent(liEle, newText, null);\n        this.trigger('nodeEdited', eventArgs);\n        newText = eventArgs.cancel ? eventArgs.oldText : eventArgs.newText;\n        var newData = setValue(this.editFields.text, newText, this.editData);\n        if (!isNOU(this.nodeTemplateFn)) {\n            txtEle.innerHTML = '';\n            append(this.nodeTemplateFn(newData), txtEle);\n        }\n        else {\n            txtEle.innerHTML = newText;\n        }\n        if (isInput) {\n            removeClass([liEle], EDITING);\n            txtEle.focus();\n        }\n    };\n    TreeView.prototype.getElement = function (ele) {\n        if (isNOU(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return this.element.querySelector('[data-uid=\"' + ele + '\"]');\n        }\n        else if (typeof ele === 'object') {\n            return ele;\n        }\n        else {\n            return null;\n        }\n    };\n    TreeView.prototype.getEditEvent = function (liEle, newText, inpEle) {\n        var data = this.getNodeData(liEle);\n        return { cancel: false, newText: newText, node: liEle, nodeData: data, oldText: this.oldText, innerHtml: inpEle };\n    };\n    TreeView.prototype.getNodeObject = function (id) {\n        var childNodes;\n        if (isNOU(id)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            for (var i = 0, objlen = this.treeData.length; i < objlen; i++) {\n                var dataId = getValue(this.fields.id, this.treeData[i]);\n                if (!isNOU(this.treeData[i]) && !isNOU(dataId) && dataId.toString() === id) {\n                    return this.treeData[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeObject(this.treeData, this.fields, id);\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildNodeObject = function (obj, mapper, id) {\n        var newList;\n        if (isNOU(obj)) {\n            return newList;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataId = getValue(mapper.id, obj[i]);\n            if (obj[i] && dataId && dataId.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childData = getValue(mapper.child, obj[i]);\n                newList = this.getChildNodeObject(childData, this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var child = 'child';\n                newList = this.getChildNodeObject(getValue(child, obj[i]), this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newList;\n    };\n    TreeView.prototype.setDragAndDrop = function (toBind) {\n        if (toBind) {\n            this.initializeDrag();\n        }\n        else {\n            this.destroyDrag();\n        }\n    };\n    TreeView.prototype.initializeDrag = function () {\n        var _this = this;\n        var virtualEle;\n        var proxy = this;\n        this.dragObj = new Draggable(this.element, {\n            enableTailMode: true,\n            enableAutoScroll: true,\n            dragTarget: '.' + TEXTWRAP,\n            helper: function (e) {\n                _this.dragTarget = e.sender.target;\n                var dragRoot = closest(_this.dragTarget, '.' + ROOT);\n                var dragWrap = closest(_this.dragTarget, '.' + TEXTWRAP);\n                _this.dragLi = closest(_this.dragTarget, '.' + LISTITEM);\n                if (_this.fullRowSelect && !dragWrap && _this.dragTarget.classList.contains(FULLROW)) {\n                    dragWrap = _this.dragTarget.nextElementSibling;\n                }\n                if (!_this.dragTarget || !e.element.isSameNode(dragRoot) || !dragWrap ||\n                    _this.dragTarget.classList.contains(ROOT) || _this.dragTarget.classList.contains(PARENTITEM) ||\n                    _this.dragTarget.classList.contains(LISTITEM) || _this.dragLi.classList.contains('e-disable')) {\n                    return false;\n                }\n                var cloneEle = (dragWrap.cloneNode(true));\n                if (isNOU(select('div.' + ICON, cloneEle))) {\n                    var icon = proxy.createElement('div', { className: ICON + ' ' + EXPANDABLE });\n                    cloneEle.insertBefore(icon, cloneEle.children[0]);\n                }\n                var cssClass = DRAGITEM + ' ' + ROOT + ' ' + _this.cssClass + ' ' + (_this.enableRtl ? RTL : '');\n                virtualEle = proxy.createElement('div', { className: cssClass });\n                virtualEle.appendChild(cloneEle);\n                var nLen = _this.selectedNodes.length;\n                if (nLen > 1 && _this.allowMultiSelection && _this.dragLi.classList.contains(ACTIVE)) {\n                    var cNode = proxy.createElement('span', { className: DROPCOUNT, innerHTML: '' + nLen });\n                    virtualEle.appendChild(cNode);\n                }\n                document.body.appendChild(virtualEle);\n                document.body.style.cursor = '';\n                _this.dragData = _this.getNodeData(_this.dragLi);\n                return virtualEle;\n            },\n            dragStart: function (e) {\n                addClass([_this.element], DRAGGING);\n                var eventArgs = _this.getDragEvent(e.event, _this, null, e.target);\n                if (eventArgs.draggedNode.classList.contains(EDITING)) {\n                    eventArgs.cancel = true;\n                }\n                else {\n                    _this.trigger('nodeDragStart', eventArgs);\n                }\n                if (eventArgs.cancel) {\n                    detach(virtualEle);\n                    removeClass([_this.element], DRAGGING);\n                    _this.dragStartAction = false;\n                }\n                else {\n                    _this.dragStartAction = true;\n                }\n            },\n            drag: function (e) {\n                _this.dragObj.setProperties({ cursorAt: { top: (!isNOU(e.event.targetTouches) || Browser.isDevice) ? 60 : -20 } });\n                _this.dragAction(e, virtualEle);\n            },\n            dragStop: function (e) {\n                removeClass([_this.element], DRAGGING);\n                _this.removeVirtualEle();\n                var dropTarget = e.target;\n                var dropRoot = (closest(dropTarget, '.' + DROPPABLE));\n                if (!dropTarget || !dropRoot) {\n                    detach(e.helper);\n                    document.body.style.cursor = '';\n                }\n                var eventArgs = _this.getDragEvent(e.event, _this, dropTarget, dropTarget);\n                _this.trigger('nodeDragStop', eventArgs);\n                if (eventArgs.cancel) {\n                    if (e.helper.parentNode) {\n                        detach(e.helper);\n                    }\n                    document.body.style.cursor = '';\n                }\n                _this.dragStartAction = false;\n            }\n        });\n        this.dropObj = new Droppable(this.element, {\n            out: function (e) {\n                if (!isNOU(e) && !e.target.classList.contains(SIBLING)) {\n                    document.body.style.cursor = 'not-allowed';\n                }\n            },\n            over: function (e) {\n                document.body.style.cursor = '';\n            },\n            drop: function (e) {\n                _this.dropAction(e);\n            }\n        });\n    };\n    TreeView.prototype.dragAction = function (e, virtualEle) {\n        var dropRoot = closest(e.target, '.' + DROPPABLE);\n        var dropWrap = closest(e.target, '.' + TEXTWRAP);\n        var icon = select('div.' + ICON, virtualEle);\n        removeClass([icon], [DROPIN, DROPNEXT, DROPOUT, NODROP]);\n        this.removeVirtualEle();\n        document.body.style.cursor = '';\n        var classList = e.target.classList;\n        if (this.fullRowSelect && !dropWrap && !isNOU(classList) && classList.contains(FULLROW)) {\n            dropWrap = e.target.nextElementSibling;\n        }\n        if (dropRoot) {\n            var dropLi = closest(e.target, '.' + LISTITEM);\n            if (!dropRoot.classList.contains(ROOT) || (dropWrap &&\n                (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi)))) {\n                if (dropLi && e && (e.event.offsetY < 7)) {\n                    addClass([icon], DROPNEXT);\n                    var virEle = this.createElement('div', { className: SIBLING });\n                    var index = this.fullRowSelect ? (1) : (0);\n                    dropLi.insertBefore(virEle, dropLi.children[index]);\n                }\n                else if (dropLi && e && (e.target.offsetHeight > 0 && e.event.offsetY > (e.target.offsetHeight - 10))) {\n                    addClass([icon], DROPNEXT);\n                    var virEle = this.createElement('div', { className: SIBLING });\n                    var index = this.fullRowSelect ? (2) : (1);\n                    dropLi.insertBefore(virEle, dropLi.children[index]);\n                }\n                else {\n                    addClass([icon], DROPIN);\n                }\n            }\n            else if (e.target.nodeName === 'LI' && (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi))) {\n                addClass([icon], DROPNEXT);\n                this.renderVirtualEle(e);\n            }\n            else if (e.target.classList.contains(SIBLING)) {\n                addClass([icon], DROPNEXT);\n            }\n            else {\n                addClass([icon], DROPOUT);\n            }\n        }\n        else {\n            addClass([icon], NODROP);\n            document.body.style.cursor = 'not-allowed';\n        }\n        this.trigger('nodeDragging', this.getDragEvent(e.event, this, e.target, e.target));\n    };\n    TreeView.prototype.dropAction = function (e) {\n        var offsetY = e.event.offsetY;\n        var dropTarget = e.target;\n        var dragObj;\n        var dragInstance = e.dragData.draggable;\n        for (var i = 0; i < dragInstance.ej2_instances.length; i++) {\n            if (dragInstance.ej2_instances[i] instanceof TreeView_1) {\n                dragObj = dragInstance.ej2_instances[i];\n                break;\n            }\n        }\n        if (dragObj && dragObj.dragTarget) {\n            var dragTarget = dragObj.dragTarget;\n            var dragLi = (closest(dragTarget, '.' + LISTITEM));\n            var dropLi = (closest(dropTarget, '.' + LISTITEM));\n            if (dropLi == null && dropTarget.classList.contains(ROOT)) {\n                dropLi = dropTarget.firstElementChild;\n            }\n            detach(e.droppedElement);\n            document.body.style.cursor = '';\n            if (!dropLi || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                return;\n            }\n            if (dragObj.allowMultiSelection && (dragLi.classList.contains(ACTIVE) || (offsetY < 7 ||\n                (e.target.offsetHeight > 0 && offsetY > (e.target.offsetHeight - 10))))) {\n                var sNodes = selectAll('.' + ACTIVE, dragObj.element);\n                for (var i = 0; i < sNodes.length; i++) {\n                    if (dropLi.isSameNode(sNodes[i]) || this.isDescendant(sNodes[i], dropLi)) {\n                        continue;\n                    }\n                    this.appendNode(dropTarget, sNodes[i], dropLi, e, dragObj, offsetY);\n                }\n            }\n            else {\n                this.appendNode(dropTarget, dragLi, dropLi, e, dragObj, offsetY);\n            }\n        }\n        this.trigger('nodeDropped', this.getDragEvent(e.event, dragObj, dropTarget, e.target, e.dragData.draggedElement));\n    };\n    TreeView.prototype.appendNode = function (dropTarget, dragLi, dropLi, e, dragObj, offsetY) {\n        if (!dragLi.classList.contains('e-disable') && !dropLi.classList.contains('e-disable')) {\n            if (dropTarget.nodeName === 'LI') {\n                this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n            }\n            else if (dropTarget.firstElementChild && dropTarget.classList.contains(ROOT)) {\n                if (dropTarget.firstElementChild.nodeName === 'UL') {\n                    this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n                }\n            }\n            else {\n                this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY);\n            }\n        }\n    };\n    TreeView.prototype.dropAsSiblingNode = function (dragLi, dropLi, e, dragObj) {\n        var dropUl = closest(dropLi, '.' + PARENTITEM);\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var pre;\n        if (e.target.offsetHeight > 0 && e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        dropUl.insertBefore(dragLi, pre ? e.target : e.target.nextElementSibling);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.dropAsChildNode = function (dragLi, dropLi, dragObj, index, e, pos) {\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var dropParentUl = closest(dropLi, '.' + PARENTITEM);\n        if (e && (pos < 7)) {\n            dropParentUl.insertBefore(dragLi, dropLi);\n        }\n        else if (e && (e.target.offsetHeight > 0 && pos > (e.target.offsetHeight - 10))) {\n            dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n        }\n        else {\n            var dropUl = this.expandParent(dropLi);\n            dropUl.insertBefore(dragLi, dropUl.childNodes[index]);\n        }\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.expandParent = function (dropLi) {\n        var dropIcon = select('div.' + ICON, dropLi);\n        if (dropIcon && dropIcon.classList.contains(EXPANDABLE)) {\n            this.expandAction(dropLi, dropIcon, null);\n        }\n        var dropUl = select('.' + PARENTITEM, dropLi);\n        if (isNOU(dropUl)) {\n            this.trigger('nodeExpanding', this.getExpandEvent(dropLi, null));\n            if (isNOU(dropIcon)) {\n                ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n            }\n            var icon = select('div.' + ICON, dropLi);\n            removeClass([icon], EXPANDABLE);\n            dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            dropLi.setAttribute('aria-expanded', 'true');\n            removeClass([dropLi], NODECOLLAPSED);\n            this.trigger('nodeExpanded', this.getExpandEvent(dropLi, null));\n        }\n        return dropUl;\n    };\n    TreeView.prototype.updateElement = function (dragParentUl, dragParentLi) {\n        if (dragParentLi && dragParentUl.childElementCount === 0) {\n            var dragIcon = select('div.' + ICON, dragParentLi);\n            detach(dragParentUl);\n            detach(dragIcon);\n            dragParentLi.removeAttribute('aria-expanded');\n        }\n    };\n    TreeView.prototype.updateAriaLevel = function (dragLi) {\n        var level = this.parents(dragLi, '.' + PARENTITEM).length;\n        dragLi.setAttribute('aria-level', '' + level);\n        this.updateChildAriaLevel(select('.' + PARENTITEM, dragLi), level + 1);\n    };\n    TreeView.prototype.updateChildAriaLevel = function (element, level) {\n        if (!isNOU(element)) {\n            var cNodes = element.childNodes;\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                liEle.setAttribute('aria-level', '' + level);\n                this.updateChildAriaLevel(select('.' + PARENTITEM, liEle), level + 1);\n            }\n        }\n    };\n    TreeView.prototype.renderVirtualEle = function (e) {\n        var pre;\n        if (e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        var virEle = this.createElement('div', { className: SIBLING });\n        var index = this.fullRowSelect ? (pre ? 1 : 2) : (pre ? 0 : 1);\n        e.target.insertBefore(virEle, e.target.children[index]);\n    };\n    TreeView.prototype.removeVirtualEle = function () {\n        var sibEle = select('.' + SIBLING);\n        if (sibEle) {\n            detach(sibEle);\n        }\n    };\n    TreeView.prototype.destroyDrag = function () {\n        if (this.dragObj && this.dropObj) {\n            this.dragObj.destroy();\n            this.dropObj.destroy();\n        }\n    };\n    TreeView.prototype.getDragEvent = function (event, obj, dropTarget, target, dragNode) {\n        var dropLi = dropTarget ? closest(dropTarget, '.' + LISTITEM) : null;\n        var dropData = dropLi ? this.getNodeData(dropLi) : null;\n        var draggedNode = obj ? obj.dragLi : dragNode;\n        var draggedNodeData = obj ? obj.dragData : null;\n        var newParent = dropTarget ? this.parents(dropTarget, '.e-list-item') : null;\n        var targetParent = null;\n        var pre = null;\n        if (dropTarget) {\n            if (newParent.length === 0) {\n                targetParent = null;\n            }\n            else if (dropTarget.classList.contains('e-list-item')) {\n                targetParent = newParent[0];\n            }\n            else {\n                targetParent = newParent[1];\n            }\n        }\n        if (dropTarget && closest(dropTarget, '.e-treeview')) {\n            if (event.offsetY <= 5) {\n                pre = 'Before';\n            }\n            else if (target.offsetHeight <= 32 && event.offsetY < target.offsetHeight - 10) {\n                pre = 'Child';\n                targetParent = closest(dropTarget, '.e-list-item');\n            }\n            else {\n                pre = 'After';\n            }\n        }\n        return {\n            cancel: false,\n            event: event,\n            draggedNode: draggedNode,\n            draggedNodeData: draggedNodeData,\n            droppedNode: dropLi,\n            droppedNodeData: dropData,\n            target: target,\n            dropTarget: targetParent\n        };\n    };\n    TreeView.prototype.addFullRow = function (toAdd) {\n        var len = this.liList.length;\n        if (toAdd) {\n            for (var i = 0; i < len; i++) {\n                this.createFullRow(this.liList[i]);\n            }\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                var rowDiv = select('.' + FULLROW, this.liList[i]);\n                detach(rowDiv);\n            }\n        }\n    };\n    TreeView.prototype.createFullRow = function (item) {\n        var rowDiv = this.createElement('div', { className: FULLROW });\n        item.insertBefore(rowDiv, item.childNodes[0]);\n    };\n    TreeView.prototype.addMultiSelect = function (toAdd) {\n        if (toAdd) {\n            var liEles = selectAll('.' + LISTITEM + ':not([aria-selected=\"true\"])', this.element);\n            for (var _i = 0, liEles_1 = liEles; _i < liEles_1.length; _i++) {\n                var ele = liEles_1[_i];\n                ele.setAttribute('aria-selected', 'false');\n            }\n        }\n        else {\n            var liEles = selectAll('.' + LISTITEM + '[aria-selected=\"false\"]', this.element);\n            for (var _a = 0, liEles_2 = liEles; _a < liEles_2.length; _a++) {\n                var ele = liEles_2[_a];\n                ele.removeAttribute('aria-selected');\n            }\n        }\n    };\n    TreeView.prototype.collapseByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNOU(element)) {\n            var cNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                var icon = select('.' + COLLAPSIBLE, select('.' + TEXTWRAP, liEle));\n                if (!isNOU(icon)) {\n                    this.collapseNode(liEle, icon, null);\n                }\n                this.collapseByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.collapseAllNodes = function (excludeHiddenNodes) {\n        var cIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + COLLAPSIBLE, this.element));\n        for (var i = 0, len = cIcons.length; i < len; i++) {\n            var icon = cIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.collapseNode(liEle, icon, null);\n        }\n    };\n    TreeView.prototype.expandByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNOU(element)) {\n            var eNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = eNodes.length; i < len; i++) {\n                var liEle = eNodes[i];\n                var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEle));\n                if (!isNOU(icon)) {\n                    this.expandAction(liEle, icon, null);\n                }\n                this.expandByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.expandAllNodes = function (excludeHiddenNodes) {\n        var eIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + EXPANDABLE, this.element));\n        for (var i = 0, len = eIcons.length; i < len; i++) {\n            var icon = eIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.expandAction(liEle, icon, null, true);\n        }\n    };\n    TreeView.prototype.getVisibleNodes = function (excludeHiddenNodes, nodes) {\n        var vNodes = Array.prototype.slice.call(nodes);\n        if (excludeHiddenNodes) {\n            for (var i = 0; i < vNodes.length; i++) {\n                if (!isVisible(vNodes[i])) {\n                    vNodes.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        return vNodes;\n    };\n    TreeView.prototype.removeNode = function (node) {\n        var dragParentUl = closest(node, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        detach(node);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateInstance();\n    };\n    TreeView.prototype.updateInstance = function () {\n        this.updateList();\n        this.updateSelectedNodes();\n    };\n    TreeView.prototype.updateList = function () {\n        this.liList = Array.prototype.slice.call(selectAll('.' + LISTITEM, this.element));\n    };\n    TreeView.prototype.updateSelectedNodes = function () {\n        this.setProperties({ selectedNodes: [] }, true);\n        var sNodes = selectAll('.' + ACTIVE, this.element);\n        this.selectGivenNodes(sNodes);\n    };\n    TreeView.prototype.doGivenAction = function (nodes, selector, toExpand) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            var icon = select('.' + selector, select('.' + TEXTWRAP, liEle));\n            if (!isNOU(icon)) {\n                toExpand ? this.expandAction(liEle, icon, null) : this.collapseNode(liEle, icon, null);\n            }\n        }\n    };\n    TreeView.prototype.addGivenNodes = function (nodes, dropLi, index, isRemote) {\n        var level = dropLi ? parseFloat(dropLi.getAttribute('aria-level')) + 1 : 1;\n        if (isRemote) {\n            this.updateMapper(level);\n        }\n        var li = ListBase.createListItemFromJson(this.createElement, nodes, this.listBaseOption, level);\n        var dropUl = dropLi ? this.expandParent(dropLi) : select('.' + PARENTITEM, this.element);\n        var refNode = dropUl.childNodes[index];\n        for (var i = 0; i < li.length; i++) {\n            dropUl.insertBefore(li[i], refNode);\n        }\n        this.finalizeNode(dropUl);\n    };\n    TreeView.prototype.updateMapper = function (level) {\n        var mapper = (level === 1) ? this.fields : this.getChildFields(this.fields, level - 1, 1);\n        this.updateListProp(mapper);\n    };\n    TreeView.prototype.updateListProp = function (mapper) {\n        var prop = this.getActualProperties(mapper);\n        this.listBaseOption.fields = prop;\n        this.listBaseOption.fields.url = prop.hasOwnProperty('navigateUrl') ? prop.navigateUrl : 'navigateUrl';\n    };\n    TreeView.prototype.doDisableAction = function (nodes) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            liEle.setAttribute('aria-disabled', 'true');\n            addClass([liEle], DISABLE);\n        }\n    };\n    TreeView.prototype.doEnableAction = function (nodes) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            liEle.removeAttribute('aria-disabled');\n            removeClass([liEle], DISABLE);\n        }\n    };\n    TreeView.prototype.setTouchClass = function () {\n        var ele = closest(this.element, '.' + BIGGER);\n        this.touchClass = isNOU(ele) ? '' : SMALL;\n    };\n    TreeView.prototype.wireInputEvents = function (inpEle) {\n        EventHandler.add(inpEle, 'blur', this.inputFocusOut, this);\n    };\n    TreeView.prototype.wireEditingEvents = function (toBind) {\n        if (toBind) {\n            var proxy_1 = this;\n            this.touchEditObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (e.tapCount === 2) {\n                        e.originalEvent.preventDefault();\n                        proxy_1.editingHandler(e.originalEvent);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchEditObj) {\n                this.touchEditObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireClickEvent = function (toBind) {\n        if (toBind) {\n            var proxy_2 = this;\n            this.touchClickObj = new Touch(this.element, {\n                tap: function (e) {\n                    e.originalEvent.preventDefault();\n                    proxy_2.clickHandler(e);\n                }\n            });\n        }\n        else {\n            if (this.touchClickObj) {\n                this.touchClickObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireExpandOnEvent = function (toBind) {\n        var _this = this;\n        if (toBind) {\n            var proxy_3 = this;\n            this.touchExpandObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (_this.expandOnType === 'Click' || (_this.expandOnType === 'DblClick' && e.tapCount === 2)) {\n                        proxy_3.expandHandler(e);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchExpandObj) {\n                this.touchExpandObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.mouseDownHandler = function (e) {\n        this.mouseDownStatus = true;\n        if (e.shiftKey || e.ctrlKey) {\n            e.preventDefault();\n        }\n        if (e.ctrlKey && this.allowMultiSelection) {\n            EventHandler.add(this.element, 'contextmenu', this.preventContextMenu, this);\n        }\n    };\n    ;\n    TreeView.prototype.preventContextMenu = function (e) {\n        e.preventDefault();\n    };\n    TreeView.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'mousedown', this.mouseDownHandler, this);\n        this.wireClickEvent(true);\n        this.wireExpandOnEvent(true);\n        EventHandler.add(this.element, 'focus', this.focusIn, this);\n        EventHandler.add(this.element, 'blur', this.focusOut, this);\n        EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.element, 'mouseout', this.onMouseLeave, this);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown',\n        });\n    };\n    TreeView.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'mousedown', this.mouseDownHandler);\n        this.wireClickEvent(false);\n        this.wireExpandOnEvent(false);\n        EventHandler.remove(this.element, 'focus', this.focusIn);\n        EventHandler.remove(this.element, 'blur', this.focusOut);\n        EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.element, 'mouseout', this.onMouseLeave);\n        this.keyboardModule.destroy();\n    };\n    TreeView.prototype.parents = function (element, selector) {\n        var matched = [];\n        var el = element.parentNode;\n        while (!isNOU(el)) {\n            if (matches(el, selector)) {\n                matched.push(el);\n            }\n            el = el.parentNode;\n        }\n        return matched;\n    };\n    TreeView.prototype.isDescendant = function (parent, child) {\n        var node = child.parentNode;\n        while (!isNOU(node)) {\n            if (node === parent) {\n                return true;\n            }\n            node = node.parentNode;\n        }\n        return false;\n    };\n    TreeView.prototype.showSpinner = function (element) {\n        addClass([element], LOAD);\n        createSpinner({\n            target: element,\n            width: Browser.isDevice ? 16 : 14\n        }, this.createElement);\n        showSpinner(element);\n    };\n    TreeView.prototype.hideSpinner = function (element) {\n        hideSpinner(element);\n        element.innerHTML = '';\n        removeClass([element], LOAD);\n    };\n    TreeView.prototype.setCheckedNodes = function (nodes) {\n        nodes = JSON.parse(JSON.stringify(nodes));\n        this.uncheckAll(this.checkedNodes);\n        if (nodes.length > 0) {\n            this.checkAll(nodes);\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {TreeView} newProp\n     * @param  {TreeView} oldProp\n     * @returns void\n     * @private\n     */\n    TreeView.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.setDragAndDrop(this.allowDragAndDrop);\n                    break;\n                case 'allowEditing':\n                    this.wireEditingEvents(this.allowEditing);\n                    break;\n                case 'allowMultiSelection':\n                    if (this.selectedNodes.length > 1) {\n                        var sNode = this.getElement(this.selectedNodes[0]);\n                        this.isLoaded = false;\n                        this.removeSelectAll();\n                        this.selectNode(sNode, null);\n                        this.isLoaded = true;\n                    }\n                    this.setMultiSelect(this.allowMultiSelection);\n                    this.addMultiSelect(this.allowMultiSelection);\n                    break;\n                case 'checkedNodes':\n                    if (this.showCheckBox) {\n                        this.checkedNodes = oldProp.checkedNodes;\n                        this.setCheckedNodes(newProp.checkedNodes);\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCssClass(oldProp.cssClass, newProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'expandOn':\n                    this.wireExpandOnEvent(false);\n                    this.setExpandOnType();\n                    this.wireExpandOnEvent(true);\n                    break;\n                case 'fields':\n                    this.updateListProp(this.fields);\n                    this.reRenderNodes();\n                    break;\n                case 'fullRowSelect':\n                    this.setFullRow(this.fullRowSelect);\n                    this.addFullRow(this.fullRowSelect);\n                    break;\n                case 'nodeTemplate':\n                    this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n                    this.reRenderNodes();\n                    break;\n                case 'selectedNodes':\n                    this.removeSelectAll();\n                    this.setProperties({ selectedNodes: newProp.selectedNodes }, true);\n                    this.doSelectionAction();\n                    break;\n                case 'showCheckBox':\n                    this.reRenderNodes();\n                    break;\n                case 'sortOrder':\n                    this.reRenderNodes();\n                    break;\n            }\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     */\n    TreeView.prototype.destroy = function () {\n        this.element.removeAttribute('aria-activedescendant');\n        this.element.removeAttribute('tabindex');\n        this.unWireEvents();\n        this.wireEditingEvents(false);\n        this.rippleFn();\n        this.rippleIconFn();\n        this.setCssClass(this.cssClass, null);\n        this.setDragAndDrop(false);\n        this.setFullRow(false);\n        this.element.innerHTML = '';\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Adds the collection of TreeView nodes based on target and index position. If target node is not specified,\n     * then the nodes are added as children of the given parentID or in the root level of TreeView.\n     * @param  { { [key: string]: Object }[] } nodes - Specifies the array of JSON data that has to be added.\n     * @param  { string | Element } target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  { number } index - Specifies the index to place the newly added nodes in the target element.\n     */\n    TreeView.prototype.addNodes = function (nodes, target, index) {\n        if (isNOU(nodes)) {\n            return;\n        }\n        var dropLi = this.getElement(target);\n        nodes = this.getSortedData(nodes);\n        if (this.fields.dataSource instanceof DataManager) {\n            this.addGivenNodes(nodes, dropLi, index, true);\n        }\n        else if (this.dataType === 2) {\n            this.addGivenNodes(nodes, dropLi, index);\n        }\n        else {\n            if (dropLi) {\n                this.addGivenNodes(nodes, dropLi, index);\n            }\n            else {\n                for (var i = 0; i < nodes.length; i++) {\n                    var pid = getValue(this.fields.parentID, nodes[i]);\n                    dropLi = pid ? this.getElement(pid.toString()) : pid;\n                    this.addGivenNodes([nodes[i]], dropLi, index);\n                }\n            }\n        }\n    };\n    /**\n     * Instead of clicking on the TreeView node for editing, we can enable it by using\n     * `beginEdit` property. On passing the node ID or element through this property, the edit textBox\n     * will be created for the particular node thus allowing us to edit it.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.beginEdit = function (node) {\n        var ele = this.getElement(node);\n        if (!isNOU(ele)) {\n            this.createTextbox(ele, null);\n        }\n    };\n    /**\n     * Checks all the unchecked nodes. You can also check specific nodes by passing array of unchecked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.checkAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, true);\n        }\n    };\n    /**\n     * Collapses all the expanded TreeView nodes. You can collapse specific nodes by passing array of nodes as argument to this method.\n     * You can also collapse all the nodes excluding the hidden nodes by setting **excludeHiddenNodes** to true. If you want to collapse\n     * a specific level of nodes, set **level** as argument to collapseAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/ array of TreeView node.\n     * @param  {number} level - TreeView nodes will collapse up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes of TreeView when collapsing all nodes.\n     */\n    TreeView.prototype.collapseAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNOU(nodes)) {\n            this.doGivenAction(nodes, COLLAPSIBLE, false);\n        }\n        else {\n            if (level > 0) {\n                this.collapseByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.collapseAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Disables the collection of nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.disableNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            this.doDisableAction(nodes);\n        }\n    };\n    /**\n     * Enables the collection of disabled nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.enableNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            this.doEnableAction(nodes);\n        }\n    };\n    /**\n     * Ensures visibility of the TreeView node by using node ID or node element.\n     * When many TreeView nodes are present and we need to find a particular node, `ensureVisible` property\n     * helps bring the node to visibility by expanding the TreeView and scrolling to the specific node.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView nodes.\n     */\n    TreeView.prototype.ensureVisible = function (node) {\n        var liEle = this.getElement(node);\n        if (isNOU(liEle)) {\n            return;\n        }\n        var parents = this.parents(liEle, '.' + LISTITEM);\n        this.expandAll(parents);\n        setTimeout(function () { liEle.scrollIntoView(true); }, 450);\n    };\n    /**\n     * Expands all the collapsed TreeView nodes. You can expand the specific nodes by passing the array of collapsed nodes\n     * as argument to this method. You can also expand all the collapsed nodes by excluding the hidden nodes by setting\n     * **excludeHiddenNodes** to true to this method. To expand a specific level of nodes, set **level** as argument to expandAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     * @param  {number} level - TreeView nodes will expand up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes when expanding all nodes.\n     */\n    TreeView.prototype.expandAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNOU(nodes)) {\n            this.doGivenAction(nodes, EXPANDABLE, true);\n        }\n        else {\n            if (level > 0) {\n                this.expandByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.expandAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Get the node's data such as id, text, parentID, selected, isChecked, and expanded by passing the node element or it's ID.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.getNode = function (node) {\n        var ele = this.getElement(node);\n        return this.getNodeData(ele, true);\n    };\n    /**\n     * Moves the collection of nodes within the same TreeView based on target or its index position.\n     * @param  {string[] | Element[]} sourceNodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {number} index - Specifies the index to place the moved nodes in the target element.\n     */\n    TreeView.prototype.moveNodes = function (sourceNodes, target, index) {\n        var dropLi = this.getElement(target);\n        if (isNOU(dropLi)) {\n            return;\n        }\n        for (var i = 0; i < sourceNodes.length; i++) {\n            var dragLi = this.getElement(sourceNodes[i]);\n            if (isNOU(dragLi) || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                continue;\n            }\n            this.dropAsChildNode(dragLi, dropLi, this, index);\n        }\n    };\n    /**\n     * Removes the collection of TreeView nodes by passing the array of node details as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.removeNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            for (var i = 0, len = nodes.length; i < len; i++) {\n                var liEle = this.getElement(nodes[i]);\n                if (isNOU(liEle)) {\n                    continue;\n                }\n                this.removeNode(liEle);\n            }\n        }\n    };\n    /**\n     * Replaces the text of the TreeView node with the given text.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {string} newText - Specifies the new text of TreeView node.\n     */\n    TreeView.prototype.updateNode = function (target, newText) {\n        if (isNOU(target) || isNOU(newText) || !this.allowEditing) {\n            return;\n        }\n        var liEle = this.getElement(target);\n        if (isNOU(liEle)) {\n            return;\n        }\n        var txtEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var eventArgs = this.getEditEvent(liEle, null, null);\n        this.trigger('nodeEditing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.appendNewText(liEle, txtEle, newText, false);\n    };\n    /**\n     * Unchecks all the checked nodes. You can also uncheck the specific nodes by passing array of checked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.uncheckAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, false);\n        }\n    };\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowMultiSelection\", void 0);\n    __decorate([\n        Complex({}, NodeAnimationSettings)\n    ], TreeView.prototype, \"animation\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"checkedNodes\", void 0);\n    __decorate([\n        Property('')\n    ], TreeView.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('Auto')\n    ], TreeView.prototype, \"expandOn\", void 0);\n    __decorate([\n        Complex({}, FieldsSettings)\n    ], TreeView.prototype, \"fields\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeView.prototype, \"fullRowSelect\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"nodeTemplate\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"selectedNodes\", void 0);\n    __decorate([\n        Property('None')\n    ], TreeView.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"drawNode\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"keyPress\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeChecked\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeChecking\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeClicked\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsed\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsing\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragging\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragStart\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragStop\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDropped\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeEdited\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeEditing\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeExpanded\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeExpanding\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeSelected\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeSelecting\", void 0);\n    TreeView = TreeView_1 = __decorate([\n        NotifyPropertyChanges\n    ], TreeView);\n    return TreeView;\n    var TreeView_1;\n}(Component));\nexport { TreeView };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, formatUnit, EventHandler, Event, isNullOrUndefined, closest } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, Browser } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, addClass, removeClass, Touch } from '@syncfusion/ej2-base';\nvar CONTROL = 'e-control';\nvar ROOT = 'e-sidebar';\nvar DOCKER = 'e-dock';\nvar CLOSE = 'e-close';\nvar OPEN = 'e-open';\nvar TRASITION = 'e-transition';\nvar DEFAULTBACKDROP = 'e-sidebar-overlay';\nvar CONTEXTBACKDROP = 'e-backdrop';\nvar RTL = 'e-rtl';\nvar RIGHT = 'e-right';\nvar LEFT = 'e-left';\nvar OVER = 'e-over';\nvar PUSH = 'e-push';\nvar SLIDE = 'e-slide';\nvar VISIBILITY = 'e-visibility';\nvar MAINCONTENTANIMATION = 'e-content-animation';\nvar DISABLEANIMATION = 'e-disable-animation';\nvar CONTEXT = 'e-sidebar-context';\nvar SIDEBARABSOLUTE = 'e-sidebar-absolute';\n/**\n * Sidebar is an expandable or collapsible\n * component that typically act as a side container to place the primary or secondary content alongside of the main content.\n * ```html\n * <aside id=\"sidebar\">\n * </aside>\n * ```\n * ```typescript\n * <script>\n *   let sidebarObject: Sidebar = new Sidebar();\n *   sidebarObject.appendTo(\"#sidebar\");\n * </script>\n * ```\n */\nvar Sidebar = /** @class */ (function (_super) {\n    __extends(Sidebar, _super);\n    function Sidebar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Sidebar.prototype.preRender = function () {\n        this.setWidth();\n    };\n    Sidebar.prototype.render = function () {\n        this.initialize();\n        this.wireEvents();\n    };\n    Sidebar.prototype.initialize = function () {\n        this.setTarget();\n        this.addClass();\n        this.setZindex();\n        if (this.enableDock) {\n            this.setDock();\n        }\n        if (this.isOpen) {\n            this.show();\n        }\n        else {\n            this.setMediaQuery();\n        }\n        this.setType(this.type);\n        this.setCloseOnDocumentClick();\n        this.setEnableRTL();\n    };\n    Sidebar.prototype.setEnableRTL = function () {\n        this.enableRtl ? (addClass([this.element], RTL)) :\n            (removeClass([this.element], RTL));\n    };\n    Sidebar.prototype.setTarget = function () {\n        this.targetParentElement = this.element.previousElementSibling || this.element.parentElement;\n        if (typeof (this.target) === 'string') {\n            this.setProperties({ target: document.querySelector(this.target) }, true);\n        }\n        if (this.target) {\n            this.target.insertBefore(this.element, this.target.children[0]);\n            addClass([this.element], SIDEBARABSOLUTE);\n            addClass([this.target], CONTEXT);\n        }\n    };\n    Sidebar.prototype.setCloseOnDocumentClick = function () {\n        if (this.closeOnDocumentClick) {\n            EventHandler.add(document, 'mousedown touchstart', this.documentclickHandler, this);\n        }\n        else {\n            EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        }\n    };\n    Sidebar.prototype.setWidth = function () {\n        if (this.enableDock && this.position === 'Left') {\n            setStyle(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n        else if (this.enableDock && this.position === 'Right') {\n            setStyle(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n        else if (!this.enableDock) {\n            setStyle(this.element, { 'width': this.setDimension(this.width) });\n        }\n    };\n    Sidebar.prototype.setDimension = function (width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            width = (width.match(/px|%|em/)) ? width : formatUnit(width);\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    };\n    Sidebar.prototype.setZindex = function () {\n        setStyle(this.element, { 'z-index': '' + this.zIndex });\n    };\n    Sidebar.prototype.addClass = function () {\n        var classELement = document.querySelector('.e-main-content');\n        if (!isNullOrUndefined((classELement ||\n            this.element.nextElementSibling))) {\n            addClass([classELement || this.element.nextElementSibling], [MAINCONTENTANIMATION]);\n        }\n        if (!this.enableDock && this.type !== 'Auto') {\n            addClass([this.element], [VISIBILITY]);\n        }\n        removeClass([this.element], [OPEN, CLOSE, RIGHT, LEFT, SLIDE, PUSH, OVER]);\n        this.element.classList.add(ROOT);\n        addClass([this.element], (this.position === 'Right') ? RIGHT : LEFT);\n        if (this.type === 'Auto' && !Browser.isDevice && !this.enableDock) {\n            addClass([this.element], OPEN);\n        }\n        else {\n            addClass([this.element], CLOSE);\n        }\n    };\n    Sidebar.prototype.destroyBackDrop = function () {\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (this.target && this.showBackdrop && sibling) {\n            removeClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && this.modal) {\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n    };\n    /**\n     * Hide the Sidebar component.\n     * @returns void\n     */\n    Sidebar.prototype.hide = function () {\n        var closeArguments = { model: this, element: this.element, cancel: false };\n        this.trigger('close', closeArguments);\n        if (!closeArguments.cancel) {\n            if (this.element.classList.contains(CLOSE)) {\n                return;\n            }\n            if (this.element.classList.contains(OPEN)) {\n                var changeArguments = { name: 'change', element: this.element };\n                this.trigger('change', changeArguments);\n            }\n            addClass([this.element], CLOSE);\n            removeClass([this.element], OPEN);\n            this.enableDock ? setStyle(this.element, { 'width': formatUnit(this.dockSize) }) :\n                setStyle(this.element, { 'width': formatUnit(this.width) });\n            this.setDock();\n            this.setType(this.type);\n            var sibling = document.querySelector('.e-main-content') ||\n                this.element.nextElementSibling;\n            if (!this.enableDock && sibling) {\n                sibling.style.transform = 'translateX(' + 0 + 'px)';\n                this.position === 'Left' ? sibling.style.marginLeft = '0px' : sibling.style.marginRight = '0px';\n            }\n            this.destroyBackDrop();\n            this.setCloseOnDocumentClick();\n            this.setAnimation();\n            if (this.type === 'Slide') {\n                document.body.classList.remove('e-sidebar-overflow');\n            }\n            this.setProperties({ isOpen: false }, true);\n        }\n    };\n    /**\n     * Shows the Sidebar component.\n     * @returns void\n     */\n    Sidebar.prototype.show = function () {\n        var openArguments = { model: this, element: this.element, cancel: false };\n        this.trigger('open', openArguments);\n        if (!openArguments.cancel) {\n            removeClass([this.element], VISIBILITY);\n            if (this.element.classList.contains(OPEN)) {\n                return;\n            }\n            if (this.element.classList.contains(CLOSE)) {\n                var changeArguments = { name: 'change', element: this.element };\n                this.trigger('change', changeArguments);\n            }\n            addClass([this.element], [OPEN, TRASITION]);\n            setStyle(this.element, { 'transform': '' });\n            removeClass([this.element], CLOSE);\n            setStyle(this.element, { 'width': formatUnit(this.width) });\n            var elementWidth = this.element.getBoundingClientRect().width;\n            this.setType(this.type);\n            this.createBackDrop();\n            this.setCloseOnDocumentClick();\n            this.setAnimation();\n            if (this.type === 'Slide') {\n                document.body.classList.add('e-sidebar-overflow');\n            }\n            this.setProperties({ isOpen: true }, true);\n        }\n    };\n    Sidebar.prototype.setAnimation = function () {\n        if (this.animate) {\n            removeClass([this.element], DISABLEANIMATION);\n        }\n        else {\n            addClass([this.element], DISABLEANIMATION);\n        }\n    };\n    Sidebar.prototype.setDock = function () {\n        if (this.enableDock && this.position === 'Left' && !this.getState()) {\n            setStyle(this.element, { 'transform': 'translateX(' + -100 + '%) translateX(' + this.setDimension(this.dockSize) + ')' });\n        }\n        else if (this.enableDock && this.position === 'Right' && !this.getState()) {\n            setStyle(this.element, { 'transform': 'translateX(' + 100 + '%) translateX(' + '-' + this.setDimension(this.dockSize) + ')' });\n        }\n        if (this.element.classList.contains(CLOSE) && this.enableDock) {\n            setStyle(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n    };\n    Sidebar.prototype.createBackDrop = function () {\n        if (this.target && this.showBackdrop) {\n            var sibling = document.querySelector('.e-main-content') ||\n                this.element.nextElementSibling;\n            addClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && !this.modal && this.getState()) {\n            this.modal = this.createElement('div');\n            this.modal.className = DEFAULTBACKDROP;\n            this.modal.style.display = 'block';\n            document.body.appendChild(this.modal);\n        }\n    };\n    Sidebar.prototype.getPersistData = function () {\n        return this.addOnPersist(['type', 'position', 'isOpen']);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Sidebar.prototype.getModuleName = function () {\n        return 'sidebar';\n    };\n    /**\n     * Shows or hides the Sidebar based on the current state.\n     * @returns void\n     */\n    Sidebar.prototype.toggle = function (e) {\n        this.element.classList.contains(OPEN) ? this.hide() : this.show();\n    };\n    Sidebar.prototype.getState = function () {\n        return this.element.classList.contains(OPEN) ? true : false;\n    };\n    Sidebar.prototype.setMediaQuery = function () {\n        if (this.mediaQuery && this.mediaQuery.matches) {\n            this.show();\n        }\n        else if (this.mediaQuery && this.getState()) {\n            this.hide();\n        }\n    };\n    Sidebar.prototype.resize = function (e) {\n        if (this.type === 'Auto') {\n            if (Browser.isDevice) {\n                addClass([this.element], OVER);\n            }\n            else {\n                addClass([this.element], PUSH);\n            }\n        }\n        this.setMediaQuery();\n    };\n    Sidebar.prototype.documentclickHandler = function (e) {\n        if (closest(e.target, '.' + CONTROL + '' + '.' + ROOT)) {\n            return;\n        }\n        this.hide();\n    };\n    Sidebar.prototype.enableGestureHandler = function (args) {\n        if (this.position === 'Left' && args.swipeDirection === 'Right' &&\n            (args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n        else if (this.position === 'Left' && args.swipeDirection === 'Left') {\n            this.hide();\n        }\n        else if (this.position === 'Right' && args.swipeDirection === 'Right') {\n            this.hide();\n        }\n        else if (this.position === 'Right' && args.swipeDirection === 'Left'\n            && (window.innerWidth - args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n    };\n    Sidebar.prototype.setEnableGestures = function () {\n        if (this.enableGestures) {\n            this.mainContentEle = new Touch(document.body, { swipe: this.enableGestureHandler.bind(this) });\n            this.sidebarEle = new Touch(this.element, { swipe: this.enableGestureHandler.bind(this) });\n        }\n        else {\n            if (this.mainContentEle && this.sidebarEle) {\n                this.mainContentEle.destroy();\n                this.sidebarEle.destroy();\n            }\n        }\n    };\n    Sidebar.prototype.wireEvents = function () {\n        this.setEnableGestures();\n        window.addEventListener('resize', this.resize.bind(this));\n    };\n    Sidebar.prototype.unWireEvents = function () {\n        window.removeEventListener('resize', this.resize.bind(this));\n        EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        if (this.mainContentEle) {\n            this.mainContentEle.destroy();\n        }\n        if (this.sidebarEle) {\n            this.sidebarEle.destroy();\n        }\n    };\n    Sidebar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'isOpen':\n                    this.isOpen ? this.show() : this.hide();\n                    break;\n                case 'width':\n                    this.setWidth();\n                    if (!this.getState()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'animate':\n                    this.setAnimation();\n                    break;\n                case 'type':\n                    removeClass([this.element], [VISIBILITY]);\n                    this.addClass();\n                    this.setType(this.type);\n                    break;\n                case 'position':\n                    this.element.style.transform = '';\n                    this.setDock();\n                    if (sibling) {\n                        this.position === 'Left' ? sibling.style.marginRight = '0px' : sibling.style.marginLeft = '0px';\n                    }\n                    if (this.position === 'Right') {\n                        removeClass([this.element], LEFT);\n                        addClass([this.element], RIGHT);\n                    }\n                    else {\n                        removeClass([this.element], RIGHT);\n                        addClass([this.element], LEFT);\n                    }\n                    this.setType(this.type);\n                    break;\n                case 'showBackdrop':\n                    if (this.showBackdrop) {\n                        this.createBackDrop();\n                    }\n                    else {\n                        if (this.modal) {\n                            this.modal.style.display = 'none';\n                            this.modal.outerHTML = '';\n                            this.modal = null;\n                        }\n                    }\n                    break;\n                case 'target':\n                    if (typeof (this.target) === 'string') {\n                        this.setProperties({ target: document.querySelector(this.target) }, true);\n                    }\n                    if (isNullOrUndefined(this.target)) {\n                        removeClass([this.element], SIDEBARABSOLUTE);\n                        removeClass([oldProp.target], CONTEXT);\n                        setStyle(sibling, { 'margin-left': 0, 'margin-right': 0 });\n                        document.body.insertAdjacentElement('afterbegin', this.element);\n                    }\n                    else {\n                        _super.prototype.refresh.call(this);\n                    }\n                    break;\n                case 'closeOnDocumentClick':\n                    this.setCloseOnDocumentClick();\n                    break;\n                case 'enableDock':\n                    if (!this.getState()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setZindex();\n                    break;\n                case 'mediaQuery':\n                    this.setMediaQuery();\n                    break;\n                case 'enableGestures':\n                    this.setEnableGestures();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n            }\n        }\n    };\n    Sidebar.prototype.setType = function (type) {\n        var elementWidth = this.element.getBoundingClientRect().width;\n        this.setZindex();\n        if (this.enableDock) {\n            addClass([this.element], DOCKER);\n        }\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (sibling) {\n            sibling.style.transform = 'translateX(' + 0 + 'px)';\n            if (!Browser.isDevice && this.type !== 'Auto') {\n                this.position === 'Left' ? sibling.style.marginLeft = '0px' : sibling.style.marginRight = '0px';\n            }\n        }\n        var margin = this.position === 'Left' ? elementWidth + 'px' : elementWidth + 'px';\n        var eleWidth = this.position === 'Left' ? elementWidth : -(elementWidth);\n        removeClass([this.element], [PUSH, OVER, SLIDE]);\n        switch (type) {\n            case 'Push':\n                addClass([this.element], [PUSH]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                }\n                break;\n            case 'Slide':\n                addClass([this.element], [SLIDE]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    sibling.style.transform = 'translateX(' + eleWidth + 'px)';\n                }\n                break;\n            case 'Over':\n                addClass([this.element], [OVER]);\n                if (this.enableDock && this.element.classList.contains(CLOSE)) {\n                    if (sibling) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                    }\n                }\n                break;\n            case 'Auto':\n                addClass([this.element], [TRASITION]);\n                if (Browser.isDevice) {\n                    if (sibling && (this.enableDock) && !this.getState()) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                        addClass([this.element], PUSH);\n                    }\n                    else {\n                        addClass([this.element], OVER);\n                    }\n                }\n                else {\n                    addClass([this.element], PUSH);\n                    if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                    }\n                    this.setProperties({ isOpen: true }, true);\n                }\n                this.createBackDrop();\n        }\n    };\n    /**\n     * Removes the control from the DOM and removes all its related events\n     * @returns void\n     */\n    Sidebar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], [OPEN, CLOSE, PUSH, SLIDE, OVER, LEFT, RIGHT, TRASITION, DISABLEANIMATION,\n            CONTEXTBACKDROP, MAINCONTENTANIMATION, VISIBILITY]);\n        this.destroyBackDrop();\n        this.element.style.width = '';\n        this.element.style.zIndex = '';\n        this.element.style.transform = '';\n        var sibling = document.querySelector('.e-main-content')\n            || this.element.nextElementSibling;\n        if (!isNullOrUndefined(sibling)) {\n            sibling.style.margin = '';\n            sibling.style.transform = '';\n        }\n        if (this.target) {\n            removeClass([this.element], SIDEBARABSOLUTE);\n            removeClass([this.target], CONTEXT);\n            if (this.targetParentElement.parentElement.tagName !== 'HTML') {\n                this.targetParentElement.parentNode.insertBefore(this.element, this.targetParentElement.nextSibling);\n            }\n        }\n        this.unWireEvents();\n    };\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"dockSize\", void 0);\n    __decorate([\n        Property(null)\n    ], Sidebar.prototype, \"mediaQuery\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enableDock\", void 0);\n    __decorate([\n        Property(true)\n    ], Sidebar.prototype, \"enableGestures\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"isOpen\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(true)\n    ], Sidebar.prototype, \"animate\", void 0);\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"closeOnDocumentClick\", void 0);\n    __decorate([\n        Property('Left')\n    ], Sidebar.prototype, \"position\", void 0);\n    __decorate([\n        Property(null)\n    ], Sidebar.prototype, \"target\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"showBackdrop\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Sidebar.prototype, \"type\", void 0);\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"width\", void 0);\n    __decorate([\n        Property(1000)\n    ], Sidebar.prototype, \"zIndex\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"destroyed\", void 0);\n    Sidebar = __decorate([\n        NotifyPropertyChanges\n    ], Sidebar);\n    return Sidebar;\n}(Component));\nexport { Sidebar };\n"],"names":["__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","this","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","CLS_RTL","CLS_DISABLE","CLS_NAVARROW","CLS_NAVRIGHTARROW","CLS_NAVLEFTARROW","CLS_HSCROLLNAV","CLS_HSCROLLNAVRIGHT","CLS_HSCROLLNAVLEFT","HScroll","_super","options","element","call","preRender","browser","Browser","info","name","browserCheck","isDevice","ieCheck","initialize","id","getUniqueID","uniqueId","style","display","enableRtl","classList","add","render","touchModule","Touch","scroll","touchHandler","bind","createNavIcon","EventHandler","scrollEle","scrollHandler","createElement","className","scrollDiv","setAttribute","ele","_i","innerEle_1","slice","children","ele_1","appendChild","overflowX","scrollItems","getPersistData","addOnPersist","getModuleName","destroy","remove","nav","selectAll","_a","elem","removeAttribute","detach","disable","value","navEles","forEach","el","concat","clsRight","navItem","clsLeft","navEle","navLeftItem","insertBefore","firstChild","eventBinding","onKeyPress","e","_this","keyTimer","window","setTimeout","keyTimeout","eleScrolling","onKeyUp","click","clearTimeout","tapHold","tabHoldHandler","tapHoldThreshold","addEventListener","repeatScroll","preventDefault","clickEventHandler","clearInterval","timeout","trgt","originalEvent","contains","firstElementChild","setInterval","scrollDis","rootEle","querySelector","scrlLeft","scrollLeft","scrollStep","distance","distanceX","scrollDirection","arrowDisabling","addDisable","removeDisable","width","offsetWidth","navLeftEle","navRightEle","Math","ceil","scrollWidth","disEle","onPropertyChanged","newProp","oldProp","keys","Property","NotifyPropertyChanges","Component","CLS_ITEMS","CLS_ITEM","CLS_SEPARATOR","CLS_POPUPICON","CLS_POPUPDOWN","CLS_POPUPTEXT","CLS_TBARTEXT","CLS_TBAROVERFLOW","CLS_POPOVERFLOW","CLS_TBARNAV","CLS_TBARCENTER","CLS_TBARPOS","CLS_POPUPCLASS","CLS_POPUP","CLS_TBARNAVACT","CLS_TBARIGNORE","CLS_POPPRI","CLS_MULTIROW_SEPARATOR","CLS_EXTENDABLE_SEPARATOR","CLS_EXTENDEDPOPOPEN","Item","apply","ChildProperty","Toolbar","keyConfigs","moveLeft","moveRight","moveUp","moveDown","popupOpen","popupClose","tab","home","end","unwireEvents","tempId","isNOU","document","body","removeChild","trgtEle","ctrlTem","clearProperty","popObj","tbarAlign","attrb","eventArgs","enableCollision","trigger","scrollModule","tbarItemsCol","items","popupPriCount","wireEvents","clickHandler","resize","keyModule","KeyboardEvents","keyAction","keyActionHandler","docKeyDown","tagName","popCheck","isVisible","overflowMode","keyCode","hide","duration","destroyHScroll","docEvent","tbarEle","tbarAlgEle","lefts","centers","rights","popEle","closest","destroyItems","querySelectorAll","tbarItems","destroyMode","popupRefresh","val","elementFocus","fChild","focus","activeEleSwitch","clstElement","tbrNavChk","keyHandling","clst","navChk","scrollChk","popAnimate","action","eleFocus","nodes","popupCheck","popFrstEle","lastElementChild","activeEle","activeEleRemove","top","offsetHeight","show","tbarScrollChk","pos","sib","skipEle","parentElement","clsList","isPopupElement","popupNav","popupClickHandler","itemObj","indexOf","item","cancel","position","X","Y","offsetX","dataBind","refreshPosition","minHeight","renderControl","separator","formatUnit","height","setStyle","attributes","role","aria-disabled","aria-haspopup","aria-orientation","renderItems","renderOverflowMode","itemPositioning","childElementCount","checkPopupRefresh","initHScroll","innerItems","checkOverflow","appendTo","overflow","itemWidthCal","getComputedStyle","parseFloat","marginRight","marginLeft","innerItem","eleWidth","itemWidth","popNav","scrollNav","refreshOverflow","priorityCheck","offsetWid","getElementsByClassName","removePositioning","createPopupEle","eleInlineItem","eleItem","multiVar","extendVar","offsetLeft","innerEle","innerNav","createPopupIcon","direction","checkPriority","removeProperty","createPopup","pushingPoppedEle","tbarObj","popupPri","eleHeight","sepHeight","nodeIndex","nodePri","index","tbResize","push","childNodes","tbarElement","sepItem","extendEle","popupEle","popupInit","maxHeight","eleStyles","popup","Popup","relateTo","offsetY","open","close","collision","borderRightWidth","tbarPopupHandler","isOpen","toolEle","popupElePos","offsetTop","calculatePosition","popIcon","scrollVal","scrollY","innerHeight","overflowHeight","inEle","pre","popPriority","eleWid","sepCheck","itemCount","itemPopCount","checkClass","rVal","cls","mrgn","fstEleCheck","tbarEleMrgn","eleWid_1","minWidth","sepEle","popedEle","tbarPriRef","indx","sepPri","des","elWid","wid","ig","ignoreCount","priEleCnt","eleSep","ignoreCheck","eleSepWidth","prevSep","previousElementSibling","popupEleWidth","popupEleRefresh","ignoreEleFetch","ignoreEle","ignoreInx","count","root","tbarWidth","tbarItemsWid","elWidth","btnText","btn","eleSplice","_loop_1","this_1","align","toLowerCase","sepBeforePri_1","refreshPositioning","margin","tbarWid","popWid","left","right","tbarItemAlign","itemEle","showAlwaysInPopup","alignDiv","alignEle","leftAlign_1","ctrlTemplate","cloneNode","itemEleDom","innerPos","renderSubComponent","setAttr","attr","keyVal","enableItems","isEnable","elements","len","enable","removeClass","addClass","addItems","itemsDiv","itemsRerender","itemAgn","items_1","type","algIndex","splice","parentNode","removeItems","args","parseInt","toString","removeItemByIndex","eleIdx","indexAgn","templateRender","templateProp","isComponent","itemType","eleObj","templateFn","trim","tempStr","outerHTML","templateCompiler","tempArray","buttonRendering","dom","iconCss","iconPos","textStr","text","btnTxt","innerHTML","prefixIcon","suffixIcon","btnObj","Button","iconPosition","htmlAttributes","tooltipText","tempDom","textContent","cssClass","template","itemClick","showTextOn","sTxt","currentTarget","curEle","tEle","changedProb","property","newProperty","refresh","popupPriCheck","booleanCheck","itemCol","hideItem","Collection","Event","CLS_ACRDN_ROOT","CLS_ROOT","CLS_HEADER","CLS_HEADERCTN","CLS_CONTENT","CLS_CTENT","CLS_TOOGLEICN","CLS_EXPANDICN","CLS_CTNHIDE","CLS_SLCT","CLS_SLCTED","CLS_ACTIVE","CLS_TOGANIMATE","CLS_EXPANDSTATE","AccordionActionSettings","AccordionAnimationSettings","Complex","effect","easing","AccordionItem","undefined","Accordion","enter","space","isDestroy","templateEle","eleStr","nested","isNested","enablePersistence","expandedItems","initExpand","aria-multiselectable","expandMode","select","initItemExpand","rippleEffect","selector","eventName","focusIn","focusOut","content","innerEles","header","tabindex","aria-level","headerEle","toggleIconGenerate","aria-labelledby","aria-hidden","tglIcon","hdrColIcon","expandItem","renderInnerItem","acrdnItem","acrdnHdr","acrdnCtn","acrdnCtnItem","acrdActive","getIndexByItem","contentRendering","ariaAttrUpdate","cntclkCheck","acrdAniEle","acrdAniEle_1","sameContentCheck","getAttribute","sameHeader","acrdnCtn_1","expandState","collapse","expand","eleMoveFocus","clstItem","nextElementSibling","headerEleGenerate","ariaAttr","aria-expanded","aria-selected","ctnEle","hdrEle","fetchElement","hdr","expanded","hdrIcnEle","icon","hdrIcon","isHeader","temString","eleVal","itemcnt","ctn","trgtItemEle","animation","timingFunction","isExpanded","eff","expandedItemsPush","expandProgress","expandAnimation","ef","icn","animate","lastActiveItemId","begin","progress","Animation","expandedItemsPop","collapseProgress","collapseAnimation","trgtItEl","trgtHeight","itemHeight","remain","itemAttribUpdate","itemLen","addItem","innerItemEle","expandedItemRefresh","removeItem","isHidden","enableItem","eleHeader","isExpand","itemExpand","expandedItem","updateItem","acrdn","changedProp","j","oldVal","newVal","DOWNARROW","FOCUSED","HEADER","RIGHTARROW","SELECTED","SEPARATOR","WRAPPER","DISABLED","HIDE","MenuItem","ContextMenu","navIdx","isTapHold","ejInst","getValue","ul","ngElement","setValue","initWrapper","wrapper","getWrapper","ListBase","createJsonFromElement","createItems","append","targetElems","isIos","cmenuHandler","targetElement","getScrollableParent","parent_1","moverHandler","mouseDownHandler","delegateClickHandler","keyBoardHandler","downarrow","uparrow","leftarrow","rightarrow","escape","closeMenu","upDownKeyHandler","rightEnterKeyHandler","leftEscKeyHandler","cul","defaultIdx","fliIdx","fli","getLIByClass","getIdx","cli","isValidLI","getItem","openMenu","sli","canOpen","changedTouches","pageY","pageX","ulIndex","isMenuVisible","closeArgs","beforeCloseArgs","cnt","parentItem","event","toggleAnimation","valueOf","filter","split","li","lastChild","data","ICONS","hdata","hli","zIndex","getZindexPartial","getIndex","pop","setPosition","toggleVisiblity","collide","isCollide","offset","fit","Number","replace","x","xCollision","visibility","showIcon","hasField","listBaseOptions","moduleName","itemCreating","curData","itemCreated","span","createList","toRawObject","menuItems","properties","getLI","showItemOnClick","field","cliWrapper","isInstLI","setLISelected","showSubMenu","cliIdx","culIdx","idx","classname","getItems","skipHdr","toggle","unWireEvents","getChangedItemIndex","insertAfter","uls","getInstance","parent_2","keyboardModule","isMenuOpen","animationSettings","getBoundingClientRect","isUniqueId","isCallBack","unshift","disabled","showItems","showHideItems","hideItems","ishide","iitems","insertItems","isAfter","menuitem","CLS_HIDDEN","CLS_ICON_CLOSE","CLS_WRAP","CLS_TB_ITEMS","CLS_TB_ITEM","CLS_TB_POPUP","CLS_PROGRESS","TabActionSettings","TabAnimationSettings","Header","TabItem","Tab","animateOptions","animObj","title","lastIndex","delete","tbObj","expTemplateContent","isTemplate","cntEle","prevIndex","isPopup","initRender","isSwipeed","itemIndexArray","css","setCssClass","aria-activedescendant","btnCls","CLS_ICONS","attrs","renderContainer","setOrientation","headerPlacement","renderHeader","tbItems","renderContent","bdrLine","CLS_INDICATOR","scrCnt","setContentHeight","selectedItem","setRTL","tabItems","hdrItems","aria-controls","txt","cont","wrap","tabIndex","parseObject","clicked","setCloseButton","showCloseButton","setProperties","hdrItem","contents","reRenderItems","swipe","swipeHandler","txtWrapEle","tbCount","tItems","tHtml","txtEmpty","headerTextCompile","tCont","wrapAttrs","tItem","removeActiveClass","hdrActEle","no","extIndex","findEle","checkPopupOverflow","tbPop","tbrItems","popupHandler","ripEle","tbItem","actEleId","prevEle","trg","refreshActElePosition","prevCtnAnimation","prev","current","previous","next","triggerPrevAnimation","oldCnt","animateObj","triggerAnimation","prevActiveEle","newCnt","getTrgContent","idNo","openEff","clsEff","setActiveBorder","keyPressed","trgParent","trgIndex","getEleIndex","templateCompile","tempEle","compileElement","prop","templateFUN","compile","getContent","callType","place","list","heightAdjustMode","max","getHeight","cs","getPropertyValue","hsCnt","bar","tbWidth","setActive","isNaN","trg_1","enableAnimation","eleTrg","itemIndex","curActItem","refreshItemVisibility","eventArg","previousItem","prevItem","previousIndex","selectedIndex","isSwiped","setItems","isReplace","refreshActiveBorder","hoverHandler","spaceKeyDown","keyHandler","tabKeyModule","openPopup","shiftTab","removeEventListener","removeTab","velocity","swipeDirection","k","which","clstHead","actEle","ej2_instances","activeElement","nxtSib","nextSibling","scrBar","scrStart","scrEnd","eleStart","eleEnd","eleViewRange","L10n","closeButtonTitle","locale","getConstant","enableTab","addTab","lastEleIndex","addedItems","itemsCount","removeArgs","removedItem","removedIndex","cntTrg","hideTab","selectingItem","selectingIndex","cntItem","arr","isHiddenEle","tempHdrEle","ROOT","COLLAPSIBLE","EXPANDABLE","LISTITEM","LISTTEXT","PARENTITEM","HOVER","ACTIVE","LOAD","PROCESS","ICON","TEXTWRAP","TREEINPUT","DRAGGING","SIBLING","DROPNEXT","FULLROW","EXPANDED","NODECOLLAPSED","CHECK","CHECKBOXWRAP","CHECKBOXFRAME","FOCUS","treeAriaAttr","treeRole","itemRole","listRole","itemText","wrapperRole","FieldsSettings","ActionSettings","NodeAnimationSettings","TreeView","mouseDownStatus","TreeView_1","checkActionNodes","dragStartAction","isAnimate","f2","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","ctrlA","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","listBaseOption","expandCollapse","expandIconClass","ariaAttributes","expandIconPosition","beforeNodeCreate","updateListProp","fields","aniObj","treeList","isLoaded","setTouchClass","selectedNodes","checkedNodes","setDataBinding","setExpandOnType","setRipple","wireEditingEvents","allowEditing","setDragAndDrop","allowDragAndDrop","setEnableRtl","setFullRow","fullRowSelect","nodeTemplateFn","templateComplier","nodeTemplate","rippleModel","ignore","rippleFn","iconModel","isCenterRipple","rippleIconFn","isEnabled","setMultiSelect","firstUl","dataSource","DataManager","executeQuery","getQuery","then","treeData","result","isNumberTypeId","getType","setRootData","finalize","rootData","mapper","query","columns","clone","Query","getActualProperties","col","from","tableName","addSorting","sortOrder","parentID","where","dataType","getDataType","groupedData","getGroupedData","rootItems","getChildNodes","isSorted","level","ulElement","getSortedData","finalizeNode","showCheckBox","checkboxEle","createCheckBox","touchClass","checkValue","isChecked","addCheck","frame","frameMouseHandler","createFullRow","allowMultiSelection","addActionClass","selected","textEle","node","nodeData","rippleSpan","rippleMouseHandler","actionValue","ds","child","hasChildren","groupBy","cusQuery","group","getDataSource","grpItem","iNodes","sNodes","selectNode","cNodes","eNodes","renderChildNodes","updateList","updateCheckedProp","nodes_1","checkBox","ensureParentCheckState","checkBoxEle","changeState","parentUL","currentParent","ensureChildCheckState","childElement","checkBoxes","checkedState","currentLoadData","isNodeChecked","doCheckBoxAction","doCheck","liEle","getElement","validateCheckNode","state","isPrevent","isAdd","ariaState","currLi","getCheckEvent","frameSpan","removeCheck","isUndefined","checked","getNodeData","isInteracted","firstNode","updateIdAttr","doSelectionAction","sUids","sNode","selectGivenNodes","preventContextMenu","removeHover","setFocusElement","checkWrapper","checkElement","triggerClickEvent","expandAction","collapseNode","toggleSelect","nodeCheckingEvent","isCheck","nodeCheckedEvent","expandNode","hideSpinner","start","proxy","setHeight","expandedNode","animateHeight","expandArgs","getExpandEvent","colArgs","currentHeight","timeStamp","parentLi","expandChild","eicon","showSpinner","childItems","parents","mapper_1","getChildFields","getNodeObject","ensureCheckNode","renderSubChild","getFields","nodeLevel","dataLevel","getChildMapper","obj","parentId","isRoot","getChildGroup","objlen","dataId","cIcons","curLi","multiSelect","ctrlKey","isActive","unselectNode","getSelectEvent","removeSelectAll","shiftKey","startNode","startIndex","liList","endIndex","temp","currNode","addSelect","removeSelect","focusedNode","getFocusedNode","selectedLI","selectedLI_1","expandOnType","expandOn","expandHandler","expandCollapseAction","nodeName","inpEle","blur","oldText","checkNode","openNode","shiftKeySelect","navigateNode","navigateRootNode","createTextbox","navigateToFocus","isUp","focusNode","parent","getScrollParent","parentPos","bottom","scrollTop","isVisibleInViewport","scrollIntoView","txtWrap","documentElement","clientHeight","innerWidth","clientWidth","scrollHeight","isTowards","nextNode","getNextNode","getPrevNode","checkWrap","toBeOpened","focusNextNode","setFocus","isBackwards","rootNode","getRootNode","getEndNode","fNode","previousSibling","prevNode","endNode","preNode","onMouseOver","currentLi","setHover","onMouseLeave","hoveredNode","fromDS","getText","pNode","pid","nodeFields","reRenderNodes","oldClass","newClass","editingHandler","oldInpEle","updateOldText","getEditEvent","innerHtml","inputObj","Input","createInput","container","inputEle","setSelectionRange","wireInputEvents","editData","editFields","inputFocusOut","newText","txtEle","appendNewText","isInput","newData","getChildNodeObject","newList","childData","toBind","initializeDrag","destroyDrag","virtualEle","dragObj","Draggable","enableTailMode","enableAutoScroll","dragTarget","helper","sender","dragRoot","dragWrap","dragLi","isSameNode","cloneEle","DRAGITEM","nLen","cNode","cursor","dragData","dragStart","getDragEvent","draggedNode","drag","cursorAt","targetTouches","dragAction","dragStop","removeVirtualEle","dropTarget","dropRoot","dropObj","Droppable","out","over","drop","dropAction","dropWrap","dropLi","isDescendant","virEle","renderVirtualEle","dragInstance","draggable","droppedElement","appendNode","draggedElement","dropAsSiblingNode","dropAsChildNode","dropUl","dragParentUl","dragParentLi","updateElement","updateAriaLevel","updateInstance","dropParentUl","expandParent","dropIcon","generateIcon","generateUL","dragIcon","updateChildAriaLevel","sibEle","dragNode","dropData","draggedNodeData","newParent","targetParent","droppedNode","droppedNodeData","addFullRow","toAdd","rowDiv","addMultiSelect","liEles_1","liEles_2","collapseByLevel","excludeHiddenNodes","getVisibleNodes","collapseAllNodes","expandByLevel","expandAllNodes","eIcons","vNodes","removeNode","updateSelectedNodes","doGivenAction","toExpand","addGivenNodes","isRemote","updateMapper","createListItemFromJson","refNode","url","navigateUrl","doDisableAction","doEnableAction","proxy_1","touchEditObj","tap","tapCount","wireClickEvent","proxy_2","touchClickObj","wireExpandOnEvent","proxy_3","touchExpandObj","matched","matches","createSpinner","setCheckedNodes","JSON","parse","stringify","uncheckAll","checkAll","addNodes","beginEdit","collapseAll","disableNodes","enableNodes","ensureVisible","expandAll","getNode","moveNodes","sourceNodes","removeNodes","updateNode","CLOSE","OPEN","TRASITION","CONTEXTBACKDROP","RIGHT","OVER","PUSH","VISIBILITY","MAINCONTENTANIMATION","DISABLEANIMATION","CONTEXT","SIDEBARABSOLUTE","Sidebar","setWidth","setTarget","setZindex","enableDock","setDock","setMediaQuery","setType","setCloseOnDocumentClick","setEnableRTL","targetParentElement","closeOnDocumentClick","documentclickHandler","setDimension","dockSize","match","z-index","classELement","isNullOrUndefined","destroyBackDrop","sibling","showBackdrop","modal","closeArguments","model","changeArguments","transform","setAnimation","openArguments","createBackDrop","getState","mediaQuery","enableGestureHandler","startX","setEnableGestures","enableGestures","mainContentEle","sidebarEle","margin-left","margin-right","insertAdjacentElement","elementWidth"],"mappings":"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B,GACvCE,IACI6I,YAAS,IACVs0B,EAASr9B,UAAW,2BAAuB,GAC9CE,IACI4f,aAAYsd,KACbC,EAASr9B,UAAW,iBAAa,GACpCE,IACI6I,cACDs0B,EAASr9B,UAAW,oBAAgB,GACvCE,IACI6I,WAAS,KACVs0B,EAASr9B,UAAW,gBAAY,GACnCE,IACI6I,YAAS,IACVs0B,EAASr9B,UAAW,yBAAqB,GAC5CE,IACI6I,YAAS,IACVs0B,EAASr9B,UAAW,iBAAa,GACpCE,IACI6I,WAAS,SACVs0B,EAASr9B,UAAW,gBAAY,GACnCE,IACI4f,aAAYod,KACbG,EAASr9B,UAAW,cAAU,GACjCE,IACI6I,YAAS,IACVs0B,EAASr9B,UAAW,qBAAiB,GACxCE,IACI6I,cACDs0B,EAASr9B,UAAW,oBAAgB,GACvCE,IACI6I,cACDs0B,EAASr9B,UAAW,qBAAiB,GACxCE,IACI6I,WAAS,SACVs0B,EAASr9B,UAAW,iBAAa,GACpCE,IACI6I,YAAS,IACVs0B,EAASr9B,UAAW,oBAAgB,GACvCE,IACI2e,WACDwe,EAASr9B,UAAW,eAAW,GAClCE,IACI2e,WACDwe,EAASr9B,UAAW,iBAAa,GACpCE,IACI2e,WACDwe,EAASr9B,UAAW,gBAAY,GACnCE,IACI2e,WACDwe,EAASr9B,UAAW,iBAAa,GACpCE,IACI2e,WACDwe,EAASr9B,UAAW,gBAAY,GACnCE,IACI2e,WACDwe,EAASr9B,UAAW,mBAAe,GACtCE,IACI2e,WACDwe,EAASr9B,UAAW,oBAAgB,GACvCE,IACI2e,WACDwe,EAASr9B,UAAW,mBAAe,GACtCE,IACI2e,WACDwe,EAASr9B,UAAW,qBAAiB,GACxCE,IACI2e,WACDwe,EAASr9B,UAAW,sBAAkB,GACzCE,IACI2e,WACDwe,EAASr9B,UAAW,oBAAgB,GACvCE,IACI2e,WACDwe,EAASr9B,UAAW,qBAAiB,GACxCE,IACI2e,WACDwe,EAASr9B,UAAW,oBAAgB,GACvCE,IACI2e,WACDwe,EAASr9B,UAAW,mBAAe,GACtCE,IACI2e,WACDwe,EAASr9B,UAAW,kBAAc,GACrCE,IACI2e,WACDwe,EAASr9B,UAAW,mBAAe,GACtCE,IACI2e,WACDwe,EAASr9B,UAAW,oBAAgB,GACvCE,IACI2e,WACDwe,EAASr9B,UAAW,qBAAiB,GACxCE,IACI2e,WACDwe,EAASr9B,UAAW,oBAAgB,GACvCE,IACI2e,WACDwe,EAASr9B,UAAW,qBAAiB,GACxCq9B,EAAWE,EAAar9B,IACpB8I,yBACDq0B,GAEH,IAAIE,GACNt0B,aC7tFE9J,GAAwC,WACxC,IAAIC,EAAgBC,OAAOC,iBACpBC,wBAA2BC,OAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIC,KAAKD,EAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,KACzE,OAAO,SAAUF,EAAGC,GAEhB,SAASG,IAAOC,KAAKC,YAAcN,EADnCL,EAAcK,EAAGC,GAEjBD,EAAEO,UAAkB,OAANN,EAAaL,OAAOY,OAAOP,IAAMG,EAAGG,UAAYN,EAAEM,UAAW,IAAIH,IAP3C,GAUxCK,GAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOjB,OAAOsB,yBAAyBP,EAAQC,GAAOC,EACrH,GAAuB,iBAAZM,SAAoD,mBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASV,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIQ,EAAIX,EAAWM,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIU,EAAWW,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAEW,EAAQC,EAAKK,GAAKjB,EAAEW,EAAQC,KAASK,GAChJ,OAAOH,EAAI,GAAKG,GAAKrB,OAAO0B,eAAeX,EAAQC,EAAKK,GAAIA,GAQ5Du4C,GAAQ,UACRC,GAAO,SACPC,GAAY,eAEZC,GAAkB,aAElBC,GAAQ,UAERC,GAAO,SACPC,GAAO,SAEPC,GAAa,eACbC,GAAuB,sBACvBC,GAAmB,sBACnBC,GAAU,oBACVC,GAAkB,qBAelBC,GAAyB,SAAUp4C,GAEnC,SAASo4C,EAAQn4C,EAASC,GACtB,OAAOF,EAAOG,KAAK9B,KAAM4B,EAASC,IAAY7B,KAkhBlD,OAphBAX,GAAU06C,EAASp4C,GAInBo4C,EAAQ75C,UAAU6B,UAAY,WAC1B/B,KAAKg6C,YAETD,EAAQ75C,UAAU8C,OAAS,WACvBhD,KAAKuC,aACLvC,KAAKyM,cAETstC,EAAQ75C,UAAUqC,WAAa,WAC3BvC,KAAKi6C,YACLj6C,KAAKib,WACLjb,KAAKk6C,YACDl6C,KAAKm6C,YACLn6C,KAAKo6C,UAELp6C,KAAK4V,OACL5V,KAAK4P,OAGL5P,KAAKq6C,gBAETr6C,KAAKs6C,QAAQt6C,KAAKub,MAClBvb,KAAKu6C,0BACLv6C,KAAKw6C,gBAETT,EAAQ75C,UAAUs6C,aAAe,WAC7Bx6C,KAAK6C,UAAaoY,YAAUjb,KAAK6B,SAvD/B,SAwDGmZ,eAAahb,KAAK6B,SAxDrB,UA0DNk4C,EAAQ75C,UAAU+5C,UAAY,WAC1Bj6C,KAAKy6C,oBAAsBz6C,KAAK6B,QAAQuW,wBAA0BpY,KAAK6B,QAAQoO,cAClD,iBAAjBjQ,KAAW,QACnBA,KAAKszB,eAAgBhzB,OAAQmL,SAAS9D,cAAc3H,KAAKM,UAAW,GAEpEN,KAAKM,SACLN,KAAKM,OAAOuF,aAAa7F,KAAK6B,QAAS7B,KAAKM,OAAO4D,SAAS,IAC5D+W,YAAUjb,KAAK6B,SAAUi4C,IACzB7+B,YAAUjb,KAAKM,QAASu5C,MAGhCE,EAAQ75C,UAAUq6C,wBAA0B,WACpCv6C,KAAK06C,qBACLn3C,eAAaR,IAAI0I,SAAU,uBAAwBzL,KAAK26C,qBAAsB36C,MAG9EuD,eAAaoB,OAAO8G,SAAU,uBAAwBzL,KAAK26C,uBAGnEZ,EAAQ75C,UAAU85C,SAAW,WACrBh6C,KAAKm6C,YAAgC,SAAlBn6C,KAAK0Q,SACxBW,oBAASrR,KAAK6B,SAAWwG,MAASrI,KAAK46C,aAAa56C,KAAK66C,YAEpD76C,KAAKm6C,YAAgC,UAAlBn6C,KAAK0Q,SAC7BW,oBAASrR,KAAK6B,SAAWwG,MAASrI,KAAK46C,aAAa56C,KAAK66C,YAEnD76C,KAAKm6C,YACX9oC,oBAASrR,KAAK6B,SAAWwG,MAASrI,KAAK46C,aAAa56C,KAAKqI,UAGjE0xC,EAAQ75C,UAAU06C,aAAe,SAAUvyC,GAUvC,OARIA,EADiB,iBAAVA,EACC8I,aAAW9I,GAEG,iBAAVA,EACHA,EAAMyyC,MAAM,WAAczyC,EAAQ8I,aAAW9I,GAG9C,QAIhB0xC,EAAQ75C,UAAUg6C,UAAY,WAC1B7oC,oBAASrR,KAAK6B,SAAWk5C,UAAW,GAAK/6C,KAAKgsB,UAElD+tB,EAAQ75C,UAAU+a,SAAW,WACzB,IAAI+/B,EAAevvC,SAAS9D,cAAc,mBACrCszC,oBAAmBD,GACpBh7C,KAAK6B,QAAQ6hB,qBACbzI,YAAU+/B,GAAgBh7C,KAAK6B,QAAQ6hB,qBAAsBi2B,KAE5D35C,KAAKm6C,YAA4B,SAAdn6C,KAAKub,MACzBN,YAAUjb,KAAK6B,UAAW63C,KAE9B1+B,eAAahb,KAAK6B,UAAWu3C,GAAMD,GAAOI,GA9GvC,SAGC,UA2G0DE,GAAMD,KACpEx5C,KAAK6B,QAAQiB,UAAUC,IAxHpB,aAyHHkY,YAAUjb,KAAK6B,SAA6B,UAAlB7B,KAAK0Q,SAAwB6oC,GAhHpD,UAiHe,SAAdv5C,KAAKub,MAAoBtZ,UAAQI,UAAarC,KAAKm6C,WAInDl/B,YAAUjb,KAAK6B,SAAUs3C,IAHzBl+B,YAAUjb,KAAK6B,SAAUu3C,KAMjCW,EAAQ75C,UAAUg7C,gBAAkB,WAChC,IAAIC,EAAU1vC,SAAS9D,cAAc,oBACjC3H,KAAK6B,QAAQ6hB,mBACb1jB,KAAKM,QAAUN,KAAKo7C,cAAgBD,EACpCngC,eAAamgC,GAAU7B,IAElBt5C,KAAKo7C,cAAgBp7C,KAAKq7C,QAC/Br7C,KAAKq7C,MAAM14C,MAAMC,QAAU,OAC3B5C,KAAKq7C,MAAM3+B,UAAY,GACvB1c,KAAKq7C,MAAQ,OAOrBtB,EAAQ75C,UAAUoN,KAAO,WACrB,IAAIguC,GAAmBC,MAAOv7C,KAAM6B,QAAS7B,KAAK6B,QAAS4O,QAAQ,GAEnE,GADAzQ,KAAKoM,QAAQ,QAASkvC,IACjBA,EAAe7qC,OAAQ,CACxB,GAAIzQ,KAAK6B,QAAQiB,UAAUwE,SAAS6xC,IAChC,OAEJ,GAAIn5C,KAAK6B,QAAQiB,UAAUwE,SAAS8xC,IAAO,CACvC,IAAIoC,GAAoBr5C,KAAM,SAAUN,QAAS7B,KAAK6B,SACtD7B,KAAKoM,QAAQ,SAAUovC,GAE3BvgC,YAAUjb,KAAK6B,SAAUs3C,IACzBn+B,eAAahb,KAAK6B,SAAUu3C,IAC5Bp5C,KAAKm6C,WAAa9oC,oBAASrR,KAAK6B,SAAWwG,MAAS8I,aAAWnR,KAAK66C,YAChExpC,oBAASrR,KAAK6B,SAAWwG,MAAS8I,aAAWnR,KAAKqI,SACtDrI,KAAKo6C,UACLp6C,KAAKs6C,QAAQt6C,KAAKub,MAClB,IAAI4/B,EAAU1vC,SAAS9D,cAAc,oBACjC3H,KAAK6B,QAAQ6hB,oBACZ1jB,KAAKm6C,YAAcgB,IACpBA,EAAQx4C,MAAM84C,UAAY,kBACR,SAAlBz7C,KAAK0Q,SAAsByqC,EAAQx4C,MAAM8P,WAAa,MAAQ0oC,EAAQx4C,MAAM6P,YAAc,OAE9FxS,KAAKk7C,kBACLl7C,KAAKu6C,0BACLv6C,KAAK07C,eACa,UAAd17C,KAAKub,MACL9P,SAASC,KAAK5I,UAAU6B,OAAO,sBAEnC3E,KAAKszB,eAAgB1d,QAAQ,IAAS,KAO9CmkC,EAAQ75C,UAAU0P,KAAO,WACrB,IAAI+rC,GAAkBJ,MAAOv7C,KAAM6B,QAAS7B,KAAK6B,QAAS4O,QAAQ,GAElE,GADAzQ,KAAKoM,QAAQ,OAAQuvC,IAChBA,EAAclrC,OAAQ,CAEvB,GADAuK,eAAahb,KAAK6B,SAAU63C,IACxB15C,KAAK6B,QAAQiB,UAAUwE,SAAS8xC,IAChC,OAEJ,GAAIp5C,KAAK6B,QAAQiB,UAAUwE,SAAS6xC,IAAQ,CACxC,IAAIqC,GAAoBr5C,KAAM,SAAUN,QAAS7B,KAAK6B,SACtD7B,KAAKoM,QAAQ,SAAUovC,GAE3BvgC,YAAUjb,KAAK6B,UAAWu3C,GAAMC,KAChChoC,oBAASrR,KAAK6B,SAAW45C,UAAa,KACtCzgC,eAAahb,KAAK6B,SAAUs3C,IAC5B9nC,oBAASrR,KAAK6B,SAAWwG,MAAS8I,aAAWnR,KAAKqI,SAC/BrI,KAAK6B,QAAQqtB,wBAAwB7mB,MACxDrI,KAAKs6C,QAAQt6C,KAAKub,MAClBvb,KAAK47C,iBACL57C,KAAKu6C,0BACLv6C,KAAK07C,eACa,UAAd17C,KAAKub,MACL9P,SAASC,KAAK5I,UAAUC,IAAI,sBAEhC/C,KAAKszB,eAAgB1d,QAAQ,IAAQ,KAG7CmkC,EAAQ75C,UAAUw7C,aAAe,WACzB17C,KAAKslB,QACLtK,eAAahb,KAAK6B,SAAU+3C,IAG5B3+B,YAAUjb,KAAK6B,SAAU+3C,KAGjCG,EAAQ75C,UAAUk6C,QAAU,WACpBp6C,KAAKm6C,YAAgC,SAAlBn6C,KAAK0Q,WAAwB1Q,KAAK67C,WACrDxqC,oBAASrR,KAAK6B,SAAW45C,UAAa,gCAA0Cz7C,KAAK46C,aAAa56C,KAAK66C,UAAY,MAE9G76C,KAAKm6C,YAAgC,UAAlBn6C,KAAK0Q,WAAyB1Q,KAAK67C,YAC3DxqC,oBAASrR,KAAK6B,SAAW45C,UAAa,gCAA+Cz7C,KAAK46C,aAAa56C,KAAK66C,UAAY,MAExH76C,KAAK6B,QAAQiB,UAAUwE,SAAS6xC,KAAUn5C,KAAKm6C,YAC/C9oC,oBAASrR,KAAK6B,SAAWwG,MAASrI,KAAK46C,aAAa56C,KAAK66C,aAGjEd,EAAQ75C,UAAU07C,eAAiB,WAC/B,GAAI57C,KAAKM,QAAUN,KAAKo7C,aAAc,CAClC,IAAID,EAAU1vC,SAAS9D,cAAc,oBACjC3H,KAAK6B,QAAQ6hB,mBACjBzI,YAAUkgC,GAAU7B,SAEft5C,KAAKo7C,eAAiBp7C,KAAKq7C,OAASr7C,KAAK67C,aAC9C77C,KAAKq7C,MAAQr7C,KAAK0D,cAAc,OAChC1D,KAAKq7C,MAAM13C,UAtOD,oBAuOV3D,KAAKq7C,MAAM14C,MAAMC,QAAU,QAC3B6I,SAASC,KAAKtH,YAAYpE,KAAKq7C,SAGvCtB,EAAQ75C,UAAUqE,eAAiB,WAC/B,OAAOvE,KAAKwE,cAAc,OAAQ,WAAY,YAOlDu1C,EAAQ75C,UAAUuE,cAAgB,WAC9B,MAAO,WAMXs1C,EAAQ75C,UAAUsuB,OAAS,SAAUvoB,GACjCjG,KAAK6B,QAAQiB,UAAUwE,SAAS8xC,IAAQp5C,KAAKsN,OAAStN,KAAK4P,QAE/DmqC,EAAQ75C,UAAU27C,SAAW,WACzB,QAAO77C,KAAK6B,QAAQiB,UAAUwE,SAAS8xC,KAE3CW,EAAQ75C,UAAUm6C,cAAgB,WAC1Br6C,KAAK87C,YAAc97C,KAAK87C,WAAW/D,QACnC/3C,KAAK4P,OAEA5P,KAAK87C,YAAc97C,KAAK67C,YAC7B77C,KAAKsN,QAGbysC,EAAQ75C,UAAUyM,OAAS,SAAU1G,GACf,SAAdjG,KAAKub,OACDtZ,UAAQI,SACR4Y,YAAUjb,KAAK6B,SAAU23C,IAGzBv+B,YAAUjb,KAAK6B,SAAU43C,KAGjCz5C,KAAKq6C,iBAETN,EAAQ75C,UAAUy6C,qBAAuB,SAAU10C,GAC3C+H,UAAQ/H,EAAE3F,OAAQ,yBAGtBN,KAAKsN,QAETysC,EAAQ75C,UAAU67C,qBAAuB,SAAUngC,GACzB,SAAlB5b,KAAK0Q,UAA+C,UAAxBkL,EAAKwd,gBAChCxd,EAAKogC,QAAU,IAAMpgC,EAAK5T,WAAa,IAAM4T,EAAKud,UAAY,GAC/Dn5B,KAAK4P,OAEkB,SAAlB5P,KAAK0Q,UAA+C,SAAxBkL,EAAKwd,eACtCp5B,KAAKsN,OAEkB,UAAlBtN,KAAK0Q,UAAgD,UAAxBkL,EAAKwd,eACvCp5B,KAAKsN,OAEkB,UAAlBtN,KAAK0Q,UAAgD,SAAxBkL,EAAKwd,gBACnChzB,OAAOsnC,WAAa9xB,EAAKogC,QAAU,IAAMpgC,EAAK5T,WAAa,IAAM4T,EAAKud,UAAY,IACtFn5B,KAAK4P,QAGbmqC,EAAQ75C,UAAU+7C,kBAAoB,WAC9Bj8C,KAAKk8C,gBACLl8C,KAAKm8C,eAAiB,IAAIj5C,QAAMuI,SAASC,MAAQgoB,MAAO1zB,KAAK+7C,qBAAqB14C,KAAKrD,QACvFA,KAAKo8C,WAAa,IAAIl5C,QAAMlD,KAAK6B,SAAW6xB,MAAO1zB,KAAK+7C,qBAAqB14C,KAAKrD,SAG9EA,KAAKm8C,gBAAkBn8C,KAAKo8C,aAC5Bp8C,KAAKm8C,eAAez3C,UACpB1E,KAAKo8C,WAAW13C,YAI5Bq1C,EAAQ75C,UAAUuM,WAAa,WAC3BzM,KAAKi8C,oBACL71C,OAAOU,iBAAiB,SAAU9G,KAAK2M,OAAOtJ,KAAKrD,QAEvD+5C,EAAQ75C,UAAUuuB,aAAe,WAC7BroB,OAAO6yB,oBAAoB,SAAUj5B,KAAK2M,OAAOtJ,KAAKrD,OACtDuD,eAAaoB,OAAO8G,SAAU,uBAAwBzL,KAAK26C,sBACvD36C,KAAKm8C,gBACLn8C,KAAKm8C,eAAez3C,UAEpB1E,KAAKo8C,YACLp8C,KAAKo8C,WAAW13C,WAGxBq1C,EAAQ75C,UAAU2I,kBAAoB,SAAUC,EAASC,GAGrD,IAAK,IAFDoyC,EAAU1vC,SAAS9D,cAAc,oBACjC3H,KAAK6B,QAAQ6hB,mBACR3f,EAAK,EAAGe,EAAKvF,OAAOyJ,KAAKF,GAAU/E,EAAKe,EAAGnE,OAAQoD,IAAM,CAE9D,OADWe,EAAGf,IAEV,IAAK,SACD/D,KAAK4V,OAAS5V,KAAK4P,OAAS5P,KAAKsN,OACjC,MACJ,IAAK,QACDtN,KAAKg6C,WACAh6C,KAAK67C,YACN77C,KAAKo6C,UAET,MACJ,IAAK,UACDp6C,KAAK07C,eACL,MACJ,IAAK,OACD1gC,eAAahb,KAAK6B,UAAW63C,KAC7B15C,KAAKib,WACLjb,KAAKs6C,QAAQt6C,KAAKub,MAClB,MACJ,IAAK,WACDvb,KAAK6B,QAAQc,MAAM84C,UAAY,GAC/Bz7C,KAAKo6C,UACDe,IACkB,SAAlBn7C,KAAK0Q,SAAsByqC,EAAQx4C,MAAM6P,YAAc,MAAQ2oC,EAAQx4C,MAAM8P,WAAa,OAExE,UAAlBzS,KAAK0Q,UACLsK,eAAahb,KAAK6B,SA7V/B,UA8VaoZ,YAAUjb,KAAK6B,SAAU03C,MAGzBv+B,eAAahb,KAAK6B,SAAU03C,IAC5Bt+B,YAAUjb,KAAK6B,SAlW5B,WAoWS7B,KAAKs6C,QAAQt6C,KAAKub,MAClB,MACJ,IAAK,eACGvb,KAAKo7C,aACLp7C,KAAK47C,iBAGD57C,KAAKq7C,QACLr7C,KAAKq7C,MAAM14C,MAAMC,QAAU,OAC3B5C,KAAKq7C,MAAM3+B,UAAY,GACvB1c,KAAKq7C,MAAQ,MAGrB,MACJ,IAAK,SAC4B,iBAAjBr7C,KAAW,QACnBA,KAAKszB,eAAgBhzB,OAAQmL,SAAS9D,cAAc3H,KAAKM,UAAW,GAEpE26C,oBAAkBj7C,KAAKM,SACvB0a,eAAahb,KAAK6B,SAAUi4C,IAC5B9+B,eAAajS,EAAQzI,QAASu5C,IAC9BxoC,oBAAS8pC,GAAWkB,cAAe,EAAGC,eAAgB,IACtD7wC,SAASC,KAAK6wC,sBAAsB,aAAcv8C,KAAK6B,UAGvDF,EAAOzB,UAAUue,QAAQ3c,KAAK9B,MAElC,MACJ,IAAK,uBACDA,KAAKu6C,0BACL,MACJ,IAAK,aACIv6C,KAAK67C,YACN77C,KAAKo6C,UAET,MACJ,IAAK,SACDp6C,KAAKk6C,YACL,MACJ,IAAK,aACDl6C,KAAKq6C,gBACL,MACJ,IAAK,iBACDr6C,KAAKi8C,oBACL,MACJ,IAAK,YACDj8C,KAAKw6C,kBAKrBT,EAAQ75C,UAAUo6C,QAAU,SAAU/+B,GAClC,IAAIihC,EAAex8C,KAAK6B,QAAQqtB,wBAAwB7mB,MACxDrI,KAAKk6C,YACDl6C,KAAKm6C,YACLl/B,YAAUjb,KAAK6B,SAnad,UAqaL,IAAIs5C,EAAU1vC,SAAS9D,cAAc,oBACjC3H,KAAK6B,QAAQ6hB,mBACby3B,IACAA,EAAQx4C,MAAM84C,UAAY,kBACrBx5C,UAAQI,UAA0B,SAAdrC,KAAKub,OACR,SAAlBvb,KAAK0Q,SAAsByqC,EAAQx4C,MAAM8P,WAAa,MAAQ0oC,EAAQx4C,MAAM6P,YAAc,QAGlG,IAAIgH,GAASxZ,KAAK0Q,SAAsB8rC,EAAe,MACnD7pC,EAA6B,SAAlB3S,KAAK0Q,SAAsB8rC,KAE1C,OADAxhC,eAAahb,KAAK6B,UAAW43C,GAAMD,GApa/B,YAqaIj+B,GACJ,IAAK,OACDN,YAAUjb,KAAK6B,UAAW43C,KACtB0B,IAAYn7C,KAAKm6C,YAAcn6C,KAAK6B,QAAQiB,UAAUwE,SAAS8xC,OAC7C,SAAlBp5C,KAAK0Q,SAAsByqC,EAAQx4C,MAAM8P,WAAa+G,EAAS2hC,EAAQx4C,MAAM6P,YAAcgH,GAE/F,MACJ,IAAK,QACDyB,YAAUjb,KAAK6B,UA7anB,YA8aQs5C,IAAYn7C,KAAKm6C,YAAcn6C,KAAK6B,QAAQiB,UAAUwE,SAAS8xC,OAC/D+B,EAAQx4C,MAAM84C,UAAY,cAAgB9oC,EAAW,OAEzD,MACJ,IAAK,OACDsI,YAAUjb,KAAK6B,UAAW23C,KACtBx5C,KAAKm6C,YAAcn6C,KAAK6B,QAAQiB,UAAUwE,SAAS6xC,KAC/CgC,IACkB,SAAlBn7C,KAAK0Q,SAAsByqC,EAAQx4C,MAAM8P,WAAa+G,EAAS2hC,EAAQx4C,MAAM6P,YAAcgH,GAGnG,MACJ,IAAK,OACDyB,YAAUjb,KAAK6B,UAAWw3C,KACtBp3C,UAAQI,SACJ84C,GAAYn7C,KAAe,aAAMA,KAAK67C,YACpB,SAAlB77C,KAAK0Q,SAAsByqC,EAAQx4C,MAAM8P,WAAa+G,EAAS2hC,EAAQx4C,MAAM6P,YAAcgH,EAC3FyB,YAAUjb,KAAK6B,SAAU43C,KAGzBx+B,YAAUjb,KAAK6B,SAAU23C,KAI7Bv+B,YAAUjb,KAAK6B,SAAU43C,IACrB0B,IAAYn7C,KAAKm6C,YAAcn6C,KAAK6B,QAAQiB,UAAUwE,SAAS8xC,OAC7C,SAAlBp5C,KAAK0Q,SAAsByqC,EAAQx4C,MAAM8P,WAAa+G,EAAS2hC,EAAQx4C,MAAM6P,YAAcgH,GAE/FxZ,KAAKszB,eAAgB1d,QAAQ,IAAQ,IAEzC5V,KAAK47C,mBAOjB7B,EAAQ75C,UAAUwE,QAAU,WACxB/C,EAAOzB,UAAUwE,QAAQ5C,KAAK9B,MAC9Bgb,eAAahb,KAAK6B,UAAWu3C,GAAMD,GAAOM,GArdtC,UAqdmDD,GAxdpD,SAwdgED,GAAOF,GAAWO,GACjFN,GAAiBK,GAAsBD,KAC3C15C,KAAKk7C,kBACLl7C,KAAK6B,QAAQc,MAAM0F,MAAQ,GAC3BrI,KAAK6B,QAAQc,MAAMqpB,OAAS,GAC5BhsB,KAAK6B,QAAQc,MAAM84C,UAAY,GAC/B,IAAIN,EAAU1vC,SAAS9D,cAAc,oBAC9B3H,KAAK6B,QAAQ6hB,mBACfu3B,oBAAkBE,KACnBA,EAAQx4C,MAAM6W,OAAS,GACvB2hC,EAAQx4C,MAAM84C,UAAY,IAE1Bz7C,KAAKM,SACL0a,eAAahb,KAAK6B,SAAUi4C,IAC5B9+B,eAAahb,KAAKM,QAASu5C,IAC4B,SAAnD75C,KAAKy6C,oBAAoBxqC,cAAchD,SACvCjN,KAAKy6C,oBAAoB/+B,WAAW7V,aAAa7F,KAAK6B,QAAS7B,KAAKy6C,oBAAoB7gB,cAGhG55B,KAAKyuB,gBAETruB,IACI6I,WAAS,SACV8wC,EAAQ75C,UAAW,gBAAY,GAClCE,IACI6I,WAAS,OACV8wC,EAAQ75C,UAAW,kBAAc,GACpCE,IACI6I,YAAS,IACV8wC,EAAQ75C,UAAW,kBAAc,GACpCE,IACI6I,YAAS,IACV8wC,EAAQ75C,UAAW,sBAAkB,GACxCE,IACI6I,YAAS,IACV8wC,EAAQ75C,UAAW,cAAU,GAChCE,IACI6I,YAAS,IACV8wC,EAAQ75C,UAAW,iBAAa,GACnCE,IACI6I,YAAS,IACV8wC,EAAQ75C,UAAW,eAAW,GACjCE,IACI6I,WAAS,SACV8wC,EAAQ75C,UAAW,cAAU,GAChCE,IACI6I,YAAS,IACV8wC,EAAQ75C,UAAW,4BAAwB,GAC9CE,IACI6I,WAAS,SACV8wC,EAAQ75C,UAAW,gBAAY,GAClCE,IACI6I,WAAS,OACV8wC,EAAQ75C,UAAW,cAAU,GAChCE,IACI6I,YAAS,IACV8wC,EAAQ75C,UAAW,oBAAgB,GACtCE,IACI6I,WAAS,SACV8wC,EAAQ75C,UAAW,YAAQ,GAC9BE,IACI6I,WAAS,SACV8wC,EAAQ75C,UAAW,aAAS,GAC/BE,IACI6I,WAAS,MACV8wC,EAAQ75C,UAAW,cAAU,GAChCE,IACI2e,WACDg7B,EAAQ75C,UAAW,eAAW,GACjCE,IACI2e,WACDg7B,EAAQ75C,UAAW,aAAS,GAC/BE,IACI2e,WACDg7B,EAAQ75C,UAAW,YAAQ,GAC9BE,IACI2e,WACDg7B,EAAQ75C,UAAW,cAAU,GAChCE,IACI2e,WACDg7B,EAAQ75C,UAAW,iBAAa,GACnC65C,EAAU35C,IACN8I,yBACD6wC,IAEL5wC"}