{"version":3,"file":"ej2-navigations.min.js","sources":["../../node_modules/@syncfusion/ej2-base/src/util.js","../../node_modules/@syncfusion/ej2-base/src/dom.js","../../node_modules/@syncfusion/ej2-base/src/base.js","../../node_modules/@syncfusion/ej2-base/src/notify-property-change.js","../../node_modules/@syncfusion/ej2-base/src/animation.js","../../node_modules/@syncfusion/ej2-base/src/internationalization.js","../../node_modules/@syncfusion/ej2-base/src/template.js","../../node_modules/@syncfusion/ej2-base/src/template-engine.js","../../node_modules/@syncfusion/ej2-popups/src/common/position.js","../../node_modules/@syncfusion/ej2-popups/src/common/collision.js","../../node_modules/@syncfusion/ej2-popups/src/popup/popup.js","../../node_modules/@syncfusion/ej2-buttons/src/common/common.js","../../node_modules/@syncfusion/ej2-popups/src/spinner/spinner.js","../../node_modules/@syncfusion/ej2-lists/src/common/list-base.js","../../node_modules/@syncfusion/ej2-inputs/src/maskedtextbox/base/mask-base.js","../../node_modules/@syncfusion/ej2-splitbuttons/src/common/common.js","../../node_modules/@syncfusion/ej2-base/src/ajax.js","../../node_modules/@syncfusion/ej2-base/src/event-handler.js","../../node_modules/@syncfusion/ej2-base/src/observer.js","../../node_modules/@syncfusion/ej2-base/src/browser.js","../../node_modules/@syncfusion/ej2-base/src/intl/intl-base.js","../../node_modules/@syncfusion/ej2-base/src/canvas-renderer.js","../../node_modules/@syncfusion/ej2-base/src/module-loader.js","../../node_modules/@syncfusion/ej2-base/src/child-property.js","../../node_modules/@syncfusion/ej2-base/src/intl/parser-base.js","../../node_modules/@syncfusion/ej2-base/src/intl/number-formatter.js","../../node_modules/@syncfusion/ej2-base/src/intl/date-formatter.js","../../node_modules/@syncfusion/ej2-base/src/component.js","../../node_modules/@syncfusion/ej2-base/src/intl/date-parser.js","../../node_modules/@syncfusion/ej2-base/src/intl/number-parser.js","../../node_modules/@syncfusion/ej2-base/src/draggable.js","../../node_modules/@syncfusion/ej2-base/src/droppable.js","../../node_modules/@syncfusion/ej2-base/src/keyboard.js","../../node_modules/@syncfusion/ej2-base/src/l10n.js","../../node_modules/@syncfusion/ej2-base/src/svg-renderer.js","../../node_modules/@syncfusion/ej2-base/src/touch.js","../../src/common/h-scroll.js","../../node_modules/@syncfusion/ej2-buttons/src/button/button.js","../../node_modules/@syncfusion/ej2-buttons/src/check-box/check-box.js","../../node_modules/@syncfusion/ej2-buttons/src/radio-button/radio-button.js","../../node_modules/@syncfusion/ej2-buttons/src/switch/switch.js","../../node_modules/@syncfusion/ej2-popups/src/dialog/dialog.js","../../node_modules/@syncfusion/ej2-popups/src/tooltip/tooltip.js","../../src/toolbar/toolbar.js","../../src/accordion/accordion.js","../../node_modules/@syncfusion/ej2-data/src/query.js","../../node_modules/@syncfusion/ej2-data/src/util.js","../../node_modules/@syncfusion/ej2-data/src/adaptors.js","../../node_modules/@syncfusion/ej2-data/src/manager.js","../../node_modules/@syncfusion/ej2-lists/src/list-view/list-view.js","../../node_modules/@syncfusion/ej2-inputs/src/input/input.js","../../node_modules/@syncfusion/ej2-lists/src/list-view/virtualization.js","../../src/context-menu/context-menu.js","../../src/tab/tab.js","../../node_modules/@syncfusion/ej2-inputs/src/numerictextbox/numerictextbox.js","../../node_modules/@syncfusion/ej2-inputs/src/form-validator/form-validator.js","../../node_modules/@syncfusion/ej2-inputs/src/maskedtextbox/maskedtextbox/maskedtextbox.js","../../node_modules/@syncfusion/ej2-inputs/src/slider/slider.js","../../node_modules/@syncfusion/ej2-inputs/src/uploader/uploader.js","../../node_modules/@syncfusion/ej2-splitbuttons/src/drop-down-button/drop-down-button.js","../../node_modules/@syncfusion/ej2-splitbuttons/src/split-button/split-button.js","../../node_modules/@syncfusion/ej2-inputs/src/color-picker/color-picker.js","../../src/treeview/treeview.js","../../src/sidebar/sidebar.js"],"sourcesContent":["var instances = 'ej2_instances';\nvar uid = 0;\n/**\n * Create Instance from constructor function with desired parameters.\n * @param {Function} classFunction - Class function to which need to create instance\n * @param {any[]} params - Parameters need to passed while creating instance\n * @return {any}\n * @private\n */\nexport function createInstance(classFunction, params) {\n    var arrayParam = params;\n    arrayParam.unshift(undefined);\n    return new (Function.prototype.bind.apply(classFunction, arrayParam));\n}\n/**\n * To run a callback function immediately after the browser has completed other operations.\n * @param {Function} handler - callback function to be triggered.\n * @return {Function}\n * @private\n */\nexport function setImmediate(handler) {\n    var unbind;\n    var num = new Uint16Array(5);\n    var intCrypto = window.msCrypto || window.crypto;\n    intCrypto.getRandomValues(num);\n    var secret = 'ej2' + combineArray(num);\n    var messageHandler = function (event) {\n        if (event.source === window && typeof event.data === 'string' && event.data.length <= 32 && event.data === secret) {\n            handler();\n            unbind();\n        }\n    };\n    window.addEventListener('message', messageHandler, false);\n    window.postMessage(secret, '*');\n    return unbind = function () {\n        window.removeEventListener('message', messageHandler);\n        handler = messageHandler = secret = undefined;\n    };\n}\n/**\n * To get nameSpace value from the desired object.\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} obj - Object to get the inner object value.\n * @return {any}\n * @private\n */\nexport function getValue(nameSpace, obj) {\n    /* tslint:disable no-any */\n    var value = obj;\n    var splits = nameSpace.split('.');\n    for (var i = 0; i < splits.length && !isUndefined(value); i++) {\n        value = value[splits[i]];\n    }\n    return value;\n}\n/**\n * To set value for the nameSpace in desired object.\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} value - Value that you need to set.\n * @param {any} obj - Object to get the inner object value.\n * @return {void}\n * @private\n */\nexport function setValue(nameSpace, value, obj) {\n    var keys = nameSpace.split('.');\n    var start = obj || {};\n    var fromObj = start;\n    var i;\n    var length = keys.length;\n    var key;\n    for (i = 0; i < length; i++) {\n        key = keys[i];\n        if (i + 1 === length) {\n            fromObj[key] = value === undefined ? {} : value;\n        }\n        else if (isNullOrUndefined(fromObj[key])) {\n            fromObj[key] = {};\n        }\n        fromObj = fromObj[key];\n    }\n    return start;\n}\n/**\n * Delete an item from Object\n * @param {any} obj - Object in which we need to delete an item.\n * @param {string} params - String value to the get the inner object\n * @return {void}\n * @private\n */\nexport function deleteObject(obj, key) {\n    delete obj[key];\n}\n/**\n * Check weather the given argument is only object.\n * @param {any} obj - Object which is need to check.\n * @return {boolean}\n * @private\n */\nexport function isObject(obj) {\n    var objCon = {};\n    return (!isNullOrUndefined(obj) && obj.constructor === objCon.constructor);\n}\n/**\n * To get enum value by giving the string.\n * @param {any} enumObject - Enum object.\n * @param {string} enumValue - Enum value to be searched\n * @return {any}\n * @private\n */\nexport function getEnumValue(enumObject, enumValue) {\n    return enumObject[enumValue];\n}\n/**\n * Merge the source object into destination object.\n * @param {any} source - source object which is going to merge with destination object\n * @param {any} destination - object need to be merged\n * @return {void}\n * @private\n */\nexport function merge(source, destination) {\n    if (!isNullOrUndefined(destination)) {\n        var temrObj = source;\n        var tempProp = destination;\n        var keys = Object.keys(destination);\n        var deepmerge = 'deepMerge';\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (!isNullOrUndefined(temrObj[deepmerge]) && (temrObj[deepmerge].indexOf(key) !== -1) &&\n                (isObject(tempProp[key]) || Array.isArray(tempProp[key]))) {\n                extend(temrObj[key], temrObj[key], tempProp[key], true);\n            }\n            else {\n                temrObj[key] = tempProp[key];\n            }\n        }\n    }\n}\n/**\n * Extend the two object with newer one.\n * @param {any} copied - Resultant object after merged\n * @param {Object} first - First object need to merge\n * @param {Object} second - Second object need to merge\n * @return {Object}\n * @private\n */\nexport function extend(copied, first, second, deep) {\n    var result = copied || {};\n    var length = arguments.length;\n    if (deep) {\n        length = length - 1;\n    }\n    var _loop_1 = function (i) {\n        if (!arguments_1[i]) {\n            return \"continue\";\n        }\n        var obj1 = arguments_1[i];\n        Object.keys(obj1).forEach(function (key) {\n            var src = result[key];\n            var copy = obj1[key];\n            var clone;\n            if (deep && (isObject(copy) || Array.isArray(copy))) {\n                if (isObject(copy)) {\n                    clone = src ? src : {};\n                    result[key] = extend({}, clone, copy, deep);\n                }\n                else {\n                    clone = src ? src : [];\n                    result[key] = extend([], clone, copy, deep);\n                }\n            }\n            else {\n                result[key] = copy;\n            }\n        });\n    };\n    var arguments_1 = arguments;\n    for (var i = 1; i < length; i++) {\n        _loop_1(i);\n    }\n    return result;\n}\n/**\n * To check whether the object is null or undefined.\n * @param {Object} value - To check the object is null or undefined\n * @return {boolean}\n * @private\n */\nexport function isNullOrUndefined(value) {\n    return value === undefined || value === null;\n}\n/**\n * To check whether the object is undefined.\n * @param {Object} value - To check the object is undefined\n * @return {boolean}\n * @private\n */\nexport function isUndefined(value) {\n    return ('undefined' === typeof value);\n}\n/**\n * To return the generated unique name\n * @param {string} definedName - To concatenate the unique id to provided name\n * @return {string}\n * @private\n */\nexport function getUniqueID(definedName) {\n    return definedName + '_' + uid++;\n}\n/**\n * It limits the rate at which a function can fire. The function will fire only once every provided second instead of as quickly.\n * @param {Function} eventFunction - Specifies the function to run when the event occurs\n * @param {number} delay - A number that specifies the milliseconds for function delay call option\n * @return {Function}\n * @private\n */\nexport function debounce(eventFunction, delay) {\n    var out;\n    // tslint:disable-next-line\n    return function () {\n        var _this = this;\n        var args = arguments;\n        var later = function () {\n            out = null;\n            return eventFunction.apply(_this, args);\n        };\n        clearTimeout(out);\n        out = setTimeout(later, delay);\n    };\n}\n// Added since lint ignored after added '//tslint:disable-next-line' \n/* tslint:disable:no-any */\n/**\n * To convert the object to string for query url\n * @param  {Object} data\n * @returns string\n * @private\n */\nexport function queryParams(data) {\n    var array = [];\n    var keys = Object.keys(data);\n    for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n        var key = keys_2[_i];\n        array.push(encodeURIComponent(key) + '=' + encodeURIComponent('' + data[key]));\n    }\n    return array.join('&');\n}\n/**\n * To check whether the given array contains object.\n * @param {T[]} value- Specifies the T type array to be checked.\n * @private\n */\nexport function isObjectArray(value) {\n    var parser = Object.prototype.toString;\n    if (parser.call(value) === '[object Array]') {\n        if (parser.call(value[0]) === '[object Object]') {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * To check whether the  child element is descendant to parent element or parent and child are same element.\n * @param{Element} - Specifies the child element to compare with parent.\n * @param{Element} - Specifies the parent element.\n * @return boolean\n * @private\n */\nexport function compareElementParent(child, parent) {\n    var node = child;\n    if (node === parent) {\n        return true;\n    }\n    else if (node === document || !node) {\n        return false;\n    }\n    else {\n        return compareElementParent(node.parentNode, parent);\n    }\n}\n/**\n * To throw custom error message.\n * @param{string} - Specifies the error message to be thrown.\n * @private\n */\nexport function throwError(message) {\n    try {\n        throw new Error(message);\n    }\n    catch (e) {\n        throw e.message + '\\n' + e.stack;\n    }\n}\n/**\n * This function is used to print given element\n * @param{Element} element - Specifies the print content element.\n * @param{Window} printWindow - Specifies the print window.\n * @private\n */\nexport function print(element, printWindow) {\n    var div = document.createElement('div');\n    var links = [].slice.call(document.getElementsByTagName('head')[0].querySelectorAll('link, style'));\n    var reference = '';\n    if (isNullOrUndefined(printWindow)) {\n        printWindow = window.open('', 'print', 'height=452,width=1024,tabbar=no');\n    }\n    div.appendChild(element.cloneNode(true));\n    for (var i = 0, len = links.length; i < len; i++) {\n        reference += links[i].outerHTML;\n    }\n    printWindow.document.write('<!DOCTYPE html> <html><head>' + reference + '</head><body>' + div.innerHTML +\n        '<script> (function() { window.ready = true; })(); </script>' + '</body></html>');\n    printWindow.document.close();\n    printWindow.focus();\n    // tslint:disable-next-line\n    var interval = setInterval(function () {\n        if (printWindow.ready) {\n            printWindow.print();\n            printWindow.close();\n            clearInterval(interval);\n        }\n    }, 500);\n    return printWindow;\n}\n/**\n * Function to normalize the units applied to the element.\n * @param  {number|string} value\n * @return {string} result\n * @private\n */\nexport function formatUnit(value) {\n    var result = value + '';\n    if (result === 'auto' || result.indexOf('%') !== -1 || result.indexOf('px') !== -1) {\n        return result;\n    }\n    return result + 'px';\n}\n/**\n * Function to fetch the Instances of a HTML element for the given component.\n * @param {string | HTMLElement} element\n * @param {any} component\n * @return {Object} inst\n * @private\n */\n// tslint:disable-next-line\nexport function getInstance(element, component) {\n    // tslint:disable-next-line:no-any\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        for (var _i = 0, _a = elem[instances]; _i < _a.length; _i++) {\n            var inst = _a[_i];\n            if (inst instanceof component) {\n                return inst;\n            }\n        }\n    }\n    return null;\n}\n/**\n * Function to add instances for the given element.\n * @param {string | HTMLElement} element\n * @param {Object} instance\n * @return {void}\n * @private\n */\nexport function addInstance(element, instance) {\n    // tslint:disable-next-line:no-any\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        elem[instances].push(instance);\n    }\n    else {\n        elem[instances] = [instance];\n    }\n}\n/**\n * Function to generate the unique id.\n * @return {any}\n * @private\n */\n// tslint:disable-next-line:no-any\nexport function uniqueID() {\n    // tslint:disable-next-line:no-any\n    if ((typeof window) === 'undefined') {\n        return;\n    }\n    // tslint:disable-next-line:no-any\n    var num = new Uint16Array(5);\n    var intCrypto = window.msCrypto || window.crypto;\n    return intCrypto.getRandomValues(num);\n}\nfunction combineArray(num) {\n    var ret = '';\n    for (var i = 0; i < 5; i++) {\n        ret += (i ? ',' : '') + num[i];\n    }\n    return ret;\n}\n","/**\n * Functions related to dom operations.\n */\nimport { EventHandler } from './event-handler';\nimport { isNullOrUndefined } from './util';\nvar SVG_REG = /^svg|^path|^g/;\n/**\n * Function to create Html element.\n * @param tagName - Name of the tag, id and class names.\n * @param properties - Object to set properties in the element.\n * @param properties.id - To set the id to the created element.\n * @param properties.className - To add classes to the element.\n * @param properties.innerHTML - To set the innerHTML to element.\n * @param properties.styles - To set the some custom styles to element.\n * @param properties.attrs - To set the attributes to element.\n * @private\n */\nexport function createElement(tagName, properties) {\n    //tslint:disable-next-line\n    var element = (SVG_REG.test(tagName) ? document.createElementNS('http://www.w3.org/2000/svg', tagName) : document.createElement(tagName));\n    if (typeof (properties) === 'undefined') {\n        return element;\n    }\n    element.innerHTML = (properties.innerHTML ? properties.innerHTML : '');\n    if (properties.className !== undefined) {\n        element.className = properties.className;\n    }\n    if (properties.id !== undefined) {\n        element.id = properties.id;\n    }\n    if (properties.styles !== undefined) {\n        element.setAttribute('style', properties.styles);\n    }\n    if (properties.attrs !== undefined) {\n        attributes(element, properties.attrs);\n    }\n    return element;\n}\n/**\n * The function used to add the classes to array of elements\n * @param  {Element[]|NodeList} elements - An array of elements that need to add a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @private\n */\nexport function addClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        for (var _b = 0, classList_1 = classList; _b < classList_1.length; _b++) {\n            var className = classList_1[_b];\n            if (!ele.classList.contains(className)) {\n                ele.classList.add(className);\n            }\n        }\n    }\n    return elements;\n}\n/**\n * The function used to add the classes to array of elements\n * @param  {Element[]|NodeList} elements - An array of elements that need to remove a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @private\n */\nexport function removeClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        if (ele.className !== '') {\n            for (var _b = 0, classList_2 = classList; _b < classList_2.length; _b++) {\n                var className = classList_2[_b];\n                ele.classList.remove(className);\n            }\n        }\n    }\n    return elements;\n}\nfunction getClassList(classes) {\n    var classList = [];\n    if (typeof classes === 'string') {\n        classList.push(classes);\n    }\n    else {\n        classList = classes;\n    }\n    return classList;\n}\n/**\n * The function used to check element is visible or not.\n * @param  {Element|Node} element - An element the need to check visibility\n * @private\n */\nexport function isVisible(element) {\n    var ele = element;\n    return (ele.style.visibility === '' && ele.offsetWidth > 0);\n}\n/**\n * The function used to insert an array of elements into a first of the element.\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to prepend.\n * @param  {Element} toElement - An element that is going to prepend.\n * @private\n */\nexport function prepend(fromElements, toElement) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.insertBefore(docFrag, toElement.firstElementChild);\n    return fromElements;\n}\n/**\n * The function used to insert an array of elements into last of the element.\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to append.\n * @param  {Element} toElement - An element that is going to prepend.\n * @private\n */\nexport function append(fromElements, toElement) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.appendChild(docFrag);\n    return fromElements;\n}\n/**\n * The function used to remove the element from the\n * @param  {Element|Node|HTMLElement} element - An element that is going to detach from the Dom\n * @private\n */\nexport function detach(element) {\n    var parentNode = element.parentNode;\n    return parentNode.removeChild(element);\n}\n/**\n * The function used to remove the element from Dom also clear the bounded events\n * @param  {Element|Node|HTMLElement} element - An element remove from the Dom\n * @private\n */\nexport function remove(element) {\n    var parentNode = element.parentNode;\n    EventHandler.clearEvents(element);\n    parentNode.removeChild(element);\n}\n/**\n * The function helps to set multiple attributes to an element\n * @param  {Element|Node} element - An element that need to set attributes.\n * @param  {{[key:string]:string}} attributes - JSON Object that is going to as attributes.\n * @private\n */\nexport function attributes(element, attributes) {\n    var keys = Object.keys(attributes);\n    var ele = element;\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        ele.setAttribute(key, attributes[key]);\n    }\n    return ele;\n}\n/**\n * The function selects the element from giving context.\n * @param  {string} selector - Selector string need fetch element from the\n * @param  {Document|Element=document} context - It is an optional type, That specifies a Dom context.\n * @private\n */\nexport function select(selector, context) {\n    if (context === void 0) { context = document; }\n    return context.querySelector(selector);\n}\n/**\n * The function selects an array of element from the given context.\n * @param  {string} selector - Selector string need fetch element from the\n * @param  {Document|Element=document} context - It is an optional type, That specifies a Dom context.\n * @private\n */\nexport function selectAll(selector, context) {\n    if (context === void 0) { context = document; }\n    var nodeList = context.querySelectorAll(selector);\n    return nodeList;\n}\n/**\n * Returns single closest parent element based on class selector.\n * @param  {Element} element - An element that need to find the closest element.\n * @param  {string} selector - A classSelector of closest element.\n * @private\n */\nexport function closest(element, selector) {\n    var el = element;\n    if (typeof el.closest === 'function') {\n        return el.closest(selector);\n    }\n    while (el && el.nodeType === 1) {\n        if (matches(el, selector)) {\n            return el;\n        }\n        el = el.parentNode;\n    }\n    return null;\n}\n/**\n * Returns all sibling elements of the given element.\n * @param  {Element|Node} element - An element that need to get siblings.\n * @private\n */\nexport function siblings(element) {\n    var siblings = [];\n    var childNodes = Array.prototype.slice.call(element.parentNode.childNodes);\n    for (var _i = 0, childNodes_1 = childNodes; _i < childNodes_1.length; _i++) {\n        var curNode = childNodes_1[_i];\n        if (curNode.nodeType === Node.ELEMENT_NODE && element !== curNode) {\n            siblings.push(curNode);\n        }\n    }\n    return siblings;\n}\n/**\n * set the value if not exist. Otherwise set the existing value\n * @param  {HTMLElement} element - An element to which we need to set value.\n * @param  {string} property - Property need to get or set.\n * @param  {string} value - value need to set.\n * @private\n */\nexport function getAttributeOrDefault(element, property, value) {\n    var attrVal = element.getAttribute(property);\n    if (isNullOrUndefined(attrVal)) {\n        element.setAttribute(property, value.toString());\n        attrVal = value;\n    }\n    return attrVal;\n}\n/**\n * Set the style attributes to Html element.\n * @param {HTMLElement} element - Element which we want to set attributes\n * @param {any} attrs - Set the given attributes to element\n * @return {void}\n * @private\n */\nexport function setStyleAttribute(element, attrs) {\n    if (attrs !== undefined) {\n        Object.keys(attrs).forEach(function (key) {\n            // tslint:disable-next-line:no-any\n            element.style[key] = attrs[key];\n        });\n    }\n}\n/**\n * Method for add and remove classes to a dom element.\n * @param {Element} element - Element for add and remove classes\n * @param {string[]} addClasses - List of classes need to be add to the element\n * @param {string[]} removeClasses - List of classes need to be remove from the element\n * @return {void}\n * @private\n */\nexport function classList(element, addClasses, removeClasses) {\n    addClass([element], addClasses);\n    removeClass([element], removeClasses);\n}\n/**\n * Method to check whether the element matches the given selector.\n * @param {Element} element - Element to compare with the selector.\n * @param {string} selector - String selector which element will satisfy.\n * @return {void}\n * @private\n */\nexport function matches(element, selector) {\n    var matches = element.matches || element.msMatchesSelector || element.webkitMatchesSelector;\n    if (matches) {\n        return matches.call(element, selector);\n    }\n    else {\n        return [].indexOf.call(document.querySelectorAll(selector), element) !== -1;\n    }\n}\n","import { isUndefined, isNullOrUndefined, merge, setImmediate, setValue } from './util';\nimport { addClass, removeClass } from './dom';\nimport { Observer } from './observer';\n/* tslint:enable:no-any */\n/**\n * Base library module is common module for Framework modules like touch,keyboard and etc.,\n * @private\n */\nvar Base = /** @class */ (function () {\n    /**\n     * Base constructor accept options and element\n     */\n    function Base(options, element) {\n        this.isProtectedOnChange = true;\n        this.properties = {};\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.refreshing = false;\n        // tslint:disable-next-line:no-empty\n        this.finalUpdate = function () { };\n        this.childChangedProperties = {};\n        this.modelObserver = new Observer(this);\n        if (!isUndefined(element)) {\n            if ('string' === typeof (element)) {\n                this.element = document.querySelector(element);\n            }\n            else {\n                this.element = element;\n            }\n            if (!isNullOrUndefined(this.element)) {\n                this.isProtectedOnChange = false;\n                this.addInstance();\n            }\n        }\n        if (!isUndefined(options)) {\n            this.setProperties(options, true);\n        }\n        this.isDestroyed = false;\n    }\n    /** Property base section */\n    /**\n     * Function used to set bunch of property at a time.\n     * @private\n     * @param  {Object} prop - JSON object which holds components properties.\n     * @param  {boolean} muteOnChange? - Specifies to true when we set properties.\n     */\n    Base.prototype.setProperties = function (prop, muteOnChange) {\n        var prevDetection = this.isProtectedOnChange;\n        this.isProtectedOnChange = !!muteOnChange;\n        merge(this, prop);\n        if (muteOnChange !== true) {\n            merge(this.changedProperties, prop);\n            this.dataBind();\n        }\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.isProtectedOnChange = prevDetection;\n    };\n    ;\n    /**\n     * Calls for child element data bind\n     * @param {Object} obj\n     * @param {Object} parent\n     * @returns {void}\n     */\n    // tslint:disable-next-line:no-any\n    Base.callChildDataBind = function (obj, parent) {\n        var keys = Object.keys(obj);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (parent[key] instanceof Array) {\n                for (var _a = 0, _b = parent[key]; _a < _b.length; _a++) {\n                    var obj_1 = _b[_a];\n                    if (obj_1.dataBind !== undefined) {\n                        obj_1.dataBind();\n                    }\n                }\n            }\n            else {\n                parent[key].dataBind();\n            }\n        }\n    };\n    Base.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.childChangedProperties = {};\n    };\n    /**\n     * Bind property changes immediately to components\n     */\n    Base.prototype.dataBind = function () {\n        Base.callChildDataBind(this.childChangedProperties, this);\n        if (Object.getOwnPropertyNames(this.changedProperties).length) {\n            var prevDetection = this.isProtectedOnChange;\n            var newChanges = this.changedProperties;\n            var oldChanges = this.oldProperties;\n            this.clearChanges();\n            this.isProtectedOnChange = true;\n            this.onPropertyChanged(newChanges, oldChanges);\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    ;\n    Base.prototype.saveChanges = function (key, newValue, oldValue) {\n        if (this.isProtectedOnChange) {\n            return;\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.finalUpdate();\n        this.finalUpdate = setImmediate(this.dataBind.bind(this));\n    };\n    ;\n    /** Event Base Section */\n    /**\n     * Adds the handler to the given event listener.\n     * @param {string} eventName - A String that specifies the name of the event\n     * @param {Function} listener - Specifies the call to run when the event occurs.\n     * @return {void}\n     */\n    Base.prototype.addEventListener = function (eventName, handler) {\n        this.modelObserver.on(eventName, handler);\n    };\n    /**\n     * Removes the handler from the given event listener.\n     * @param {string} eventName - A String that specifies the name of the event to remove\n     * @param {Function} listener - Specifies the function to remove\n     * @return {void}\n     */\n    Base.prototype.removeEventListener = function (eventName, handler) {\n        this.modelObserver.off(eventName, handler);\n    };\n    /**\n     * Triggers the handlers in the specified event.\n     * @private\n     * @param {string} eventName - Specifies the event to trigger for the specified component properties.\n     * Can be a custom event, or any of the standard events.\n     * @param {Event} eventProp - Additional parameters to pass on to the event properties\n     * @return {void}\n     */\n    Base.prototype.trigger = function (eventName, eventProp) {\n        if (this.isDestroyed !== true) {\n            var prevDetection = this.isProtectedOnChange;\n            this.isProtectedOnChange = false;\n            this.modelObserver.notify(eventName, eventProp);\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    /**\n     * To maintain instance in base class\n     */\n    Base.prototype.addInstance = function () {\n        // Add module class to the root element\n        var moduleClass = 'e-' + this.getModuleName().toLowerCase();\n        addClass([this.element], ['e-control', moduleClass]);\n        if (!isNullOrUndefined(this.element.ej2_instances)) {\n            this.element.ej2_instances.push(this);\n        }\n        else {\n            setValue('ej2_instances', [this], this.element);\n        }\n    };\n    /**\n     * To remove the instance from the element\n     */\n    Base.prototype.destroy = function () {\n        var _this = this;\n        this.element.ej2_instances =\n            this.element.ej2_instances.filter(function (i) { return i !== _this; });\n        removeClass([this.element], ['e-' + this.getModuleName()]);\n        if (this.element.ej2_instances.length === 0) {\n            // Remove module class from the root element\n            removeClass([this.element], ['e-control']);\n        }\n        this.clearChanges();\n        this.modelObserver.destroy();\n        this.isDestroyed = true;\n    };\n    return Base;\n}());\nexport { Base };\nexport function getComponent(elem, comp) {\n    var instance;\n    var i;\n    for (i = 0; i < elem.ej2_instances.length; i++) {\n        instance = elem.ej2_instances[i];\n        var compName = instance.getModuleName();\n        if (comp === compName) {\n            return instance;\n        }\n    }\n    return undefined;\n}\n","import { createInstance, isUndefined, merge, extend, getValue } from './util';\n/**\n * Returns the Class Object\n * @param {ClassObject} instance - instance of ClassObject\n * @param {string} curKey - key of the current instance\n * @param {Object} defaultValue - default Value\n * @param {Object[]} type\n */\nfunction getObject(instance, curKey, defaultValue, type) {\n    if (!instance.properties.hasOwnProperty(curKey) || !(instance.properties[curKey] instanceof type)) {\n        instance.properties[curKey] = createInstance(type, [instance, curKey, defaultValue]);\n    }\n    return instance.properties[curKey];\n}\n/**\n * Returns object array\n * @param {ClassObject} instance\n * @param {string} curKey\n * @param {Object[]} defaultValue\n * @param type\n * @param {boolean} isSetter\n * @returns {Object[]}\n */\nfunction getObjectArray(instance, curKey, defaultValue, type, isSetter, isFactory) {\n    var result = [];\n    var len = defaultValue.length;\n    for (var i = 0; i < len; i++) {\n        var curType = type;\n        if (isFactory) {\n            curType = type(defaultValue[i]);\n        }\n        if (isSetter) {\n            var inst = createInstance(curType, [instance, curKey, {}, true]);\n            inst.setProperties(defaultValue[i], true);\n            result.push(inst);\n        }\n        else {\n            result.push(createInstance(curType, [instance, curKey, defaultValue[i], true]));\n        }\n    }\n    return result;\n}\n/**\n * Returns the properties of the object\n * @param {Object} defaultValue\n * @param {string} curKey\n */\nfunction propertyGetter(defaultValue, curKey) {\n    return function () {\n        if (!this.properties.hasOwnProperty(curKey)) {\n            this.properties[curKey] = defaultValue;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n * Set the properties for the object\n * @param {Object} defaultValue\n * @param {string} curKey\n */\nfunction propertySetter(defaultValue, curKey) {\n    return function (newValue) {\n        if (this.properties[curKey] !== newValue) {\n            var oldVal = this.properties.hasOwnProperty(curKey) ? this.properties[curKey] : defaultValue;\n            this.saveChanges(curKey, newValue, oldVal);\n            this.properties[curKey] = newValue;\n        }\n    };\n}\n/**\n * Returns complex objects\n */\nfunction complexGetter(defaultValue, curKey, type) {\n    return function () {\n        return getObject(this, curKey, defaultValue, type);\n    };\n}\n/**\n * Sets complex objects\n */\nfunction complexSetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        getObject(this, curKey, defaultValue, type).setProperties(newValue);\n    };\n}\nfunction complexFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        if (this.properties.hasOwnProperty(curKey)) {\n            return this.properties[curKey];\n        }\n        else {\n            return getObject(this, curKey, defaultValue, curType);\n        }\n    };\n}\nfunction complexFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var curType = type(newValue);\n        getObject(this, curKey, defaultValue, curType).setProperties(newValue);\n    };\n}\nfunction complexArrayGetter(defaultValue, curKey, type) {\n    return function () {\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, type, false);\n            this.properties[curKey] = defCollection;\n        }\n        return this.properties[curKey];\n    };\n}\nfunction complexArraySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var oldValueCollection = getObjectArray(this, curKey, defaultValue, type, false);\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true);\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\nfunction complexArrayFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var oldValueCollection = this.properties.hasOwnProperty(curKey) ? this.properties[curKey] : defaultValue;\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true, true);\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\nfunction complexArrayFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, curType, false);\n            this.properties[curKey] = defCollection;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n * Method used to create property. General syntax below.\n * @param  {T} defaultValue? - Specifies the default value of property.\n * ```\n * @Property('TypeScript')\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Property(defaultValue) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: propertySetter(defaultValue, key),\n            get: propertyGetter(defaultValue, key),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'prop', defaultValue);\n    };\n}\n/**\n * Method used to create complex property. General syntax below.\n * @param  {T} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Complex<Type>({},Type)\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Complex(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexSetter(defaultValue, key, type),\n            get: complexGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex Factory property. General syntax below.\n * @param  {Function} defaultType - Specifies the default value of property.\n * @param  {Function} type - Specifies the class factory type of complex object.\n * ```\n * @ComplexFactory(defaultType, factoryFunction)\n * propertyName: Type1 | Type2;\n * ```\n * @private\n */\nexport function ComplexFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexFactorySetter({}, key, type),\n            get: complexFactoryGetter({}, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', {}, type);\n    };\n}\n/**\n * Method used to create complex array property. General syntax below.\n * @param  {T[]} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Collection(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArraySetter(defaultValue, key, type),\n            get: complexArrayGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex factory array property. General syntax below.\n * @param  {T[]} defaultType - Specifies the default type of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function CollectionFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArrayFactorySetter([], key, type),\n            get: complexArrayFactoryGetter([], key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', {}, type);\n    };\n}\n/**\n * Method used to create event property. General syntax below.\n * @param  {Function} defaultValue? - Specifies the default value of property.\n * @param  {boolean} isComplex? - Specifies the whether it is complex object.\n * ```\n * @Event(()=>{return true;})\n * ```\n * @private\n */\nexport function Event() {\n    return function (target, key) {\n        var eventDescriptor = {\n            set: function (newValue) {\n                var oldValue = this.properties[key];\n                if (oldValue !== newValue) {\n                    var finalContext = getParentContext(this, key);\n                    if (isUndefined(oldValue) === false) {\n                        finalContext.context.removeEventListener(finalContext.prefix, oldValue);\n                    }\n                    finalContext.context.addEventListener(finalContext.prefix, newValue);\n                    this.properties[key] = newValue;\n                }\n            },\n            get: propertyGetter(undefined, key),\n            enumerable: true,\n            configurable: true\n        };\n        Object.defineProperty(target, key, eventDescriptor);\n        addPropertyCollection(target, key, 'event');\n    };\n}\n/**\n * NotifyPropertyChanges is triggers the call back when the property has been changed.\n *\n * ```\n *  @NotifyPropertyChanges\n * class DemoClass implements INotifyPropertyChanged {\n *\n *     @Property()\n *     property1: string;\n *\n *     dataBind: () => void;\n *\n *     constructor() { }\n *\n *     onPropertyChanged(newProp: any, oldProp: any) {\n *         // Called when property changed\n *     }\n * }\n * ```\n * @private\n */\nexport function NotifyPropertyChanges(classConstructor) {\n    /** Need to code */\n}\n/**\n * Method  used to create the builderObject for the target component.\n * @private\n */\nfunction addPropertyCollection(target, key, propertyType, defaultValue, type) {\n    if (isUndefined(target.propList)) {\n        target.propList = {\n            props: [],\n            complexProps: [],\n            colProps: [],\n            events: [],\n            propNames: [],\n            complexPropNames: [],\n            colPropNames: [],\n            eventNames: []\n        };\n    }\n    /* tslint:disable no-any */\n    target.propList[propertyType + 's'].push({\n        propertyName: key,\n        defaultValue: defaultValue,\n        type: type\n    });\n    target.propList[propertyType + 'Names'].push(key);\n    /* tslint:enable no-any */\n}\n/**\n * Returns an object containing the builder properties\n * @param {Function} component\n * @private\n */\nfunction getBuilderProperties(component) {\n    if (isUndefined(component.prototype.builderObject)) {\n        component.prototype.builderObject = {\n            properties: {}, propCollections: [], add: function () {\n                this.isPropertyArray = true;\n                this.propCollections.push(extend({}, this.properties, {}));\n            }\n        };\n        var rex = /complex/;\n        for (var _i = 0, _a = Object.keys(component.prototype.propList); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var _loop_1 = function (prop) {\n                if (rex.test(key)) {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        var childType = {};\n                        merge(childType, getBuilderProperties(prop.type));\n                        value(childType);\n                        var tempValue;\n                        if (!childType.isPropertyArray) {\n                            tempValue = extend({}, childType.properties, {});\n                        }\n                        else {\n                            tempValue = childType.propCollections;\n                        }\n                        this.properties[prop.propertyName] = tempValue;\n                        childType.properties = {};\n                        childType.propCollections = [];\n                        childType.isPropertyArray = false;\n                        return this;\n                    };\n                }\n                else {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        this.properties[prop.propertyName] = value;\n                        return this;\n                    };\n                }\n            };\n            for (var _b = 0, _c = component.prototype.propList[key]; _b < _c.length; _b++) {\n                var prop = _c[_b];\n                _loop_1(prop);\n            }\n        }\n    }\n    return component.prototype.builderObject;\n}\n/**\n * Method used to create builder for the components\n * @param {any} component -specifies the target component for which builder to be created.\n * @private\n */\nexport function CreateBuilder(component) {\n    var builderFunction = function (element) {\n        this.element = element;\n        return this;\n    };\n    var instanceFunction = function (element) {\n        if (!builderFunction.prototype.hasOwnProperty('create')) {\n            builderFunction.prototype = getBuilderProperties(component);\n            builderFunction.prototype.create = function () {\n                var temp = extend({}, {}, this.properties);\n                this.properties = {};\n                return new component(temp, this.element);\n            };\n        }\n        return new builderFunction(element);\n    };\n    return instanceFunction;\n}\n/**\n * Returns parent options for the object\n * @param {Object} context\n * @param {string} prefix\n * @private\n */\nfunction getParentContext(context, prefix) {\n    if (context.hasOwnProperty('parentObj') === false) {\n        return { context: context, prefix: prefix };\n    }\n    else {\n        var curText = getValue('propName', context);\n        if (curText) {\n            prefix = curText + '-' + prefix;\n        }\n        return getParentContext(getValue('parentObj', context), prefix);\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { createElement, selectAll, closest } from './dom';\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { EventHandler } from './event-handler';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\n/**\n * The Animation framework provide options to animate the html DOM elements\n * ```typescript\n *   let animeObject = new Animation({\n *      name: 'SlideLeftIn',\n *      duration: 1000\n *   });\n *   animeObject.animate('#anime1');\n *   animeObject.animate('#anime2', { duration: 500 });\n * ```\n */\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation(options) {\n        var _this = _super.call(this, options, undefined) || this;\n        /**\n         * @private\n         */\n        _this.easing = {\n            ease: 'cubic-bezier(0.250, 0.100, 0.250, 1.000)',\n            linear: 'cubic-bezier(0.250, 0.250, 0.750, 0.750)',\n            easeIn: 'cubic-bezier(0.420, 0.000, 1.000, 1.000)',\n            easeOut: 'cubic-bezier(0.000, 0.000, 0.580, 1.000)',\n            easeInOut: 'cubic-bezier(0.420, 0.000, 0.580, 1.000)',\n            elasticInOut: 'cubic-bezier(0.5,-0.58,0.38,1.81)',\n            elasticIn: 'cubic-bezier(0.17,0.67,0.59,1.81)',\n            elasticOut: 'cubic-bezier(0.7,-0.75,0.99,1.01)'\n        };\n        return _this;\n    }\n    Animation_1 = Animation;\n    /**\n     * Applies animation to the current element.\n     * @param {string | HTMLElement} element - Element which needs to be animated.\n     * @param {AnimationModel} options - Overriding default animation settings.\n     * @return {void}\n     */\n    Animation.prototype.animate = function (element, options) {\n        options = !options ? {} : options;\n        var model = this.getModel(options);\n        if (typeof element === 'string') {\n            var elements = Array.prototype.slice.call(selectAll(element, document));\n            for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                var element_1 = elements_1[_i];\n                model.element = element_1;\n                Animation_1.delayAnimation(model);\n            }\n        }\n        else {\n            model.element = element;\n            Animation_1.delayAnimation(model);\n        }\n    };\n    /**\n     * Stop the animation effect on animated element.\n     * @param {HTMLElement} element - Element which needs to be stop the animation.\n     * @param {AnimationOptions} model - Handling the animation model at stop function.\n     * @return {void}\n     */\n    Animation.stop = function (element, model) {\n        element.style.animation = '';\n        element.removeAttribute('e-animate');\n        var animationId = element.getAttribute('e-animation-id');\n        if (animationId) {\n            var frameId = parseInt(animationId, 10);\n            cancelAnimationFrame(frameId);\n            element.removeAttribute('e-animation-id');\n        }\n        if (model && model.end) {\n            model.end.call(this, model);\n        }\n    };\n    /**\n     * Set delay to animation element\n     * @param {AnimationModel} model\n     * @returns {void}\n     */\n    Animation.delayAnimation = function (model) {\n        if (model.delay) {\n            setTimeout(function () { Animation_1.applyAnimation(model); }, model.delay);\n        }\n        else {\n            Animation_1.applyAnimation(model);\n        }\n    };\n    /**\n     * Triggers animation\n     * @param {AnimationModel} model\n     * @returns {void}\n     */\n    Animation.applyAnimation = function (model) {\n        var _this = this;\n        model.timeStamp = 0;\n        var step = 0;\n        var timerId = 0;\n        var startTime = 0;\n        var prevTimeStamp = 0;\n        var duration = model.duration;\n        model.element.setAttribute('e-animate', 'true');\n        var startAnimation = function (timeStamp) {\n            try {\n                if (timeStamp) {\n                    // let step: number = model.timeStamp = timeStamp - startTime;\n                    /** phantomjs workaround for timestamp fix */\n                    prevTimeStamp = prevTimeStamp === 0 ? timeStamp : prevTimeStamp;\n                    model.timeStamp = (timeStamp + model.timeStamp) - prevTimeStamp;\n                    prevTimeStamp = timeStamp;\n                    /** phantomjs workaround end */\n                    // trigger animation begin event\n                    if (!step && model.begin) {\n                        model.begin.call(_this, model);\n                    }\n                    step = step + 1;\n                    var avg = model.timeStamp / step;\n                    if (model.timeStamp < duration && model.timeStamp + avg < duration && model.element.getAttribute('e-animate')) {\n                        // apply animation effect to the current element                \n                        model.element.style.animation = model.name + ' ' + model.duration + 'ms ' + model.timingFunction;\n                        if (model.progress) {\n                            model.progress.call(_this, model);\n                        }\n                        // repeat requestAnimationFrame \n                        requestAnimationFrame(startAnimation);\n                    }\n                    else {\n                        // clear requestAnimationFrame\n                        cancelAnimationFrame(timerId);\n                        model.element.removeAttribute('e-animation-id');\n                        model.element.removeAttribute('e-animate');\n                        model.element.style.animation = '';\n                        if (model.end) {\n                            model.end.call(_this, model);\n                        }\n                    }\n                }\n                else {\n                    startTime = performance.now();\n                    // set initial requestAnimationFrame\n                    timerId = requestAnimationFrame(startAnimation);\n                    model.element.setAttribute('e-animation-id', timerId.toString());\n                }\n            }\n            catch (e) {\n                cancelAnimationFrame(timerId);\n                model.element.removeAttribute('e-animation-id');\n                if (model.fail) {\n                    model.fail.call(_this, e);\n                }\n            }\n        };\n        startAnimation();\n    };\n    /**\n     * Returns Animation Model\n     * @param {AnimationModel} options\n     * @returns {AnimationModel}\n     */\n    Animation.prototype.getModel = function (options) {\n        return {\n            name: options.name || this.name,\n            delay: options.delay || this.delay,\n            duration: (options.duration !== undefined ? options.duration : this.duration),\n            begin: options.begin || this.begin,\n            end: options.end || this.end,\n            fail: options.fail || this.fail,\n            progress: options.progress || this.progress,\n            timingFunction: this.easing[options.timingFunction] ? this.easing[options.timingFunction] :\n                (options.timingFunction || this.easing[this.timingFunction])\n        };\n    };\n    /**\n     * @private\n     */\n    Animation.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // no code needed\n    };\n    /**\n     * Returns module name as animation\n     * @private\n     */\n    Animation.prototype.getModuleName = function () {\n        return 'animation';\n    };\n    /**\n     * @private\n     */\n    Animation.prototype.destroy = function () {\n        //Override base destroy;\n    };\n    __decorate([\n        Property('FadeIn')\n    ], Animation.prototype, \"name\", void 0);\n    __decorate([\n        Property(400)\n    ], Animation.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], Animation.prototype, \"timingFunction\", void 0);\n    __decorate([\n        Property(0)\n    ], Animation.prototype, \"delay\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"begin\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"end\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"fail\", void 0);\n    Animation = Animation_1 = __decorate([\n        NotifyPropertyChanges\n    ], Animation);\n    return Animation;\n    var Animation_1;\n}(Base));\nexport { Animation };\n/**\n * Ripple provides material theme's wave effect when an element is clicked\n * ```html\n * <div id='ripple'></div>\n * <script>\n *   rippleEffect(document.getElementById('ripple'));\n * </script>\n * ```\n * @private\n * @param HTMLElement element - Target element\n * @param RippleOptions rippleOptions - Ripple options .\n */\nexport function rippleEffect(element, rippleOptions, done) {\n    var rippleModel = getRippleModel(rippleOptions);\n    if (rippleModel.rippleFlag === false || (rippleModel.rippleFlag === undefined && !isRippleEnabled)) {\n        return Function;\n    }\n    element.setAttribute('data-ripple', 'true');\n    EventHandler.add(element, 'mousedown', rippleHandler, { parent: element, rippleOptions: rippleModel });\n    EventHandler.add(element, 'mouseup', rippleUpHandler, { parent: element, rippleOptions: rippleModel, done: done });\n    EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    if (Browser.isPointer) {\n        EventHandler.add(element, 'transitionend', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    }\n    return (function () {\n        element.removeAttribute('data-ripple');\n        EventHandler.remove(element, 'mousedown', rippleHandler);\n        EventHandler.remove(element, 'mouseup', rippleUpHandler);\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n        EventHandler.remove(element, 'transitionend', rippleLeaveHandler);\n    });\n}\nfunction getRippleModel(rippleOptions) {\n    var rippleModel = {\n        selector: rippleOptions && rippleOptions.selector ? rippleOptions.selector : null,\n        ignore: rippleOptions && rippleOptions.ignore ? rippleOptions.ignore : null,\n        rippleFlag: rippleOptions && rippleOptions.rippleFlag,\n        isCenterRipple: rippleOptions && rippleOptions.isCenterRipple,\n        duration: rippleOptions && rippleOptions.duration ? rippleOptions.duration : 350\n    };\n    return rippleModel;\n}\n/**\n * Handler for ripple event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleHandler(e) {\n    var target = (e.target);\n    var selector = this.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (this.rippleOptions && closest(target, this.rippleOptions.ignore))) {\n        return;\n    }\n    var offset = element.getBoundingClientRect();\n    var offsetX = e.pageX - document.body.scrollLeft;\n    var offsetY = e.pageY - ((!document.body.scrollTop && document.documentElement) ?\n        document.documentElement.scrollTop : document.body.scrollTop);\n    var pageX = Math.max(Math.abs(offsetX - offset.left), Math.abs(offsetX - offset.right));\n    var pageY = Math.max(Math.abs(offsetY - offset.top), Math.abs(offsetY - offset.bottom));\n    var radius = Math.sqrt(pageX * pageX + pageY * pageY);\n    var diameter = radius * 2 + 'px';\n    var x = offsetX - offset.left - radius;\n    var y = offsetY - offset.top - radius;\n    if (this.rippleOptions && this.rippleOptions.isCenterRipple) {\n        x = 0;\n        y = 0;\n        diameter = '100%';\n    }\n    element.classList.add('e-ripple');\n    var duration = this.rippleOptions.duration.toString();\n    var styles = 'width: ' + diameter + ';height: ' + diameter + ';left: ' + x + 'px;top: ' + y + 'px;' +\n        'transition-duration: ' + duration + 'ms;';\n    var rippleElement = createElement('div', { className: 'e-ripple-element', styles: styles });\n    element.appendChild(rippleElement);\n    window.getComputedStyle(rippleElement).getPropertyValue('opacity');\n    rippleElement.style.transform = 'scale(1)';\n    if (element !== this.parent) {\n        EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: this.parent, rippleOptions: this.rippleOptions });\n    }\n}\n/**\n * Handler for ripple element mouse up event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleUpHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for ripple element mouse move event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleLeaveHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for removing ripple element\n * @param {MouseEvent} e\n * @param {rippleArgs} eventArgs\n * @returns {void}\n * @private\n */\nfunction removeRipple(e, eventArgs) {\n    var duration = eventArgs.rippleOptions.duration;\n    var target = (e.target);\n    var selector = eventArgs.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (element && element.className.indexOf('e-ripple') === -1)) {\n        return;\n    }\n    var rippleElements = selectAll('.e-ripple-element', element);\n    var rippleElement = rippleElements[rippleElements.length - 1];\n    if (rippleElement) {\n        rippleElement.style.opacity = '0.5';\n    }\n    if (eventArgs.parent !== element) {\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n    }\n    /* tslint:disable:align */\n    setTimeout(function () {\n        if (rippleElement && rippleElement.parentNode) {\n            rippleElement.parentNode.removeChild(rippleElement);\n        }\n        if (!element.getElementsByClassName('e-ripple-element').length) {\n            element.classList.remove('e-ripple');\n        }\n        if (eventArgs.done) {\n            eventArgs.done(e);\n        }\n    }, duration);\n}\nexport var isRippleEnabled = false;\n/**\n * Animation Module provides support to enable ripple effect functionality to Essential JS 2 components.\n * @param {boolean} isRipple Specifies the boolean value to enable or disable ripple effect.\n * @returns {boolean}\n */\nexport function enableRipple(isRipple) {\n    isRippleEnabled = isRipple;\n    return isRippleEnabled;\n}\n","import { DateFormat } from './intl/date-formatter';\nimport { NumberFormat } from './intl/number-formatter';\nimport { DateParser } from './intl/date-parser';\nimport { NumberParser } from './intl/number-parser';\nimport { IntlBase } from './intl/intl-base';\nimport { extend, getValue } from './util';\nimport { Observer } from './observer';\n/**\n * Specifies the observer used for external change detection.\n */\nexport var onIntlChange = new Observer();\n/**\n * Specifies the default rtl status for EJ2 components.\n */\nexport var rightToLeft = false;\n/**\n * Specifies the CLDR data loaded for internationalization functionalities.\n * @private\n */\nexport var cldrData = {};\n/**\n * Specifies the default culture value to be considered.\n * @private\n */\nexport var defaultCulture = 'en-US';\n/**\n * Specifies default currency code to be considered\n * @private\n */\nexport var defaultCurrencyCode = 'USD';\nvar mapper = ['numericObject', 'dateObject'];\n/**\n * Internationalization class provides support to parse and format the number and date object to the desired format.\n * ```typescript\n * // To set the culture globally\n * setCulture('en-GB');\n *\n * // To set currency code globally\n * setCurrencyCode('EUR');\n *\n * //Load cldr data\n * loadCldr(gregorainData);\n * loadCldr(timeZoneData);\n * loadCldr(numbersData);\n * loadCldr(numberSystemData);\n *\n * // To use formatter in component side\n * let Intl:Internationalization = new Internationalization();\n *\n * // Date formatting\n * let dateFormatter: Function = Intl.getDateFormat({skeleton:'long',type:'dateTime'});\n * dateFormatter(new Date('11/2/2016'));\n * dateFormatter(new Date('25/2/2030'));\n * Intl.formatDate(new Date(),{skeleton:'E'});\n *\n * //Number formatting\n * let numberFormatter: Function = Intl.getNumberFormat({skeleton:'C5'})\n * numberFormatter(24563334);\n * Intl.formatNumber(123123,{skeleton:'p2'});\n *\n * // Date parser\n * let dateParser: Function = Intl.getDateParser({skeleton:'short',type:'time'});\n * dateParser('10:30 PM');\n * Intl.parseDate('10',{skeleton:'H'});\n * ```\n */\nvar Internationalization = /** @class */ (function () {\n    function Internationalization(cultureName) {\n        if (cultureName) {\n            this.culture = cultureName;\n        }\n    }\n    /**\n     * Returns the format function for given options.\n     * @param {DateFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getDateFormat = function (options) {\n        return DateFormat.dateFormat(this.getCulture(), options || { type: 'date', skeleton: 'short' }, cldrData);\n    };\n    /**\n     * Returns the format function for given options.\n     * @param {NumberFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getNumberFormat = function (options) {\n        if (options && !options.currency) {\n            options.currency = defaultCurrencyCode;\n        }\n        return NumberFormat.numberFormatter(this.getCulture(), options || {}, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     * @param {DateFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function}\n     * @private\n     */\n    Internationalization.prototype.getDateParser = function (options) {\n        return DateParser.dateParser(this.getCulture(), options || { skeleton: 'short', type: 'date' }, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     * @param {NumberFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getNumberParser = function (options) {\n        return NumberParser.numberParser(this.getCulture(), options || { format: 'N' }, cldrData);\n    };\n    /**\n     * Returns the formatted string based on format options.\n     * @param {Number} value - Specifies the number to format.\n     * @param {NumberFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string}\n     */\n    Internationalization.prototype.formatNumber = function (value, option) {\n        return this.getNumberFormat(option)(value);\n    };\n    /**\n     * Returns the formatted date string based on format options.\n     * @param {Number} value - Specifies the number to format.\n     * @param {DateFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string}\n     */\n    Internationalization.prototype.formatDate = function (value, option) {\n        return this.getDateFormat(option)(value);\n    };\n    /**\n     * Returns the date object for given date string and options.\n     * @param {string} value - Specifies the string to parse.\n     * @param {DateFormatOptions} option - Specifies the parse options in which the date string will be parsed.\n     * @returns {Date}\n     */\n    Internationalization.prototype.parseDate = function (value, option) {\n        return this.getDateParser(option)(value);\n    };\n    /**\n     * Returns the number object from the given string value and options.\n     * @param {string} value - Specifies the string to parse.\n     * @param {NumberFormatOptions} option - Specifies the parse options in which the  string number  will be parsed.\n     * @returns {number}\n     */\n    Internationalization.prototype.parseNumber = function (value, option) {\n        return this.getNumberParser(option)(value);\n    };\n    /**\n     * Returns Native Date Time Pattern\n     * @param {DateFormatOptions} option - Specifies the parse options for resultant date time pattern.\n     * @param {boolean} isExcelFormat - Specifies format value to be converted to excel pattern.\n     * @returns {string}\n     * @private\n     */\n    Internationalization.prototype.getDatePattern = function (option, isExcelFormat) {\n        return IntlBase.getActualDateTimeFormat(this.getCulture(), option, cldrData, isExcelFormat);\n    };\n    /**\n     * Returns Native Number Pattern\n     * @param {NumberFormatOptions} option - Specifies the parse options for resultant number pattern.\n     * @returns {string}\n     * @private\n     */\n    Internationalization.prototype.getNumberPattern = function (option) {\n        return IntlBase.getActualNumberFormat(this.getCulture(), option, cldrData);\n    };\n    /**\n     * Returns the First Day of the Week\n     * @returns {number}\n     */\n    Internationalization.prototype.getFirstDayOfWeek = function () {\n        return IntlBase.getWeekData(this.getCulture(), cldrData);\n    };\n    Internationalization.prototype.getCulture = function () {\n        return this.culture || defaultCulture;\n    };\n    return Internationalization;\n}());\nexport { Internationalization };\n/**\n * Set the default culture to all EJ2 components\n * @param {string} cultureName - Specifies the culture name to be set as default culture.\n */\nexport function setCulture(cultureName) {\n    defaultCulture = cultureName;\n    onIntlChange.notify('notifyExternalChange', { 'locale': defaultCulture });\n}\n/**\n * Set the default currency code to all EJ2 components\n * @param {string} currencyCode Specifies the culture name to be set as default culture.\n * @returns {void}\n */\nexport function setCurrencyCode(currencyCode) {\n    defaultCurrencyCode = currencyCode;\n    onIntlChange.notify('notifyExternalChange', { 'currencyCode': defaultCurrencyCode });\n}\n/**\n * Load the CLDR data into context\n * @param {Object[]} obj Specifies the CLDR data's to be used for formatting and parser.\n * @returns {void}\n */\nexport function loadCldr() {\n    var data = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        data[_i] = arguments[_i];\n    }\n    for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {\n        var obj = data_1[_a];\n        extend(cldrData, obj, {}, true);\n    }\n}\n/**\n * To enable or disable RTL functionality for all components globally.\n * @param {boolean} status - Optional argument Specifies the status value to enable or disable rtl option.\n * @returns {void}\n */\nexport function enableRtl(status) {\n    if (status === void 0) { status = true; }\n    rightToLeft = status;\n    onIntlChange.notify('notifyExternalChange', { enableRtl: rightToLeft });\n}\n/**\n * To get the numeric CLDR object for given culture\n * @param {string} locale - Specifies the locale for which numericObject to be returned.\n * @ignore\n * @private\n */\nexport function getNumericObject(locale, type) {\n    /* tslint:disable no-any */\n    var numObject = IntlBase.getDependables(cldrData, locale, true)[mapper[0]];\n    var dateObject = IntlBase.getDependables(cldrData, locale)[mapper[1]];\n    var numSystem = getValue('defaultNumberingSystem', numObject);\n    var symbPattern = getValue('symbols-numberSystem-' + numSystem, numObject);\n    var pattern = IntlBase.getSymbolPattern(type || 'decimal', numSystem, numObject, false);\n    return extend(symbPattern, IntlBase.getFormatData(pattern, true, '', true), { 'dateSeparator': IntlBase.getDateSeparator(dateObject) });\n}\n/**\n * To get the default date CLDR object.\n * @ignore\n * @private\n */\nexport function getDefaultDateObject() {\n    return IntlBase.getDependables(cldrData, '', false)[mapper[1]];\n}\n","/**\n * Template Engine\n */\nvar LINES = new RegExp('\\\\n|\\\\r|\\\\s\\\\s+', 'g');\nvar QUOTES = new RegExp(/'|\"/g);\nvar IF_STMT = new RegExp('if ?\\\\(');\nvar ELSEIF_STMT = new RegExp('else if ?\\\\(');\nvar ELSE_STMT = new RegExp('else');\nvar FOR_STMT = new RegExp('for ?\\\\(');\nvar IF_OR_FOR = new RegExp('(\\/if|\\/for)');\nvar CALL_FUNCTION = new RegExp('\\\\((.*)\\\\)', '');\nvar NOT_NUMBER = new RegExp('^[0-9]+$', 'g');\nvar WORD = new RegExp('[\\\\w\"\\'.\\\\s+]+', 'g');\nvar DBL_QUOTED_STR = new RegExp('\"(.*?)\"', 'g');\nvar exp = new RegExp('\\\\${([^}]*)}', 'g');\n// let cachedTemplate: Object = {};\n/**\n * The function to set regular expression for template expression string.\n * @param  {RegExp} value - Value expression.\n * @private\n */\nexport function expression(value) {\n    if (value) {\n        exp = value;\n    }\n    return exp;\n}\n// /**\n//  * To render the template string from the given data.\n//  * @param  {string} template - String Template.\n//  * @param  {Object[]|JSON} data - DataSource for the template.\n//  * @param  {Object} helper? - custom helper object.\n//  */\n// export function template(template: string, data: JSON, helper?: Object): string {\n//     let hash: string = hashCode(template);\n//     let tmpl: Function;\n//     if (!cachedTemplate[hash]) {\n//         tmpl = cachedTemplate[hash] = compile(template, helper);\n//     } else {\n//         tmpl = cachedTemplate[hash];\n//     }\n//     return tmpl(data);\n// }\n/**\n * Compile the template string into template function.\n * @param  {string} template - The template string which is going to convert.\n * @param  {Object} helper? - Helper functions as an object.\n * @private\n */\nexport function compile(template, helper) {\n    var argName = 'data';\n    var evalExpResult = evalExp(template, argName, helper);\n    var fnCode = \"var str=\\\"\" + evalExpResult + \"\\\"; return str;\";\n    // tslint:disable-next-line:no-function-constructor-with-string-args\n    var fn = new Function(argName, fnCode);\n    return fn.bind(helper);\n}\n// function used to evaluate the function expression\nfunction evalExp(str, nameSpace, helper) {\n    var varCOunt = 0;\n    /**\n     * Variable containing Local Keys\n     */\n    var localKeys = [];\n    return str.replace(LINES, '').replace(DBL_QUOTED_STR, '\\'$1\\'').replace(exp, function (match, cnt, offset, matchStr) {\n        var matches = cnt.match(CALL_FUNCTION);\n        // matches to detect any function calls\n        if (matches) {\n            var rlStr = matches[1];\n            if (ELSEIF_STMT.test(cnt)) {\n                //handling else-if condition\n                cnt = '\";} ' + cnt.replace(matches[1], rlStr.replace(WORD, function (str) {\n                    str = str.trim();\n                    return addNameSpace(str, !(QUOTES.test(str)) && (localKeys.indexOf(str) === -1), nameSpace, localKeys);\n                })) + '{ \\n str = str + \"';\n            }\n            else if (IF_STMT.test(cnt)) {\n                //handling if condition\n                cnt = '\"; ' + cnt.replace(matches[1], rlStr.replace(WORD, function (strs) {\n                    strs = strs.trim();\n                    return addNameSpace(strs, !(QUOTES.test(strs)) && (localKeys.indexOf(strs) === -1), nameSpace, localKeys);\n                })) + '{ \\n str = str + \"';\n            }\n            else if (FOR_STMT.test(cnt)) {\n                //handling for condition\n                var rlStr_1 = matches[1].split(' of ');\n                // replace for each into actual JavaScript\n                cnt = '\"; ' + cnt.replace(matches[1], function (mtc) {\n                    localKeys.push(rlStr_1[0]);\n                    localKeys.push(rlStr_1[0] + 'Index');\n                    varCOunt = varCOunt + 1;\n                    // tslint:disable-next-line\n                    return 'var i' + varCOunt + '=0; i' + varCOunt + ' < ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys) + '.length; i' + varCOunt + '++';\n                }) + '{ \\n ' + rlStr_1[0] + '= ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys)\n                    + '[i' + varCOunt + ']; \\n var ' + rlStr_1[0] + 'Index=i' + varCOunt + '; \\n str = str + \"';\n            }\n            else {\n                //helper function handling\n                var fnStr = cnt.split('(');\n                var fNameSpace = (helper && helper.hasOwnProperty(fnStr[0]) ? 'this.' : 'global');\n                fNameSpace = (/\\./.test(fnStr[0]) ? '' : fNameSpace);\n                cnt = '\" + ' + (fNameSpace === 'global' ? '' : fNameSpace) +\n                    cnt.replace(rlStr, addNameSpace(matches[1].replace(',', nameSpace + '.'), (fNameSpace === 'global' ? false : true), nameSpace, localKeys)) +\n                    '+\"';\n            }\n        }\n        else if (ELSE_STMT.test(cnt)) {\n            //handling else condition\n            cnt = '\"; ' + cnt.replace(ELSE_STMT, '} else { \\n str = str + \"');\n        }\n        else if (!!cnt.match(IF_OR_FOR)) {\n            // close condition \n            cnt = cnt.replace(IF_OR_FOR, '\"; \\n } \\n str = str + \"');\n        }\n        else {\n            // evaluate normal expression\n            cnt = '\"+' + addNameSpace(cnt, (localKeys.indexOf(cnt) === -1), nameSpace, localKeys) + '+\"';\n        }\n        return cnt;\n    });\n}\nfunction addNameSpace(str, addNS, nameSpace, ignoreList) {\n    return ((addNS && !(NOT_NUMBER.test(str)) && ignoreList.indexOf(str.split('.')[0]) === -1) ? nameSpace + '.' + str : str);\n}\n// // Create hashCode for template string to storeCached function\n// function hashCode(str: string): string {\n//     return str.split('').reduce((a: number, b: string) => { a = ((a << 5) - a) + b.charCodeAt(0); return a & a; }, 0).toString();\n// }\n","/**\n * Template Engine Bridge\n */\nimport { compile as render } from './template';\nimport { createElement } from './dom';\nvar HAS_ROW = /^[\\n\\r.]+\\<tr|^\\<tr/;\nvar HAS_SVG = /^[\\n\\r.]+\\<svg|^\\<path|^\\<g/;\n/**\n * Compile the template string into template function.\n * @param  {string} templateString - The template string which is going to convert.\n * @param  {Object} helper? - Helper functions as an object.\n * @private\n */\n//tslint:disable-next-line\nexport function compile(templateString, helper) {\n    var compiler = engineObj.compile(templateString, helper);\n    //tslint:disable-next-line\n    return function (data, component, propName) {\n        var result = compiler(data, component, propName);\n        if (typeof result === 'string') {\n            if (HAS_SVG.test(result)) {\n                var ele = createElement('svg', { innerHTML: result });\n                return ele.childNodes;\n            }\n            else {\n                var ele = createElement((HAS_ROW.test(result) ? 'table' : 'div'), { innerHTML: result });\n                return ele.childNodes;\n            }\n        }\n        else {\n            return result;\n        }\n    };\n}\n/**\n * Set your custom template engine for template rendering.\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\nexport function setTemplateEngine(classObj) {\n    engineObj.compile = classObj.compile;\n}\n/**\n * Get current template engine for template rendering.\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\nexport function getTemplateEngine() {\n    return engineObj.compile;\n}\n//Default Engine Class\nvar Engine = /** @class */ (function () {\n    function Engine() {\n    }\n    Engine.prototype.compile = function (templateString, helper) {\n        if (helper === void 0) { helper = {}; }\n        return render(templateString, helper);\n    };\n    return Engine;\n}());\nvar engineObj = { compile: new Engine().compile };\n","/**\n * Position library\n */\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar elementRect;\nvar popupRect;\nvar element;\nvar parentDocument;\nvar fixedParent = false;\nexport function calculateRelativeBasedPosition(anchor, element) {\n    var fixedElement = false;\n    var anchorPos = { left: 0, top: 0 };\n    var tempAnchor = anchor;\n    if (!anchor || !element) {\n        return anchorPos;\n    }\n    if (isNullOrUndefined(element.offsetParent) && element.style.position === 'fixed') {\n        fixedElement = true;\n    }\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left += anchor.offsetLeft;\n        anchorPos.top += anchor.offsetTop;\n        anchor = anchor.offsetParent;\n    }\n    anchor = tempAnchor;\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left -= anchor.scrollLeft;\n        anchorPos.top -= anchor.scrollTop;\n        anchor = anchor.parentElement;\n    }\n    return anchorPos;\n}\nexport function calculatePosition(currentElement, positionX, positionY, parentElement, targetValues) {\n    popupRect = targetValues;\n    fixedParent = parentElement ? true : false;\n    if (!currentElement) {\n        return { left: 0, top: 0 };\n    }\n    if (!positionX) {\n        positionX = 'left';\n    }\n    if (!positionY) {\n        positionY = 'top';\n    }\n    parentDocument = currentElement.ownerDocument;\n    element = currentElement;\n    var pos = { left: 0, top: 0 };\n    return updatePosition(positionX.toLowerCase(), positionY.toLowerCase(), pos);\n}\nfunction setPosx(value, pos) {\n    pos.left = value;\n}\nfunction setPosy(value, pos) {\n    pos.top = value;\n}\nfunction updatePosition(posX, posY, pos) {\n    elementRect = element.getBoundingClientRect();\n    switch (posY + posX) {\n        case 'topcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'topright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'centercenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'bottomcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        default:\n        case 'topleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n    }\n    return pos;\n}\nfunction getBodyScrollTop() {\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\nfunction getBodyScrollLeft() {\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\nfunction getElementBottom() {\n    return fixedParent ? elementRect.bottom : elementRect.bottom + getBodyScrollTop();\n}\nfunction getElementVCenter() {\n    return getElementTop() + (elementRect.height / 2);\n}\nfunction getElementTop() {\n    return fixedParent ? elementRect.top : elementRect.top + getBodyScrollTop();\n}\nfunction getElementLeft() {\n    return elementRect.left + getBodyScrollLeft();\n}\nfunction getElementRight() {\n    return elementRect.right + getBodyScrollLeft() - (popupRect ? popupRect.width : 0);\n}\nfunction getElementHCenter() {\n    return getElementLeft() + (elementRect.width / 2);\n}\n","/**\n * Collision module.\n */\nimport { calculatePosition } from './position';\nvar parentDocument;\nvar targetContainer;\nexport function fit(element, viewPortElement, axis, position) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: false, Y: false }; }\n    if (!axis.Y && !axis.X) {\n        return { left: 0, top: 0 };\n    }\n    var elemData = element.getBoundingClientRect();\n    targetContainer = viewPortElement;\n    parentDocument = element.ownerDocument;\n    if (!position) {\n        position = calculatePosition(element, 'left', 'top');\n    }\n    if (axis.X) {\n        var containerWidth = targetContainer ? getTargetContainerWidth() : getViewPortWidth();\n        var containerLeft = ContainerLeft();\n        var containerRight = ContainerRight();\n        var overLeft = containerLeft - position.left;\n        var overRight = position.left + elemData.width - containerRight;\n        if (elemData.width > containerWidth) {\n            if (overLeft > 0 && overRight <= 0) {\n                position.left = containerRight - elemData.width;\n            }\n            else if (overRight > 0 && overLeft <= 0) {\n                position.left = containerLeft;\n            }\n            else {\n                position.left = overLeft > overRight ? (containerRight - elemData.width) : containerLeft;\n            }\n        }\n        else if (overLeft > 0) {\n            position.left += overLeft;\n        }\n        else if (overRight > 0) {\n            position.left -= overRight;\n        }\n    }\n    if (axis.Y) {\n        var containerHeight = targetContainer ? getTargetContainerHeight() : getViewPortHeight();\n        var containerTop = ContainerTop();\n        var containerBottom = ContainerBottom();\n        var overTop = containerTop - position.top;\n        var overBottom = position.top + elemData.height - containerBottom;\n        if (elemData.height > containerHeight) {\n            if (overTop > 0 && overBottom <= 0) {\n                position.top = containerBottom - elemData.height;\n            }\n            else if (overBottom > 0 && overTop <= 0) {\n                position.top = containerTop;\n            }\n            else {\n                position.top = overTop > overBottom ? (containerBottom - elemData.height) : containerTop;\n            }\n        }\n        else if (overTop > 0) {\n            position.top += overTop;\n        }\n        else if (overBottom > 0) {\n            position.top -= overBottom;\n        }\n    }\n    return position;\n}\nexport function isCollide(element, viewPortElement, x, y) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    var elemOffset = calculatePosition(element, 'left', 'top');\n    if (x) {\n        elemOffset.left = x;\n    }\n    if (y) {\n        elemOffset.top = y;\n    }\n    var data = [];\n    targetContainer = viewPortElement;\n    parentDocument = element.ownerDocument;\n    var elementRect = element.getBoundingClientRect();\n    var top = elemOffset.top;\n    var left = elemOffset.left;\n    var right = elemOffset.left + elementRect.width;\n    var bottom = elemOffset.top + elementRect.height;\n    var topData = '';\n    var leftData = '';\n    var yAxis = topCollideCheck(top, bottom);\n    var xAxis = leftCollideCheck(left, right);\n    if (yAxis.topSide) {\n        data.push('top');\n    }\n    if (xAxis.rightSide) {\n        data.push('right');\n    }\n    if (xAxis.leftSide) {\n        data.push('left');\n    }\n    if (yAxis.bottomSide) {\n        data.push('bottom');\n    }\n    return data;\n}\nexport function flip(element, target, offsetX, offsetY, positionX, positionY, viewPortElement, axis, fixedParent) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: true, Y: true }; }\n    if (!target || !element || !positionX || !positionY || (!axis.X && !axis.Y)) {\n        return;\n    }\n    var tEdge = { TL: null,\n        TR: null,\n        BL: null,\n        BR: null };\n    var eEdge = {\n        TL: null,\n        TR: null,\n        BL: null,\n        BR: null\n    };\n    var elementRect = element.getBoundingClientRect();\n    var pos = {\n        posX: positionX, posY: positionY, offsetX: offsetX, offsetY: offsetY, position: { left: 0, top: 0 }\n    };\n    targetContainer = viewPortElement;\n    parentDocument = target.ownerDocument;\n    updateElementData(target, tEdge, pos, fixedParent, elementRect);\n    setPosition(eEdge, pos, elementRect);\n    if (axis.X) {\n        leftFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    if (axis.Y && tEdge.TL.top > -1) {\n        topFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    setPopup(element, pos, elementRect);\n}\nfunction setPopup(element, pos, elementRect) {\n    var left = 0;\n    var top = 0;\n    if (element.offsetParent != null\n        && (getComputedStyle(element.offsetParent).position === 'absolute' ||\n            getComputedStyle(element.offsetParent).position === 'relative')) {\n        var data = calculatePosition(element.offsetParent, 'left', 'top', false, elementRect);\n        left = data.left;\n        top = data.top;\n    }\n    element.style.top = (pos.position.top + pos.offsetY - (top)) + 'px';\n    element.style.left = (pos.position.left + pos.offsetX - (left)) + 'px';\n}\nfunction updateElementData(target, edge, pos, fixedParent, elementRect) {\n    pos.position = calculatePosition(target, pos.posX, pos.posY, fixedParent, elementRect);\n    edge.TL = calculatePosition(target, 'left', 'top', fixedParent, elementRect);\n    edge.TR = calculatePosition(target, 'right', 'top', fixedParent, elementRect);\n    edge.BR = calculatePosition(target, 'left', 'bottom', fixedParent, elementRect);\n    edge.BL = calculatePosition(target, 'right', 'bottom', fixedParent, elementRect);\n}\nfunction setPosition(eStatus, pos, elementRect) {\n    eStatus.TL = { top: pos.position.top + pos.offsetY, left: pos.position.left + pos.offsetX };\n    eStatus.TR = { top: eStatus.TL.top, left: eStatus.TL.left + elementRect.width };\n    eStatus.BL = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left };\n    eStatus.BR = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left + elementRect.width };\n}\nfunction leftCollideCheck(left, right) {\n    var leftSide = false;\n    var rightSide = false;\n    if (((left - getBodyScrollLeft()) < ContainerLeft())) {\n        leftSide = true;\n    }\n    if (right > ContainerRight()) {\n        rightSide = true;\n    }\n    return { leftSide: leftSide, rightSide: rightSide };\n}\nfunction leftFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = leftCollideCheck(edge.TL.left, edge.TR.left);\n    if ((tEdge.TL.left - getBodyScrollLeft()) <= ContainerLeft()) {\n        collideSide.leftSide = false;\n    }\n    if (tEdge.TR.left >= ContainerRight()) {\n        collideSide.rightSide = false;\n    }\n    if ((collideSide.leftSide && !collideSide.rightSide) || (!collideSide.leftSide && collideSide.rightSide)) {\n        if (pos.posX === 'right') {\n            pos.posX = 'left';\n        }\n        else {\n            pos.posX = 'right';\n        }\n        pos.offsetX = pos.offsetX + elementRect.width;\n        pos.offsetX = -1 * pos.offsetX;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            leftFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\nfunction topFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = topCollideCheck(edge.TL.top, edge.BL.top);\n    if ((tEdge.TL.top - getBodyScrollTop()) <= ContainerTop()) {\n        collideSide.topSide = false;\n    }\n    if (tEdge.BL.top >= ContainerBottom()) {\n        collideSide.bottomSide = false;\n    }\n    if ((collideSide.topSide && !collideSide.bottomSide) || (!collideSide.topSide && collideSide.bottomSide)) {\n        if (pos.posY === 'top') {\n            pos.posY = 'bottom';\n        }\n        else {\n            pos.posY = 'top';\n        }\n        pos.offsetY = pos.offsetY + elementRect.height;\n        pos.offsetY = -1 * pos.offsetY;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false, elementRect);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            topFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\nfunction topCollideCheck(top, bottom) {\n    var topSide = false;\n    var bottomSide = false;\n    if ((top - getBodyScrollTop()) < ContainerTop()) {\n        topSide = true;\n    }\n    if (bottom > ContainerBottom()) {\n        bottomSide = true;\n    }\n    return { topSide: topSide, bottomSide: bottomSide };\n}\nfunction getTargetContainerWidth() {\n    return targetContainer.getBoundingClientRect().width;\n}\nfunction getTargetContainerHeight() {\n    return targetContainer.getBoundingClientRect().height;\n}\nfunction getTargetContainerLeft() {\n    return targetContainer.getBoundingClientRect().left;\n}\nfunction getTargetContainerTop() {\n    return targetContainer.getBoundingClientRect().top;\n}\nfunction ContainerTop() {\n    if (targetContainer) {\n        return getTargetContainerTop();\n    }\n    return 0;\n}\nfunction ContainerLeft() {\n    if (targetContainer) {\n        return getTargetContainerLeft();\n    }\n    return 0;\n}\nfunction ContainerRight() {\n    if (targetContainer) {\n        return (getBodyScrollLeft() + getTargetContainerLeft() + getTargetContainerWidth());\n    }\n    return (getBodyScrollLeft() + getViewPortWidth());\n}\nfunction ContainerBottom() {\n    if (targetContainer) {\n        return (getBodyScrollTop() + getTargetContainerTop() + getTargetContainerHeight());\n    }\n    return (getBodyScrollTop() + getViewPortHeight());\n}\nfunction getBodyScrollTop() {\n    // if(targetContainer)\n    //     return targetContainer.scrollTop;\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\nfunction getBodyScrollLeft() {\n    // if(targetContainer)\n    //     return targetContainer.scrollLeft;\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\nfunction getViewPortHeight() {\n    return window.innerHeight;\n}\nfunction getViewPortWidth() {\n    return window.innerWidth;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { setStyleAttribute, addClass, removeClass, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit } from '@syncfusion/ej2-base';\nimport { Browser } from '@syncfusion/ej2-base';\nimport { calculatePosition, calculateRelativeBasedPosition } from '../common/position';\nimport { Animation, Property, Event, Component } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { flip, fit, isCollide } from '../common/collision';\n/**\n * Specifies the offset position values.\n */\nvar PositionData = /** @class */ (function (_super) {\n    __extends(PositionData, _super);\n    function PositionData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('left')\n    ], PositionData.prototype, \"X\", void 0);\n    __decorate([\n        Property('top')\n    ], PositionData.prototype, \"Y\", void 0);\n    return PositionData;\n}(ChildProperty));\nexport { PositionData };\n// don't use space in classNames\nvar CLASSNAMES = {\n    ROOT: 'e-popup',\n    RTL: 'e-rtl',\n    OPEN: 'e-popup-open',\n    CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\nvar Popup = /** @class */ (function (_super) {\n    __extends(Popup, _super);\n    function Popup(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.fixedParent = false;\n        return _this;\n    }\n    /**\n     * Called internally if any of the property value changed.\n     * @private\n     */\n    Popup.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'zIndex':\n                    setStyleAttribute(this.element, { 'zIndex': newProp.zIndex });\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'position':\n                case 'relateTo':\n                    this.refreshPosition();\n                    break;\n                case 'offsetX':\n                    var x = newProp.offsetX - oldProp.offsetX;\n                    this.element.style.left = (parseInt(this.element.style.left, 10) + (x)).toString() + 'px';\n                    break;\n                case 'offsetY':\n                    var y = newProp.offsetY - oldProp.offsetY;\n                    this.element.style.top = (parseInt(this.element.style.top, 10) + (y)).toString() + 'px';\n                    break;\n                case 'content':\n                    this.setContent();\n                    break;\n                case 'actionOnScroll':\n                    if (newProp.actionOnScroll !== 'none') {\n                        this.wireScrollEvents();\n                    }\n                    else {\n                        this.unwireScrollEvents();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * gets the Component module name.\n     * @private\n     */\n    Popup.prototype.getModuleName = function () {\n        return 'popup';\n    };\n    /**\n     * gets the persisted state properties of the Component.\n     */\n    Popup.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the control.\n     */\n    Popup.prototype.destroy = function () {\n        this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL);\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Popup.prototype.render = function () {\n        this.element.classList.add(CLASSNAMES.ROOT);\n        var styles = {};\n        if (this.zIndex !== 1000) {\n            styles.zIndex = this.zIndex;\n        }\n        if (this.width !== 'auto') {\n            styles.width = formatUnit(this.width);\n        }\n        if (this.height !== 'auto') {\n            styles.height = formatUnit(this.height);\n        }\n        setStyleAttribute(this.element, styles);\n        this.setEnableRtl();\n        this.setContent();\n        this.wireEvents();\n    };\n    Popup.prototype.wireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n        }\n    };\n    Popup.prototype.wireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollRefresh, this);\n            }\n        }\n    };\n    Popup.prototype.unwireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.unwireScrollEvents();\n        }\n    };\n    Popup.prototype.unwireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollRefresh);\n            }\n        }\n    };\n    Popup.prototype.getRelateToElement = function () {\n        var relateToElement = this.relateTo === '' || isNullOrUndefined(this.relateTo) ?\n            document.body : this.relateTo;\n        this.setProperties({ relateTo: relateToElement }, true);\n        return ((typeof this.relateTo) === 'string') ?\n            document.querySelector(this.relateTo) : this.relateTo;\n    };\n    Popup.prototype.scrollRefresh = function (e) {\n        if (this.actionOnScroll === 'reposition') {\n            if (!(this.element.offsetParent === e.target ||\n                (this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' &&\n                    e.target.parentElement == null))) {\n                this.refreshPosition();\n            }\n        }\n        else if (this.actionOnScroll === 'hide') {\n            this.hide();\n        }\n        if (this.actionOnScroll !== 'none') {\n            if (this.getRelateToElement()) {\n                var targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n                if (!targetVisible && !this.targetInvisibleStatus) {\n                    this.trigger('targetExitViewport');\n                    this.targetInvisibleStatus = true;\n                }\n                else if (targetVisible) {\n                    this.targetInvisibleStatus = false;\n                }\n            }\n        }\n    };\n    /**\n     * This method is to get the element visibility on viewport when scroll\n     * the page. This method will returns true even though 1 px of element\n     * part is in visible.\n     */\n    Popup.prototype.isElementOnViewport = function (relateToElement, scrollElement) {\n        var scrollParents = this.getScrollableParent(relateToElement);\n        for (var parent_3 = 0; parent_3 < scrollParents.length; parent_3++) {\n            if (this.isElementVisible(relateToElement, scrollParents[parent_3])) {\n                continue;\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    };\n    Popup.prototype.isElementVisible = function (relateToElement, scrollElement) {\n        var rect = relateToElement.getBoundingClientRect();\n        if (!rect.height || !rect.width) {\n            return false;\n        }\n        if (scrollElement.getBoundingClientRect) {\n            var parent_4 = scrollElement.getBoundingClientRect();\n            return !(rect.bottom < parent_4.top) &&\n                (!(rect.bottom > parent_4.bottom) &&\n                    (!(rect.right > parent_4.right) &&\n                        !(rect.left < parent_4.left)));\n        }\n        else {\n            var win = window;\n            var windowView = {\n                top: win.scrollY,\n                left: win.scrollX,\n                right: win.scrollX + win.outerWidth,\n                bottom: win.scrollY + win.outerHeight\n            };\n            var off = calculatePosition(relateToElement);\n            var ele = {\n                top: off.top,\n                left: off.left,\n                right: off.left + rect.width,\n                bottom: off.top + rect.height\n            };\n            var elementView = {\n                top: windowView.bottom - ele.top,\n                left: windowView.right - ele.left,\n                bottom: ele.bottom - windowView.top,\n                right: ele.right - windowView.left\n            };\n            return elementView.top > 0\n                && elementView.left > 0\n                && elementView.right > 0\n                && elementView.bottom > 0;\n        }\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Popup.prototype.preRender = function () {\n        //There is no event handler\n    };\n    Popup.prototype.setEnableRtl = function () {\n        this.reposition();\n        this.enableRtl ? this.element.classList.add(CLASSNAMES.RTL) : this.element.classList.remove(CLASSNAMES.RTL);\n    };\n    Popup.prototype.setContent = function () {\n        if (!isNullOrUndefined(this.content)) {\n            this.element.innerHTML = '';\n            if (typeof (this.content) === 'string') {\n                this.element.textContent = this.content;\n            }\n            else {\n                this.element.appendChild(this.content);\n            }\n        }\n    };\n    Popup.prototype.orientationOnChange = function () {\n        var _this = this;\n        setTimeout(function () {\n            _this.refreshPosition();\n        }, 200);\n    };\n    /**\n     * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n     */\n    Popup.prototype.refreshPosition = function (target) {\n        if (!isNullOrUndefined(target)) {\n            this.checkFixedParent(target);\n        }\n        this.reposition();\n        this.checkCollision();\n    };\n    Popup.prototype.reposition = function () {\n        var pos;\n        var relateToElement = this.getRelateToElement();\n        if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n            pos = { left: this.position.X, top: this.position.Y };\n        }\n        else if (relateToElement) {\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            this.element.style.display = display;\n        }\n        else {\n            pos = { left: 0, top: 0 };\n        }\n        this.element.style.left = pos.left + 'px';\n        this.element.style.top = pos.top + 'px';\n    };\n    Popup.prototype.getAnchorPosition = function (anchorEle, ele, position, offsetX, offsetY) {\n        var eleRect = ele.getBoundingClientRect();\n        var anchorRect = anchorEle.getBoundingClientRect();\n        var anchor = anchorEle;\n        var anchorPos = { left: 0, top: 0 };\n        if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n            anchorPos = calculatePosition(anchorEle);\n        }\n        else {\n            anchorPos = calculateRelativeBasedPosition(anchor, ele);\n        }\n        switch (position.X) {\n            default:\n            case 'left':\n                break;\n            case 'center':\n                if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width / 2 - eleRect.width / 2);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width / 2);\n                }\n                break;\n            case 'right':\n                if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width - eleRect.width);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width);\n                }\n                break;\n        }\n        switch (position.Y) {\n            default:\n            case 'top':\n                break;\n            case 'center':\n                if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height / 2 - eleRect.height / 2);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height / 2);\n                }\n                break;\n            case 'bottom':\n                if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height - eleRect.height);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height);\n                }\n                break;\n        }\n        anchorPos.left += offsetX;\n        anchorPos.top += offsetY;\n        return anchorPos;\n    };\n    Popup.prototype.callFlip = function (param) {\n        var relateToElement = this.getRelateToElement();\n        flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n    };\n    Popup.prototype.callFit = function (param) {\n        if (isCollide(this.element, this.viewPortElement).length !== 0) {\n            if (isNullOrUndefined(this.viewPortElement)) {\n                var data = fit(this.element, this.viewPortElement, param);\n                this.element.style.left = data.left + 'px';\n                this.element.style.top = data.top + 'px';\n            }\n            else {\n                var elementRect = this.element.getBoundingClientRect();\n                var viewPortRect = this.viewPortElement.getBoundingClientRect();\n                if (param && param.Y === true) {\n                    if (viewPortRect.top > elementRect.top) {\n                        this.element.style.top = '0px';\n                    }\n                    else if (viewPortRect.bottom < elementRect.bottom) {\n                        this.element.style.top = parseInt(this.element.style.top, 10) - (elementRect.bottom - viewPortRect.bottom) + 'px';\n                    }\n                }\n                if (param && param.X === true) {\n                    if (viewPortRect.right < elementRect.right) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) - (elementRect.right - viewPortRect.right) + 'px';\n                    }\n                    else if (viewPortRect.left > elementRect.left) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) + (viewPortRect.left - elementRect.left) + 'px';\n                    }\n                }\n            }\n        }\n    };\n    Popup.prototype.checkCollision = function () {\n        var horz = this.collision.X;\n        var vert = this.collision.Y;\n        if (horz === 'none' && vert === 'none') {\n            return;\n        }\n        if (horz === 'flip' && vert === 'flip') {\n            this.callFlip({ X: true, Y: true });\n        }\n        else if (horz === 'fit' && vert === 'fit') {\n            this.callFit({ X: true, Y: true });\n        }\n        else {\n            if (horz === 'flip') {\n                this.callFlip({ X: true, Y: false });\n            }\n            else if (vert === 'flip') {\n                this.callFlip({ Y: true, X: false });\n            }\n            if (horz === 'fit') {\n                this.callFit({ X: true, Y: false });\n            }\n            else if (vert === 'fit') {\n                this.callFit({ X: false, Y: true });\n            }\n        }\n    };\n    /**\n     * Shows the popup element from screen.\n     * @param { AnimationModel | Function } collisionOrAnimationOptions? - To pass animation options or collision function.\n     * @param { Function } collision? - To pass the collision function.\n     * @param { HTMLElement } relativeElement? - To calculate the zIndex value dynamically.\n     */\n    Popup.prototype.show = function (animationOptions, relativeElement) {\n        var _this = this;\n        if (this.zIndex === 1000 || !isNullOrUndefined(relativeElement)) {\n            var zIndexElement = (isNullOrUndefined(relativeElement)) ? this.element : relativeElement;\n            this.zIndex = getZindexPartial(zIndexElement);\n            setStyleAttribute(this.element, { 'zIndex': this.zIndex });\n        }\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.showAnimation;\n        if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.checkCollision();\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n        }\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.begin = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.CLOSE);\n                    addClass([_this.element], CLASSNAMES.OPEN);\n                }\n            };\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    _this.trigger('open');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.trigger('open');\n        }\n    };\n    /**\n     * Hides the popup element from screen.\n     * @param { AnimationModel } animationOptions? - To give the animation options.\n     */\n    Popup.prototype.hide = function (animationOptions) {\n        var _this = this;\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.hideAnimation;\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.OPEN);\n                    addClass([_this.element], CLASSNAMES.CLOSE);\n                    _this.trigger('close');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n            this.trigger('close');\n        }\n    };\n    /**\n     * Gets scrollable parent elements for the given element.\n     * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n     */\n    Popup.prototype.getScrollableParent = function (element) {\n        this.checkFixedParent(element);\n        return getScrollableParent(element, this.fixedParent);\n    };\n    Popup.prototype.checkFixedParent = function (element) {\n        var parent = element.parentElement;\n        while (parent && parent.tagName !== 'HTML') {\n            var parentStyle = getComputedStyle(parent);\n            if (parentStyle.position === 'fixed' && this.element.offsetParent && this.element.offsetParent.tagName === 'BODY') {\n                this.element.style.position = 'fixed';\n                this.fixedParent = true;\n            }\n            parent = parent.parentElement;\n            if (isNullOrUndefined(this.element.offsetParent) && parentStyle.position === 'fixed'\n                && this.element.style.position === 'fixed') {\n                this.fixedParent = true;\n            }\n        }\n    };\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"content\", void 0);\n    __decorate([\n        Property('container')\n    ], Popup.prototype, \"targetType\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"viewPortElement\", void 0);\n    __decorate([\n        Property({ X: 'none', Y: 'none' })\n    ], Popup.prototype, \"collision\", void 0);\n    __decorate([\n        Property('')\n    ], Popup.prototype, \"relateTo\", void 0);\n    __decorate([\n        Complex({}, PositionData)\n    ], Popup.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(1000)\n    ], Popup.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], Popup.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('reposition')\n    ], Popup.prototype, \"actionOnScroll\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"showAnimation\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"hideAnimation\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"targetExitViewport\", void 0);\n    Popup = __decorate([\n        NotifyPropertyChanges\n    ], Popup);\n    return Popup;\n}(Component));\nexport { Popup };\n/**\n * Gets scrollable parent elements for the given element.\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @private\n */\nexport function getScrollableParent(element, fixedParent) {\n    var eleStyle = getComputedStyle(element);\n    var scrollParents = [];\n    var overflowRegex = /(auto|scroll)/;\n    var parent = element.parentElement;\n    while (parent && parent.tagName !== 'HTML') {\n        var parentStyle = getComputedStyle(parent);\n        if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static')\n            && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n            scrollParents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    if (!fixedParent) {\n        scrollParents.push(document);\n    }\n    return scrollParents;\n}\n/**\n * Gets the maximum z-index of the given element.\n * @param { HTMLElement } element - Specify the element to get the maximum z-index of it.\n * @private\n */\nexport function getZindexPartial(element) {\n    // upto body traversal\n    var parent = element.parentElement;\n    var parentZindex = [];\n    while (parent) {\n        if (parent.tagName !== 'BODY') {\n            var index = document.defaultView.getComputedStyle(parent, null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(parent, null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                parentZindex.push(index);\n            }\n            parent = parent.parentElement;\n        }\n        else {\n            break;\n        }\n    }\n    //Body direct children element traversal\n    var childrenZindex = [];\n    for (var i = 0; i < document.body.children.length; i++) {\n        if (!element.isEqualNode(document.body.children[i])) {\n            var index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                childrenZindex.push(index);\n            }\n        }\n    }\n    childrenZindex.push('999');\n    var siblingsZindex = [];\n    if (!isNullOrUndefined(element.parentElement) && element.parentElement.tagName !== 'BODY') {\n        var childNodes = [].slice.call(element.parentElement.children);\n        for (var i = 0; i < childNodes.length; i++) {\n            var index = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                siblingsZindex.push(index);\n            }\n        }\n    }\n    var finalValue = parentZindex.concat(childrenZindex, siblingsZindex);\n    return Math.max.apply(Math, finalValue) + 1;\n}\n","import { detach, getUniqueID, rippleEffect, setValue } from '@syncfusion/ej2-base';\nimport { getValue, addClass } from '@syncfusion/ej2-base';\n/**\n * Initialize wrapper element for angular.\n * @private\n */\nexport function wrapperInitialize(createElement, tag, type, element, WRAPPER, role) {\n    if (element.tagName === tag) {\n        var ejInstance = getValue('ej2_instances', element);\n        var input = createElement('input', { attrs: { 'type': type } });\n        var props = ['change', 'cssClass', 'label', 'labelPosition'];\n        var wrapper = createElement(tag, {\n            className: WRAPPER, attrs: { 'role': role, 'aria-checked': 'false' }\n        });\n        for (var index = 0, len = element.attributes.length; index < len; index++) {\n            if (props.indexOf(element.attributes[index].nodeName) === -1) {\n                input.setAttribute(element.attributes[index].nodeName, element.attributes[index].nodeValue);\n            }\n        }\n        element.parentNode.insertBefore(input, element);\n        detach(element);\n        element = input;\n        element.parentNode.insertBefore(wrapper, element);\n        wrapper.appendChild(element);\n        setValue('ej2_instances', ejInstance, element);\n    }\n    return element;\n}\nexport function getTextNode(element) {\n    var node;\n    var childnode = element.childNodes;\n    for (var i = 0; i < childnode.length; i++) {\n        node = childnode[i];\n        if (node.nodeType === 3) {\n            return node;\n        }\n    }\n    return null;\n}\n/**\n * Destroy the button components.\n * @private\n */\nexport function destroy(ejInst, wrapper, tagName) {\n    if (tagName === 'INPUT') {\n        wrapper.parentNode.insertBefore(ejInst.element, wrapper);\n        detach(wrapper);\n        ejInst.element.checked = false;\n        ['name', 'value', 'disabled'].forEach(function (key) {\n            ejInst.element.removeAttribute(key);\n        });\n    }\n    else {\n        if (ejInst.element.id) {\n            wrapper.setAttribute('id', ejInst.element.id);\n        }\n        ['role', 'aria-checked', 'class'].forEach(function (key) {\n            wrapper.removeAttribute(key);\n        });\n        wrapper.innerHTML = '';\n    }\n}\nexport function preRender(proxy, control, wrapper, element, moduleName) {\n    element = wrapperInitialize(proxy.createElement, control, 'checkbox', element, wrapper, moduleName);\n    proxy.element = element;\n    if (proxy.element.getAttribute('type') !== 'checkbox') {\n        proxy.element.setAttribute('type', 'checkbox');\n    }\n    if (!proxy.element.id) {\n        proxy.element.id = getUniqueID('e-' + moduleName);\n    }\n}\n/**\n * Creates CheckBox component UI with theming and ripple support.\n * @private\n */\nexport function createCheckBox(createElement, enableRipple, options) {\n    if (enableRipple === void 0) { enableRipple = false; }\n    if (options === void 0) { options = {}; }\n    var wrapper = createElement('div', { className: 'e-checkbox-wrapper e-css' });\n    if (options.cssClass) {\n        addClass([wrapper], options.cssClass.split(' '));\n    }\n    if (options.enableRtl) {\n        wrapper.classList.add('e-rtl');\n    }\n    if (enableRipple) {\n        var rippleSpan = createElement('span', { className: 'e-ripple-container' });\n        rippleEffect(rippleSpan, { isCenterRipple: true, duration: 400 });\n        wrapper.appendChild(rippleSpan);\n    }\n    var frameSpan = createElement('span', { className: 'e-frame e-icons' });\n    if (options.checked) {\n        frameSpan.classList.add('e-check');\n    }\n    wrapper.appendChild(frameSpan);\n    if (options.label) {\n        var labelSpan = createElement('span', { className: 'e-label', innerHTML: options.label });\n        wrapper.appendChild(labelSpan);\n    }\n    return wrapper;\n}\nexport function rippleMouseHandler(e, rippleSpan) {\n    if (rippleSpan) {\n        var event_1 = document.createEvent('MouseEvents');\n        event_1.initEvent(e.type, false, true);\n        rippleSpan.dispatchEvent(event_1);\n    }\n}\n","import { isNullOrUndefined, classList, createElement } from '@syncfusion/ej2-base';\nvar globalTimeOut = {};\nvar spinTemplate = null;\nvar spinCSSClass = null;\nvar DEFT_MAT_WIDTH = 30;\nvar DEFT_FAB_WIDTH = 30;\nvar DEFT_BOOT_WIDTH = 30;\nvar CLS_SHOWSPIN = 'e-spin-show';\nvar CLS_HIDESPIN = 'e-spin-hide';\nvar CLS_MATERIALSPIN = 'e-spin-material';\nvar CLS_FABRICSPIN = 'e-spin-fabric';\nvar CLS_BOOTSPIN = 'e-spin-bootstrap';\nvar CLS_HIGHCONTRASTSPIN = 'e-spin-high-contrast';\nvar CLS_SPINWRAP = 'e-spinner-pane';\nvar CLS_SPININWRAP = 'e-spinner-inner';\nvar CLS_SPINCIRCLE = 'e-path-circle';\nvar CLS_SPINARC = 'e-path-arc';\nvar CLS_SPINLABEL = 'e-spin-label';\nvar CLS_SPINTEMPLATE = 'e-spin-template';\n/**\n * Create a spinner for the specified target element.\n * ```\n * E.g : createSpinner({ target: targetElement, width: '34px', label: 'Loading..' });\n * ```\n * @param args\n * @private\n */\nexport function createSpinner(args, internalCreateElement) {\n    var radius;\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    var container = create_spinner_container(args.target, makeElement);\n    if (!isNullOrUndefined(args.cssClass)) {\n        container.wrap.classList.add(args.cssClass);\n    }\n    if (!isNullOrUndefined(args.template) || !isNullOrUndefined(spinTemplate)) {\n        var template = !isNullOrUndefined(args.template) ? args.template : spinTemplate;\n        container.wrap.classList.add(CLS_SPINTEMPLATE);\n        replaceContent(container.wrap, template, spinCSSClass);\n    }\n    else {\n        var theme = !isNullOrUndefined(args.type) ? args.type : getTheme(container.wrap);\n        var width = !isNullOrUndefined(args.width) ? args.width : undefined;\n        radius = calculateRadius(width, theme);\n        setTheme(theme, container.wrap, radius, makeElement);\n        if (!isNullOrUndefined(args.label)) {\n            createLabel(container.inner_wrap, args.label, makeElement);\n        }\n    }\n    container.wrap.classList.add(CLS_HIDESPIN);\n    container = null;\n}\nfunction createLabel(container, label, makeElement) {\n    var labelEle = makeElement('div', {});\n    labelEle.classList.add(CLS_SPINLABEL);\n    labelEle.textContent = label;\n    container.appendChild(labelEle);\n    return labelEle;\n}\nfunction createMaterialSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Material', radius: radius };\n    create_material_element(container, uniqueID, makeElement);\n    mat_calculate_attributes(radius, container);\n}\nfunction startMatAnimate(container, uniqueID, radius) {\n    var globalObject = {};\n    var timeOutVar = 0;\n    globalTimeOut[uniqueID].timeOut = 0;\n    globalObject[uniqueID] = globalVariables(uniqueID, radius, 0, 0);\n    var spinnerInfo = { uniqueID: uniqueID, container: container, globalInfo: globalObject, timeOutVar: timeOutVar };\n    animateMaterial(spinnerInfo);\n}\nfunction createFabricSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Fabric', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_FABRICSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_FABRICSPIN);\n}\nfunction createHighContrastSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'HighContrast', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_HIGHCONTRASTSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_HIGHCONTRASTSPIN);\n}\nfunction getTheme(container) {\n    var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n    return theme.replace(/['\"]+/g, '');\n}\nfunction setTheme(theme, container, radius, makeElement) {\n    var innerContainer = container.querySelector('.' + CLS_SPININWRAP);\n    var svg = innerContainer.querySelector('svg');\n    if (!isNullOrUndefined(svg)) {\n        innerContainer.removeChild(svg);\n    }\n    switch (theme) {\n        case 'Material':\n            createMaterialSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Fabric':\n            createFabricSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap':\n            createBootstrapSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'HighContrast':\n            createHighContrastSpinner(innerContainer, radius, makeElement);\n            break;\n    }\n}\nfunction createBootstrapSpinner(innerContainer, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap', radius: radius };\n    create_bootstrap_element(innerContainer, uniqueID, makeElement);\n    boot_calculate_attributes(innerContainer, radius);\n}\nfunction create_bootstrap_element(innerContainer, uniqueID, makeElement) {\n    var svgBoot = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    var viewBoxValue = 64;\n    var trans = 32;\n    var defaultRadius = 2;\n    svgBoot.setAttribute('id', uniqueID);\n    svgBoot.setAttribute('class', CLS_BOOTSPIN);\n    svgBoot.setAttribute('viewBox', '0 0 ' + viewBoxValue + ' ' + viewBoxValue);\n    innerContainer.insertBefore(svgBoot, innerContainer.firstChild);\n    for (var item = 0; item <= 7; item++) {\n        var bootCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        bootCircle.setAttribute('class', CLS_SPINCIRCLE + '_' + item);\n        bootCircle.setAttribute('r', defaultRadius + '');\n        bootCircle.setAttribute('transform', 'translate(' + trans + ',' + trans + ')');\n        svgBoot.appendChild(bootCircle);\n    }\n}\nfunction boot_calculate_attributes(innerContainer, radius) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    svg.style.width = svg.style.height = radius + 'px';\n    var x = 0;\n    var y = 0;\n    var rad = 24;\n    var startArc = 90;\n    for (var item = 0; item <= 7; item++) {\n        var start = defineArcPoints(x, y, rad, startArc);\n        var circleEle = svg.querySelector('.' + CLS_SPINCIRCLE + '_' + item);\n        circleEle.setAttribute('cx', start.x + '');\n        circleEle.setAttribute('cy', start.y + '');\n        startArc = startArc >= 360 ? 0 : startArc;\n        startArc = startArc + 45;\n    }\n}\nfunction generateSeries(begin, stop) {\n    var series = [];\n    var start = begin;\n    var end = stop;\n    var increment = false;\n    var count = 1;\n    formSeries(start);\n    function formSeries(i) {\n        series.push(i);\n        if (i !== end || count === 1) {\n            if (i <= start && i > 1 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            else if (i === 1) {\n                i = 7;\n                i = parseFloat((i + 0.2).toFixed(2));\n                increment = true;\n            }\n            else if (i < 8 && increment) {\n                i = parseFloat((i + 0.2).toFixed(2));\n                if (i === 8) {\n                    increment = false;\n                }\n            }\n            else if (i <= 8 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            ++count;\n            formSeries(i);\n        }\n    }\n    return series;\n}\nfunction animateBootstrap(innerContainer) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    var id = svg.getAttribute('id');\n    for (var i = 1; i <= 8; i++) {\n        var circleEle = (innerContainer.getElementsByClassName('e-path-circle_' +\n            (i === 8 ? 0 : i))[0]);\n        rotation(circleEle, i, i, generateSeries(i, i), id);\n    }\n    function rotation(circle, start, end, series, id) {\n        var count = 0;\n        boot_animate(start);\n        function boot_animate(radius) {\n            if (globalTimeOut[id].isAnimate) {\n                ++count;\n                circle.setAttribute('r', radius + '');\n                if (count >= series.length) {\n                    count = 0;\n                }\n                globalTimeOut[id].timeOut = setTimeout(boot_animate.bind(null, series[count]), 18);\n            }\n        }\n    }\n}\nfunction replaceContent(container, template, cssClass) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var inner = container.querySelector('.e-spinner-inner');\n    inner.innerHTML = template;\n}\nfunction calculateRadius(width, theme) {\n    var defaultSize = theme === 'Material' ? DEFT_MAT_WIDTH : theme === 'Fabric' ? DEFT_FAB_WIDTH : DEFT_BOOT_WIDTH;\n    width = width ? parseFloat(width + '') : defaultSize;\n    return theme === 'Bootstrap' ? width : width / 2;\n}\nfunction globalVariables(id, radius, count, previousId) {\n    return {\n        radius: radius,\n        count: count,\n        previousId: previousId\n    };\n}\nfunction random_generator() {\n    var random = '';\n    var combine = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < 5; i++) {\n        random += combine.charAt(Math.floor(Math.random() * combine.length));\n    }\n    return random;\n}\nfunction create_fabric_element(innerCon, uniqueID, themeClass, makeElement) {\n    var svgFabric = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgFabric.setAttribute('id', uniqueID);\n    svgFabric.setAttribute('class', themeClass);\n    var fabricCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    var fabricCircleArc = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCircleArc.setAttribute('class', CLS_SPINARC);\n    innerCon.insertBefore(svgFabric, innerCon.firstChild);\n    svgFabric.appendChild(fabricCirclePath);\n    svgFabric.appendChild(fabricCircleArc);\n}\nfunction create_material_element(innerContainer, uniqueID, makeElement) {\n    var svgMaterial = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgMaterial.setAttribute('class', CLS_MATERIALSPIN);\n    svgMaterial.setAttribute('id', uniqueID);\n    var matCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    matCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    innerContainer.insertBefore(svgMaterial, innerContainer.firstChild);\n    svgMaterial.appendChild(matCirclePath);\n}\nfunction create_spinner_container(target, makeElement) {\n    var spinnerContainer = makeElement('div', {});\n    spinnerContainer.classList.add(CLS_SPINWRAP);\n    var spinnerInnerContainer = makeElement('div', {});\n    spinnerInnerContainer.classList.add(CLS_SPININWRAP);\n    target.appendChild(spinnerContainer);\n    spinnerContainer.appendChild(spinnerInnerContainer);\n    return { wrap: spinnerContainer, inner_wrap: spinnerInnerContainer };\n}\nfunction animateMaterial(spinnerInfo) {\n    var start = 1;\n    var end = 149;\n    var duration = 1333;\n    var max = 75;\n    createCircle(start, end, easeAnimation, duration, spinnerInfo.globalInfo[spinnerInfo.uniqueID].count, max, spinnerInfo);\n    spinnerInfo.globalInfo[spinnerInfo.uniqueID].count = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].count % 4;\n}\nfunction createCircle(start, end, easing, duration, count, max, spinnerInfo) {\n    var id = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId;\n    var startTime = new Date().getTime();\n    var change = end - start;\n    var diameter = getSize((spinnerInfo.globalInfo[spinnerInfo.uniqueID].radius * 2) + '');\n    var strokeSize = getStrokeSize(diameter);\n    var rotate = -90 * (spinnerInfo.globalInfo[spinnerInfo.uniqueID].count || 0);\n    mat_animation(spinnerInfo);\n    function mat_animation(spinnerInfo) {\n        var currentTime = Math.max(0, Math.min(new Date().getTime() - startTime, duration));\n        updatePath(easing(currentTime, start, change, duration), spinnerInfo.container);\n        if (id === spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId && currentTime < duration) {\n            globalTimeOut[spinnerInfo.uniqueID].timeOut = setTimeout(mat_animation.bind(null, spinnerInfo), 1);\n        }\n        else {\n            animateMaterial(spinnerInfo);\n        }\n    }\n    function updatePath(value, container) {\n        if ((!isNullOrUndefined(container.querySelector('svg.e-spin-material')))\n            && (!isNullOrUndefined(container.querySelector('svg.e-spin-material').querySelector('path.e-path-circle')))) {\n            var svg = container.querySelector('svg.e-spin-material');\n            var path = svg.querySelector('path.e-path-circle');\n            path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, value, max) + '');\n            path.setAttribute('transform', 'rotate(' + (rotate) + ' ' + diameter / 2 + ' ' + diameter / 2 + ')');\n        }\n    }\n}\nfunction mat_calculate_attributes(radius, container) {\n    var diameter = radius * 2;\n    var svg = container.querySelector('svg.e-spin-material');\n    var path = svg.querySelector('path.e-path-circle');\n    var strokeSize = getStrokeSize(diameter);\n    var transformOrigin = (diameter / 2) + 'px';\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.width = svg.style.height = diameter + 'px';\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    path.setAttribute('stroke-width', strokeSize + '');\n    path.setAttribute('d', drawArc(diameter, strokeSize));\n    path.setAttribute('stroke-dasharray', ((diameter - strokeSize) * Math.PI * 0.75) + '');\n    path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, 1, 75) + '');\n}\nfunction getSize(value) {\n    var parsed = parseFloat(value);\n    return parsed;\n}\nfunction drawArc(diameter, strokeSize) {\n    var radius = diameter / 2;\n    var offset = strokeSize / 2;\n    return 'M' + radius + ',' + offset\n        + 'A' + (radius - offset) + ',' + (radius - offset) + ' 0 1 1 ' + offset + ',' + radius;\n}\nfunction getStrokeSize(diameter) {\n    return 10 / 100 * diameter;\n}\nfunction getDashOffset(diameter, strokeSize, value, max) {\n    return (diameter - strokeSize) * Math.PI * ((3 * (max) / 100) - (value / 100));\n}\nfunction easeAnimation(current, start, change, duration) {\n    var timestamp = (current /= duration) * current;\n    var timecount = timestamp * current;\n    return start + change * (6 * timecount * timestamp + -15 * timestamp * timestamp + 10 * timecount);\n}\nfunction fb_calculate_attributes(radius, innerConainer, trgClass) {\n    var centerX = radius;\n    var centerY = radius;\n    var diameter = radius * 2;\n    var startArc = 315;\n    var endArc = 45;\n    var svg = innerConainer.querySelector('.' + trgClass);\n    var circle = svg.querySelector('.e-path-circle');\n    var path = svg.querySelector('.e-path-arc');\n    var transformOrigin = (diameter / 2) + 'px';\n    circle.setAttribute('d', defineCircle(centerX, centerY, radius));\n    path.setAttribute('d', defineArc(centerX, centerY, radius, startArc, endArc));\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    svg.style.width = svg.style.height = diameter + 'px';\n}\nfunction defineArcPoints(centerX, centerY, radius, angle) {\n    var radians = (angle - 90) * Math.PI / 180.0;\n    return {\n        x: centerX + (radius * Math.cos(radians)),\n        y: centerY + (radius * Math.sin(radians))\n    };\n}\nfunction defineArc(x, y, radius, startArc, endArc) {\n    var start = defineArcPoints(x, y, radius, endArc);\n    var end = defineArcPoints(x, y, radius, startArc);\n    var d = [\n        'M', start.x, start.y,\n        'A', radius, radius, 0, 0, 0, end.x, end.y\n    ].join(' ');\n    return d;\n}\nfunction defineCircle(x, y, radius) {\n    var d = [\n        'M', x, y,\n        'm', -radius, 0,\n        'a', radius, radius, 0, 1, 0, radius * 2, 0,\n        'a', radius, radius, 0, 1, 0, -radius * 2, 0,\n    ].join(' ');\n    return d;\n}\n/**\n * Function to show the Spinner.\n * @param container - Specify the target of the Spinner.\n * @private\n */\nexport function showSpinner(container) {\n    showHideSpinner(container, false);\n    container = null;\n}\nfunction showHideSpinner(container, isHide) {\n    var spinnerWrap = container.classList.contains(CLS_SPINWRAP) ? container :\n        container.querySelector('.' + CLS_SPINWRAP);\n    var inner = spinnerWrap.querySelector('.' + CLS_SPININWRAP);\n    var spinCheck;\n    spinCheck = isHide ? !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_HIDESPIN) :\n        !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_SHOWSPIN);\n    if (spinCheck) {\n        var svgEle = spinnerWrap.querySelector('svg');\n        if (isNullOrUndefined(svgEle)) {\n            return;\n        }\n        var id = svgEle.getAttribute('id');\n        globalTimeOut[id].isAnimate = !isHide;\n        switch (globalTimeOut[id].type) {\n            case 'Material':\n                isHide ? clearTimeout(globalTimeOut[id].timeOut) : startMatAnimate(inner, id, globalTimeOut[id].radius);\n                break;\n            case 'Bootstrap':\n                isHide ? clearTimeout(globalTimeOut[id].timeOut) : animateBootstrap(inner);\n                break;\n        }\n    }\n    isHide ? classList(spinnerWrap, [CLS_HIDESPIN], [CLS_SHOWSPIN]) : classList(spinnerWrap, [CLS_SHOWSPIN], [CLS_HIDESPIN]);\n    container = null;\n}\n/**\n * Function to hide the Spinner.\n * @param container - Specify the target of the Spinner.\n * @private\n */\nexport function hideSpinner(container) {\n    showHideSpinner(container, true);\n    container = null;\n}\n/**\n * Function to change the Spinners in a page globally from application end.\n * ```\n * E.g : setSpinner({ cssClass: 'custom-css'; type: 'Material' });\n * ```\n * @param args\n * @private\n */\nexport function setSpinner(args, internalCreateElement) {\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    if (args.template !== undefined) {\n        spinTemplate = args.template;\n        if (args.template !== undefined) {\n            spinCSSClass = args.cssClass;\n        }\n    }\n    var container = document.querySelectorAll('.' + CLS_SPINWRAP);\n    for (var index = 0; index < container.length; index++) {\n        ensureTemplate(args.template, container[index], args.type, args.cssClass, makeElement);\n    }\n}\nfunction ensureTemplate(template, container, theme, cssClass, makeEle) {\n    if (isNullOrUndefined(template) && !container.classList.contains(CLS_SPINTEMPLATE)) {\n        replaceTheme(container, theme, cssClass, makeEle);\n        if (container.classList.contains(CLS_SHOWSPIN)) {\n            container.classList.remove(CLS_SHOWSPIN);\n            showSpinner(container);\n        }\n        else {\n            container.classList.remove(CLS_HIDESPIN);\n            hideSpinner(container);\n        }\n    }\n    else {\n        spinTemplate = template;\n        if (!isNullOrUndefined(cssClass)) {\n            spinCSSClass = cssClass;\n        }\n    }\n}\nfunction replaceTheme(container, theme, cssClass, makeEle) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var svgElement = container.querySelector('svg');\n    var radius = theme === 'Bootstrap' ? parseFloat(svgElement.style.height) : parseFloat(svgElement.style.height) / 2;\n    var classNames = svgElement.getAttribute('class');\n    var svgClassList = classNames.split(/\\s/);\n    if (svgClassList.indexOf('e-spin-material') >= 0) {\n        var id = svgElement.getAttribute('id');\n        clearTimeout(globalTimeOut[id].timeOut);\n    }\n    setTheme(theme, container, radius, makeEle);\n}\n","import { extend, merge, isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { attributes, prepend, isVisible, append, addClass } from '@syncfusion/ej2-base';\nimport { compile } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nexport var cssClass = {\n    li: 'e-list-item',\n    ul: 'e-list-parent e-ul',\n    group: 'e-list-group-item',\n    icon: 'e-list-icon',\n    text: 'e-list-text',\n    check: 'e-list-check',\n    checked: 'e-checked',\n    selected: 'e-selected',\n    expanded: 'e-expanded',\n    textContent: 'e-text-content',\n    hasChild: 'e-has-child',\n    level: 'e-level',\n    url: 'e-list-url',\n    collapsible: 'e-icon-collapsible',\n    disabled: 'e-disabled',\n    image: 'e-list-img',\n    iconWrapper: 'e-icon-wrapper'\n};\n/**\n * Base List Generator\n */\nexport var ListBase;\n(function (ListBase) {\n    /**\n     * Default mapped fields.\n     */\n    ListBase.defaultMappedFields = {\n        id: 'id',\n        text: 'text',\n        url: 'url',\n        value: 'value',\n        isChecked: 'isChecked',\n        enabled: 'enabled',\n        expanded: 'expanded',\n        selected: 'selected',\n        iconCss: 'iconCss',\n        child: 'child',\n        isVisible: 'isVisible',\n        hasChildren: 'hasChildren',\n        tooltip: 'tooltip',\n        htmlAttributes: 'htmlAttributes',\n        urlAttributes: 'urlAttributes',\n        imageAttributes: 'imageAttributes',\n        imageUrl: 'imageUrl',\n        groupBy: null\n    };\n    var defaultAriaAttributes = {\n        level: 1,\n        listRole: 'presentation',\n        itemRole: 'presentation',\n        groupItemRole: 'group',\n        itemText: 'list-item',\n        wrapperRole: 'presentation'\n    };\n    var defaultListBaseOptions = {\n        showCheckBox: false,\n        showIcon: false,\n        expandCollapse: false,\n        fields: ListBase.defaultMappedFields,\n        ariaAttributes: defaultAriaAttributes,\n        listClass: '',\n        itemClass: '',\n        processSubChild: false,\n        sortOrder: 'None',\n        template: null,\n        groupTemplate: null,\n        headerTemplate: null,\n        expandIconClass: 'e-icon-collapsible',\n        moduleName: 'list',\n        expandIconPosition: 'Right'\n    };\n    /**\n     * Function helps to created and return the UL Li element based on your data.\n     * @param  {{[key:string]:Object}[]|string[]} dataSource - Specifies an array of JSON or String data.\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     */\n    function createList(createElement, dataSource, options, isSingleLevel) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var type = typeofData(dataSource).typeof;\n        if (type === 'string' || type === 'number') {\n            return createListFromArray(createElement, dataSource, isSingleLevel, options);\n        }\n        else {\n            return createListFromJson(createElement, dataSource, options, ariaAttributes.level, isSingleLevel);\n        }\n    }\n    ListBase.createList = createList;\n    /**\n     * Function helps to created an element list based on string array input .\n     * @param  {string[]} dataSource - Specifies an array of string data\n     */\n    function createListFromArray(createElement, dataSource, isSingleLevel, options) {\n        var subChild = createListItemFromArray(createElement, dataSource, isSingleLevel, options);\n        return generateUL(createElement, subChild, null, options);\n    }\n    ListBase.createListFromArray = createListFromArray;\n    /**\n     * Function helps to created an element list based on string array input .\n     * @param  {string[]} dataSource - Specifies an array of string data\n     */\n    function createListItemFromArray(createElement, dataSource, isSingleLevel, options) {\n        var subChild = [];\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var id = generateId(); // generate id for drop-down-list option.\n        for (var i = 0; i < dataSource.length; i++) {\n            if (isNullOrUndefined(dataSource[i])) {\n                continue;\n            }\n            var li = void 0;\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: dataSource[i],\n                    options: curOpt\n                };\n                curOpt.itemCreating(curData);\n            }\n            if (isSingleLevel) {\n                li = generateSingleLevelLI(createElement, dataSource[i], undefined, null, null, [], null, id, i, options);\n            }\n            else {\n                li = generateLI(createElement, dataSource[i], undefined, null, null, options);\n            }\n            if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: dataSource[i],\n                    item: li,\n                    options: curOpt\n                };\n                curOpt.itemCreated(curData);\n            }\n            subChild.push(li);\n        }\n        return subChild;\n    }\n    ListBase.createListItemFromArray = createListItemFromArray;\n    /**\n     * Function helps to created an element list based on array of JSON input .\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies an array of JSON data.\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     */\n    // tslint:disable-next-line:max-func-body-length\n    function createListItemFromJson(createElement, dataSource, options, level, isSingleLevel) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var fields = extend({}, ListBase.defaultMappedFields, curOpt.fields);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var id;\n        if (level) {\n            ariaAttributes.level = level;\n        }\n        var child = [];\n        var li;\n        if (dataSource.length && !typeofData(dataSource).item.hasOwnProperty(fields.id)) {\n            id = generateId(); // generate id for drop-down-list option.\n        }\n        for (var i = 0; i < dataSource.length; i++) {\n            var fieldData = getFieldValues(dataSource[i], fields);\n            if (isNullOrUndefined(dataSource[i])) {\n                continue;\n            }\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: fieldData[fields.text],\n                    options: curOpt,\n                    fields: fields\n                };\n                curOpt.itemCreating(curData);\n            }\n            var curItem = dataSource[i];\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                fieldData = getFieldValues(dataSource[i], fields);\n            }\n            if (fieldData.hasOwnProperty(fields.id) && !isNullOrUndefined(fieldData[fields.id])) {\n                id = fieldData.id;\n            }\n            var innerEle = [];\n            if (curOpt.showCheckBox) {\n                innerEle.push(createElement('input', { className: cssClass.check, attrs: { type: 'checkbox' } }));\n            }\n            if (isSingleLevel === true) {\n                if (curOpt.showIcon && fieldData.hasOwnProperty(fields.iconCss)) {\n                    if (!isNullOrUndefined(fieldData[fields.iconCss])) {\n                        innerEle.push(createElement('span', { className: cssClass.icon + ' ' + fieldData[fields.iconCss] }));\n                    }\n                }\n                li = generateSingleLevelLI(createElement, curItem, fieldData, fields, curOpt.itemClass, innerEle, (curItem.hasOwnProperty('isHeader') &&\n                    curItem.isHeader) ? true : false, id, i, options);\n            }\n            else {\n                li = generateLI(createElement, curItem, fieldData, fields, curOpt.itemClass, options);\n                li.classList.add(cssClass.level + '-' + ariaAttributes.level);\n                li.setAttribute('aria-level', ariaAttributes.level.toString());\n                if (fieldData.hasOwnProperty(fields.tooltip)) {\n                    li.setAttribute('title', fieldData[fields.tooltip]);\n                }\n                if (fieldData.hasOwnProperty(fields.htmlAttributes) && fieldData[fields.htmlAttributes]) {\n                    setAttribute(li, fieldData[fields.htmlAttributes]);\n                }\n                if (fieldData.hasOwnProperty(fields.enabled) && fieldData[fields.enabled] === false) {\n                    li.classList.add(cssClass.disabled);\n                }\n                if (fieldData.hasOwnProperty(fields.isVisible) && fieldData[fields.isVisible] === false) {\n                    li.style.display = 'none';\n                }\n                if (fieldData.hasOwnProperty(fields.imageUrl) && !isNullOrUndefined(fieldData[fields.imageUrl])) {\n                    var attr = { src: fieldData[fields.imageUrl] };\n                    if (fieldData.hasOwnProperty(fields.imageUrl)) {\n                        merge(attr, fieldData[fields.imageAttributes]);\n                    }\n                    prepend([createElement('img', { className: cssClass.image, attrs: attr })], li.firstElementChild);\n                }\n                if (curOpt.showIcon && fieldData.hasOwnProperty(fields.iconCss) && !curOpt.template) {\n                    if (!isNullOrUndefined(fieldData[fields.iconCss])) {\n                        prepend([createElement('div', { className: cssClass.icon + ' ' + fieldData[fields.iconCss] })], li.firstElementChild);\n                    }\n                }\n                if (innerEle.length) {\n                    prepend(innerEle, li.firstElementChild);\n                }\n                processSubChild(createElement, fieldData, fields, dataSource, curOpt, li, ariaAttributes.level);\n            }\n            if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: fieldData[fields.text],\n                    item: li,\n                    options: curOpt,\n                    fields: fields\n                };\n                curOpt.itemCreated(curData);\n            }\n            child.push(li);\n        }\n        return child;\n    }\n    ListBase.createListItemFromJson = createListItemFromJson;\n    /**\n     * Function helps to created an element list based on array of JSON input .\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies an array of JSON data.\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     */\n    function createListFromJson(createElement, dataSource, options, level, isSingleLevel) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var li = createListItemFromJson(createElement, dataSource, options, level, isSingleLevel);\n        return generateUL(createElement, li, curOpt.listClass, options);\n    }\n    ListBase.createListFromJson = createListFromJson;\n    /**\n     * Return the next or previous visible element.\n     * @param  {Element[]|NodeList} elementArray - An element array to find next or previous element.\n     * @param  {Element} li - An element to find next or previous after this element.\n     * @param  {boolean} isPrevious? - Specify when the need get previous element from array.\n     */\n    function getSiblingLI(elementArray, element, isPrevious) {\n        cssClass = getModuleClass(defaultListBaseOptions.moduleName);\n        if (!elementArray || !elementArray.length) {\n            return void 0;\n        }\n        var siblingLI;\n        var liIndex;\n        var liCollections = Array.prototype.slice.call(elementArray);\n        if (element) {\n            liIndex = indexOf(element, liCollections);\n        }\n        else {\n            liIndex = (isPrevious === true ? liCollections.length : -1);\n        }\n        siblingLI = liCollections[liIndex + (isPrevious === true ? -1 : 1)];\n        while (siblingLI && (!isVisible(siblingLI) || siblingLI.classList.contains(cssClass.disabled))) {\n            liIndex = liIndex + (isPrevious === true ? -1 : 1);\n            siblingLI = liCollections[liIndex];\n        }\n        return siblingLI;\n    }\n    ListBase.getSiblingLI = getSiblingLI;\n    /**\n     * Return the index of the li element\n     * @param  {Element} item - An element to find next or previous after this element.\n     * @param  {Element[]|NodeList} elementArray - An element array to find index of given li.\n     */\n    function indexOf(item, elementArray) {\n        if (!elementArray || !item) {\n            return void 0;\n        }\n        else {\n            var liCollections = elementArray;\n            liCollections = Array.prototype.slice.call(elementArray);\n            return liCollections.indexOf(item);\n        }\n    }\n    ListBase.indexOf = indexOf;\n    /**\n     * Returns the grouped data from given dataSource.\n     * @param  {{[key:string]:Object}[]} dataSource - The JSON data which is necessary to process.\n     * @param  {FieldsMapping} fields - Fields that are mapped from the data source.\n     * @param  {SortOrder='None'} sortOrder- Specifies final result sort order.\n     */\n    function groupDataSource(dataSource, fields, sortOrder) {\n        if (sortOrder === void 0) { sortOrder = 'None'; }\n        var cusQuery = new Query().group(fields.groupBy);\n        // need to remove once sorting issues fixed in DataManager\n        cusQuery = addSorting(sortOrder, 'key', cusQuery);\n        var ds = getDataSource(dataSource, cusQuery);\n        dataSource = [];\n        for (var j = 0; j < ds.length; j++) {\n            var itemObj = ds[j].items;\n            var grpItem = {};\n            var hdr = 'isHeader';\n            grpItem[fields.text] = ds[j].key;\n            grpItem[hdr] = true;\n            grpItem.id = 'group-list-item-' + (ds[j].key ?\n                ds[j].key.toString().trim() : 'undefined');\n            grpItem.items = itemObj;\n            dataSource.push(grpItem);\n            for (var k = 0; k < itemObj.length; k++) {\n                dataSource.push(itemObj[k]);\n            }\n        }\n        return dataSource;\n    }\n    ListBase.groupDataSource = groupDataSource;\n    /**\n     * Returns a sorted query object.\n     * @param  {SortOrder} sortOrder - Specifies that sort order.\n     * @param  {string} sortBy - Specifies sortBy fields.\n     * @param  {Query=new Query()} query - Pass if any existing query.\n     */\n    function addSorting(sortOrder, sortBy, query) {\n        if (query === void 0) { query = new Query(); }\n        if (sortOrder === 'Ascending') {\n            query.sortBy(sortBy, 'ascending', true);\n        }\n        else if (sortOrder === 'Descending') {\n            query.sortBy(sortBy, 'descending', true);\n        }\n        else {\n            for (var i = 0; i < query.queries.length; i++) {\n                if (query.queries[i].fn === 'onSortBy') {\n                    query.queries.splice(i, 1);\n                }\n            }\n        }\n        return query;\n    }\n    ListBase.addSorting = addSorting;\n    /**\n     * Return an array of JSON Data that processed based on queries.\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies local JSON data source.\n     * @param  {Query} query - Specifies query that need to process.\n     */\n    function getDataSource(dataSource, query) {\n        // tslint:disable-next-line\n        return new DataManager(dataSource)\n            .executeLocal(query);\n    }\n    ListBase.getDataSource = getDataSource;\n    /**\n     * Created JSON data based the UL and LI element\n     * @param  {HTMLElement|Element} element - UL element that need to convert as a JSON\n     * @param  {ListBaseOptions} options? - Specifies listbase option for fields.\n     */\n    function createJsonFromElement(element, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var fields = extend({}, ListBase.defaultMappedFields, curOpt.fields);\n        var curEle = element.cloneNode(true);\n        var jsonAr = [];\n        curEle.classList.add('json-parent');\n        var childs = curEle.querySelectorAll('.json-parent>li');\n        curEle.classList.remove('json-parent');\n        for (var i = 0; i < childs.length; i++) {\n            var li = childs[i];\n            var anchor = li.querySelector('a');\n            var ul = li.querySelector('ul');\n            var json = {};\n            var childNodes = anchor ? anchor.childNodes : li.childNodes;\n            var keys = Object.keys(childNodes);\n            for (var i_1 = 0; i_1 < childNodes.length; i_1++) {\n                if (!(childNodes[Number(keys[i_1])]).hasChildNodes()) {\n                    json[fields.text] = childNodes[Number(keys[i_1])].textContent;\n                }\n            }\n            json[fields.id] = generateId();\n            var attributes_1 = getAllAttributes(li);\n            if (Object.keys(attributes_1).length) {\n                json[fields.htmlAttributes] = attributes_1;\n            }\n            if (anchor) {\n                attributes_1 = getAllAttributes(anchor);\n                if (Object.keys(attributes_1).length) {\n                    json[fields.urlAttributes] = attributes_1;\n                }\n            }\n            if (ul) {\n                json[fields.child] = createJsonFromElement(ul, options);\n            }\n            jsonAr.push(json);\n        }\n        return jsonAr;\n    }\n    ListBase.createJsonFromElement = createJsonFromElement;\n    function typeofData(data) {\n        var match = { typeof: null, item: null };\n        for (var i = 0; i < data.length; i++) {\n            if (!isNullOrUndefined(data[i])) {\n                return match = { typeof: typeof data[i], item: data[i] };\n            }\n        }\n        return match;\n    }\n    function setAttribute(element, elementAttributes) {\n        var attr = {};\n        merge(attr, elementAttributes);\n        if (attr.class) {\n            addClass([element], attr.class.split(' '));\n            delete attr.class;\n        }\n        attributes(element, attr);\n    }\n    function getAllAttributes(element) {\n        var attributes = {};\n        var attr = element.attributes;\n        for (var index = 0; index < attr.length; index++) {\n            attributes[attr[index].nodeName] = attr[index].nodeValue;\n        }\n        return attributes;\n    }\n    /**\n     * Created UL element from content template.\n     * @param  {string} template - that need to convert and generate li element.\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies local JSON data source.\n     * @param  {ListBaseOptions} options? - Specifies listbase option for fields.\n     */\n    function renderContentTemplate(createElement, template, dataSource, fields, options) {\n        cssClass = getModuleClass(defaultListBaseOptions.moduleName);\n        var ulElement = createElement('ul', { className: cssClass.ul, attrs: { role: 'presentation' } });\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var compiledString = compile(template);\n        var liCollection = [];\n        var id = generateId(); // generate id for drop-down-list option.\n        for (var i = 0; i < dataSource.length; i++) {\n            var fieldData = getFieldValues(dataSource[i], fields);\n            var curItem = dataSource[i];\n            var isHeader = curItem.isHeader;\n            var value = (typeof curItem === 'string' || typeof curItem === 'number') ? curItem : fieldData[fields.value];\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: curItem,\n                    text: value,\n                    options: curOpt,\n                    fields: fields\n                };\n                curOpt.itemCreating(curData);\n            }\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                fieldData = getFieldValues(dataSource[i], fields);\n                value = fieldData[fields.value];\n            }\n            var li = createElement('li', {\n                id: id + '-' + i,\n                className: isHeader ? cssClass.group : cssClass.li, attrs: { role: 'presentation' }\n            });\n            if (isHeader) {\n                li.innerText = fieldData[fields.text];\n            }\n            else {\n                append(compiledString(curItem), li);\n                li.setAttribute('data-value', value);\n                li.setAttribute('role', 'option');\n            }\n            if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: curItem,\n                    text: value,\n                    item: li,\n                    options: curOpt,\n                    fields: fields\n                };\n                curOpt.itemCreated(curData);\n            }\n            liCollection.push(li);\n        }\n        append(liCollection, ulElement);\n        return ulElement;\n    }\n    ListBase.renderContentTemplate = renderContentTemplate;\n    /**\n     * Created header items from group template.\n     * @param  {string} template - that need to convert and generate li element.\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies local JSON data source.\n     * @param  {FieldsMapping} fields - Specifies fields for mapping the dataSource.\n     * @param  {Element[]} headerItems? - Specifies listbase header items.\n     */\n    function renderGroupTemplate(groupTemplate, groupDataSource, fields, headerItems) {\n        var compiledString = compile(groupTemplate);\n        var category = fields.groupBy;\n        for (var _i = 0, headerItems_1 = headerItems; _i < headerItems_1.length; _i++) {\n            var header = headerItems_1[_i];\n            var headerData = {};\n            headerData[category] = header.textContent;\n            header.innerHTML = '';\n            append(compiledString(headerData), header);\n        }\n        return headerItems;\n    }\n    ListBase.renderGroupTemplate = renderGroupTemplate;\n    function generateId() {\n        return Math.floor((1 + Math.random()) * 0x10000)\n            .toString(16)\n            .substring(1);\n    }\n    ListBase.generateId = generateId;\n    function processSubChild(createElement, fieldData, fields, ds, options, element, level) {\n        // Get SubList   \n        var subDS = fieldData[fields.child] || [];\n        var hasChildren = fieldData[fields.hasChildren];\n        //Create Sub child\n        if (subDS.length) {\n            hasChildren = true;\n            element.classList.add(cssClass.hasChild);\n            if (options.processSubChild) {\n                var subLi = createListFromJson(createElement, subDS, options, ++level);\n                element.appendChild(subLi);\n            }\n        }\n        // Create expand and collapse node\n        if (!!options.expandCollapse && hasChildren && !options.template) {\n            if (element.firstElementChild.classList.contains(cssClass.textContent)) {\n                element.firstElementChild.classList.add(cssClass.iconWrapper);\n            }\n            var expandElement = options.expandIconPosition === 'Left' ? prepend : append;\n            expandElement([createElement('div', { className: 'e-icons ' + options.expandIconClass })], element.querySelector('.' + cssClass.textContent));\n        }\n    }\n    function generateSingleLevelLI(createElement, item, fieldData, fields, className, innerElements, grpLI, id, index, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var text = item;\n        var value = item;\n        var dataSource;\n        if (typeof item !== 'string' && typeof item !== 'number' && typeof item !== 'boolean') {\n            dataSource = item;\n            text = (typeof fieldData[fields.text] === 'boolean' || typeof fieldData[fields.text] === 'number') ?\n                fieldData[fields.text] : (fieldData[fields.text] || '');\n            value = fieldData[fields.value];\n        }\n        var elementID;\n        if (!isNullOrUndefined(dataSource) && !isNullOrUndefined(fieldData[fields.id])\n            && fieldData[fields.id] !== '') {\n            elementID = id;\n        }\n        else {\n            elementID = id + '-' + index;\n        }\n        var li = createElement('li', {\n            className: (grpLI === true ? cssClass.group : cssClass.li) + ' ' + (isNullOrUndefined(className) ? '' : className),\n            id: elementID, attrs: (ariaAttributes.groupItemRole !== '' && ariaAttributes.itemRole !== '' ?\n                { role: (grpLI === true ? ariaAttributes.groupItemRole : ariaAttributes.itemRole) } : {})\n        });\n        if (dataSource && fieldData.hasOwnProperty(fields.enabled) && fieldData[fields.enabled].toString() === 'false') {\n            li.classList.add(cssClass.disabled);\n        }\n        if (grpLI) {\n            li.innerText = text;\n        }\n        else {\n            if (!isNullOrUndefined(value)) {\n                li.setAttribute('data-value', value);\n            }\n            li.setAttribute('role', 'option');\n            if (dataSource && fieldData.hasOwnProperty(fields.htmlAttributes) && fieldData[fields.htmlAttributes]) {\n                setAttribute(li, fieldData[fields.htmlAttributes]);\n            }\n            if (innerElements.length) {\n                append(innerElements, li);\n            }\n            if (dataSource && fieldData.hasOwnProperty(fields.url) && fieldData[fields.url]) {\n                li.appendChild(anchorTag(createElement, dataSource, fields, text));\n            }\n            else {\n                li.appendChild(document.createTextNode(text));\n            }\n        }\n        return li;\n    }\n    function getModuleClass(moduleName) {\n        var moduleClass;\n        return moduleClass = {\n            li: \"e-\" + moduleName + \"-item\",\n            ul: \"e-\" + moduleName + \"-parent e-ul\",\n            group: \"e-\" + moduleName + \"-group-item\",\n            icon: \"e-\" + moduleName + \"-icon\",\n            text: \"e-\" + moduleName + \"-text\",\n            check: \"e-\" + moduleName + \"-check\",\n            checked: 'e-checked',\n            selected: 'e-selected',\n            expanded: 'e-expanded',\n            textContent: 'e-text-content',\n            hasChild: 'e-has-child',\n            level: 'e-level',\n            url: \"e-\" + moduleName + \"-url\",\n            collapsible: 'e-icon-collapsible',\n            disabled: 'e-disabled',\n            image: \"e-\" + moduleName + \"-img\",\n            iconWrapper: 'e-icon-wrapper'\n        };\n    }\n    function anchorTag(createElement, dataSource, fields, text) {\n        var fieldData = getFieldValues(dataSource, fields);\n        var attr = { href: fieldData[fields.url] };\n        if (fieldData.hasOwnProperty(fields.urlAttributes) && fieldData[fields.urlAttributes]) {\n            merge(attr, fieldData[fields.urlAttributes]);\n        }\n        var anchorTag = createElement('a', { className: cssClass.text + ' ' + cssClass.url, innerHTML: text });\n        setAttribute(anchorTag, attr);\n        return anchorTag;\n    }\n    /* tslint:disable:align */\n    function generateLI(createElement, item, fieldData, fields, className, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var text = item;\n        var uID;\n        var grpLI;\n        var dataSource;\n        if (typeof item !== 'string' && typeof item !== 'number') {\n            dataSource = item;\n            text = fieldData[fields.text] || '';\n            uID = fieldData[fields.id];\n            grpLI = (item.hasOwnProperty('isHeader') && item.isHeader)\n                ? true : false;\n        }\n        var li = createElement('li', {\n            className: (grpLI === true ? cssClass.group : cssClass.li) + ' ' + (isNullOrUndefined(className) ? '' : className),\n            attrs: (ariaAttributes.groupItemRole !== '' && ariaAttributes.itemRole !== '' ?\n                { role: (grpLI === true ? ariaAttributes.groupItemRole : ariaAttributes.itemRole) } : {})\n        });\n        !isNullOrUndefined(uID) ? li.setAttribute('data-uid', uID) : li.setAttribute('data-uid', generateId());\n        if (grpLI && options && options.groupTemplate) {\n            var compiledString = compile(options.groupTemplate);\n            append(compiledString(item), li);\n        }\n        else if (!grpLI && options && options.template) {\n            var compiledString = compile(options.template);\n            append(compiledString(item), li);\n        }\n        else {\n            var innerDiv = createElement('div', {\n                className: cssClass.textContent,\n                attrs: (ariaAttributes.wrapperRole !== '' ? { role: ariaAttributes.wrapperRole } : {})\n            });\n            if (dataSource && fieldData.hasOwnProperty(fields.url) && fieldData[fields.url]) {\n                innerDiv.appendChild(anchorTag(createElement, dataSource, fields, text));\n            }\n            else {\n                innerDiv.appendChild(createElement('span', {\n                    className: cssClass.text, innerHTML: text,\n                    attrs: (ariaAttributes.itemText !== '' ? { role: ariaAttributes.itemText } : {})\n                }));\n            }\n            li.appendChild(innerDiv);\n        }\n        return li;\n    }\n    /**\n     * Returns UL element based on the given LI element.\n     * @param  {HTMLElement[]} liElement - Specifies array of LI element.\n     * @param  {string} className? - Specifies class name that need to be added in UL element.\n     * @param  {ListBaseOptions} options? - Specifies ListBase options.\n     */\n    function generateUL(createElement, liElement, className, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var ulElement = createElement('ul', {\n            className: cssClass.ul + ' ' + (isNullOrUndefined(className) ? '' : className),\n            attrs: (ariaAttributes.listRole !== '' ? { role: ariaAttributes.listRole } : {})\n        });\n        append(liElement, ulElement);\n        return ulElement;\n    }\n    ListBase.generateUL = generateUL;\n    /**\n     * Returns LI element with additional DIV tag based on the given LI element.\n     * @param  {liElement} liElement - Specifies LI element.\n     * @param  {string} className? - Specifies class name that need to be added in created DIV element.\n     * @param  {ListBaseOptions} options? - Specifies ListBase options.\n     */\n    function generateIcon(createElement, liElement, className, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var expandElement = curOpt.expandIconPosition === 'Left' ? prepend : append;\n        expandElement([createElement('div', {\n                className: 'e-icons ' + curOpt.expandIconClass + ' ' +\n                    (isNullOrUndefined(className) ? '' : className)\n            })], liElement.querySelector('.' + cssClass.textContent));\n        return liElement;\n    }\n    ListBase.generateIcon = generateIcon;\n})(ListBase || (ListBase = {}));\n/**\n * Used to get dataSource item from complex data using fields.\n * @param {{[key:string]:Object}|string[]|string} dataSource - Specifies an  JSON or String data.\n * @param {FieldsMapping} fields - Fields that are mapped from the dataSource.\n */\nexport function getFieldValues(dataItem, fields) {\n    var fieldData = {};\n    if (isNullOrUndefined(dataItem) || typeof (dataItem) === 'string' || typeof (dataItem) === 'number'\n        || !isNullOrUndefined(dataItem.isHeader)) {\n        return dataItem;\n    }\n    else {\n        for (var _i = 0, _a = Object.keys(fields); _i < _a.length; _i++) {\n            var field = _a[_i];\n            var dataField = fields[field];\n            var value = !isNullOrUndefined(dataField) &&\n                typeof (dataField) === 'string' ? getValue(dataField, dataItem) : undefined;\n            if (!isNullOrUndefined(value)) {\n                fieldData[dataField] = value;\n            }\n        }\n    }\n    return fieldData;\n}\n","/**\n * MaskedTextBox base module\n */\nimport { EventHandler, isNullOrUndefined, merge, attributes, addClass, removeClass, Browser, extend } from '@syncfusion/ej2-base';\nimport { Input } from '../../input/input';\nvar ERROR = 'e-error';\nvar INPUTGROUP = 'e-input-group';\nvar FLOATINPUT = 'e-float-input';\nvar UTILMASK = 'e-utility-mask';\nvar TOPLABEL = 'e-label-top';\nvar BOTTOMLABEL = 'e-label-bottom';\n/**\n * @hidden\n * Built-in masking elements collection.\n */\nexport var regularExpressions = {\n    '0': '[0-9]',\n    '9': '[0-9 ]',\n    '#': '[0-9 +-]',\n    'L': '[A-Za-z]',\n    '?': '[A-Za-z ]',\n    '&': '[^\\x7f ]+',\n    'C': '[^\\x7f]+',\n    'A': '[A-Za-z0-9]',\n    'a': '[A-Za-z0-9 ]',\n};\n/**\n * @hidden\n * Generate required masking elements to the MaskedTextBox from user mask input.\n */\nexport function createMask() {\n    attributes(this.element, {\n        'role': 'textbox', 'autocomplete': 'off', 'autocorrect': 'off', 'autocapitalize': 'off',\n        'spellcheck': 'false', 'aria-live': 'assertive', 'aria-valuenow': ''\n    });\n    if (this.mask) {\n        var splitMask = this.mask.split(']');\n        for (var i = 0; i < splitMask.length; i++) {\n            if (splitMask[i][splitMask[i].length - 1] === '\\\\') {\n                splitMask[i] = splitMask[i] + ']';\n                var splitInnerMask = splitMask[i].split('[');\n                for (var j = 0; j < splitInnerMask.length; j++) {\n                    if (splitInnerMask[j][splitInnerMask[j].length - 1] === '\\\\') {\n                        splitInnerMask[j] = splitInnerMask[j] + '[';\n                    }\n                    pushIntoRegExpCollec.call(this, splitInnerMask[j]);\n                }\n            }\n            else {\n                var splitInnerMask = splitMask[i].split('[');\n                if (splitInnerMask.length > 1) {\n                    var chkSpace = false;\n                    for (var j = 0; j < splitInnerMask.length; j++) {\n                        if (splitInnerMask[j] === '\\\\') {\n                            this.customRegExpCollec.push('[');\n                            this.hiddenMask += splitInnerMask[j] + '[';\n                        }\n                        else if (splitInnerMask[j] === '') {\n                            chkSpace = true;\n                        }\n                        else if ((splitInnerMask[j] !== '' && chkSpace) || j === splitInnerMask.length - 1) {\n                            this.customRegExpCollec.push('[' + splitInnerMask[j] + ']');\n                            this.hiddenMask += this.promptChar;\n                            chkSpace = false;\n                        }\n                        else {\n                            pushIntoRegExpCollec.call(this, splitInnerMask[j]);\n                        }\n                    }\n                }\n                else {\n                    pushIntoRegExpCollec.call(this, splitInnerMask[0]);\n                }\n            }\n        }\n        this.escapeMaskValue = this.hiddenMask;\n        this.promptMask = this.hiddenMask.replace(/[09?LCAa#&]/g, this.promptChar);\n        if (!isNullOrUndefined(this.customCharacters)) {\n            for (var i = 0; i < this.promptMask.length; i++) {\n                if (!isNullOrUndefined(this.customCharacters[this.promptMask[i]])) {\n                    this.promptMask = this.promptMask.replace(new RegExp(this.promptMask[i], 'g'), this.promptChar);\n                }\n            }\n        }\n        var escapeNumber = 0;\n        if (this.hiddenMask.match(new RegExp(/\\\\/))) {\n            for (var i = 0; i < this.hiddenMask.length; i++) {\n                var j = 0;\n                if (i >= 2) {\n                    j = i;\n                }\n                escapeNumber = this.hiddenMask.length - this.promptMask.length;\n                j = j - escapeNumber;\n                if ((i > 0 && this.hiddenMask[i - 1] !== '\\\\') && (this.hiddenMask[i] === '>' ||\n                    this.hiddenMask[i] === '<' || this.hiddenMask[i] === '|')) {\n                    this.promptMask = this.promptMask.substring(0, j) +\n                        this.promptMask.substring((i + 1) - escapeNumber, this.promptMask.length);\n                    this.escapeMaskValue = this.escapeMaskValue.substring(0, j) +\n                        this.escapeMaskValue.substring((i + 1) - escapeNumber, this.escapeMaskValue.length);\n                }\n                if (this.hiddenMask[i] === '\\\\') {\n                    this.promptMask = this.promptMask.substring(0, j) + this.hiddenMask[i + 1] +\n                        this.promptMask.substring((i + 2) - escapeNumber, this.promptMask.length);\n                    this.escapeMaskValue = this.escapeMaskValue.substring(0, j) + this.escapeMaskValue[i + 1] +\n                        this.escapeMaskValue.substring((i + 2) - escapeNumber, this.escapeMaskValue.length);\n                }\n            }\n        }\n        else {\n            this.promptMask = this.promptMask.replace(/[>|<]/g, '');\n            this.escapeMaskValue = this.hiddenMask.replace(/[>|<]/g, '');\n        }\n        attributes(this.element, { 'aria-invalid': 'false' });\n    }\n}\n/**\n * @hidden\n * Apply mask ability with masking elements to the MaskedTextBox.\n */\nexport function applyMask() {\n    setElementValue.call(this, this.promptMask);\n    setMaskValue.call(this, this.value);\n}\n/**\n * @hidden\n * To wire required events to the MaskedTextBox.\n */\nexport function wireEvents() {\n    EventHandler.add(this.element, 'keydown', maskInputKeyDownHandler, this);\n    EventHandler.add(this.element, 'keypress', maskInputKeyPressHandler, this);\n    EventHandler.add(this.element, 'keyup', maskInputKeyUpHandler, this);\n    EventHandler.add(this.element, 'input', maskInputHandler, this);\n    EventHandler.add(this.element, 'focus', maskInputFocusHandler, this);\n    EventHandler.add(this.element, 'blur', maskInputBlurHandler, this);\n    EventHandler.add(this.element, 'paste', maskInputPasteHandler, this);\n    EventHandler.add(this.element, 'cut', maskInputCutHandler, this);\n    EventHandler.add(this.element, 'drop', maskInputDropHandler, this);\n    if (this.enabled) {\n        bindClearEvent.call(this);\n    }\n}\n/**\n * @hidden\n * To unwire events attached to the MaskedTextBox.\n */\nexport function unwireEvents() {\n    EventHandler.remove(this.element, 'keydown', maskInputKeyDownHandler);\n    EventHandler.remove(this.element, 'keypress', maskInputKeyPressHandler);\n    EventHandler.remove(this.element, 'keyup', maskInputKeyUpHandler);\n    EventHandler.remove(this.element, 'input', maskInputHandler);\n    EventHandler.remove(this.element, 'focus', maskInputFocusHandler);\n    EventHandler.remove(this.element, 'blur', maskInputBlurHandler);\n    EventHandler.remove(this.element, 'paste', maskInputPasteHandler);\n    EventHandler.remove(this.element, 'cut', maskInputCutHandler);\n}\n/**\n * @hidden\n * To bind required events to the MaskedTextBox clearButton.\n */\nexport function bindClearEvent() {\n    if (this.showClearButton) {\n        EventHandler.add(this.inputObj.clearButton, 'mousedown touchstart', resetHandler, this);\n    }\n}\nfunction resetHandler(e) {\n    e.preventDefault();\n    if (!this.inputObj.clearButton.classList.contains('e-clear-icon-hide')) {\n        clear.call(this, e);\n    }\n}\nfunction clear(event) {\n    var value = this.element.value;\n    setElementValue.call(this, this.promptMask);\n    this.redoCollec.unshift({\n        value: this.promptMask, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd\n    });\n    triggerMaskChangeEvent.call(this, event, value);\n    this.element.setSelectionRange(0, 0);\n}\n/**\n * @hidden\n * To get masked value from the MaskedTextBox.\n */\nexport function unstrippedValue(element) {\n    return element.value;\n}\n/**\n * @hidden\n * To extract raw value from the MaskedTextBox.\n */\nexport function strippedValue(element, maskValues) {\n    var value = '';\n    var k = 0;\n    var checkMask = false;\n    var maskValue = (!isNullOrUndefined(maskValues)) ? maskValues : (!isNullOrUndefined(element) &&\n        !isNullOrUndefined(this)) ? element.value : maskValues;\n    if (maskValue !== this.promptMask) {\n        for (var i = 0; i < this.customRegExpCollec.length; i++) {\n            if (checkMask) {\n                checkMask = false;\n            }\n            if (this.customRegExpCollec[k] === '>' || this.customRegExpCollec[k] === '<' ||\n                this.customRegExpCollec[k] === '|' || this.customRegExpCollec[k] === '\\\\') {\n                --i;\n                checkMask = true;\n            }\n            if (!checkMask) {\n                if ((maskValue[i] !== this.promptChar) && (!isNullOrUndefined(this.customRegExpCollec[k]) &&\n                    ((!isNullOrUndefined(this.regExpCollec[this.customRegExpCollec[k]])) ||\n                        (this.customRegExpCollec[k].length > 2 && this.customRegExpCollec[k][0] === '[' &&\n                            this.customRegExpCollec[k][this.customRegExpCollec[k].length - 1] === ']') ||\n                        (!isNullOrUndefined(this.customCharacters) &&\n                            (!isNullOrUndefined(this.customCharacters[this.customRegExpCollec[k]]))))) && (maskValue !== '')) {\n                    value += maskValue[i];\n                }\n            }\n            ++k;\n        }\n    }\n    if (this.mask === null || this.mask === '' && this.value !== undefined) {\n        value = maskValue;\n    }\n    return value;\n}\nfunction pushIntoRegExpCollec(value) {\n    for (var k = 0; k < value.length; k++) {\n        this.hiddenMask += value[k];\n        if (value[k] !== '\\\\') {\n            this.customRegExpCollec.push(value[k]);\n        }\n    }\n}\nexport function maskInputFocusHandler(event) {\n    var _this = this;\n    if (this.promptMask.length > 0) {\n        this.focusEventArgs = { selectionStart: 0, selectionEnd: this.promptMask.length };\n    }\n    else {\n        this.focusEventArgs = { selectionStart: 0, selectionEnd: this.element.value.length };\n    }\n    var eventArgs = {};\n    merge(eventArgs, this.focusEventArgs);\n    this.trigger('focus', eventArgs);\n    this.focusEventArgs = eventArgs;\n    if (this.mask) {\n        this.isFocus = true;\n        if (this.element.value === '') {\n            setElementValue.call(this, this.promptMask);\n        }\n        else {\n            setElementValue.call(this, this.element.value);\n        }\n        if (!Browser.isDevice && Browser.info.version === '11.0') {\n            this.element.setSelectionRange(this.focusEventArgs.selectionStart, this.focusEventArgs.selectionEnd);\n        }\n        else {\n            var delay = (Browser.isDevice && Browser.isIos) ? 450 : 0;\n            setTimeout(function () {\n                _this.element.setSelectionRange(_this.focusEventArgs.selectionStart, _this.focusEventArgs.selectionEnd);\n            }, delay);\n        }\n    }\n}\nexport function maskInputBlurHandler(event) {\n    if (this.mask) {\n        this.isFocus = false;\n        if (this.placeholder && this.element.value === this.promptMask && this.floatLabelType !== 'Always') {\n            setElementValue.call(this, '');\n            var labelElement = this.element.parentNode.querySelector('.e-float-text');\n            if (this.floatLabelType === 'Auto' && !isNullOrUndefined(labelElement) && labelElement.classList.contains(TOPLABEL)) {\n                removeClass([labelElement], TOPLABEL);\n            }\n        }\n    }\n}\nfunction maskInputPasteHandler(event) {\n    var _this = this;\n    if (this.mask) {\n        var sIndex_1 = this.element.selectionStart;\n        var eIndex_1 = this.element.selectionEnd;\n        var oldValue_1 = this.element.value;\n        setElementValue.call(this, '');\n        this._callPasteHandler = true;\n        setTimeout(function () {\n            var value = _this.element.value.replace(/ /g, '');\n            if (_this.redoCollec.length > 0 && _this.redoCollec[0].value === _this.element.value) {\n                value = strippedValue.call(_this, _this.element);\n            }\n            setElementValue.call(_this, oldValue_1);\n            _this.element.selectionStart = sIndex_1;\n            _this.element.selectionEnd = eIndex_1;\n            var i = 0;\n            _this.maskKeyPress = true;\n            do {\n                validateValue.call(_this, value[i], false, null);\n                ++i;\n            } while (i < value.length);\n            _this.maskKeyPress = false;\n            _this._callPasteHandler = false;\n            if (_this.element.value === oldValue_1) {\n                var i_1 = 0;\n                _this.maskKeyPress = true;\n                do {\n                    validateValue.call(_this, value[i_1], false, null);\n                    ++i_1;\n                } while (i_1 < value.length);\n                _this.maskKeyPress = false;\n            }\n            else {\n                triggerMaskChangeEvent.call(_this, event, oldValue_1);\n            }\n        }, 1);\n    }\n}\nfunction maskInputCutHandler(event) {\n    var _this = this;\n    if (this.mask) {\n        var preValue_1 = this.element.value;\n        var sIndex_2 = this.element.selectionStart;\n        var eIndex = this.element.selectionEnd;\n        this.undoCollec.push({ value: this.element.value, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd });\n        var value_1 = this.element.value.substring(0, sIndex_2) + this.promptMask.substring(sIndex_2, eIndex) +\n            this.element.value.substring(eIndex);\n        setTimeout(function () {\n            setElementValue.call(_this, value_1);\n            _this.element.selectionStart = _this.element.selectionEnd = sIndex_2;\n            if (_this.element.value !== preValue_1) {\n                triggerMaskChangeEvent.call(_this, event, null);\n            }\n        }, 0);\n    }\n}\nexport function maskInputDropHandler(event) {\n    event.preventDefault();\n}\nfunction maskInputHandler(event) {\n    var eventArgs = { ctrlKey: false, keyCode: 229 };\n    // tslint:disable-next-line\n    extend(event, eventArgs);\n    if (this.mask) {\n        if (this.element.value === '') {\n            this.redoCollec.unshift({\n                value: this.promptMask, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd\n            });\n        }\n        if (this.element.value.length === 1) {\n            this.element.value = this.element.value + this.promptMask;\n            this.element.setSelectionRange(1, 1);\n        }\n        if (!this._callPasteHandler) {\n            removeMaskInputValues.call(this, event);\n        }\n        if (this.element.value.length > this.promptMask.length) {\n            var startIndex = this.element.selectionStart;\n            var addedValues = this.element.value.length - this.promptMask.length;\n            var value = this.element.value.substring(startIndex - addedValues, startIndex);\n            this.maskKeyPress = false;\n            var i = 0;\n            do {\n                validateValue.call(this, value[i], event.ctrlKey, event);\n                ++i;\n            } while (i < value.length);\n            if (this.element.value !== this.preEleVal) {\n                triggerMaskChangeEvent.call(this, event, null);\n            }\n        }\n        var val = strippedValue.call(this, this.element);\n        this.prevValue = val;\n        this.value = val;\n        if (val === '') {\n            setElementValue.call(this, this.promptMask);\n            this.element.setSelectionRange(0, 0);\n        }\n    }\n}\nfunction maskInputKeyDownHandler(event) {\n    if (this.mask) {\n        var value = this;\n        if (event.keyCode !== 229) {\n            if (event.ctrlKey && (event.keyCode === 89 || event.keyCode === 90)) {\n                event.preventDefault();\n            }\n            removeMaskInputValues.call(this, event);\n        }\n        var startValue = this.element.value;\n        if (event.ctrlKey && (event.keyCode === 89 || event.keyCode === 90)) {\n            var collec = void 0;\n            if (event.keyCode === 90 && this.undoCollec.length > 0 && startValue !== this.undoCollec[this.undoCollec.length - 1].value) {\n                collec = this.undoCollec[this.undoCollec.length - 1];\n                this.redoCollec.unshift({\n                    value: this.element.value, startIndex: this.element.selectionStart,\n                    endIndex: this.element.selectionEnd\n                });\n                setElementValue.call(this, collec.value);\n                this.element.selectionStart = collec.startIndex;\n                this.element.selectionEnd = collec.endIndex;\n                this.undoCollec.splice(this.undoCollec.length - 1, 1);\n            }\n            else if (event.keyCode === 89 && this.redoCollec.length > 0 && startValue !== this.redoCollec[0].value) {\n                collec = this.redoCollec[0];\n                this.undoCollec.push({\n                    value: this.element.value, startIndex: this.element.selectionStart,\n                    endIndex: this.element.selectionEnd\n                });\n                setElementValue.call(this, collec.value);\n                this.element.selectionStart = collec.startIndex;\n                this.element.selectionEnd = collec.endIndex;\n                this.redoCollec.splice(0, 1);\n            }\n        }\n    }\n}\nexport function mobileRemoveFunction() {\n    var collec;\n    var sIndex = this.element.selectionStart;\n    var eIndex = this.element.selectionEnd;\n    if (this.redoCollec.length > 0) {\n        collec = this.redoCollec[0];\n        setElementValue.call(this, collec.value);\n        if ((collec.startIndex - sIndex) === 1) {\n            this.element.selectionStart = collec.startIndex;\n            this.element.selectionEnd = collec.endIndex;\n        }\n        else {\n            this.element.selectionStart = sIndex + 1;\n            this.element.selectionEnd = eIndex + 1;\n        }\n    }\n    else {\n        setElementValue.call(this, this.promptMask);\n        this.element.selectionStart = this.element.selectionEnd = sIndex;\n    }\n}\nfunction autoFillMaskInputValues(isRemove, oldEventVal, event) {\n    if (event.type === 'input') {\n        isRemove = false;\n        oldEventVal = this.element.value;\n        setElementValue.call(this, this.promptMask);\n        setMaskValue.call(this, oldEventVal);\n    }\n    return isRemove;\n}\nfunction removeMaskInputValues(event) {\n    var isRemove = false;\n    var oldEventVal;\n    var isDeleted = false;\n    if (this.element.value.length < this.promptMask.length) {\n        isRemove = true;\n        oldEventVal = this.element.value;\n        isRemove = autoFillMaskInputValues.call(this, isRemove, oldEventVal, event);\n        mobileRemoveFunction.call(this);\n    }\n    if (this.element.value.length >= this.promptMask.length && event.type === 'input') {\n        isRemove = autoFillMaskInputValues.call(this, isRemove, oldEventVal, event);\n    }\n    var initStartIndex = this.element.selectionStart;\n    var initEndIndex = this.element.selectionEnd;\n    var startIndex = this.element.selectionStart;\n    var endIndex = this.element.selectionEnd;\n    var maskValue = this.hiddenMask.replace(/[>|\\\\<]/g, '');\n    var curMask = maskValue[startIndex - 1];\n    var parentElement = this.element.parentNode;\n    if (isRemove || event.keyCode === 8 || event.keyCode === 46) {\n        this.undoCollec.push({ value: this.element.value, startIndex: this.element.selectionStart, endIndex: endIndex });\n        var multipleDel = false;\n        var preValue = this.element.value;\n        if (startIndex > 0 || ((event.keyCode === 8 || event.keyCode === 46) && startIndex < this.element.value.length\n            && ((this.element.selectionEnd - startIndex) !== this.element.value.length))) {\n            var index = startIndex;\n            if (startIndex !== endIndex) {\n                startIndex = endIndex;\n                if (event.keyCode === 46) {\n                    multipleDel = true;\n                }\n            }\n            else if (event.keyCode === 46) {\n                ++index;\n            }\n            else {\n                --index;\n            }\n            for (var k = startIndex; (event.keyCode === 8 || isRemove || multipleDel) ? k > index : k < index; (event.keyCode === 8 || isRemove || multipleDel) ? k-- : k++) {\n                for (var i = startIndex; (event.keyCode === 8 || isRemove || multipleDel) ? i > 0 : i < this.element.value.length; (event.keyCode === 8 || isRemove || multipleDel) ? i-- : i++) {\n                    var sIndex = void 0;\n                    if (((event.keyCode === 8 || multipleDel) && ((initStartIndex !== initEndIndex && initStartIndex !== startIndex) ||\n                        (initStartIndex === initEndIndex))) || isRemove) {\n                        curMask = maskValue[i - 1];\n                        sIndex = startIndex - 1;\n                    }\n                    else {\n                        curMask = maskValue[i];\n                        sIndex = startIndex;\n                        ++startIndex;\n                    }\n                    var oldValue = this.element.value[sIndex];\n                    if ((isNullOrUndefined(this.regExpCollec[curMask]) && (!isNullOrUndefined(this.customCharacters)\n                        && isNullOrUndefined(this.customCharacters[curMask]))\n                        && ((this.hiddenMask[sIndex] !== this.promptChar && this.customRegExpCollec[sIndex][0] !== '['\n                            && this.customRegExpCollec[sIndex][this.customRegExpCollec[sIndex].length - 1] !== ']')))\n                        || (this.promptMask[sIndex] !== this.promptChar && isNullOrUndefined(this.customCharacters))) {\n                        this.element.selectionStart = this.element.selectionEnd = sIndex;\n                        event.preventDefault();\n                        if (event.keyCode === 46 && !multipleDel) {\n                            ++this.element.selectionStart;\n                        }\n                    }\n                    else {\n                        var value = this.element.value;\n                        var prompt_1 = this.promptChar;\n                        var elementValue = value.substring(0, sIndex) + prompt_1 + value.substring(startIndex, value.length);\n                        setElementValue.call(this, elementValue);\n                        event.preventDefault();\n                        this.element.selectionStart = this.element.selectionEnd = sIndex;\n                        isDeleted = true;\n                    }\n                    startIndex = this.element.selectionStart;\n                    if ((!isDeleted && event.keyCode === 8) || multipleDel || (!isDeleted && !(event.keyCode === 46))) {\n                        sIndex = startIndex - 1;\n                    }\n                    else {\n                        sIndex = startIndex;\n                        isDeleted = false;\n                    }\n                    oldValue = this.element.value[sIndex];\n                    if (((initStartIndex !== initEndIndex) && (this.element.selectionStart === initStartIndex))\n                        || (this.promptMask[sIndex] === this.promptChar) || ((oldValue !== this.promptMask[sIndex]) &&\n                        (this.promptMask[sIndex] !== this.promptChar) && !isNullOrUndefined(this.customCharacters))) {\n                        break;\n                    }\n                }\n            }\n        }\n        if (this.element.selectionStart === 0 && (this.element.selectionEnd === this.element.value.length)) {\n            setElementValue.call(this, this.promptMask);\n            event.preventDefault();\n            this.element.selectionStart = this.element.selectionEnd = startIndex;\n        }\n        this.redoCollec.unshift({\n            value: this.element.value, startIndex: this.element.selectionStart,\n            endIndex: this.element.selectionEnd\n        });\n        if (this.element.value !== preValue) {\n            triggerMaskChangeEvent.call(this, event, oldEventVal);\n        }\n    }\n}\nfunction maskInputKeyPressHandler(event) {\n    if (this.mask) {\n        var oldValue = this.element.value;\n        if ((!event.ctrlKey) || (event.ctrlKey && event.code !== 'KeyA' && event.code !== 'KeyY'\n            && event.code !== 'KeyZ' && event.code !== 'KeyX' && event.code !== 'KeyC' && event.code !== 'KeyV')) {\n            this.maskKeyPress = true;\n            var key = event.key;\n            if (key === 'Spacebar') {\n                key = String.fromCharCode(event.keyCode);\n            }\n            if (!key) {\n                this.isIosInvalid = true;\n                validateValue.call(this, String.fromCharCode(event.keyCode), event.ctrlKey, event);\n                event.preventDefault();\n                this.isIosInvalid = false;\n            }\n            else if (key && key.length === 1) {\n                validateValue.call(this, key, event.ctrlKey, event);\n                event.preventDefault();\n            }\n        }\n        if (this.element.value !== oldValue) {\n            triggerMaskChangeEvent.call(this, event, oldValue);\n        }\n    }\n}\nfunction triggerMaskChangeEvent(event, oldValue) {\n    if (!isNullOrUndefined(this.changeEventArgs) && !this.isInitial) {\n        var eventArgs = {};\n        this.changeEventArgs = { value: this.element.value, maskedValue: this.element.value, isInteraction: false };\n        if (this.mask) {\n            this.changeEventArgs.value = strippedValue.call(this, this.element);\n        }\n        if (!isNullOrUndefined(event)) {\n            this.changeEventArgs.isInteraction = true;\n            this.changeEventArgs.event = event;\n        }\n        merge(eventArgs, this.changeEventArgs);\n        this.trigger('change', eventArgs);\n    }\n    this.preEleVal = this.element.value;\n    attributes(this.element, { 'aria-valuenow': this.element.value });\n}\nfunction maskInputKeyUpHandler(event) {\n    if (this.mask) {\n        var collec = void 0;\n        if (!this.maskKeyPress && event.keyCode === 229) {\n            var oldEventVal = void 0;\n            if (this.element.value.length === 1) {\n                this.element.value = this.element.value + this.promptMask;\n                this.element.setSelectionRange(1, 1);\n            }\n            if (this.element.value.length > this.promptMask.length) {\n                var startIndex = this.element.selectionStart;\n                var addedValues = this.element.value.length - this.promptMask.length;\n                var val_1 = this.element.value.substring(startIndex - addedValues, startIndex);\n                if (this.undoCollec.length > 0) {\n                    collec = this.undoCollec[this.undoCollec.length - 1];\n                    var startIndex_1 = this.element.selectionStart;\n                    oldEventVal = collec.value;\n                    var oldVal = collec.value.substring(startIndex_1 - addedValues, startIndex_1);\n                    collec = this.redoCollec[0];\n                    val_1 = val_1.trim();\n                    var isSpace = Browser.isAndroid && val_1 === '';\n                    if (!isSpace && oldVal !== val_1 && collec.value.substring(startIndex_1 - addedValues, startIndex_1) !== val_1) {\n                        validateValue.call(this, val_1, event.ctrlKey, event);\n                    }\n                    else if (isSpace) {\n                        preventUnsupportedValues.call(this, event, startIndex_1 - 1, this.element.selectionEnd - 1, val_1, event.ctrlKey, false);\n                    }\n                }\n                else {\n                    oldEventVal = this.promptMask;\n                    validateValue.call(this, val_1, event.ctrlKey, event);\n                }\n                this.maskKeyPress = false;\n                triggerMaskChangeEvent.call(this, event, oldEventVal);\n            }\n        }\n        else {\n            removeMaskError.call(this);\n        }\n        var val = strippedValue.call(this, this.element);\n        if (!((this.element.selectionStart === 0) && (this.promptMask === this.element.value) && val === '')\n            || (val === '' && this.value !== val)) {\n            this.prevValue = val;\n            this.value = val;\n        }\n    }\n    else {\n        triggerMaskChangeEvent.call(this, event);\n        this.value = this.element.value;\n    }\n    if (this.element.selectionStart === 0 && this.element.selectionEnd === 0) {\n        // tslint:disable-next-line\n        var temp_1 = this.element;\n        setTimeout(function () {\n            temp_1.setSelectionRange(0, 0);\n        }, 0);\n    }\n}\nfunction mobileSwipeCheck(key) {\n    if (key.length > 1 && ((this.promptMask.length + key.length) < this.element.value.length)) {\n        var elementValue = this.redoCollec[0].value.substring(0, this.redoCollec[0].startIndex) + key +\n            this.redoCollec[0].value.substring(this.redoCollec[0].startIndex, this.redoCollec[0].value.length);\n        setElementValue.call(this, elementValue);\n        this.element.selectionStart = this.element.selectionEnd = this.redoCollec[0].startIndex + key.length;\n    }\n    this.element.selectionStart = this.element.selectionStart - key.length;\n    this.element.selectionEnd = this.element.selectionEnd - key.length;\n}\nfunction mobileValidation(key) {\n    if (!this.maskKeyPress) {\n        mobileSwipeCheck.call(this, key);\n    }\n}\nfunction validateValue(key, isCtrlKey, event) {\n    mobileValidation.call(this, key);\n    if (isNullOrUndefined(this) || isNullOrUndefined(key)) {\n        return;\n    }\n    var startIndex = this.element.selectionStart;\n    var initStartIndex = startIndex;\n    var endIndex = this.element.selectionEnd;\n    var curMask;\n    var allowText = false;\n    var value = this.element.value;\n    var eventOldVal;\n    var prevSupport = false;\n    var isEqualVal = false;\n    for (var k = 0; k < key.length; k++) {\n        var keyValue = key[k];\n        startIndex = this.element.selectionStart;\n        endIndex = this.element.selectionEnd;\n        if (!this.maskKeyPress && initStartIndex === startIndex) {\n            startIndex = startIndex + k;\n        }\n        if ((!this.maskKeyPress || startIndex < this.promptMask.length)) {\n            for (var i = startIndex; i < this.promptMask.length; i++) {\n                var maskValue = this.escapeMaskValue;\n                curMask = maskValue[startIndex];\n                if (this.hiddenMask[startIndex] === '\\\\' && this.hiddenMask[startIndex + 1] === key) {\n                    isEqualVal = true;\n                }\n                if ((isNullOrUndefined(this.regExpCollec[curMask]) && (isNullOrUndefined(this.customCharacters)\n                    || (!isNullOrUndefined(this.customCharacters) && isNullOrUndefined(this.customCharacters[curMask])))\n                    && ((this.hiddenMask[startIndex] !== this.promptChar && this.customRegExpCollec[startIndex][0] !== '['\n                        && this.customRegExpCollec[startIndex][this.customRegExpCollec[startIndex].length - 1] !== ']')))\n                    || ((this.promptMask[startIndex] !== this.promptChar) && isNullOrUndefined(this.customCharacters))\n                    || (this.promptChar === curMask && this.escapeMaskValue === this.mask)) {\n                    this.element.selectionStart = this.element.selectionEnd = startIndex + 1;\n                    startIndex = this.element.selectionStart;\n                    curMask = this.hiddenMask[startIndex];\n                }\n            }\n            if (!isNullOrUndefined(this.customCharacters) && !isNullOrUndefined(this.customCharacters[curMask])) {\n                var customValStr = this.customCharacters[curMask];\n                var customValArr = customValStr.split(',');\n                for (var i = 0; i < customValArr.length; i++) {\n                    if (keyValue.match(new RegExp('[' + customValArr[i] + ']'))) {\n                        allowText = true;\n                        break;\n                    }\n                }\n            }\n            else if (!isNullOrUndefined(this.regExpCollec[curMask]) && keyValue.match(new RegExp(this.regExpCollec[curMask]))\n                && this.promptMask[startIndex] === this.promptChar) {\n                allowText = true;\n            }\n            else if (this.promptMask[startIndex] === this.promptChar && this.customRegExpCollec[startIndex][0] === '['\n                && this.customRegExpCollec[startIndex][this.customRegExpCollec[startIndex].length - 1] === ']'\n                && keyValue.match(new RegExp(this.customRegExpCollec[startIndex]))) {\n                allowText = true;\n            }\n            if ((!this.maskKeyPress || startIndex < this.hiddenMask.length) && allowText) {\n                if (k === 0) {\n                    if (this.maskKeyPress) {\n                        this.undoCollec.push({ value: value, startIndex: startIndex, endIndex: startIndex });\n                    }\n                    else {\n                        var sIndex = this.element.selectionStart;\n                        var eIndex = this.element.selectionEnd;\n                        if (this.redoCollec.length > 0) {\n                            eventOldVal = this.redoCollec[0].value;\n                            setElementValue.call(this, eventOldVal);\n                            this.undoCollec.push(this.redoCollec[0]);\n                        }\n                        else {\n                            this.undoCollec.push({ value: this.promptMask, startIndex: startIndex, endIndex: startIndex });\n                            eventOldVal = this.promptMask;\n                            setElementValue.call(this, eventOldVal);\n                        }\n                        this.element.selectionStart = sIndex;\n                        this.element.selectionEnd = eIndex;\n                    }\n                }\n                startIndex = this.element.selectionStart;\n                applySupportedValues.call(this, event, startIndex, keyValue, eventOldVal, isEqualVal);\n                prevSupport = true;\n                if (k === key.length - 1) {\n                    this.redoCollec.unshift({\n                        value: this.element.value, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd\n                    });\n                }\n                allowText = false;\n            }\n            else {\n                startIndex = this.element.selectionStart;\n                preventUnsupportedValues.call(this, event, startIndex, initStartIndex, key, isCtrlKey, prevSupport);\n            }\n            if (k === key.length - 1 && !allowText) {\n                if (!Browser.isAndroid || (Browser.isAndroid && startIndex < this.promptMask.length)) {\n                    this.redoCollec.unshift({\n                        value: this.element.value, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd\n                    });\n                }\n            }\n        }\n        else {\n            if (key.length === 1 && !isCtrlKey && !isNullOrUndefined(event)) {\n                addMaskErrorClass.call(this);\n            }\n        }\n    }\n}\nfunction applySupportedValues(event, startIndex, keyValue, eventOldVal, isEqualVal) {\n    if (this.hiddenMask.length > this.promptMask.length) {\n        keyValue = changeToLowerUpperCase.call(this, keyValue, this.element.value);\n    }\n    if (!isEqualVal) {\n        var value = this.element.value;\n        var elementValue = value.substring(0, startIndex) + keyValue + value.substring(startIndex + 1, value.length);\n        setElementValue.call(this, elementValue);\n        this.element.selectionStart = this.element.selectionEnd = startIndex + 1;\n    }\n}\nfunction preventUnsupportedValues(event, sIdx, idx, key, ctrl, chkSupport) {\n    if (!this.maskKeyPress) {\n        var eventOldVal = void 0;\n        var value = this.element.value;\n        if (sIdx >= this.promptMask.length) {\n            setElementValue.call(this, value.substring(0, sIdx));\n        }\n        else {\n            if (idx === sIdx) {\n                setElementValue.call(this, value.substring(0, sIdx) + value.substring(sIdx + 1, value.length));\n            }\n            else {\n                if (this.promptMask.length === this.element.value.length) {\n                    setElementValue.call(this, value.substring(0, sIdx) + value.substring(sIdx, value.length));\n                }\n                else {\n                    setElementValue.call(this, value.substring(0, idx) + value.substring(idx + 1, value.length));\n                }\n            }\n            this.element.selectionStart = this.element.selectionEnd = (chkSupport ||\n                this.element.value[idx] !== this.promptChar) ? sIdx : idx;\n        }\n        eventOldVal = this.element.value;\n        addMaskErrorClass.call(this);\n    }\n    if (key.length === 1 && !ctrl && !isNullOrUndefined(event)) {\n        addMaskErrorClass.call(this);\n    }\n}\nfunction addMaskErrorClass() {\n    var _this = this;\n    var parentElement = this.element.parentNode;\n    var timer = 200;\n    if (parentElement.classList.contains(INPUTGROUP) || parentElement.classList.contains(FLOATINPUT)) {\n        addClass([parentElement], ERROR);\n    }\n    else {\n        addClass([this.element], ERROR);\n    }\n    if (this.isIosInvalid === true) {\n        timer = 400;\n    }\n    attributes(this.element, { 'aria-invalid': 'true' });\n    setTimeout(function () {\n        if (!_this.maskKeyPress) {\n            removeMaskError.call(_this);\n        }\n    }, timer);\n}\nfunction removeMaskError() {\n    var parentElement = this.element.parentNode;\n    removeClass([parentElement], ERROR);\n    removeClass([this.element], ERROR);\n    attributes(this.element, { 'aria-invalid': 'false' });\n}\n/**\n * @hidden\n * Validates user input using masking elements '<' , '>' and '|'.\n */\nfunction changeToLowerUpperCase(key, value) {\n    var promptMask;\n    var i;\n    var j = 0;\n    var curVal = value;\n    var caseCount = 0;\n    for (i = 0; i < this.hiddenMask.length; i++) {\n        if (this.hiddenMask[i] === '\\\\') {\n            promptMask = curVal.substring(0, i) + '\\\\' + curVal.substring(i, curVal.length);\n        }\n        if (this.hiddenMask[i] === '>' || this.hiddenMask[i] === '<' || this.hiddenMask[i] === '|') {\n            if (this.hiddenMask[i] !== curVal[i]) {\n                promptMask = curVal.substring(0, i) + this.hiddenMask[i] + curVal.substring(i, curVal.length);\n            }\n            ++caseCount;\n        }\n        if (promptMask) {\n            if (((promptMask[i] === this.promptChar) && (i > this.element.selectionStart)) ||\n                (this.element.value.indexOf(this.promptChar) < 0 && (this.element.selectionStart + caseCount) === i)) {\n                caseCount = 0;\n                break;\n            }\n            curVal = promptMask;\n        }\n    }\n    while (i >= 0 && promptMask) {\n        if (i === 0 || promptMask[i - 1] !== '\\\\') {\n            var val = this.element.value;\n            if (promptMask[i] === '>') {\n                key = key.toUpperCase();\n                break;\n            }\n            else if (promptMask[i] === '<') {\n                key = key.toLowerCase();\n                break;\n            }\n            else if (promptMask[i] === '|') {\n                break;\n            }\n        }\n        --i;\n    }\n    return key;\n}\n/**\n * @hidden\n * To set updated values in the MaskedTextBox.\n */\nexport function setMaskValue(val) {\n    if (this.mask && val !== undefined && (this.prevValue === undefined || this.prevValue !== val)) {\n        this.maskKeyPress = true;\n        setElementValue.call(this, this.promptMask);\n        if (val !== '') {\n            this.element.selectionStart = 0;\n            this.element.selectionEnd = 0;\n        }\n        if (val !== null) {\n            for (var i = 0; i < val.length; i++) {\n                validateValue.call(this, val[i], false, null);\n            }\n        }\n        var newVal = strippedValue.call(this, this.element);\n        this.prevValue = newVal;\n        this.value = newVal;\n        triggerMaskChangeEvent.call(this, null, null);\n        this.maskKeyPress = false;\n        var labelElement = this.element.parentNode.querySelector('.e-float-text');\n        if (this.element.value === this.promptMask && this.floatLabelType === 'Auto' && this.placeholder &&\n            !isNullOrUndefined(labelElement) && labelElement.classList.contains(TOPLABEL) && !this.isFocus) {\n            removeClass([labelElement], TOPLABEL);\n            addClass([labelElement], BOTTOMLABEL);\n            setElementValue.call(this, '');\n        }\n    }\n    if (this.mask === null || this.mask === '' && this.value !== undefined) {\n        setElementValue.call(this, this.value);\n    }\n}\n/**\n * @hidden\n * To set updated values in the input element.\n */\nexport function setElementValue(val, element) {\n    if (!this.isFocus && this.floatLabelType === 'Auto' && this.placeholder && isNullOrUndefined(this.value)) {\n        val = '';\n    }\n    var value = strippedValue.call(this, (element ? element : this.element), val);\n    if (value === null || value === '') {\n        Input.setValue(val, (element ? element : this.element), this.floatLabelType, false);\n        if (this.showClearButton) {\n            this.inputObj.clearButton.classList.add('e-clear-icon-hide');\n        }\n    }\n    else {\n        Input.setValue(val, (element ? element : this.element), this.floatLabelType, this.showClearButton);\n    }\n}\n/**\n * @hidden\n * Provide mask support to input textbox through utility method.\n */\nexport function maskInput(args) {\n    var inputEle = getMaskInput(args);\n    applyMask.call(inputEle);\n    var val = strippedValue.call(this, this.element);\n    this.prevValue = val;\n    this.value = val;\n    if (args.mask) {\n        unwireEvents.call(inputEle);\n        wireEvents.call(inputEle);\n    }\n}\nfunction getMaskInput(args) {\n    addClass([args.element], UTILMASK);\n    var inputEle = {\n        element: args.element,\n        mask: args.mask,\n        promptMask: '',\n        hiddenMask: '',\n        escapeMaskValue: '',\n        promptChar: args.promptChar ? (args.promptChar.length > 1) ? args.promptChar = args.promptChar[0]\n            : args.promptChar : '_',\n        value: args.value ? args.value : null,\n        regExpCollec: regularExpressions,\n        customRegExpCollec: [],\n        customCharacters: args.customCharacters,\n        undoCollec: [],\n        redoCollec: [],\n        maskKeyPress: false,\n        prevValue: ''\n    };\n    createMask.call(inputEle);\n    return inputEle;\n}\n/**\n * @hidden\n * Gets raw value of the textbox which has been masked through utility method.\n */\nexport function getVal(args) {\n    return strippedValue.call(getUtilMaskEle(args), args.element);\n}\n/**\n * @hidden\n * Gets masked value of the textbox which has been masked through utility method.\n */\nexport function getMaskedVal(args) {\n    return unstrippedValue.call(getUtilMaskEle(args), args.element);\n}\nfunction getUtilMaskEle(args) {\n    var value = '';\n    var inputEle;\n    if (!isNullOrUndefined(args) && args.element.classList.contains(UTILMASK)) {\n        inputEle = getMaskInput(args);\n    }\n    return inputEle;\n}\n/**\n * @hidden\n * Arguments to perform undo and redo functionalities.\n */\nvar MaskUndo = /** @class */ (function () {\n    function MaskUndo() {\n    }\n    return MaskUndo;\n}());\nexport { MaskUndo };\nvar maskUndo = new MaskUndo();\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, extend, deleteObject, Property } from '@syncfusion/ej2-base';\n/**\n * @param props\n * @param model\n */\nexport function getModel(props, model) {\n    var obj = extend({}, props);\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var prop = _a[_i];\n        if ((model).indexOf(prop) < 0) {\n            deleteObject(obj, prop);\n        }\n    }\n    return obj;\n}\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"separator\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"url\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n","import { isNullOrUndefined, merge } from './util';\nvar headerRegex = /^(.*?):[ \\t]*([^\\r\\n]*)$/gm;\nvar defaultType = 'GET';\n/**\n * Ajax class provides ability to make asynchronous HTTP request to the server\n * ```typescript\n *   var ajax = new Ajax(\"index.html\", \"GET\", true);\n *   ajax.send().then(\n *               function (value) {\n *                   console.log(value);\n *               },\n *               function (reason) {\n *                   console.log(reason);\n *               });\n * ```\n */\nvar Ajax = /** @class */ (function () {\n    /**\n     * Constructor for Ajax class\n     * @param  {string|Object} options?\n     * @param  {string} type?\n     * @param  {boolean} async?\n     * @returns defaultType\n     */\n    function Ajax(options, type, async, contentType) {\n        /**\n         * A boolean value indicating whether the request should be sent asynchronous or not.\n         * @default true\n         */\n        this.mode = true;\n        /**\n         * A boolean value indicating whether to ignore the promise reject.\n         * @private\n         * @default true\n         */\n        this.emitError = true;\n        this.options = {};\n        if (typeof options === 'string') {\n            this.url = options;\n            this.type = type ? type.toUpperCase() : defaultType;\n            this.mode = !isNullOrUndefined(async) ? async : true;\n        }\n        else if (typeof options === 'object') {\n            this.options = options;\n            merge(this, this.options);\n        }\n        this.type = this.type ? this.type.toUpperCase() : defaultType;\n        this.contentType = (this.contentType !== undefined) ? this.contentType : contentType;\n    }\n    /**\n     * Send the request to server.\n     * @param {any} data - To send the user data\n     * @return {Promise}\n     */\n    Ajax.prototype.send = function (data) {\n        var _this = this;\n        this.data = isNullOrUndefined(data) ? this.data : data;\n        var eventArgs = {\n            cancel: false\n        };\n        var promise = new Promise(function (resolve, reject) {\n            _this.httpRequest = new XMLHttpRequest();\n            _this.httpRequest.onreadystatechange = function () { _this.stateChange(resolve, reject); };\n            if (!isNullOrUndefined(_this.onLoad)) {\n                _this.httpRequest.onload = _this.onLoad;\n            }\n            if (!isNullOrUndefined(_this.onProgress)) {\n                _this.httpRequest.onprogress = _this.onProgress;\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onAbort)) {\n                _this.httpRequest.onabort = _this.onAbort;\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onError)) {\n                _this.httpRequest.onerror = _this.onError;\n            }\n            //** Upload Events **/\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onUploadProgress)) {\n                _this.httpRequest.upload.onprogress = _this.onUploadProgress;\n            }\n            _this.httpRequest.open(_this.type, _this.url, _this.mode);\n            // Set default headers\n            if (!isNullOrUndefined(_this.data) && _this.contentType !== null) {\n                _this.httpRequest.setRequestHeader('Content-Type', _this.contentType || 'application/json; charset=utf-8');\n            }\n            if (_this.beforeSend) {\n                _this.beforeSend(eventArgs);\n            }\n            if (!eventArgs.cancel) {\n                _this.httpRequest.send(!isNullOrUndefined(_this.data) ? _this.data : null);\n            }\n        });\n        return promise;\n    };\n    Ajax.prototype.successHandler = function (data) {\n        if (this.onSuccess) {\n            this.onSuccess(data, this);\n        }\n        return data;\n    };\n    Ajax.prototype.failureHandler = function (reason) {\n        if (this.onFailure) {\n            this.onFailure(this.httpRequest);\n        }\n        return reason;\n    };\n    Ajax.prototype.stateChange = function (resolve, reject) {\n        var data = this.httpRequest.responseText;\n        if (this.dataType && this.dataType.toLowerCase() === 'json') {\n            if (data === '') {\n                data = undefined;\n            }\n            else {\n                try {\n                    data = JSON.parse(data);\n                }\n                catch (error) {\n                    // no exception handle\n                }\n            }\n        }\n        if (this.httpRequest.readyState === 4) {\n            //success range should be 200 to 299\n            if ((this.httpRequest.status >= 200 && this.httpRequest.status <= 299) || this.httpRequest.status === 304) {\n                resolve(this.successHandler(data));\n            }\n            else {\n                if (this.emitError) {\n                    reject(new Error(this.failureHandler(this.httpRequest.statusText)));\n                }\n                else {\n                    resolve();\n                }\n            }\n        }\n    };\n    /**\n     * To get the response header from XMLHttpRequest\n     * @param  {string} key Key to search in the response header\n     * @returns {string}\n     */\n    Ajax.prototype.getResponseHeader = function (key) {\n        var responseHeaders;\n        var header;\n        responseHeaders = {};\n        var headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        while (headers) {\n            responseHeaders[headers[1].toLowerCase()] = headers[2];\n            headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        }\n        header = responseHeaders[key.toLowerCase()];\n        return isNullOrUndefined(header) ? null : header;\n    };\n    return Ajax;\n}());\nexport { Ajax };\n","import { debounce, extend } from './util';\n/**\n * EventHandler class provides option to add, remove, clear and trigger events to a HTML DOM element\n * @private\n * ```html\n * <div id=\"Eventdiv\">  </div>\n * <script>\n *   let node: HTMLElement = document.querySelector(\"#Eventdiv\");\n *   EventHandler.addEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   EventHandler.addEventListener(node, \"onmouseover\", function(){\n *       // mouseover handler function code\n *   });\n *   EventHandler.removeEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   eventObj.clearEvents();\n * </script>\n * ```\n */\nvar EventHandler = /** @class */ (function () {\n    function EventHandler() {\n    }\n    // to get the event data based on element\n    EventHandler.addOrGetEventData = function (element) {\n        if ('__eventList' in element) {\n            return element.__eventList.events;\n        }\n        else {\n            element.__eventList = {};\n            return element.__eventList.events = [];\n        }\n    };\n    /**\n     * Add an event to the specified DOM element.\n     * @param {any} element - Target HTML DOM element\n     * @param {string} eventName - A string that specifies the name of the event\n     * @param {Function} listener - Specifies the function to run when the event occurs\n     * @param {Object} bindTo - A object that binds 'this' variable in the event handler\n     * @param {number} debounce - Specifies at what interval given event listener should be triggered.\n     * @return {Function}\n     */\n    EventHandler.add = function (element, eventName, listener, bindTo, intDebounce) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var debounceListener;\n        if (intDebounce) {\n            debounceListener = debounce(listener, intDebounce);\n        }\n        else {\n            debounceListener = listener;\n        }\n        if (bindTo) {\n            debounceListener = debounceListener.bind(bindTo);\n        }\n        var event = eventName.split(' ');\n        for (var i = 0; i < event.length; i++) {\n            eventData.push({\n                name: event[i],\n                listener: listener,\n                debounce: debounceListener\n            });\n            element.addEventListener(event[i], debounceListener);\n        }\n        return debounceListener;\n    };\n    /**\n     * Remove an event listener that has been attached before.\n     * @param {any} element - Specifies the target html element to remove the event\n     * @param {string} eventName - A string that specifies the name of the event to remove\n     * @param {Function} listener - Specifies the function to remove\n     * @return {void}\n     */\n    EventHandler.remove = function (element, eventName, listener) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var event = eventName.split(' ');\n        var _loop_1 = function (j) {\n            var index = -1;\n            var debounceListener;\n            if (eventData && eventData.length !== 0) {\n                eventData.some(function (x, i) {\n                    return x.name === event[j] && x.listener === listener ?\n                        (index = i, debounceListener = x.debounce, true) : false;\n                });\n            }\n            if (index !== -1) {\n                eventData.splice(index, 1);\n            }\n            if (debounceListener) {\n                element.removeEventListener(event[j], debounceListener);\n            }\n        };\n        for (var j = 0; j < event.length; j++) {\n            _loop_1(j);\n        }\n    };\n    /**\n     * Clear all the event listeners that has been previously attached to the element.\n     * @param {any} element - Specifies the target html element to clear the events\n     * @return {void}\n     */\n    EventHandler.clearEvents = function (element) {\n        var eventData;\n        var copyData;\n        eventData = EventHandler.addOrGetEventData(element);\n        copyData = extend([], copyData, eventData);\n        for (var i = 0; i < copyData.length; i++) {\n            element.removeEventListener(copyData[i].name, copyData[i].debounce);\n            eventData.shift();\n        }\n    };\n    /**\n     * Trigger particular event of the element.\n     * @param {any} element - Specifies the target html element to trigger the events\n     * @param {string} eventName - Specifies the event to trigger for the specified element.\n     * Can be a custom event, or any of the standard events.\n     * @param {any} eventProp - Additional parameters to pass on to the event properties\n     * @return {void}\n     */\n    EventHandler.trigger = function (element, eventName, eventProp) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var fn = null;\n        for (var _i = 0, eventData_1 = eventData; _i < eventData_1.length; _i++) {\n            var event_1 = eventData_1[_i];\n            if (event_1.name === eventName) {\n                event_1.debounce.call(this, eventProp);\n            }\n        }\n    };\n    return EventHandler;\n}());\nexport { EventHandler };\n","import { isNullOrUndefined, getValue } from './util';\nvar Observer = /** @class */ (function () {\n    function Observer(context) {\n        this.ranArray = [];\n        this.boundedEvents = {};\n        if (isNullOrUndefined(context)) {\n            return;\n        }\n        this.context = context;\n    }\n    ;\n    /**\n     * To attach handler for given property in current context.\n     * @param {string} property - specifies the name of the event.\n     * @param {Function} handler - Specifies the handler function to be called while event notified.\n     * @param {Object} context - Specifies the context binded to the handler.\n     * @param {string} id - specifies the random generated id.\n     * @return {void}\n     */\n    Observer.prototype.on = function (property, handler, context, id) {\n        if (isNullOrUndefined(handler)) {\n            return;\n        }\n        var cntxt = context || this.context;\n        if (this.notExist(property)) {\n            this.boundedEvents[property] = [{ handler: handler, context: cntxt }];\n            return;\n        }\n        if (!isNullOrUndefined(id)) {\n            if (this.ranArray.indexOf(id) === -1) {\n                this.ranArray.push(id);\n                this.boundedEvents[property].push({ handler: handler, context: cntxt, id: id });\n            }\n        }\n        else if (!this.isHandlerPresent(this.boundedEvents[property], handler)) {\n            this.boundedEvents[property].push({ handler: handler, context: cntxt });\n        }\n    };\n    /**\n     * To remove handlers from a event attached using on() function.\n     * @param {string} eventName - specifies the name of the event.\n     * @param {Function} handler - Optional argument specifies the handler function to be called while event notified.\n     * @param {string} id - specifies the random generated id.\n     * @return {void}\n     */\n    Observer.prototype.off = function (property, handler, id) {\n        if (this.notExist(property)) {\n            return;\n        }\n        var curObject = getValue(property, this.boundedEvents);\n        if (handler) {\n            for (var i = 0; i < curObject.length; i++) {\n                if (id) {\n                    curObject.splice(i, 1);\n                    var indexLocation = this.ranArray.indexOf(id);\n                    if (indexLocation !== -1) {\n                        this.ranArray.splice(indexLocation, 1);\n                    }\n                    break;\n                }\n                else if (handler === curObject[i].handler) {\n                    curObject.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        else {\n            delete this.boundedEvents[property];\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     * @param {string} property - Specifies the event to be notify.\n     *  @param {Object} args - Additional parameters to pass while calling the handler.\n     * @return {void}\n     */\n    Observer.prototype.notify = function (property, argument) {\n        if (this.notExist(property)) {\n            return;\n        }\n        if (argument) {\n            argument.name = property;\n        }\n        var curObject = getValue(property, this.boundedEvents).slice(0);\n        for (var _i = 0, curObject_1 = curObject; _i < curObject_1.length; _i++) {\n            var cur = curObject_1[_i];\n            cur.handler.call(cur.context, argument);\n        }\n    };\n    /**\n     * To destroy handlers in the event\n     */\n    Observer.prototype.destroy = function () {\n        this.boundedEvents = this.context = undefined;\n    };\n    /**\n     * Returns if the property exists.\n     */\n    Observer.prototype.notExist = function (prop) {\n        return this.boundedEvents.hasOwnProperty(prop) === false;\n    };\n    /**\n     * Returns if the handler is present.\n     */\n    Observer.prototype.isHandlerPresent = function (boundedEvents, handler) {\n        for (var _i = 0, boundedEvents_1 = boundedEvents; _i < boundedEvents_1.length; _i++) {\n            var cur = boundedEvents_1[_i];\n            if (cur.handler === handler) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return Observer;\n}());\nexport { Observer };\n","import { isUndefined } from './util';\nvar REGX_MOBILE = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i;\nvar REGX_IE = /msie|trident/i;\nvar REGX_IE11 = /Trident\\/7\\./;\nvar REGX_IOS = /(ipad|iphone|ipod touch)/i;\nvar REGX_IOS7 = /(ipad|iphone|ipod touch);.*os 7_\\d|(ipad|iphone|ipod touch);.*os 8_\\d/i;\nvar REGX_ANDROID = /android/i;\nvar REGX_WINDOWS = /trident|windows phone|edge/i;\nvar REGX_VERSION = /(version)[ \\/]([\\w.]+)/i;\nvar REGX_BROWSER = {\n    OPERA: /(opera|opr)(?:.*version|)[ \\/]([\\w.]+)/i,\n    EDGE: /(edge)(?:.*version|)[ \\/]([\\w.]+)/i,\n    CHROME: /(chrome|crios)[ \\/]([\\w.]+)/i,\n    PANTHOMEJS: /(phantomjs)[ \\/]([\\w.]+)/i,\n    SAFARI: /(safari)[ \\/]([\\w.]+)/i,\n    WEBKIT: /(webkit)[ \\/]([\\w.]+)/i,\n    MSIE: /(msie|trident) ([\\w.]+)/i,\n    MOZILLA: /(mozilla)(?:.*? rv:([\\w.]+)|)/i\n};\n/* istanbul ignore else  */\nif (typeof window !== 'undefined') {\n    window.browserDetails = window.browserDetails || {};\n}\n/**\n * Get configuration details for Browser\n * @private\n */\nvar Browser = /** @class */ (function () {\n    function Browser() {\n    }\n    Browser.extractBrowserDetail = function () {\n        var browserInfo = { culture: {} };\n        var keys = Object.keys(REGX_BROWSER);\n        var clientInfo = [];\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            clientInfo = Browser.userAgent.match(REGX_BROWSER[key]);\n            if (clientInfo) {\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'opr' ? 'opera' : clientInfo[1].toLowerCase());\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'crios' ? 'chrome' : browserInfo.name);\n                browserInfo.version = clientInfo[2];\n                browserInfo.culture.name = browserInfo.culture.language = navigator.language;\n                if (!!Browser.userAgent.match(REGX_IE11)) {\n                    browserInfo.name = 'msie';\n                    break;\n                }\n                var version = Browser.userAgent.match(REGX_VERSION);\n                if (browserInfo.name === 'safari' && version) {\n                    browserInfo.version = version[2];\n                }\n                break;\n            }\n        }\n        return browserInfo;\n    };\n    /**\n     * To get events from the browser\n     * @param {string} event - type of event triggered.\n     * @returns {Boolean}\n     */\n    Browser.getEvent = function (event) {\n        // tslint:disable-next-line:no-any\n        var events = {\n            start: {\n                isPointer: 'pointerdown', isTouch: 'touchstart', isDevice: 'mousedown'\n            },\n            move: {\n                isPointer: 'pointermove', isTouch: 'touchmove', isDevice: 'mousemove'\n            },\n            end: {\n                isPointer: 'pointerup', isTouch: 'touchend', isDevice: 'mouseup'\n            },\n            cancel: {\n                isPointer: 'pointercancel', isTouch: 'touchcancel', isDevice: 'mouseleave'\n            }\n        };\n        return (Browser.isPointer ? events[event].isPointer :\n            (Browser.isTouch ? events[event].isTouch + (!Browser.isDevice ? ' ' + events[event].isDevice : '')\n                : events[event].isDevice));\n    };\n    /**\n     * To get the Touch start event from browser\n     * @returns {string}\n     */\n    Browser.getTouchStartEvent = function () {\n        return Browser.getEvent('start');\n    };\n    /**\n     * To get the Touch end event from browser\n     * @returns {string}\n     */\n    Browser.getTouchEndEvent = function () {\n        return Browser.getEvent('end');\n    };\n    /**\n     * To get the Touch move event from browser\n     * @returns {string}\n     */\n    Browser.getTouchMoveEvent = function () {\n        return Browser.getEvent('move');\n    };\n    /**\n     * To cancel the touch event from browser\n     * @returns {string}\n     */\n    Browser.getTouchCancelEvent = function () {\n        return Browser.getEvent('cancel');\n    };\n    /**\n     * To get the value based on provided key and regX\n     * @param {string} key\n     * @param {RegExp} regX\n     * @returns {Object}\n     */\n    Browser.getValue = function (key, regX) {\n        var browserDetails = window.browserDetails;\n        if ('undefined' === typeof browserDetails[key]) {\n            return browserDetails[key] = regX.test(Browser.userAgent);\n        }\n        return browserDetails[key];\n    };\n    Object.defineProperty(Browser, \"userAgent\", {\n        get: function () {\n            return Browser.uA;\n        },\n        //Properties \n        /**\n         * Property specifies the userAgent of the browser. Default userAgent value is based on the browser.\n         * Also we can set our own userAgent.\n         */\n        set: function (uA) {\n            Browser.uA = uA;\n            window.browserDetails = {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"info\", {\n        //Read Only Properties\n        /**\n         * Property is to get the browser information like Name, Version and Language\n         * @returns BrowserInfo\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.info)) {\n                return window.browserDetails.info = Browser.extractBrowserDetail();\n            }\n            return window.browserDetails.info;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIE\", {\n        /**\n         * Property is to get whether the userAgent is based IE.\n         */\n        get: function () {\n            return Browser.getValue('isIE', REGX_IE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isTouch\", {\n        /**\n         * Property is to get whether the browser has touch support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isTouch)) {\n                return window.browserDetails.isTouch = ('ontouchstart' in window);\n            }\n            return window.browserDetails.isTouch;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isPointer\", {\n        /**\n         * Property is to get whether the browser has Pointer support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isPointer)) {\n                return window.browserDetails.isPointer = ('pointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isMSPointer\", {\n        /**\n         * Property is to get whether the browser has MSPointer support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isMSPointer)) {\n                return window.browserDetails.isMSPointer = ('msPointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isMSPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isDevice\", {\n        /**\n         * Property is to get whether the userAgent is device based.\n         */\n        get: function () {\n            return Browser.getValue('isDevice', REGX_MOBILE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos\", {\n        /**\n         * Property is to get whether the userAgent is IOS.\n         */\n        get: function () {\n            return Browser.getValue('isIos', REGX_IOS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos7\", {\n        /**\n         * Property is to get whether the userAgent is Ios7.\n         */\n        get: function () {\n            return Browser.getValue('isIos7', REGX_IOS7);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isAndroid\", {\n        /**\n         * Property is to get whether the userAgent is Android.\n         */\n        get: function () {\n            return Browser.getValue('isAndroid', REGX_ANDROID);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWebView\", {\n        /**\n         * Property is to identify whether application ran in web view.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isWebView)) {\n                window.browserDetails.isWebView = !(isUndefined(window.cordova) && isUndefined(window.PhoneGap)\n                    && isUndefined(window.phonegap) && window.forge !== 'object');\n                return window.browserDetails.isWebView;\n            }\n            return window.browserDetails.isWebView;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWindows\", {\n        /**\n         * Property is to get whether the userAgent is Windows.\n         */\n        get: function () {\n            return Browser.getValue('isWindows', REGX_WINDOWS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchStartEvent\", {\n        /**\n         * Property is to get the touch start event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchStartEvent)) {\n                return window.browserDetails.touchStartEvent = Browser.getTouchStartEvent();\n            }\n            return window.browserDetails.touchStartEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchMoveEvent\", {\n        /**\n         * Property is to get the touch move event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchMoveEvent)) {\n                return window.browserDetails.touchMoveEvent = Browser.getTouchMoveEvent();\n            }\n            return window.browserDetails.touchMoveEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchEndEvent\", {\n        /**\n         * Property is to get the touch end event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchEndEvent)) {\n                return window.browserDetails.touchEndEvent = Browser.getTouchEndEvent();\n            }\n            return window.browserDetails.touchEndEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchCancelEvent\", {\n        /**\n         * Property is to cancel the touch end event.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchCancelEvent)) {\n                return window.browserDetails.touchCancelEvent = Browser.getTouchCancelEvent();\n            }\n            return window.browserDetails.touchCancelEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /* istanbul ignore next */\n    Browser.uA = typeof navigator !== 'undefined' ? navigator.userAgent : '';\n    return Browser;\n}());\nexport { Browser };\n","import { defaultCurrencyCode } from '../internationalization';\nimport { getValue, isNullOrUndefined, extend } from '../util';\nimport { ParserBase as parser } from './parser-base';\nimport { DateFormat } from './date-formatter';\nimport { NumberFormat } from './number-formatter';\n/**\n * Date base common constants and function for date parser and formatter.\n */\nexport var IntlBase;\n(function (IntlBase) {\n    // tslint:disable-next-line:max-line-length\n    IntlBase.negativeDataRegex = /^(('[^']+'|''|[^*#@0,.E])*)(\\*.)?((([#,]*[0,]*0+)(\\.0*[0-9]*#*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.customRegex = /^(('[^']+'|''|[^*#@0,.])*)(\\*.)?((([0#,]*[0,]*[0#]*)(\\.[0#]*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.latnParseRegex = /0|1|2|3|4|5|6|7|8|9/g;\n    var fractionRegex = /[0-9]/g;\n    IntlBase.defaultCurrency = '$';\n    var mapper = ['infinity', 'nan', 'group', 'decimal'];\n    var patternRegex = /G|M|L|H|c|'| a|yy|y|EEEE|E/g;\n    var patternMatch = {\n        'G': '',\n        'M': 'm',\n        'L': 'm',\n        'H': 'h',\n        'c': 'd',\n        '\\'': '\"',\n        ' a': ' AM/PM',\n        'yy': 'yy',\n        'y': 'yyyy',\n        'EEEE': 'dddd',\n        'E': 'ddd'\n    };\n    var defaultFirstDay = 'sun';\n    var firstDayMapper = {\n        'sun': 0,\n        'mon': 1,\n        'tue': 2,\n        'wed': 3,\n        'thu': 4,\n        'fri': 5,\n        'sat': 6\n    };\n    IntlBase.formatRegex = /(^[ncpae]{1})([0-1]?[0-9]|20)?$/i;\n    IntlBase.currencyFormatRegex = /(^[ca]{1})([0-1]?[0-9]|20)?$/i;\n    IntlBase.curWithoutNumberRegex = /(c|a)$/ig;\n    var typeMapper = {\n        '$': 'isCurrency',\n        '%': 'isPercent',\n        '-': 'isNegative',\n        0: 'nlead',\n        1: 'nend'\n    };\n    IntlBase.dateParseRegex = /([a-z])\\1*|'([^']|'')+'|''|./gi;\n    IntlBase.basicPatterns = ['short', 'medium', 'long', 'full'];\n    /* tslint:disable:quotemark */\n    IntlBase.defaultObject = {\n        'dates': {\n            'calendars': {\n                'gregorian': {\n                    'months': {\n                        'stand-alone': {\n                            'abbreviated': {\n                                '1': 'Jan',\n                                '2': 'Feb',\n                                '3': 'Mar',\n                                '4': 'Apr',\n                                '5': 'May',\n                                '6': 'Jun',\n                                '7': 'Jul',\n                                '8': 'Aug',\n                                '9': 'Sep',\n                                '10': 'Oct',\n                                '11': 'Nov',\n                                '12': 'Dec'\n                            },\n                            'narrow': {\n                                '1': 'J',\n                                '2': 'F',\n                                '3': 'M',\n                                '4': 'A',\n                                '5': 'M',\n                                '6': 'J',\n                                '7': 'J',\n                                '8': 'A',\n                                '9': 'S',\n                                '10': 'O',\n                                '11': 'N',\n                                '12': 'D'\n                            },\n                            'wide': {\n                                '1': 'January',\n                                '2': 'February',\n                                '3': 'March',\n                                '4': 'April',\n                                '5': 'May',\n                                '6': 'June',\n                                '7': 'July',\n                                '8': 'August',\n                                '9': 'September',\n                                '10': 'October',\n                                '11': 'November',\n                                '12': 'December'\n                            }\n                        }\n                    },\n                    \"days\": {\n                        \"stand-alone\": {\n                            \"abbreviated\": {\n                                \"sun\": \"Sun\",\n                                \"mon\": \"Mon\",\n                                \"tue\": \"Tue\",\n                                \"wed\": \"Wed\",\n                                \"thu\": \"Thu\",\n                                \"fri\": \"Fri\",\n                                \"sat\": \"Sat\"\n                            },\n                            \"narrow\": {\n                                \"sun\": \"S\",\n                                \"mon\": \"M\",\n                                \"tue\": \"T\",\n                                \"wed\": \"W\",\n                                \"thu\": \"T\",\n                                \"fri\": \"F\",\n                                \"sat\": \"S\"\n                            },\n                            \"short\": {\n                                \"sun\": \"Su\",\n                                \"mon\": \"Mo\",\n                                \"tue\": \"Tu\",\n                                \"wed\": \"We\",\n                                \"thu\": \"Th\",\n                                \"fri\": \"Fr\",\n                                \"sat\": \"Sa\"\n                            },\n                            \"wide\": {\n                                \"sun\": \"Sunday\",\n                                \"mon\": \"Monday\",\n                                \"tue\": \"Tuesday\",\n                                \"wed\": \"Wednesday\",\n                                \"thu\": \"Thursday\",\n                                \"fri\": \"Friday\",\n                                \"sat\": \"Saturday\"\n                            }\n                        }\n                    },\n                    \"dayPeriods\": {\n                        \"format\": {\n                            \"wide\": {\n                                \"am\": \"AM\",\n                                \"pm\": \"PM\"\n                            }\n                        }\n                    },\n                    'eras': {\n                        'eraNames': {\n                            '0': 'Before Christ',\n                            '0-alt-variant': 'Before Common Era',\n                            '1': 'Anno Domini',\n                            \"1-alt-variant\": \"Common Era\"\n                        },\n                        'eraAbbr': {\n                            '0': 'BC',\n                            '0-alt-variant': 'BCE',\n                            '1': 'AD',\n                            '1-alt-variant': 'CE'\n                        },\n                        'eraNarrow': {\n                            '0': 'B',\n                            '0-alt-variant': 'BCE',\n                            '1': 'A',\n                            '1-alt-variant': 'CE'\n                        }\n                    },\n                    'dateFormats': {\n                        'full': 'EEEE, MMMM d, y',\n                        'long': 'MMMM d, y',\n                        'medium': 'MMM d, y',\n                        'short': 'M/d/yy'\n                    },\n                    'timeFormats': {\n                        'full': 'h:mm:ss a zzzz',\n                        'long': 'h:mm:ss a z',\n                        'medium': 'h:mm:ss a',\n                        'short': 'h:mm a'\n                    },\n                    'dateTimeFormats': {\n                        'full': \"{1} 'at' {0}\",\n                        'long': \"{1} 'at' {0}\",\n                        'medium': '{1}, {0}',\n                        'short': '{1}, {0}',\n                        'availableFormats': {\n                            'd': 'd',\n                            'E': 'ccc',\n                            'Ed': 'd E',\n                            'Ehm': 'E h:mm a',\n                            'EHm': 'E HH:mm',\n                            'Ehms': 'E h:mm:ss a',\n                            'EHms': 'E HH:mm:ss',\n                            'Gy': 'y G',\n                            'GyMMM': 'MMM y G',\n                            'GyMMMd': 'MMM d, y G',\n                            'GyMMMEd': 'E, MMM d, y G',\n                            'h': 'h a',\n                            'H': 'HH',\n                            'hm': 'h:mm a',\n                            'Hm': 'HH:mm',\n                            'hms': 'h:mm:ss a',\n                            'Hms': 'HH:mm:ss',\n                            'hmsv': 'h:mm:ss a v',\n                            'Hmsv': 'HH:mm:ss v',\n                            'hmv': 'h:mm a v',\n                            'Hmv': 'HH:mm v',\n                            'M': 'L',\n                            'Md': 'M/d',\n                            'MEd': 'E, M/d',\n                            'MMM': 'LLL',\n                            'MMMd': 'MMM d',\n                            'MMMEd': 'E, MMM d',\n                            'MMMMd': 'MMMM d',\n                            'ms': 'mm:ss',\n                            'y': 'y',\n                            'yM': 'M/y',\n                            'yMd': 'M/d/y',\n                            'yMEd': 'E, M/d/y',\n                            'yMMM': 'MMM y',\n                            'yMMMd': 'MMM d, y',\n                            'yMMMEd': 'E, MMM d, y',\n                            'yMMMM': 'MMMM y',\n                        },\n                    }\n                }\n            },\n            'timeZoneNames': {\n                \"hourFormat\": \"+HH:mm;-HH:mm\",\n                \"gmtFormat\": \"GMT{0}\",\n                \"gmtZeroFormat\": \"GMT\",\n            }\n        },\n        'numbers': {\n            'currencies': {\n                'USD': {\n                    'displayName': 'US Dollar',\n                    'symbol': '$',\n                    'symbol-alt-narrow': '$'\n                },\n                'EUR': {\n                    'displayName': 'Euro',\n                    'symbol': '',\n                    'symbol-alt-narrow': ''\n                },\n                'GBP': {\n                    'displayName': 'British Pound',\n                    'symbol-alt-narrow': ''\n                },\n            },\n            'defaultNumberingSystem': 'latn',\n            'minimumGroupingDigits': '1',\n            'symbols-numberSystem-latn': {\n                'decimal': '.',\n                'group': ',',\n                'list': ';',\n                'percentSign': '%',\n                'plusSign': '+',\n                'minusSign': '-',\n                'exponential': 'E',\n                'superscriptingExponent': '',\n                'perMille': '',\n                'infinity': '',\n                'nan': 'NaN',\n                'timeSeparator': ':'\n            },\n            'decimalFormats-numberSystem-latn': {\n                'standard': '#,##0.###',\n            },\n            'percentFormats-numberSystem-latn': {\n                'standard': '#,##0%'\n            },\n            'currencyFormats-numberSystem-latn': {\n                'standard': '#,##0.00',\n                'accounting': '#,##0.00;(#,##0.00)'\n            },\n            'scientificFormats-numberSystem-latn': {\n                'standard': '#E0'\n            }\n        }\n    };\n    /* tslint:enable:quotemark */\n    IntlBase.monthIndex = {\n        3: 'abbreviated',\n        4: 'wide',\n        5: 'narrow',\n        1: 'abbreviated'\n    };\n    /**\n     *\n     */\n    IntlBase.month = 'months';\n    IntlBase.days = 'days';\n    /**\n     * Default numerber Object\n     */\n    IntlBase.patternMatcher = {\n        C: 'currency',\n        P: 'percent',\n        N: 'decimal',\n        A: 'currency',\n        E: 'scientific'\n    };\n    /**\n     * Returns the resultant pattern based on the skeleton, dateObject and the type provided\n     * @private\n     * @param {string} skeleton\n     * @param {Object} dateObject\n     * @param {string} type\n     * @returns {string}\n     */\n    function getResultantPattern(skeleton, dateObject, type) {\n        var resPattern;\n        var iType = type || 'date';\n        if (IntlBase.basicPatterns.indexOf(skeleton) !== -1) {\n            resPattern = getValue(iType + 'Formats.' + skeleton, dateObject);\n            if (iType === 'dateTime') {\n                var dPattern = getValue('dateFormats.' + skeleton, dateObject);\n                var tPattern = getValue('timeFormats.' + skeleton, dateObject);\n                resPattern = resPattern.replace('{1}', dPattern).replace('{0}', tPattern);\n            }\n        }\n        else {\n            resPattern = getValue('dateTimeFormats.availableFormats.' + skeleton, dateObject);\n        }\n        return resPattern;\n    }\n    IntlBase.getResultantPattern = getResultantPattern;\n    /**\n     * Returns the dependable object for provided cldr data and culture\n     * @private\n     * @param {Object} cldr\n     * @param {string} culture\n     * @param {boolean} isNumber\n     * @returns {Dependables}\n     */\n    function getDependables(cldr, culture, isNumber) {\n        var ret = {};\n        ret.parserObject = parser.getMainObject(cldr, culture) || IntlBase.defaultObject;\n        if (isNumber) {\n            ret.numericObject = getValue('numbers', ret.parserObject);\n        }\n        else {\n            ret.dateObject = getValue('dates.calendars.gregorian', ret.parserObject);\n        }\n        return ret;\n    }\n    IntlBase.getDependables = getDependables;\n    /**\n     * Returns the symbol pattern for provided parameters\n     * @private\n     * @param {string} type\n     * @param {string} numSystem\n     * @param {Object} obj\n     * @param {boolean} isAccount\n     * @returns {string}\n     */\n    function getSymbolPattern(type, numSystem, obj, isAccount) {\n        return getValue(type + 'Formats-numberSystem-' +\n            numSystem + (isAccount ? '.accounting' : '.standard'), obj) || (isAccount ? getValue(type + 'Formats-numberSystem-' +\n            numSystem + '.standard', obj) : '');\n    }\n    IntlBase.getSymbolPattern = getSymbolPattern;\n    /**\n     * Returns proper numeric skeleton\n     * @private\n     * @param {string} skeleton\n     * @returns {NumericSkeleton}\n     */\n    function getProperNumericSkeleton(skeleton) {\n        var matches = skeleton.match(IntlBase.formatRegex);\n        var ret = {};\n        var pattern = matches[1].toUpperCase();\n        ret.isAccount = (pattern === 'A');\n        /* tslint:disable no-any */\n        ret.type = IntlBase.patternMatcher[pattern];\n        if (skeleton.length > 1) {\n            ret.fractionDigits = parseInt(matches[2], 10);\n        }\n        return ret;\n    }\n    IntlBase.getProperNumericSkeleton = getProperNumericSkeleton;\n    /**\n     * Returns format data for number formatting like minimum fraction, maximum fraction, etc..,\n     * @private\n     * @param {string} pattern\n     * @param {boolean} needFraction\n     * @param {string} cSymbol\n     * @param {boolean} fractionOnly\n     * @returns {NegativeData}\n     */\n    function getFormatData(pattern, needFraction, cSymbol, fractionOnly) {\n        var nData = fractionOnly ? {} : { nlead: '', nend: '' };\n        var match = pattern.match(IntlBase.customRegex);\n        if (match) {\n            if (!fractionOnly) {\n                nData.nlead = changeCurrencySymbol(match[1], cSymbol);\n                nData.nend = changeCurrencySymbol(match[10], cSymbol);\n                nData.groupPattern = match[4];\n            }\n            var fraction = match[7];\n            if (fraction && needFraction) {\n                var fmatch = fraction.match(fractionRegex);\n                if (!isNullOrUndefined(fmatch)) {\n                    nData.minimumFraction = fmatch.length;\n                }\n                else {\n                    nData.minimumFraction = 0;\n                }\n                nData.maximumFraction = fraction.length - 1;\n            }\n        }\n        return nData;\n    }\n    IntlBase.getFormatData = getFormatData;\n    /**\n     * Changes currency symbol\n     * @private\n     * @param {string} val\n     * @param {string} sym\n     * @returns {string}\n     */\n    function changeCurrencySymbol(val, sym) {\n        if (val) {\n            return val.replace(IntlBase.defaultCurrency, sym);\n        }\n        return '';\n    }\n    /**\n     * Returns currency symbol based on currency code\n     * @private\n     * @param {Object} numericObject\n     * @param {string} currencyCode\n     * @returns {string}\n     */\n    function getCurrencySymbol(numericObject, currencyCode) {\n        return getValue('currencies.' + currencyCode + '.symbol', numericObject) || '$';\n    }\n    IntlBase.getCurrencySymbol = getCurrencySymbol;\n    /**\n     * Returns formatting options for custom number format\n     * @private\n     * @param {string} format\n     * @param {CommonOptions} dOptions\n     * @param {Dependables} obj\n     * @returns {GenericFormatOptions}\n     */\n    function customFormat(format, dOptions, obj) {\n        var options = {};\n        var formatSplit = format.split(';');\n        var data = ['pData', 'nData', 'zeroData'];\n        for (var i = 0; i < formatSplit.length; i++) {\n            options[data[i]] = customNumberFormat(formatSplit[i], dOptions, obj);\n        }\n        if (isNullOrUndefined(options.nData)) {\n            options.nData = extend({}, options.pData);\n            options.nData.nlead = isNullOrUndefined(dOptions) ? '-' + options.nData.nlead : dOptions.minusSymbol + options.nData.nlead;\n        }\n        return options;\n    }\n    IntlBase.customFormat = customFormat;\n    /**\n     * Returns custom formatting options\n     * @private\n     * @param {string} format\n     * @param {CommonOptions} dOptions\n     * @param {Object} numObject\n     * @returns {NegativeData}\n     */\n    function customNumberFormat(format, dOptions, numObject) {\n        var cOptions = { type: 'decimal', minimumFractionDigits: 0, maximumFractionDigits: 0 };\n        var pattern = format.match(IntlBase.customRegex);\n        if (isNullOrUndefined(pattern) || (pattern[5] === '' && format !== 'N/A')) {\n            cOptions.type = undefined;\n        }\n        cOptions.nlead = pattern[1];\n        cOptions.nend = pattern[10];\n        var integerPart = pattern[6];\n        cOptions.useGrouping = integerPart.indexOf(',') !== -1;\n        integerPart = integerPart.replace(/,/g, '');\n        var fractionPart = pattern[7];\n        if (integerPart.indexOf('0') !== -1) {\n            cOptions.minimumIntegerDigits = integerPart.length - integerPart.indexOf('0');\n        }\n        if (!isNullOrUndefined(fractionPart)) {\n            cOptions.minimumFractionDigits = fractionPart.lastIndexOf('0');\n            cOptions.maximumFractionDigits = fractionPart.lastIndexOf('#');\n            if (cOptions.minimumFractionDigits === -1) {\n                cOptions.minimumFractionDigits = 0;\n            }\n            if (cOptions.maximumFractionDigits === -1 || cOptions.maximumFractionDigits < cOptions.minimumFractionDigits) {\n                cOptions.maximumFractionDigits = cOptions.minimumFractionDigits;\n            }\n        }\n        if (!isNullOrUndefined(dOptions)) {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '$', dOptions.currencySymbol));\n            if (!cOptions.isCurrency) {\n                extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', dOptions.percentSymbol));\n            }\n        }\n        else {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', '%'));\n        }\n        if (!isNullOrUndefined(numObject)) {\n            var symbolPattern = getSymbolPattern(cOptions.type, dOptions.numberMapper.numberSystem, numObject, false);\n            if (cOptions.useGrouping) {\n                cOptions.groupSeparator = dOptions.numberMapper.numberSymbols[mapper[2]];\n                cOptions.groupData = NumberFormat.getGroupingDetails(symbolPattern.split(';')[0]);\n            }\n            cOptions.nlead = cOptions.nlead.replace(/\\'/g, '');\n            cOptions.nend = cOptions.nend.replace(/\\'/g, '');\n        }\n        return cOptions;\n    }\n    /**\n     * Returns formatting options for currency or percent type\n     * @private\n     * @param {string[]} parts\n     * @param {string} actual\n     * @param {string} symbol\n     * @returns {NegativeData}\n     */\n    function isCurrencyPercent(parts, actual, symbol) {\n        var options = { nlead: parts[0], nend: parts[1] };\n        for (var i = 0; i < 2; i++) {\n            var part = parts[i];\n            var loc = part.indexOf(actual);\n            if ((loc !== -1) && ((loc < part.indexOf('\\'')) || (loc > part.lastIndexOf('\\'')))) {\n                options[typeMapper[i]] = part.substr(0, loc) + symbol + part.substr(loc + 1);\n                options[typeMapper[actual]] = true;\n                options.type = options.isCurrency ? 'currency' : 'percent';\n                break;\n            }\n        }\n        return options;\n    }\n    IntlBase.isCurrencyPercent = isCurrencyPercent;\n    /**\n     * Returns culture based date separator\n     * @private\n     * @param {Object} dateObj\n     * @returns {string}\n     */\n    function getDateSeparator(dateObj) {\n        var value = (getValue('dateFormats.short', dateObj) || '').match(/[dM]([^dM])[dM]/i);\n        return value ? value[1] : '/';\n    }\n    IntlBase.getDateSeparator = getDateSeparator;\n    /**\n     * Returns Native Date Time pattern\n     * @private\n     * @param {string} culture\n     * @param {DateFormatOptions} options\n     * @param {Object} cldr\n     * @returns {string}\n     */\n    function getActualDateTimeFormat(culture, options, cldr, isExcelFormat) {\n        var dependable = getDependables(cldr, culture);\n        var actualPattern = options.format || getResultantPattern(options.skeleton, dependable.dateObject, options.type);\n        if (isExcelFormat) {\n            actualPattern = actualPattern.replace(patternRegex, function (pattern) {\n                return patternMatch[pattern];\n            });\n            if (actualPattern.indexOf('z') !== -1) {\n                var tLength = actualPattern.match(/z/g).length;\n                var timeZonePattern = void 0;\n                var options_1 = { 'timeZone': {} };\n                options_1.numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n                options_1.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                var value = new Date();\n                var timezone = value.getTimezoneOffset();\n                var pattern = (tLength < 4) ? '+H;-H' : options_1.timeZone.hourFormat;\n                pattern = pattern.replace(/:/g, options_1.numMapper.timeSeparator);\n                if (timezone === 0) {\n                    timeZonePattern = options_1.timeZone.gmtZeroFormat;\n                }\n                else {\n                    timeZonePattern = DateFormat.getTimeZoneValue(timezone, pattern);\n                    timeZonePattern = options_1.timeZone.gmtFormat.replace(/\\{0\\}/, timeZonePattern);\n                }\n                actualPattern = actualPattern.replace(/[z]+/, '\"' + timeZonePattern + '\"');\n            }\n            actualPattern = actualPattern.replace(/ $/, '');\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualDateTimeFormat = getActualDateTimeFormat;\n    /**\n     * Returns Native Number pattern\n     * @private\n     * @param {string} culture\n     * @param {NumberFormatOptions} options\n     * @param {Object} cldr\n     * @returns {string}\n     */\n    function getActualNumberFormat(culture, options, cldr) {\n        var dependable = getDependables(cldr, culture, true);\n        var parseOptions = { custom: true };\n        var minFrac;\n        var curObj = {};\n        var curMatch = (options.format || '').match(IntlBase.currencyFormatRegex);\n        if (curMatch) {\n            var dOptions = {};\n            dOptions.numberMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n            var curCode = getCurrencySymbol(dependable.numericObject, options.currency || defaultCurrencyCode);\n            var symbolPattern = getSymbolPattern('currency', dOptions.numberMapper.numberSystem, dependable.numericObject, (/a/i).test(options.format));\n            symbolPattern = symbolPattern.replace(/\\u00A4/g, curCode);\n            var split = symbolPattern.split(';');\n            curObj.hasNegativePattern = (split.length > 1);\n            curObj.nData = getFormatData(split[1] || '-' + split[0], true, curCode);\n            curObj.pData = getFormatData(split[0], false, curCode);\n            if (!curMatch[2] && !options.minimumFractionDigits && !options.maximumFractionDigits) {\n                minFrac = getFormatData(symbolPattern.split(';')[0], true, '', true).minimumFraction;\n            }\n        }\n        var actualPattern;\n        if ((IntlBase.formatRegex.test(options.format)) || !(options.format)) {\n            extend(parseOptions, getProperNumericSkeleton(options.format || 'N'));\n            parseOptions.custom = false;\n            actualPattern = '###0';\n            if (parseOptions.fractionDigits || options.minimumFractionDigits || options.maximumFractionDigits || minFrac) {\n                var defaultMinimum = 0;\n                if (parseOptions.fractionDigits) {\n                    options.minimumFractionDigits = options.maximumFractionDigits = parseOptions.fractionDigits;\n                }\n                actualPattern = fractionDigitsPattern(actualPattern, minFrac || parseOptions.fractionDigits ||\n                    options.minimumFractionDigits || defaultMinimum, options.maximumFractionDigits || defaultMinimum);\n            }\n            if (options.minimumIntegerDigits) {\n                actualPattern = minimumIntegerPattern(actualPattern, options.minimumIntegerDigits);\n            }\n            if (options.useGrouping) {\n                actualPattern = groupingPattern(actualPattern);\n            }\n            if (parseOptions.type === 'currency') {\n                var cPattern = actualPattern;\n                actualPattern = curObj.pData.nlead + cPattern + curObj.pData.nend;\n                if (curObj.hasNegativePattern) {\n                    actualPattern += ';' + curObj.nData.nlead + cPattern + curObj.nData.nend;\n                }\n            }\n            if (parseOptions.type === 'percent') {\n                actualPattern += ' %';\n            }\n        }\n        else {\n            actualPattern = options.format.replace(/\\'/g, '\"');\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualNumberFormat = getActualNumberFormat;\n    function fractionDigitsPattern(pattern, minDigits, maxDigits) {\n        pattern += '.';\n        for (var a = 0; a < minDigits; a++) {\n            pattern += '0';\n        }\n        if (minDigits < maxDigits) {\n            var diff = maxDigits - minDigits;\n            for (var b = 0; b < diff; b++) {\n                pattern += '#';\n            }\n        }\n        return pattern;\n    }\n    function minimumIntegerPattern(pattern, digits) {\n        var temp = pattern.split('.');\n        var integer = '';\n        for (var x = 0; x < digits; x++) {\n            integer += '0';\n        }\n        return temp[1] ? (integer + '.' + temp[1]) : integer;\n    }\n    function groupingPattern(pattern) {\n        var temp = pattern.split('.');\n        var integer = temp[0];\n        var no = 3 - integer.length % 3;\n        var hash = (no && no === 1) ? '#' : (no === 2 ? '##' : '');\n        integer = hash + integer;\n        pattern = '';\n        for (var x = integer.length - 1; x > 0; x = x - 3) {\n            pattern = ',' + integer[x - 2] + integer[x - 1] + integer[x] + pattern;\n        }\n        pattern = pattern.slice(1);\n        return temp[1] ? (pattern + '.' + temp[1]) : pattern;\n    }\n    function getWeekData(culture, cldr) {\n        var firstDay = defaultFirstDay;\n        var mapper = getValue('supplemental.weekData.firstDay', cldr);\n        var iCulture = culture;\n        if ((/en-/).test(iCulture)) {\n            iCulture = iCulture.slice(3);\n        }\n        iCulture = iCulture.slice(0, 2).toUpperCase() + iCulture.substr(2);\n        if (mapper) {\n            firstDay = mapper[iCulture] || defaultFirstDay;\n        }\n        return firstDayMapper[firstDay];\n    }\n    IntlBase.getWeekData = getWeekData;\n})(IntlBase || (IntlBase = {}));\n","/**\n * To import utils\n */\nimport { isNullOrUndefined } from './util';\n/**\n * @private\n */\nvar CanvasRenderer = /** @class */ (function () {\n    /* End-Properties */\n    function CanvasRenderer(rootID) {\n        this.rootId = rootID;\n    }\n    // method to get the attributes value\n    /* tslint:disable */\n    CanvasRenderer.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    };\n    /* tslint:enable */\n    /**\n     * To create a Html5 canvas element\n     * @param {BaseAttibutes} options - Options to create canvas\n     * @return {HTMLCanvasElement}\n     */\n    CanvasRenderer.prototype.createCanvas = function (options) {\n        var canvasObj = document.createElement('canvas');\n        canvasObj.setAttribute('id', this.rootId + '_canvas');\n        this.ctx = canvasObj.getContext('2d');\n        this.canvasObj = canvasObj;\n        this.setCanvasSize(options.width, options.height);\n        return this.canvasObj;\n    };\n    /**\n     * To set the width and height for the Html5 canvas element\n     * @param {number} width - width of the canvas\n     * @param {number} height - height of the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.setCanvasSize = function (width, height) {\n        var element = document.getElementById(this.rootId);\n        var size = !isNullOrUndefined(element) ? element.getBoundingClientRect() : null;\n        if (isNullOrUndefined(this.width)) {\n            this.canvasObj.setAttribute('width', width ? width.toString() : size.width.toString());\n        }\n        else {\n            this.canvasObj.setAttribute('width', this.width.toString());\n        }\n        if (isNullOrUndefined(this.height)) {\n            this.canvasObj.setAttribute('height', height ? height.toString() : '450');\n        }\n        else {\n            this.canvasObj.setAttribute('height', this.height.toString());\n        }\n    };\n    // To set the values to the attributes\n    CanvasRenderer.prototype.setAttributes = function (options) {\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        var dashArray = this.getOptionValue(options, 'stroke-dasharray');\n        if (!isNullOrUndefined(dashArray)) {\n            var dashArrayString = dashArray.split(',');\n            this.ctx.setLineDash([parseInt(dashArrayString[0], 10), parseInt(dashArrayString[1], 10)]);\n        }\n        this.ctx.strokeStyle = this.getOptionValue(options, 'stroke');\n    };\n    /**\n     * To draw a line\n     * @param {LineAttributes} options - required options to draw a line on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawLine = function (options) {\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.moveTo(options.x1, options.y1);\n        this.ctx.lineTo(options.x2, options.y2);\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a rectangle\n     * @param {RectAttributes} options - required options to draw a rectangle on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawRectangle = function (options) {\n        var canvasCtx = this.ctx;\n        var cornerRadius = options.rx;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.globalAlpha = this.getOptionValue(options, 'opacity');\n        this.setAttributes(options);\n        this.ctx.rect(options.x, options.y, options.width, options.height);\n        if (cornerRadius !== null && cornerRadius >= 0) {\n            this.drawCornerRadius(options);\n        }\n        else {\n            if (options.fill === 'none') {\n                options.fill = 'transparent';\n            }\n            this.ctx.fillStyle = options.fill;\n            this.ctx.fillRect(options.x, options.y, options.width, options.height);\n            this.ctx.stroke();\n        }\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    // To draw the corner of a rectangle\n    CanvasRenderer.prototype.drawCornerRadius = function (options) {\n        var cornerRadius = options.rx;\n        var x = options.x;\n        var y = options.y;\n        var width = options.width;\n        var height = options.height;\n        if (options.fill === 'none') {\n            options.fill = 'transparent';\n        }\n        this.ctx.fillStyle = options.fill;\n        if (width < 2 * cornerRadius) {\n            cornerRadius = width / 2;\n        }\n        if (height < 2 * cornerRadius) {\n            cornerRadius = height / 2;\n        }\n        this.ctx.beginPath();\n        this.ctx.moveTo(x + width - cornerRadius, y);\n        this.ctx.arcTo(x + width, y, x + width, y + height, cornerRadius);\n        this.ctx.arcTo(x + width, y + height, x, y + height, cornerRadius);\n        this.ctx.arcTo(x, y + height, x, y, cornerRadius);\n        this.ctx.arcTo(x, y, x + width, y, cornerRadius);\n        this.ctx.closePath();\n        this.ctx.fill();\n        this.ctx.stroke();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a path on the canvas\n     * @param {PathAttributes} options - options needed to draw path\n     * @param {Int32Array} canvasTranslate - Array of numbers to translate the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawPath = function (options, canvasTranslate) {\n        var path = options.d;\n        var dataSplit = path.split(' ');\n        var borderWidth = this.getOptionValue(options, 'stroke-width');\n        var canvasCtx = this.ctx;\n        var flag = true;\n        this.ctx.save();\n        this.ctx.beginPath();\n        if (canvasTranslate) {\n            this.ctx.translate(canvasTranslate[0], canvasTranslate[1]);\n        }\n        this.ctx.globalAlpha = options.opacity ? options.opacity : this.getOptionValue(options, 'fill-opacity');\n        this.setAttributes(options);\n        for (var i = 0; i < dataSplit.length; i = i + 3) {\n            var x1 = parseFloat(dataSplit[i + 1]);\n            var y1 = parseFloat(dataSplit[i + 2]);\n            switch (dataSplit[i]) {\n                case 'M':\n                    if (!options.innerR && !options.cx) {\n                        this.ctx.moveTo(x1, y1);\n                    }\n                    break;\n                case 'L':\n                    if (!options.innerR) {\n                        this.ctx.lineTo(x1, y1);\n                    }\n                    break;\n                case 'C':\n                    var c1 = parseFloat(dataSplit[i + 3]);\n                    var c2 = parseFloat(dataSplit[i + 4]);\n                    var c3 = parseFloat(dataSplit[i + 5]);\n                    var c4 = parseFloat(dataSplit[i + 6]);\n                    this.ctx.bezierCurveTo(x1, y1, c1, c2, c3, c4);\n                    i = i + 4;\n                    break;\n                case 'A':\n                    if (!options.innerR) {\n                        if (options.cx) {\n                            this.ctx.arc(options.cx, options.cy, options.radius, 0, 2 * Math.PI, options.counterClockWise);\n                        }\n                        else {\n                            this.ctx.moveTo(options.x, options.y);\n                            this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise);\n                            this.ctx.lineTo(options.x, options.y);\n                        }\n                    }\n                    else if (flag) {\n                        this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise);\n                        this.ctx.arc(options.x, options.y, options.innerR, options.end, options.start, !options.counterClockWise);\n                        flag = false;\n                    }\n                    i = i + 5;\n                    break;\n                case 'z':\n                    this.ctx.closePath();\n                    break;\n            }\n        }\n        if (options.fill !== 'none' && options.fill !== undefined) {\n            this.ctx.fillStyle = options.fill;\n            this.ctx.fill();\n        }\n        if (borderWidth > 0) {\n            this.ctx.stroke();\n        }\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a text\n     * @param {TextAttributes} options - options required to draw text\n     * @param {string} label - Specifies the text which has to be drawn on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawText = function (options, label) {\n        var fontWeight = this.getOptionValue(options, 'font-weight');\n        if (!isNullOrUndefined(fontWeight) && fontWeight.toLowerCase() === 'regular') {\n            fontWeight = 'normal';\n        }\n        var fontSize = this.getOptionValue(options, 'font-size');\n        var fontFamily = this.getOptionValue(options, 'font-family');\n        var fontStyle = this.getOptionValue(options, 'font-style').toLowerCase();\n        var font = (fontStyle + ' ' + fontWeight + ' ' + fontSize + ' ' + fontFamily);\n        var anchor = this.getOptionValue(options, 'text-anchor');\n        var opacity = options.opacity !== undefined ? options.opacity : 1;\n        if (anchor === 'middle') {\n            anchor = 'center';\n        }\n        this.ctx.save();\n        this.ctx.fillStyle = options.fill;\n        this.ctx.font = font;\n        this.ctx.textAlign = anchor;\n        this.ctx.globalAlpha = opacity;\n        if (options.baseline) {\n            this.ctx.textBaseline = options.baseline;\n        }\n        var txtlngth = 0;\n        this.ctx.translate(options.x + (txtlngth / 2), options.y);\n        this.ctx.rotate(options.labelRotation * Math.PI / 180);\n        this.ctx.fillText(label, 0, 0);\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw circle on the canvas\n     * @param {CircleAttributes} options - required options to draw the circle\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawCircle = function (options) {\n        var canvasCtx = this.ctx;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.arc(options.cx, options.cy, options.r, 0, 2 * Math.PI);\n        this.ctx.fillStyle = options.fill;\n        this.ctx.globalAlpha = options.opacity;\n        this.ctx.fill();\n        this.setAttributes(options);\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw polyline\n     * @param {PolylineAttributes} options - options needed to draw polyline\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawPolyline = function (options) {\n        this.ctx.save();\n        this.ctx.beginPath();\n        var points = options.points.split(' ');\n        for (var i = 0; i < points.length - 1; i++) {\n            var point = points[i].split(',');\n            var x = parseFloat(point[0]);\n            var y = parseFloat(point[1]);\n            if (i === 0) {\n                this.ctx.moveTo(x, y);\n            }\n            else {\n                this.ctx.lineTo(x, y);\n            }\n        }\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw an ellipse on the canvas\n     * @param {EllipseAttributes} options - options needed to draw ellipse\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawEllipse = function (options) {\n        var canvasCtx = this.ctx;\n        var circumference = Math.max(options.rx, options.ry);\n        var scaleX = options.rx / circumference;\n        var scaleY = options.ry / circumference;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.translate(options.cx, options.cy);\n        this.ctx.save();\n        this.ctx.scale(scaleX, scaleY);\n        this.ctx.arc(0, 0, circumference, 0, 2 * Math.PI, false);\n        this.ctx.fillStyle = options.fill;\n        this.ctx.fill();\n        this.ctx.restore();\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw an image\n     * @param {ImageAttributes} options - options required to draw an image on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawImage = function (options) {\n        this.ctx.save();\n        var imageObj = new Image();\n        if (!isNullOrUndefined(options.href)) {\n            imageObj.src = options.href;\n            this.ctx.drawImage(imageObj, options.x, options.y, options.width, options.height);\n        }\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To create a linear gradient\n     * @param {string[]} colors - Specifies the colors required to create linear gradient\n     * @return {string}\n     */\n    CanvasRenderer.prototype.createLinearGradient = function (colors) {\n        var myGradient;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            myGradient = this.ctx.createLinearGradient(0, 0, 0, this.canvasObj.height);\n        }\n        var color = this.setGradientValues(colors, myGradient);\n        return color;\n    };\n    /**\n     * To create a radial gradient\n     * @param {string[]} colors - Specifies the colors required to create linear gradient\n     * @return {string}\n     */\n    CanvasRenderer.prototype.createRadialGradient = function (colors) {\n        var myGradient;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            myGradient = this.ctx.createRadialGradient(0, 0, 0, 0, 0, this.canvasObj.height);\n        }\n        var colorName = this.setGradientValues(colors, myGradient);\n        return colorName;\n    };\n    // To set the gradient values\n    CanvasRenderer.prototype.setGradientValues = function (colors, myGradient) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            for (var i = 0; i <= colors.length - 1; i++) {\n                var color = colors[i].color;\n                var newColorStop = (colors[i].colorStop).slice(0, -1);\n                var stopColor = parseInt(newColorStop, 10) / 100;\n                myGradient.addColorStop(stopColor, color);\n            }\n            colorName = myGradient.toString();\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        this.dataUrl = this.canvasObj.toDataURL();\n        return colorName;\n    };\n    /**\n     * To set the attributes to the element\n     * @param {SVGCanvasAttributes} options - Attributes to set for the element\n     * @param {HTMLElement} element - The element to which the attributes need to be set\n     * @return {HTMLElement}\n     */\n    CanvasRenderer.prototype.setElementAttributes = function (options, element) {\n        var keys = Object.keys(options);\n        var values = Object.keys(options).map(function (key) { return options[key]; });\n        for (var i = 0; i < keys.length; i++) {\n            element.setAttribute(keys[i], values[i]);\n        }\n        return element;\n    };\n    /**\n     * To update the values of the canvas element attributes\n     * @param {SVGCanvasAttributes} options - Specifies the colors required to create gradient\n     * @return {void}\n     */\n    CanvasRenderer.prototype.updateCanvasAttributes = function (options) {\n        this.setElementAttributes(options, this.canvasObj);\n        var ctx = this.ctx;\n        if (!isNullOrUndefined(this.dataUrl)) {\n            var img_1 = new Image;\n            img_1.onload = function () {\n                ctx.drawImage(img_1, 0, 0);\n            };\n            img_1.src = this.dataUrl;\n        }\n    };\n    return CanvasRenderer;\n}());\nexport { CanvasRenderer };\n","/**\n * Module loading operations\n */\nimport { createInstance, setValue, getValue, deleteObject } from './util';\nvar MODULE_SUFFIX = 'Module';\nvar ModuleLoader = /** @class */ (function () {\n    function ModuleLoader(parent) {\n        this.loadedModules = [];\n        this.parent = parent;\n    }\n    ;\n    /**\n     * Inject required modules in component library\n     * @return {void}\n     * @param {ModuleDeclaration[]} requiredModules - Array of modules to be required\n     * @param {Function[]} moduleList - Array of modules to be injected from sample side\n     */\n    ModuleLoader.prototype.inject = function (requiredModules, moduleList) {\n        var reqLength = requiredModules.length;\n        if (reqLength === 0) {\n            this.clean();\n            return;\n        }\n        if (this.loadedModules.length) {\n            this.clearUnusedModule(requiredModules);\n        }\n        for (var i = 0; i < reqLength; i++) {\n            var modl = requiredModules[i];\n            for (var _i = 0, moduleList_1 = moduleList; _i < moduleList_1.length; _i++) {\n                var module = moduleList_1[_i];\n                var modName = modl.member;\n                if (module.prototype.getModuleName() === modl.member && !this.isModuleLoaded(modName)) {\n                    var moduleObject = createInstance(module, modl.args);\n                    var memberName = this.getMemberName(modName);\n                    if (modl.isProperty) {\n                        setValue(memberName, module, this.parent);\n                    }\n                    else {\n                        setValue(memberName, moduleObject, this.parent);\n                    }\n                    var loadedModule = modl;\n                    loadedModule.member = memberName;\n                    this.loadedModules.push(loadedModule);\n                }\n            }\n        }\n    };\n    /**\n     * To remove the created object while destroying the control\n     * @return {void}\n     */\n    ModuleLoader.prototype.clean = function () {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var modules = _a[_i];\n            if (!modules.isProperty) {\n                getValue(modules.member, this.parent).destroy();\n            }\n        }\n        this.loadedModules = [];\n    };\n    /**\n     * Removes all unused modules\n     * @param {ModuleDeclaration[]} moduleList\n     * @returns {void}\n     */\n    ModuleLoader.prototype.clearUnusedModule = function (moduleList) {\n        var _this = this;\n        var usedModules = moduleList.map(function (arg) { return _this.getMemberName(arg.member); });\n        var removableModule = this.loadedModules.filter(function (module) {\n            return usedModules.indexOf(module.member) === -1;\n        });\n        for (var _i = 0, removableModule_1 = removableModule; _i < removableModule_1.length; _i++) {\n            var mod = removableModule_1[_i];\n            if (!mod.isProperty) {\n                getValue(mod.member, this.parent).destroy();\n            }\n            this.loadedModules.splice(this.loadedModules.indexOf(mod), 1);\n            deleteObject(this.parent, mod.member);\n        }\n    };\n    /**\n     * To get the name of the member.\n     * @param {string} name\n     * @returns {string}\n     */\n    ModuleLoader.prototype.getMemberName = function (name) {\n        return name[0].toLowerCase() + name.substring(1) + MODULE_SUFFIX;\n    };\n    /**\n     * Returns boolean based on whether the module specified is loaded or not\n     * @param {string} modName\n     * @returns {boolean}\n     */\n    ModuleLoader.prototype.isModuleLoaded = function (modName) {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var mod = _a[_i];\n            if (mod.member === this.getMemberName(modName)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return ModuleLoader;\n}());\nexport { ModuleLoader };\n","import { getValue, setValue, merge } from './util';\nimport { Base } from './base';\n/**\n * To detect the changes for inner properties.\n * @private\n */\nvar ChildProperty = /** @class */ (function () {\n    function ChildProperty(parent, propName, defaultValue, isArray) {\n        this.properties = {};\n        this.changedProperties = {};\n        this.childChangedProperties = {};\n        this.oldProperties = {};\n        // tslint:disable-next-line:no-empty\n        this.finalUpdate = function () { };\n        this.callChildDataBind = getValue('callChildDataBind', Base);\n        this.parentObj = parent;\n        this.controlParent = this.parentObj.controlParent || this.parentObj;\n        this.propName = propName;\n        this.setProperties(defaultValue, true);\n        this.isParentArray = isArray;\n    }\n    /**\n     * Updates the property changes\n     * @param {boolean} val\n     * @param {string} propName\n     * @returns {void}\n     */\n    ChildProperty.prototype.updateChange = function (val, propName) {\n        if (val === true) {\n            this.parentObj.childChangedProperties[propName] = val;\n        }\n        else {\n            delete this.parentObj.childChangedProperties[propName];\n        }\n        if (this.parentObj.updateChange) {\n            this.parentObj.updateChange(val, this.parentObj.propName);\n        }\n    };\n    /**\n     * Updates time out duration\n     */\n    ChildProperty.prototype.updateTimeOut = function () {\n        if (this.parentObj.updateTimeOut) {\n            this.parentObj.finalUpdate();\n            this.parentObj.updateTimeOut();\n        }\n        else {\n            var changeTime_1 = setTimeout(this.parentObj.dataBind.bind(this.parentObj));\n            var clearUpdate = function () {\n                clearTimeout(changeTime_1);\n            };\n            this.finalUpdate = clearUpdate;\n        }\n    };\n    /**\n     * Clears changed properties\n     */\n    ChildProperty.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.updateChange(false, this.propName);\n        this.oldProperties = {};\n        this.changedProperties = {};\n    };\n    /**\n     * Set property changes\n     * @param {Object} prop\n     * @param {boolean} muteOnChange\n     * {void}\n     */\n    ChildProperty.prototype.setProperties = function (prop, muteOnChange) {\n        if (muteOnChange === true) {\n            merge(this, prop);\n            this.updateChange(false, this.propName);\n            this.clearChanges();\n        }\n        else {\n            merge(this, prop);\n        }\n    };\n    /**\n     * Binds data\n     */\n    ChildProperty.prototype.dataBind = function () {\n        this.callChildDataBind(this.childChangedProperties, this);\n        if (this.isParentArray) {\n            var curIndex = this.parentObj[this.propName].indexOf(this);\n            if (Object.keys(this.changedProperties).length) {\n                setValue(this.propName + '.' + curIndex, this.changedProperties, this.parentObj.changedProperties);\n                setValue(this.propName + '.' + curIndex, this.oldProperties, this.parentObj.oldProperties);\n            }\n        }\n        else {\n            this.parentObj.changedProperties[this.propName] = this.changedProperties;\n            this.parentObj.oldProperties[this.propName] = this.oldProperties;\n        }\n        this.clearChanges();\n    };\n    /**\n     * Saves changes to newer values\n     * @param {string} key\n     * @param {Object} newValue\n     * @param {Object} oldValue\n     * @returns {void}\n     */\n    ChildProperty.prototype.saveChanges = function (key, newValue, oldValue) {\n        if (this.controlParent.isProtectedOnChange) {\n            return;\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.updateChange(true, this.propName);\n        this.finalUpdate();\n        this.updateTimeOut();\n    };\n    return ChildProperty;\n}());\nexport { ChildProperty };\n","/**\n * Parser\n */\nvar defaultNumberingSystem = {\n    'latn': {\n        '_digits': '0123456789',\n        '_type': 'numeric'\n    }\n};\nimport { isUndefined, getValue } from '../util';\nvar latnRegex = /^[0-9]*$/;\nvar defaultNumberSymbols = {\n    'decimal': '.',\n    'group': ',',\n    'percentSign': '%',\n    'plusSign': '+',\n    'minusSign': '-',\n    'infinity': '',\n    'nan': 'NaN',\n    'exponential': 'E'\n};\nvar latnNumberSystem = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n/**\n * Interface for parser base\n * @private\n */\nvar ParserBase = /** @class */ (function () {\n    function ParserBase() {\n    }\n    /**\n     * Returns the cldr object for the culture specifies\n     * @param {Object} obj - Specifies the object from which culture object to be acquired.\n     * @param {string} cName - Specifies the culture name.\n     * @returns {Object}\n     */\n    ParserBase.getMainObject = function (obj, cName) {\n        return getValue('main.' + cName, obj);\n    };\n    /**\n     * Returns the numbering system object from given cldr data.\n     * @param {Object} obj - Specifies the object from which number system is acquired.\n     * @returns {Object}\n     */\n    ParserBase.getNumberingSystem = function (obj) {\n        return getValue('supplemental.numberingSystems', obj) || this.numberingSystems;\n    };\n    /**\n     * Returns the reverse of given object keys or keys specified.\n     * @param {Object} prop - Specifies the object to be reversed.\n     * @param {number[]} keys - Optional parameter specifies the custom keyList for reversal.\n     * @returns {Object}\n     */\n    ParserBase.reverseObject = function (prop, keys) {\n        var propKeys = keys || Object.keys(prop);\n        var res = {};\n        for (var _i = 0, propKeys_1 = propKeys; _i < propKeys_1.length; _i++) {\n            var key = propKeys_1[_i];\n            /* tslint:disable no-any */\n            if (!res.hasOwnProperty(prop[key])) {\n                res[prop[key]] = key;\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns the symbol regex by skipping the escape sequence.\n     * @param {string[]} props - Specifies the array values to be skipped.\n     * @returns {RegExp}\n     */\n    ParserBase.getSymbolRegex = function (props) {\n        var regexStr = props.map(function (str) {\n            return str.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n        }).join('|');\n        return new RegExp(regexStr, 'g');\n    };\n    ParserBase.getSymbolMatch = function (prop) {\n        var matchKeys = Object.keys(defaultNumberSymbols);\n        var ret = {};\n        for (var _i = 0, matchKeys_1 = matchKeys; _i < matchKeys_1.length; _i++) {\n            var key = matchKeys_1[_i];\n            ret[prop[key]] = defaultNumberSymbols[key];\n        }\n        return ret;\n    };\n    /**\n     * Returns regex string for provided value\n     * @param {string} val\n     * @returns {string}\n     */\n    ParserBase.constructRegex = function (val) {\n        var len = val.length;\n        var ret = '';\n        for (var i = 0; i < len; i++) {\n            if (i !== len - 1) {\n                ret += val[i] + '|';\n            }\n            else {\n                ret += val[i];\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     * @param {string} value - Specifies the  values to be replaced.\n     * @param {RegExp} regex - Specifies the  regex to search.\n     * @param {Object} obj - Specifies the  object matcher to be replace value parts.\n     * @returns {string}\n     */\n    ParserBase.convertValueParts = function (value, regex, obj) {\n        return value.replace(regex, function (str) {\n            return obj[str];\n        });\n    };\n    /**\n     * Returns default numbering system object for formatting from cldr data\n     * @param {Object} obj\n     * @returns {NumericObject}\n     */\n    ParserBase.getDefaultNumberingSystem = function (obj) {\n        var ret = {};\n        ret.obj = getValue('numbers', obj);\n        ret.nSystem = getValue('defaultNumberingSystem', ret.obj);\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     */\n    ParserBase.getCurrentNumericOptions = function (curObj, numberSystem, needSymbols) {\n        var ret = {};\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem)) {\n            var digits = getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                ret.numericPair = this.reverseObject(digits, latnNumberSystem);\n                ret.numberParseRegex = new RegExp(this.constructRegex(digits), 'g');\n                ret.numericRegex = '[' + digits[0] + '-' + digits[9] + ']';\n                if (needSymbols) {\n                    ret.numericRegex = digits[0] + '-' + digits[9];\n                    ret.symbolNumberSystem = getValue('symbols-numberSystem-' + cur.nSystem, cur.obj);\n                    ret.symbolMatch = this.getSymbolMatch(ret.symbolNumberSystem);\n                    ret.numberSystem = cur.nSystem;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns number mapper object for the provided cldr data\n     * @param {Object} curObj\n     * @param {Object} numberSystem\n     * @param {boolean} isNumber\n     * @returns {NumberMapper}\n     */\n    ParserBase.getNumberMapper = function (curObj, numberSystem, isNumber) {\n        var ret = { mapper: {} };\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem)) {\n            ret.numberSystem = cur.nSystem;\n            ret.numberSymbols = getValue('symbols-numberSystem-' + cur.nSystem, cur.obj);\n            ret.timeSeparator = getValue('timeSeparator', ret.numberSymbols);\n            var digits = getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                for (var _i = 0, latnNumberSystem_1 = latnNumberSystem; _i < latnNumberSystem_1.length; _i++) {\n                    var i = latnNumberSystem_1[_i];\n                    ret.mapper[i] = digits[i];\n                }\n            }\n        }\n        return ret;\n    };\n    ParserBase.nPair = 'numericPair';\n    ParserBase.nRegex = 'numericRegex';\n    ParserBase.numberingSystems = defaultNumberingSystem;\n    return ParserBase;\n}());\nexport { ParserBase };\n","import { isUndefined, throwError, isNullOrUndefined, extend } from '../util';\nimport { defaultCurrencyCode } from '../internationalization';\nimport { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nvar errorText = {\n    'ms': 'minimumSignificantDigits',\n    'ls': 'maximumSignificantDigits',\n    'mf': 'minimumFractionDigits',\n    'lf': 'maximumFractionDigits',\n};\nvar integerError = 'minimumIntegerDigits';\nvar percentSign = 'percentSign';\nvar minusSign = 'minusSign';\nvar spaceRegex = /\\s/;\nvar mapper = ['infinity', 'nan', 'group', 'decimal', 'exponential'];\nvar infinity = 'infinity';\nvar nan = 'nan';\n/**\n * Module for number formatting.\n * @private\n */\nvar NumberFormat = /** @class */ (function () {\n    function NumberFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     * @param {string} culture -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} option - Specific the format in which number  will format.\n     * @param {Object} object- Specifies the global cldr data collection.\n     * @return Function.\n     */\n    NumberFormat.numberFormatter = function (culture, option, cldr) {\n        var _this = this;\n        var fOptions = extend({}, option);\n        var cOptions = {};\n        var dOptions = {};\n        var symbolPattern;\n        var dependable = base.getDependables(cldr, culture, true);\n        dOptions.numberMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n        dOptions.currencySymbol = base.getCurrencySymbol(dependable.numericObject, fOptions.currency || defaultCurrencyCode);\n        /* tslint:disable no-any */\n        dOptions.percentSymbol = dOptions.numberMapper.numberSymbols[percentSign];\n        dOptions.minusSymbol = dOptions.numberMapper.numberSymbols[minusSign];\n        var symbols = dOptions.numberMapper.numberSymbols;\n        if ((option.format) && !(base.formatRegex.test(option.format))) {\n            cOptions = base.customFormat(option.format, dOptions, dependable.numericObject);\n        }\n        else {\n            extend(fOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            fOptions.isCurrency = fOptions.type === 'currency';\n            fOptions.isPercent = fOptions.type === 'percent';\n            symbolPattern = base.getSymbolPattern(fOptions.type, dOptions.numberMapper.numberSystem, dependable.numericObject, fOptions.isAccount);\n            fOptions.groupOne = this.checkValueRange(fOptions.maximumSignificantDigits, fOptions.minimumSignificantDigits, true);\n            this.checkValueRange(fOptions.maximumFractionDigits, fOptions.minimumFractionDigits, false, true);\n            if (!isUndefined(fOptions.fractionDigits)) {\n                fOptions.minimumFractionDigits = fOptions.maximumFractionDigits = fOptions.fractionDigits;\n            }\n            if (isUndefined(fOptions.useGrouping)) {\n                fOptions.useGrouping = true;\n            }\n            if (fOptions.isCurrency) {\n                symbolPattern = symbolPattern.replace(/\\u00A4/g, base.defaultCurrency);\n            }\n            var split = symbolPattern.split(';');\n            cOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, dOptions.currencySymbol);\n            cOptions.pData = base.getFormatData(split[0], false, dOptions.currencySymbol);\n            if (fOptions.useGrouping) {\n                fOptions.groupSeparator = symbols[mapper[2]];\n                fOptions.groupData = this.getGroupingDetails(split[0]);\n            }\n            var minFrac = isUndefined(fOptions.minimumFractionDigits);\n            if (minFrac) {\n                fOptions.minimumFractionDigits = cOptions.nData.minimumFraction;\n            }\n            if (isUndefined(fOptions.maximumFractionDigits)) {\n                var mval = cOptions.nData.maximumFraction;\n                fOptions.maximumFractionDigits = isUndefined(mval) && fOptions.isPercent ? 0 : mval;\n            }\n            var mfrac = fOptions.minimumFractionDigits;\n            var lfrac = fOptions.maximumFractionDigits;\n            if (!isUndefined(mfrac) && !isUndefined(lfrac)) {\n                if (mfrac > lfrac) {\n                    fOptions.maximumFractionDigits = mfrac;\n                }\n            }\n        }\n        extend(cOptions.nData, fOptions);\n        extend(cOptions.pData, fOptions);\n        return function (value) {\n            if (isNaN(value)) {\n                return symbols[mapper[1]];\n            }\n            else if (!isFinite(value)) {\n                return symbols[mapper[0]];\n            }\n            return _this.intNumberFormatter(value, cOptions, dOptions);\n        };\n    };\n    /**\n     * Returns grouping details for the pattern provided\n     * @param {string} pattern\n     * @returns {GroupDetails}\n     */\n    NumberFormat.getGroupingDetails = function (pattern) {\n        var ret = {};\n        var match = pattern.match(base.negativeDataRegex);\n        if (match && match[4]) {\n            var pattern_1 = match[4];\n            var p = pattern_1.lastIndexOf(',');\n            if (p !== -1) {\n                var temp = pattern_1.split('.')[0];\n                ret.primary = (temp.length - p) - 1;\n                var s = pattern_1.lastIndexOf(',', p - 1);\n                if (s !== -1) {\n                    ret.secondary = p - 1 - s;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns if the provided integer range is valid.\n     * @param {number} val1\n     * @param {number} val2\n     * @param {boolean} checkbothExist\n     * @param {boolean} isFraction\n     * @returns {boolean}\n     */\n    NumberFormat.checkValueRange = function (val1, val2, checkbothExist, isFraction) {\n        var decide = isFraction ? 'f' : 's';\n        var dint = 0;\n        var str1 = errorText['l' + decide];\n        var str2 = errorText['m' + decide];\n        if (!isUndefined(val1)) {\n            this.checkRange(val1, str1, isFraction);\n            dint++;\n        }\n        if (!isUndefined(val2)) {\n            this.checkRange(val2, str2, isFraction);\n            dint++;\n        }\n        if (dint === 2) {\n            if (val1 < val2) {\n                throwError(str2 + 'specified must be less than the' + str1);\n            }\n            else {\n                return true;\n            }\n        }\n        else if (checkbothExist && dint === 1) {\n            throwError('Both' + str2 + 'and' + str2 + 'must be present');\n        }\n        return false;\n    };\n    /**\n     * Check if the provided fraction range is valid\n     * @param {number} val\n     * @param {string} text\n     * @param {boolean} isFraction\n     * @returns {void}\n     */\n    NumberFormat.checkRange = function (val, text, isFraction) {\n        var range = isFraction ? [0, 20] : [1, 21];\n        if (val < range[0] || val > range[1]) {\n            throwError(text + 'value must be within the range' + range[0] + 'to' + range[1]);\n        }\n    };\n    /**\n     * Returns formatted numeric string for provided formatting options\n     * @param {number} value\n     * @param {base.GenericFormatOptions} fOptions\n     * @param {CommonOptions} dOptions\n     * @returns {string}\n     */\n    NumberFormat.intNumberFormatter = function (value, fOptions, dOptions) {\n        var curData;\n        if (isUndefined(fOptions.nData.type)) {\n            return undefined;\n        }\n        else {\n            if (value < 0) {\n                value = value * -1;\n                curData = fOptions.nData;\n            }\n            else if (value === 0) {\n                curData = fOptions.zeroData || fOptions.pData;\n            }\n            else {\n                curData = fOptions.pData;\n            }\n            var fValue = '';\n            if (curData.isPercent) {\n                value = value * 100;\n            }\n            if (curData.groupOne) {\n                fValue = this.processSignificantDigits(value, curData.minimumSignificantDigits, curData.maximumSignificantDigits);\n            }\n            else {\n                fValue = this.processFraction(value, curData.minimumFractionDigits, curData.maximumFractionDigits);\n                if (curData.minimumIntegerDigits) {\n                    fValue = this.processMinimumIntegers(fValue, curData.minimumIntegerDigits);\n                }\n            }\n            if (curData.type === 'scientific') {\n                fValue = value.toExponential(curData.maximumFractionDigits);\n                fValue = fValue.replace('e', dOptions.numberMapper.numberSymbols[mapper[4]]);\n            }\n            fValue = fValue.replace('.', dOptions.numberMapper.numberSymbols[mapper[3]]);\n            if (curData.useGrouping) {\n                fValue = this.groupNumbers(fValue, curData.groupData.primary, curData.groupSeparator || ',', dOptions.numberMapper.numberSymbols[mapper[3]] || '.', curData.groupData.secondary);\n            }\n            fValue = parser.convertValueParts(fValue, base.latnParseRegex, dOptions.numberMapper.mapper);\n            if (curData.nlead === 'N/A') {\n                return curData.nlead;\n            }\n            else {\n                return curData.nlead + fValue + curData.nend;\n            }\n        }\n    };\n    /**\n     * Returns significant digits processed numeric string\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @returns {string}\n     */\n    NumberFormat.processSignificantDigits = function (value, min, max) {\n        var temp = value + '';\n        var tn;\n        var length = temp.length;\n        if (length < min) {\n            return value.toPrecision(min);\n        }\n        else {\n            temp = value.toPrecision(max);\n            tn = +temp;\n            return tn + '';\n        }\n    };\n    /**\n     * Returns grouped numeric string\n     * @param {string} val\n     * @param {number} level1\n     * @param {string} sep\n     * @param {string} decimalSymbol\n     * @param {number} level2\n     * @returns {string}\n     */\n    NumberFormat.groupNumbers = function (val, level1, sep, decimalSymbol, level2) {\n        var flag = !isNullOrUndefined(level2) && level2 !== 0;\n        var split = val.split(decimalSymbol);\n        var prefix = split[0];\n        var length = prefix.length;\n        var str = '';\n        while (length > level1) {\n            str = prefix.slice(length - level1, length) + (str.length ?\n                (sep + str) : '');\n            length -= level1;\n            if (flag) {\n                level1 = level2;\n                flag = false;\n            }\n        }\n        split[0] = prefix.slice(0, length) + (str.length ? sep : '') + str;\n        return split.join(decimalSymbol);\n    };\n    /**\n     * Returns fraction processed numeric string\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @returns {string}\n     */\n    NumberFormat.processFraction = function (value, min, max) {\n        var temp = (value + '').split('.')[1];\n        var length = temp ? temp.length : 0;\n        if (min && length < min) {\n            var ret = '';\n            if (length === 0) {\n                ret = value.toFixed(min);\n            }\n            else {\n                ret += value;\n                for (var j = 0; j < min - length; j++) {\n                    ret += '0';\n                }\n                return ret;\n            }\n            return value.toFixed(min);\n        }\n        else if (!isNullOrUndefined(max) && (length > max || max === 0)) {\n            return value.toFixed(max);\n        }\n        return value + '';\n    };\n    /**\n     * Returns integer processed numeric string\n     * @param {string} value\n     * @param {number} min\n     * @returns {string}\n     */\n    NumberFormat.processMinimumIntegers = function (value, min) {\n        var temp = value.split('.');\n        var lead = temp[0];\n        var len = lead.length;\n        if (len < min) {\n            for (var i = 0; i < min - len; i++) {\n                lead = '0' + lead;\n            }\n            temp[0] = lead;\n        }\n        return temp.join('.');\n    };\n    return NumberFormat;\n}());\nexport { NumberFormat };\n","import { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nimport { isUndefined, throwError, getValue } from '../util';\nvar abbreviateRegexGlobal = /\\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|ccc|G+|z+/gi;\nvar standalone = 'stand-alone';\nvar weekdayKey = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\nexport var basicPatterns = ['short', 'medium', 'long', 'full'];\nvar timeSetter = {\n    m: 'getMinutes',\n    h: 'getHours',\n    H: 'getHours',\n    s: 'getSeconds',\n    d: 'getDate',\n};\nexport var datePartMatcher = {\n    'M': 'month',\n    'd': 'day',\n    'E': 'weekday',\n    'c': 'weekday',\n    'y': 'year',\n    'm': 'minute',\n    'h': 'hour',\n    'H': 'hour',\n    's': 'second',\n    'L': 'month',\n    'a': 'designator',\n    'z': 'timeZone',\n    'Z': 'timeZone',\n    'G': 'era'\n};\nvar timeSeparator = 'timeSeparator';\n/**\n * Date Format is a framework provides support for date formatting.\n * @private\n */\nvar DateFormat = /** @class */ (function () {\n    function DateFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} - Specific the format in which date  will format.\n     * @param {cldr} - Specifies the global cldr data collection.\n     * @return Function.\n     */\n    DateFormat.dateFormat = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture);\n        var formatOptions = {};\n        var resPattern = option.format || base.getResultantPattern(option.skeleton, dependable.dateObject, option.type);\n        formatOptions.dateSeperator = base.getDateSeparator(dependable.dateObject);\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            formatOptions.pattern = resPattern;\n            formatOptions.numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n            var patternMatch = resPattern.match(abbreviateRegexGlobal) || [];\n            for (var _i = 0, patternMatch_1 = patternMatch; _i < patternMatch_1.length; _i++) {\n                var str = patternMatch_1[_i];\n                var len = str.length;\n                var char = str[0];\n                if (char === 'K') {\n                    char = 'h';\n                }\n                /* tslint:disable no-any */\n                var charKey = datePartMatcher[char];\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        formatOptions.weekday = dependable.dateObject[base.days][standalone][base.monthIndex[len]];\n                        break;\n                    case 'M':\n                    case 'L':\n                        formatOptions.month = dependable.dateObject[base.month][standalone][base.monthIndex[len]];\n                        break;\n                    case 'a':\n                        formatOptions.designator = getValue('dayPeriods.format.wide', dependable.dateObject);\n                        break;\n                    case 'G':\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        formatOptions.era = getValue('eras.' + eText, dependable.dateObject);\n                        break;\n                    case 'z':\n                        formatOptions.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                        break;\n                }\n            }\n        }\n        return function (value) {\n            if (isNaN(value.getDate())) {\n                return null;\n            }\n            return _this.intDateFormatter(value, formatOptions);\n        };\n    };\n    /**\n     * Returns formatted date string based on options passed.\n     * @param {Date} value\n     * @param {FormatOptions} options\n     */\n    DateFormat.intDateFormatter = function (value, options) {\n        var pattern = options.pattern;\n        var ret = '';\n        var matches = pattern.match(base.dateParseRegex);\n        for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\n            var match = matches_1[_i];\n            var length_1 = match.length;\n            var char = match[0];\n            if (char === 'K') {\n                char = 'h';\n            }\n            var curval = void 0;\n            var isNumber = void 0;\n            var processNumber = void 0;\n            var curstr = '';\n            switch (char) {\n                case 'M':\n                case 'L':\n                    curval = value.getMonth() + 1;\n                    if (length_1 > 2) {\n                        ret += options.month[curval];\n                    }\n                    else {\n                        isNumber = true;\n                    }\n                    break;\n                case 'E':\n                case 'c':\n                    ret += options.weekday[weekdayKey[value.getDay()]];\n                    break;\n                case 'H':\n                case 'h':\n                case 'm':\n                case 's':\n                case 'd':\n                    isNumber = true;\n                    curval = value[timeSetter[char]]();\n                    if (char === 'h') {\n                        curval = curval % 12 || 12;\n                    }\n                    break;\n                case 'y':\n                    processNumber = true;\n                    curstr += value.getFullYear();\n                    if (length_1 === 2) {\n                        curstr = curstr.substr(curstr.length - 2);\n                    }\n                    break;\n                case 'a':\n                    var desig = value.getHours() < 12 ? 'am' : 'pm';\n                    ret += options.designator[desig];\n                    break;\n                case 'G':\n                    var dec = value.getFullYear() < 0 ? 0 : 1;\n                    ret += options.era[dec];\n                    break;\n                case '\\'':\n                    ret += (match === '\\'\\'') ? '\\'' : match.replace(/\\'/g, '');\n                    break;\n                case 'z':\n                    var timezone = value.getTimezoneOffset();\n                    var pattern_1 = (length_1 < 4) ? '+H;-H' : options.timeZone.hourFormat;\n                    pattern_1 = pattern_1.replace(/:/g, options.numMapper.timeSeparator);\n                    if (timezone === 0) {\n                        ret += options.timeZone.gmtZeroFormat;\n                    }\n                    else {\n                        processNumber = true;\n                        curstr = this.getTimeZoneValue(timezone, pattern_1);\n                    }\n                    curstr = options.timeZone.gmtFormat.replace(/\\{0\\}/, curstr);\n                    break;\n                case ':':\n                    ret += options.numMapper.numberSymbols[timeSeparator];\n                    /* tslint:enable no-any */\n                    break;\n                case '/':\n                    ret += options.dateSeperator;\n                    break;\n                default:\n                    ret += match;\n            }\n            if (isNumber) {\n                processNumber = true;\n                curstr = this.checkTwodigitNumber(curval, length_1);\n            }\n            if (processNumber) {\n                ret += parser.convertValueParts(curstr, base.latnParseRegex, options.numMapper.mapper);\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns two digit numbers for given value and length\n     */\n    DateFormat.checkTwodigitNumber = function (val, len) {\n        var ret = val + '';\n        if (len === 2 && ret.length !== 2) {\n            return '0' + ret;\n        }\n        return ret;\n    };\n    /**\n     * Returns the value of the Time Zone.\n     * @param {number} tVal\n     * @param {string} pattern\n     * @private\n     */\n    DateFormat.getTimeZoneValue = function (tVal, pattern) {\n        var _this = this;\n        var splt = pattern.split(';');\n        var curPattern = splt[tVal > 0 ? 1 : 0];\n        var no = Math.abs(tVal);\n        return curPattern = curPattern.replace(/HH?|mm/g, function (str) {\n            var len = str.length;\n            var ishour = str.indexOf('H') !== -1;\n            return _this.checkTwodigitNumber(Math.floor(ishour ? (no / 60) : (no % 60)), len);\n        });\n    };\n    return DateFormat;\n}());\nexport { DateFormat };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isUndefined, getValue, isNullOrUndefined, setValue, uniqueID } from './util';\nimport { ModuleLoader } from './module-loader';\nimport { Base } from './base';\nimport { Observer } from './observer';\nimport { ChildProperty } from './child-property';\nimport { Property, NotifyPropertyChanges } from './notify-property-change';\nimport { onIntlChange, rightToLeft, defaultCulture } from './internationalization';\nimport { createElement } from './dom';\nvar componentCount = 0;\nvar lastPageID;\nvar lastHistoryLen = 0;\n/**\n * Base class for all Essential JavaScript components\n */\nvar Component = /** @class */ (function (_super) {\n    __extends(Component, _super);\n    /**\n     * Initialize the constructor for component base\n     */\n    function Component(options, selector) {\n        var _this = _super.call(this, options, selector) || this;\n        _this.randomId = uniqueID();\n        _this.needsID = false;\n        /**\n         * This is a instance method to create an element.\n         * @private\n         */\n        _this.createElement = createElement;\n        if (isNullOrUndefined(_this.enableRtl)) {\n            _this.setProperties({ 'enableRtl': rightToLeft }, true);\n        }\n        if (isNullOrUndefined(_this.locale)) {\n            _this.setProperties({ 'locale': defaultCulture }, true);\n        }\n        _this.moduleLoader = new ModuleLoader(_this);\n        _this.localObserver = new Observer(_this);\n        // tslint:disable-next-line:no-function-constructor-with-string-args\n        _this.detectFunction = new Function('args', 'var prop = Object.keys(args); if(prop.length){this[prop[0]] = args[prop[0]];}');\n        onIntlChange.on('notifyExternalChange', _this.detectFunction, _this, _this.randomId);\n        if (!isUndefined(selector)) {\n            _this.appendTo();\n        }\n        return _this;\n    }\n    Component.prototype.requiredModules = function () {\n        return [];\n    };\n    ;\n    /**\n     * Destroys the sub modules while destroying the widget\n     */\n    Component.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        if (this.enablePersistence) {\n            this.setPersistData();\n        }\n        this.localObserver.destroy();\n        if (this.refreshing) {\n            return;\n        }\n        this.trigger('destroyed', { cancel: false });\n        _super.prototype.destroy.call(this);\n        this.moduleLoader.clean();\n        onIntlChange.off('notifyExternalChange', this.detectFunction, this.randomId);\n    };\n    /**\n     * Applies all the pending property changes and render the component again.\n     */\n    Component.prototype.refresh = function () {\n        this.refreshing = true;\n        this.moduleLoader.clean();\n        this.destroy();\n        this.clearChanges();\n        this.localObserver = new Observer(this);\n        this.preRender();\n        this.injectModules();\n        this.render();\n        this.refreshing = false;\n    };\n    /**\n     * Appends the control within the given HTML element\n     * @param {string | HTMLElement} selector - Target element where control needs to be appended\n     */\n    Component.prototype.appendTo = function (selector) {\n        if (!isNullOrUndefined(selector) && typeof (selector) === 'string') {\n            this.element = document.querySelector(selector);\n        }\n        else if (!isNullOrUndefined(selector)) {\n            this.element = selector;\n        }\n        if (!isNullOrUndefined(this.element)) {\n            this.isProtectedOnChange = false;\n            if (this.needsID && !this.element.id) {\n                this.element.id = this.getUniqueID(this.getModuleName());\n            }\n            if (this.enablePersistence) {\n                this.mergePersistData();\n                window.addEventListener('unload', this.setPersistData.bind(this));\n            }\n            var inst = getValue('ej2_instances', this.element);\n            if (!inst || inst.indexOf(this) === -1) {\n                _super.prototype.addInstance.call(this);\n            }\n            this.preRender();\n            this.injectModules();\n            this.render();\n            this.trigger('created');\n        }\n    };\n    /**\n     * When invoked, applies the pending property changes immediately to the component.\n     */\n    Component.prototype.dataBind = function () {\n        this.injectModules();\n        _super.prototype.dataBind.call(this);\n    };\n    ;\n    /**\n     * Attach one or more  event handler to the current component context.\n     * It is used for internal handling event internally within the component only.\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the handler to run when the event occurs\n     * @param {Object} context - optional parameter Specifies the context to be bind in the handler.\n     * @return {void}\n     * @private\n     */\n    Component.prototype.on = function (event, handler, context) {\n        if (typeof event === 'string') {\n            this.localObserver.on(event, handler, context);\n        }\n        else {\n            for (var _i = 0, event_1 = event; _i < event_1.length; _i++) {\n                var arg = event_1[_i];\n                this.localObserver.on(arg.event, arg.handler, arg.context);\n            }\n        }\n    };\n    /**\n     * To remove one or more event handler that has been attached with the on() method.\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the function to run when the event occurs\n     * @return {void}\n     * @private\n     */\n    Component.prototype.off = function (event, handler) {\n        if (typeof event === 'string') {\n            this.localObserver.off(event, handler);\n        }\n        else {\n            for (var _i = 0, event_2 = event; _i < event_2.length; _i++) {\n                var arg = event_2[_i];\n                this.localObserver.off(arg.event, arg.handler);\n            }\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     * @param {string} property - Specifies the event to be notify.\n     * @param {Object} argument - Additional parameters to pass while calling the handler.\n     * @return {void}\n     * @private\n     */\n    Component.prototype.notify = function (property, argument) {\n        if (this.isDestroyed !== true) {\n            this.localObserver.notify(property, argument);\n        }\n    };\n    /**\n     * Get injected modules\n     * @private\n     */\n    Component.prototype.getInjectedModules = function () {\n        return this.injectedModules;\n    };\n    ;\n    /**\n     * Dynamically injects the required modules to the component.\n     */\n    Component.Inject = function () {\n        var moduleList = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            moduleList[_i] = arguments[_i];\n        }\n        if (!this.prototype.injectedModules) {\n            this.prototype.injectedModules = [];\n        }\n        for (var i = 0; i < moduleList.length; i++) {\n            if (this.prototype.injectedModules.indexOf(moduleList[i]) === -1) {\n                this.prototype.injectedModules.push(moduleList[i]);\n            }\n        }\n    };\n    Component.prototype.injectModules = function () {\n        if (this.injectedModules && this.injectedModules.length) {\n            this.moduleLoader.inject(this.requiredModules(), this.injectedModules);\n        }\n    };\n    Component.prototype.mergePersistData = function () {\n        var data = window.localStorage.getItem(this.getModuleName() + this.element.id);\n        if (!(isNullOrUndefined(data) || (data === ''))) {\n            this.setProperties(JSON.parse(data), true);\n        }\n    };\n    Component.prototype.setPersistData = function () {\n        if (!this.isDestroyed) {\n            window.localStorage.setItem(this.getModuleName() + this.element.id, this.getPersistData());\n        }\n    };\n    Component.prototype.clearTemplate = function (templateName) {\n        //No Code\n    };\n    Component.prototype.getUniqueID = function (definedName) {\n        if (this.isHistoryChanged()) {\n            componentCount = 0;\n        }\n        lastPageID = this.pageID(location.href);\n        lastHistoryLen = history.length;\n        return definedName + '_' + lastPageID + '_' + componentCount++;\n    };\n    Component.prototype.pageID = function (url) {\n        var hash = 0;\n        if (url.length === 0) {\n            return hash;\n        }\n        for (var i = 0; i < url.length; i++) {\n            var char = url.charCodeAt(i);\n            hash = ((hash << 5) - hash) + char;\n            hash = hash & hash; // Convert to 32bit integer\n        }\n        return Math.abs(hash);\n    };\n    Component.prototype.isHistoryChanged = function () {\n        return lastPageID !== this.pageID(location.href) || lastHistoryLen !== history.length;\n    };\n    Component.prototype.addOnPersist = function (options) {\n        var _this = this;\n        var persistObj = {};\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var key = options_1[_i];\n            var objValue = void 0;\n            objValue = getValue(key, this);\n            if (!isUndefined(objValue)) {\n                setValue(key, this.getActualProperties(objValue), persistObj);\n            }\n        }\n        return JSON.stringify(persistObj, function (key, value) {\n            return _this.getActualProperties(value);\n        });\n    };\n    Component.prototype.getActualProperties = function (obj) {\n        if (obj instanceof ChildProperty) {\n            return getValue('properties', obj);\n        }\n        else {\n            return obj;\n        }\n    };\n    Component.prototype.ignoreOnPersist = function (options) {\n        return JSON.stringify(this.iterateJsonProperties(this.properties, options));\n    };\n    Component.prototype.iterateJsonProperties = function (obj, ignoreList) {\n        var newObj = {};\n        var _loop_1 = function (key) {\n            if (ignoreList.indexOf(key) === -1) {\n                // tslint:disable-next-line:no-any\n                var value = obj[key];\n                if (typeof value === 'object' && !(value instanceof Array)) {\n                    var newList = ignoreList.filter(function (str) {\n                        return new RegExp(key + '.').test(str);\n                    }).map(function (str) {\n                        return str.replace(key + '.', '');\n                    });\n                    newObj[key] = this_1.iterateJsonProperties(this_1.getActualProperties(value), newList);\n                }\n                else {\n                    newObj[key] = value;\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            _loop_1(key);\n        }\n        return newObj;\n    };\n    __decorate([\n        Property(false)\n    ], Component.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"locale\", void 0);\n    Component = __decorate([\n        NotifyPropertyChanges\n    ], Component);\n    return Component;\n}(Base));\nexport { Component };\n//Function handling for page navigation detection \n/* istanbul ignore next */\n(function () {\n    if (typeof window !== 'undefined') {\n        window.addEventListener('popstate', \n        /* istanbul ignore next */\n        function () {\n            componentCount = 0;\n        });\n    }\n})();\n","import { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nimport { isUndefined, throwError, getValue, isNullOrUndefined } from '../util';\nimport { datePartMatcher } from './date-formatter';\nvar number = 'numbers';\nvar defNoSystem = 'defaultNumberingSystem';\nvar noSystem = 'numberingSystem';\nvar standalone = 'stand-alone';\nvar curWeekDay = 'curWeekDay';\nvar latnRegex = /^[0-9]*$/;\nvar abbreviateRegex = /\\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|ccc/;\nvar timeSetter = {\n    minute: 'setMinutes',\n    hour: 'setHours',\n    second: 'setSeconds',\n    day: 'setDate',\n    month: 'setMonth'\n};\nvar month = 'months';\n/* tslint:disable no-any */\n/**\n * Date Parser.\n * @private\n */\nvar DateParser = /** @class */ (function () {\n    function DateParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} - Specific the format in which string date  will be parsed.\n     * @param {cldr} - Specifies the global cldr data collection.\n     *  @return Function.\n     */\n    // tslint:disable-next-line:max-func-body-length\n    DateParser.dateParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture);\n        var numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr));\n        var parseOptions = {};\n        var resPattern = option.format || base.getResultantPattern(option.skeleton, dependable.dateObject, option.type);\n        var regexString = '';\n        var hourOnly;\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            parseOptions = { pattern: resPattern, evalposition: {} };\n            var patternMatch = resPattern.match(base.dateParseRegex) || [];\n            var length_1 = patternMatch.length;\n            var gmtCorrection = 0;\n            var zCorrectTemp = 0;\n            var isgmtTraversed = false;\n            var nRegx = numOptions.numericRegex;\n            for (var i = 0; i < length_1; i++) {\n                var str = patternMatch[i];\n                var len = str.length;\n                var char = (str[0] === 'K') ? 'h' : str[0];\n                var isNumber = void 0;\n                var canUpdate = void 0;\n                var charKey = datePartMatcher[char];\n                var optional = (len === 2) ? '' : '?';\n                if (isgmtTraversed) {\n                    gmtCorrection = zCorrectTemp;\n                    isgmtTraversed = false;\n                }\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        // tslint:disable-next-line\n                        var weekObject = parser.reverseObject(dependable.dateObject[base.days][standalone][base.monthIndex[len]]);\n                        regexString += '(' + Object.keys(weekObject).join('|') + ')';\n                        break;\n                    case 'M':\n                    case 'L':\n                    case 'd':\n                    case 'm':\n                    case 's':\n                    case 'h':\n                    case 'H':\n                        canUpdate = true;\n                        if ((char === 'M' || char === 'L') && len > 2) {\n                            // tslint:disable-next-line\n                            parseOptions[charKey] = parser.reverseObject(dependable.dateObject[month][standalone][base.monthIndex[len]]);\n                            /* tslint:disable no-any */\n                            regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        }\n                        else {\n                            isNumber = true;\n                            regexString += '(' + nRegx + nRegx + optional + ')';\n                        }\n                        if (char === 'h') {\n                            parseOptions.hour12 = true;\n                        }\n                        break;\n                    case 'y':\n                        canUpdate = isNumber = true;\n                        if (len === 2) {\n                            regexString += '(' + nRegx + nRegx + ')';\n                        }\n                        else {\n                            regexString += '(' + nRegx + '{' + len + ',})';\n                        }\n                        break;\n                    case 'a':\n                        canUpdate = true;\n                        parseOptions[charKey] = parser.reverseObject(getValue('dayPeriods.format.wide', dependable.dateObject));\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        break;\n                    case 'G':\n                        canUpdate = true;\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        parseOptions[charKey] = parser.reverseObject(getValue('eras.' + eText, dependable.dateObject));\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + '?)';\n                        break;\n                    case 'z':\n                        var tval = new Date().getTimezoneOffset();\n                        canUpdate = (tval !== 0);\n                        parseOptions[charKey] = getValue('dates.timeZoneNames', dependable.parserObject);\n                        var tzone = parseOptions[charKey];\n                        hourOnly = (len < 4);\n                        var hpattern = hourOnly ? '+H;-H' : tzone.hourFormat;\n                        regexString += '(' + this.parseTimeZoneRegx(hpattern, tzone, nRegx) + ')?';\n                        isgmtTraversed = true;\n                        zCorrectTemp = hourOnly ? 6 : 12;\n                        break;\n                    case '\\'':\n                        var iString = str.replace(/\\'/g, '');\n                        regexString += '(' + iString + ')?';\n                        break;\n                    default:\n                        regexString += '([\\\\D])';\n                        break;\n                }\n                if (canUpdate) {\n                    parseOptions.evalposition[charKey] = { isNumber: isNumber, pos: i + 1 + gmtCorrection, hourOnly: hourOnly };\n                }\n                if (i === length_1 - 1 && !isNullOrUndefined(regexString)) {\n                    parseOptions.parserRegex = new RegExp('^' + regexString + '$');\n                }\n            }\n        }\n        return function (value) {\n            var parsedDateParts = _this.internalDateParse(value, parseOptions, numOptions);\n            if (isNullOrUndefined(parsedDateParts) || !Object.keys(parsedDateParts).length) {\n                return null;\n            }\n            return _this.getDateObject(parsedDateParts);\n        };\n    };\n    /**\n     * Returns date object for provided date options\n     * @param {DateParts} options\n     * @param {Date} value\n     * @returns {Date}\n     */\n    DateParser.getDateObject = function (options, value) {\n        var res = value || new Date();\n        res.setMilliseconds(0);\n        var tKeys = ['hour', 'minute', 'second', 'month', 'day'];\n        var y = options.year;\n        var desig = options.designator;\n        var tzone = options.timeZone;\n        if (!isUndefined(y)) {\n            var len = (y + '').length;\n            if (len <= 2) {\n                var century = Math.floor(res.getFullYear() / 100) * 100;\n                y += century;\n            }\n            res.setFullYear(y);\n        }\n        for (var _i = 0, tKeys_1 = tKeys; _i < tKeys_1.length; _i++) {\n            var key = tKeys_1[_i];\n            var tValue = options[key];\n            if (!isUndefined(tValue)) {\n                if (key === 'month') {\n                    tValue -= 1;\n                    if (tValue < 0 || tValue > 11) {\n                        return new Date('invalid');\n                    }\n                    var pDate = res.getDate();\n                    res.setDate(1);\n                    res[timeSetter[key]](tValue);\n                    var lDate = new Date(res.getFullYear(), tValue + 1, 0).getDate();\n                    res.setDate(pDate < lDate ? pDate : lDate);\n                }\n                else {\n                    if (key === 'day') {\n                        var lastDay = new Date(res.getFullYear(), res.getMonth() + 1, 0).getDate();\n                        if ((tValue < 1 || tValue > lastDay)) {\n                            return null;\n                        }\n                    }\n                    res[timeSetter[key]](tValue);\n                }\n            }\n        }\n        if (!isUndefined(desig)) {\n            var hour = res.getHours();\n            if (desig === 'pm') {\n                res.setHours(hour + (hour === 12 ? 0 : 12));\n            }\n            else if (hour === 12) {\n                res.setHours(0);\n            }\n        }\n        if (!isUndefined(tzone)) {\n            var tzValue = tzone - res.getTimezoneOffset();\n            if (tzValue !== 0) {\n                res.setMinutes(res.getMinutes() + tzValue);\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns date parsing options for provided value along with parse and numeric options\n     * @param {string} value\n     * @param {ParseOptions} parseOptions\n     * @param {NumericOptions} num\n     * @returns {DateParts}\n     */\n    DateParser.internalDateParse = function (value, parseOptions, num) {\n        var matches = value.match(parseOptions.parserRegex);\n        var retOptions = { 'hour': 0, 'minute': 0, 'second': 0 };\n        var nRegx = num.numericRegex;\n        if (isNullOrUndefined(matches)) {\n            return null;\n        }\n        else {\n            var props = Object.keys(parseOptions.evalposition);\n            for (var _i = 0, props_1 = props; _i < props_1.length; _i++) {\n                var prop = props_1[_i];\n                var curObject = parseOptions.evalposition[prop];\n                var matchString = matches[curObject.pos];\n                if (curObject.isNumber) {\n                    retOptions[prop] = this.internalNumberParser(matchString, num);\n                }\n                else {\n                    if (prop === 'timeZone' && !isUndefined(matchString)) {\n                        var pos = curObject.pos;\n                        var val = void 0;\n                        var tmatch = matches[pos + 1];\n                        var flag = !isUndefined(tmatch);\n                        if (curObject.hourOnly) {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 4], num) * 60;\n                        }\n                        else {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 7], num) * 60;\n                            val += this.getZoneValue(flag, matches[pos + 4], matches[pos + 10], num);\n                        }\n                        if (!isNullOrUndefined(val)) {\n                            retOptions[prop] = val;\n                        }\n                    }\n                    else {\n                        retOptions[prop] = parseOptions[prop][matchString];\n                    }\n                }\n            }\n            if (parseOptions.hour12) {\n                retOptions.hour12 = true;\n            }\n        }\n        return retOptions;\n    };\n    /**\n     * Returns parsed number for provided Numeric string and Numeric Options\n     * @param {string} value\n     * @param {NumericOptions} option\n     * @returns {number}\n     */\n    DateParser.internalNumberParser = function (value, option) {\n        value = parser.convertValueParts(value, option.numberParseRegex, option.numericPair);\n        if (latnRegex.test(value)) {\n            return +value;\n        }\n        return null;\n    };\n    /**\n     * Returns parsed time zone RegExp for provided hour format and time zone\n     * @param {string} hourFormat\n     * @param {base.TimeZoneOptions} tZone\n     * @param {string} nRegex\n     * @returns {string}\n     */\n    DateParser.parseTimeZoneRegx = function (hourFormat, tZone, nRegex) {\n        var pattern = tZone.gmtFormat;\n        var ret;\n        var result;\n        var cRegex = '(' + nRegex + ')' + '(' + nRegex + ')';\n        var splitStr;\n        ret = hourFormat.replace('+', '\\\\+');\n        if (hourFormat.indexOf('HH') !== -1) {\n            ret = ret.replace(/HH|mm/g, '(' + cRegex + ')');\n        }\n        else {\n            ret = ret.replace(/H|m/g, '(' + cRegex + '?)');\n        }\n        splitStr = (ret.split(';').map(function (str) {\n            return pattern.replace('{0}', str);\n        }));\n        ret = splitStr.join('|') + '|' + tZone.gmtZeroFormat;\n        return ret;\n    };\n    /**\n     * Returns zone based value.\n     * @param {boolean} flag\n     * @param {string} val1\n     * @param {string} val2\n     * @param {NumericOptions} num\n     * @returns {number}\n     */\n    DateParser.getZoneValue = function (flag, val1, val2, num) {\n        var ival = flag ? val1 : val2;\n        if (!ival) {\n            return 0;\n        }\n        var value = this.internalNumberParser(ival, num);\n        if (flag) {\n            return -value;\n        }\n        return value;\n    };\n    return DateParser;\n}());\nexport { DateParser };\n","import { extend, isNullOrUndefined } from '../util';\nimport { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nvar formatRegex = /(^[ncpa]{1})([0-1]?[0-9]|20)?$/i;\nvar parseRegex = /^([^0-9]*)(([0-9,]*[0-9]+)(\\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/;\nvar groupRegex = /,/g;\nvar latnDecimalRegex = /^[0-9]*(\\.[0-9]+)?$/;\nvar keys = ['minusSign', 'infinity'];\n/**\n * Module for Number Parser.\n * @private\n */\nvar NumberParser = /** @class */ (function () {\n    function NumberParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} - Specific the format in which number  will parsed.\n     * @param {cldr} - Specifies the global cldr data collection.\n     * @return Function.\n     */\n    NumberParser.numberParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture, true);\n        var parseOptions = { custom: true };\n        var numOptions;\n        if ((base.formatRegex.test(option.format)) || !(option.format)) {\n            extend(parseOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            parseOptions.custom = false;\n        }\n        else {\n            extend(parseOptions, base.customFormat(option.format, null, null));\n        }\n        numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n        parseOptions.symbolRegex = parser.getSymbolRegex(Object.keys(numOptions.symbolMatch));\n        // tslint:disable-next-line:no-any\n        parseOptions.infinity = numOptions.symbolNumberSystem[keys[1]];\n        var symbolpattern = base.getSymbolPattern(parseOptions.type, numOptions.numberSystem, dependable.numericObject, parseOptions.isAccount);\n        if (symbolpattern) {\n            symbolpattern = symbolpattern.replace(/\\u00A4/g, base.defaultCurrency);\n            var split = symbolpattern.split(';');\n            parseOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, '');\n            parseOptions.pData = base.getFormatData(split[0], true, '');\n        }\n        return function (value) {\n            return _this.getParsedNumber(value, parseOptions, numOptions);\n        };\n    };\n    /**\n     * Returns parsed number for the provided formatting options\n     * @param {string} value\n     * @param {NumericParts} options\n     * @param {NumericOptions} numOptions\n     * @returns {number}\n     */\n    NumberParser.getParsedNumber = function (value, options, numOptions) {\n        var isNegative;\n        var isPercent;\n        var tempValue;\n        var lead;\n        var end;\n        var ret;\n        if (value.indexOf(options.infinity) !== -1) {\n            return Infinity;\n        }\n        else {\n            value = parser.convertValueParts(value, options.symbolRegex, numOptions.symbolMatch);\n            value = parser.convertValueParts(value, numOptions.numberParseRegex, numOptions.numericPair);\n            if (value.indexOf('.') === 0) {\n                value = '0' + value;\n            }\n            var matches = value.match(parseRegex);\n            if (isNullOrUndefined(matches)) {\n                return NaN;\n            }\n            lead = matches[1];\n            tempValue = matches[2];\n            var exponent = matches[5];\n            end = matches[6];\n            isNegative = options.custom ? ((lead === options.nData.nlead) && (end === options.nData.nend)) :\n                ((lead.indexOf(options.nData.nlead) !== -1) && (end.indexOf(options.nData.nend) !== -1));\n            isPercent = isNegative ?\n                options.nData.isPercent :\n                options.pData.isPercent;\n            tempValue = tempValue.replace(groupRegex, '');\n            if (exponent) {\n                tempValue += exponent;\n            }\n            ret = +tempValue;\n            if (options.type === 'percent' || isPercent) {\n                ret = ret / 100;\n            }\n            if (options.custom || options.fractionDigits) {\n                ret = parseFloat(ret.toFixed(options.custom ?\n                    (isNegative ? options.nData.maximumFractionDigits : options.pData.maximumFractionDigits) : options.fractionDigits));\n            }\n            if (isNegative) {\n                ret *= -1;\n            }\n            return ret;\n        }\n    };\n    return NumberParser;\n}());\nexport { NumberParser };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible } from './dom';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { ChildProperty } from './child-property';\nimport { select, closest, setStyleAttribute, addClass, createElement } from './dom';\nimport { extend, isUndefined, isNullOrUndefined, compareElementParent } from './util';\nvar defaultPosition = { left: 0, top: 0, bottom: 0, right: 0 };\nvar positionProp = ['offsetLeft', 'offsetTop'];\nvar axisMapper = ['x', 'y'];\nvar axisValueMapper = ['left', 'top'];\n/**\n * Specifies the position coordinates\n */\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"left\", void 0);\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"top\", void 0);\n    return Position;\n}(ChildProperty));\nexport { Position };\n/**\n * Draggable Module provides support to enable draggable functionality in Dom Elements.\n * ```html\n * <div id='drag'>Draggable</div>\n * <script>\n * var ele = document.getElementById('drag');\n * var drag:Draggable = new Draggable(ele,{\n *     clone:false,\n *     drag: function(e) {\n *      //drag handler code.\n *      },\n *     handle:'.class'\n * });\n * </script>\n * ```\n */\nvar Draggable = /** @class */ (function (_super) {\n    __extends(Draggable, _super);\n    function Draggable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.dragLimit = Draggable_1.getDefaultPosition();\n        _this.borderWidth = Draggable_1.getDefaultPosition();\n        _this.padding = Draggable_1.getDefaultPosition();\n        _this.diffX = 0;\n        _this.diffY = 0;\n        _this.droppables = {};\n        _this.bind();\n        return _this;\n    }\n    Draggable_1 = Draggable;\n    Draggable.prototype.bind = function () {\n        this.toggleEvents();\n        if (Browser.isIE) {\n            addClass([this.element], 'e-block-touch');\n        }\n        this.droppables[this.scope] = {};\n    };\n    Draggable.getDefaultPosition = function () {\n        return extend({}, defaultPosition);\n    };\n    Draggable.prototype.toggleEvents = function (isUnWire) {\n        var ele;\n        if (!isUndefined(this.handle)) {\n            ele = select(this.handle, this.element);\n        }\n        if (isUnWire) {\n            EventHandler.remove(ele || this.element, Browser.touchStartEvent, this.initialize);\n        }\n        else {\n            EventHandler.add(ele || this.element, Browser.touchStartEvent, this.initialize, this);\n        }\n    };\n    Draggable.prototype.initialize = function (evt) {\n        this.target = evt.currentTarget;\n        if (this.abort) {\n            if (!isNullOrUndefined(closest(evt.target, this.abort))) {\n                return;\n            }\n        }\n        if (this.preventDefault && !isUndefined(evt.changedTouches)) {\n            evt.preventDefault();\n        }\n        this.element.setAttribute('aria-grabbed', 'true');\n        var intCoord = this.getCoordinates(evt);\n        this.initialPosition = { x: intCoord.pageX, y: intCoord.pageY };\n        if (!this.clone) {\n            var pos = this.element.getBoundingClientRect();\n            this.relativeXPosition = intCoord.pageX - pos.left;\n            this.relativeYPosition = intCoord.pageY - pos.top;\n        }\n        EventHandler.add(document, Browser.touchMoveEvent, this.intDragStart, this);\n        EventHandler.add(document, Browser.touchEndEvent, this.intDestroy, this);\n        this.toggleEvents(true);\n        document.body.classList.add('e-prevent-select');\n        EventHandler.trigger(document.documentElement, Browser.touchStartEvent, evt);\n    };\n    Draggable.prototype.intDragStart = function (evt) {\n        var isChangeTouch = !isUndefined(evt.changedTouches);\n        if (isChangeTouch && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        if (isChangeTouch) {\n            evt.preventDefault();\n        }\n        var intCordinate = this.getCoordinates(evt);\n        var pos;\n        var styleProp = getComputedStyle(this.element);\n        this.margin = {\n            left: parseInt(styleProp.marginLeft, 10),\n            top: parseInt(styleProp.marginTop, 10),\n            right: parseInt(styleProp.marginRight, 10),\n            bottom: parseInt(styleProp.marginBottom, 10),\n        };\n        var element = this.element;\n        if (this.clone && this.dragTarget) {\n            var intClosest = closest(evt.target, this.dragTarget);\n            if (!isNullOrUndefined(intClosest)) {\n                element = intClosest;\n            }\n        }\n        this.offset = this.calculateParentPosition(element);\n        this.position = this.getMousePosition(evt);\n        var x = this.initialPosition.x - intCordinate.pageX;\n        var y = this.initialPosition.y - intCordinate.pageY;\n        var distance = Math.sqrt((x * x) + (y * y));\n        if (distance >= this.distance) {\n            var ele = this.getHelperElement(evt);\n            if (!ele || isNullOrUndefined(ele)) {\n                return;\n            }\n            var dragTargetElement = this.helperElement = ele;\n            this.parentClientRect = this.calculateParentPosition(dragTargetElement.offsetParent);\n            if (this.dragStart) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStart', { event: evt, element: element, target: curTarget });\n            }\n            if (this.dragArea) {\n                this.setDragArea();\n            }\n            else {\n                this.dragLimit = { left: 0, right: 0, bottom: 0, top: 0 };\n                this.borderWidth = { top: 0, left: 0 };\n            }\n            pos = { left: this.position.left - this.parentClientRect.left, top: this.position.top - this.parentClientRect.top };\n            if (this.clone && !this.enableTailMode) {\n                this.diffX = this.position.left - this.offset.left;\n                this.diffY = this.position.top - this.offset.top;\n            }\n            var posValue = this.getProcessedPositionValue({\n                top: (pos.top - this.diffY) + 'px',\n                left: (pos.left - this.diffX) + 'px'\n            });\n            setStyleAttribute(dragTargetElement, this.getDragPosition({ position: 'absolute', left: posValue.left, top: posValue.top }));\n            EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n            EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n            if (isVisible(dragTargetElement)) {\n                EventHandler.add(document, Browser.touchMoveEvent, this.intDrag, this);\n                EventHandler.add(document, Browser.touchEndEvent, this.intDragStop, this);\n                this.setGlobalDroppables(false, this.element, dragTargetElement);\n            }\n            else {\n                this.toggleEvents();\n                document.body.classList.remove('e-prevent-select');\n            }\n        }\n    };\n    Draggable.prototype.elementInViewport = function (el) {\n        this.top = el.offsetTop;\n        this.left = el.offsetLeft;\n        this.width = el.offsetWidth;\n        this.height = el.offsetHeight;\n        while (el.offsetParent) {\n            el = el.offsetParent;\n            this.top += el.offsetTop;\n            this.left += el.offsetLeft;\n        }\n        return (this.top >= window.pageYOffset &&\n            this.left >= window.pageXOffset &&\n            (this.top + this.height) <= (window.pageYOffset + window.innerHeight) &&\n            (this.left + this.width) <= (window.pageXOffset + window.innerWidth));\n    };\n    Draggable.prototype.getProcessedPositionValue = function (value) {\n        if (this.queryPositionInfo) {\n            return this.queryPositionInfo(value);\n        }\n        return value;\n    };\n    Draggable.prototype.calculateParentPosition = function (ele) {\n        if (isNullOrUndefined(ele)) {\n            return { left: 0, top: 0 };\n        }\n        var rect = ele.getBoundingClientRect();\n        var style = getComputedStyle(ele);\n        return {\n            left: (rect.left + window.pageXOffset) - parseInt(style.marginLeft, 10),\n            top: (rect.top + window.pageYOffset) - parseInt(style.marginTop, 10)\n        };\n    };\n    Draggable.prototype.intDrag = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var left;\n        var top;\n        this.position = this.getMousePosition(evt);\n        var docHeight = this.getDocumentWidthHeight('Height');\n        if (docHeight < this.position.top) {\n            this.position.top = docHeight;\n        }\n        var docWidth = this.getDocumentWidthHeight('Width');\n        if (docWidth < this.position.left) {\n            this.position.left = docWidth;\n        }\n        if (this.drag) {\n            var curTarget = this.getProperTargetElement(evt);\n            this.trigger('drag', { event: evt, element: this.element, target: curTarget });\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            /* tslint:disable no-any */\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            eleObj.instance.intOver(evt, eleObj.target);\n            this.hoverObject = eleObj;\n        }\n        else if (this.hoverObject) {\n            this.hoverObject.instance.intOut(evt, eleObj.target);\n            this.hoverObject.instance.dragData[this.scope] = null;\n            this.hoverObject = null;\n        }\n        var helperElement = this.droppables[this.scope].helper;\n        this.parentClientRect = this.calculateParentPosition(this.helperElement.offsetParent);\n        var tLeft = this.parentClientRect.left;\n        var tTop = this.parentClientRect.top;\n        var intCoord = this.getCoordinates(evt);\n        var pagex = intCoord.pageX;\n        var pagey = intCoord.pageY;\n        var dLeft = this.position.left - this.diffX;\n        var dTop = this.position.top - this.diffY;\n        if (this.dragArea) {\n            var styles = getComputedStyle(helperElement);\n            if (this.pageX !== pagex || this.skipDistanceCheck) {\n                var helperWidth = helperElement.offsetWidth + (parseFloat(styles.marginLeft)\n                    + parseFloat(styles.marginRight));\n                if (this.dragLimit.left > dLeft) {\n                    left = this.dragLimit.left;\n                }\n                else if (this.dragLimit.right < dLeft + helperWidth) {\n                    left = this.dragLimit.right - helperWidth;\n                }\n                else {\n                    left = dLeft;\n                }\n            }\n            if (this.pageY !== pagey || this.skipDistanceCheck) {\n                var helperHeight = helperElement.offsetHeight + (parseFloat(styles.marginTop)\n                    + parseFloat(styles.marginBottom));\n                if (this.dragLimit.top > dTop) {\n                    top = this.dragLimit.top;\n                }\n                else if (this.dragLimit.bottom < dTop + helperHeight) {\n                    top = this.dragLimit.bottom - helperHeight;\n                }\n                else {\n                    top = dTop;\n                }\n            }\n        }\n        else {\n            left = dLeft;\n            top = dTop;\n        }\n        var iTop = tTop + this.borderWidth.top;\n        var iLeft = tLeft + this.borderWidth.left;\n        var dragValue = this.getProcessedPositionValue({ top: (top - iTop) + 'px', left: (left - iLeft) + 'px' });\n        setStyleAttribute(helperElement, this.getDragPosition(dragValue));\n        if (!this.elementInViewport(helperElement) && this.enableAutoScroll) {\n            this.helperElement.scrollIntoView();\n        }\n        this.position.left = left;\n        this.position.top = top;\n        this.pageX = pagex;\n        this.pageY = pagey;\n    };\n    Draggable.prototype.getDragPosition = function (dragValue) {\n        var temp = extend({}, dragValue);\n        if (this.axis) {\n            if (this.axis === 'x') {\n                delete temp.top;\n            }\n            else if (this.axis === 'y') {\n                delete temp.left;\n            }\n        }\n        return temp;\n    };\n    Draggable.prototype.getDocumentWidthHeight = function (str) {\n        var docBody = document.body;\n        var docEle = document.documentElement;\n        var returnValue = Math.max(docBody['scroll' + str], docEle['scroll' + str], docBody['offset' + str], docEle['offset' + str], docEle['client' + str]);\n        return returnValue;\n    };\n    Draggable.prototype.intDragStop = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var type = ['touchend', 'pointerup', 'mouseup'];\n        if (type.indexOf(evt.type) !== -1) {\n            if (this.dragStop) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStop', { event: evt, element: this.element, target: curTarget, helper: this.helperElement });\n            }\n            this.intDestroy(evt);\n        }\n        else {\n            this.element.setAttribute('aria-grabbed', 'false');\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            eleObj.instance.dragStopCalled = true;\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            eleObj.instance.intDrop(evt, eleObj.target);\n        }\n        this.setGlobalDroppables(true);\n        document.body.classList.remove('e-prevent-select');\n    };\n    Draggable.prototype.intDestroy = function (evt) {\n        this.toggleEvents();\n        document.body.classList.remove('e-prevent-select');\n        this.element.setAttribute('aria-grabbed', 'false');\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDragStop);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDrag);\n    };\n    // triggers when property changed\n    Draggable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Draggable.prototype.getModuleName = function () {\n        return 'draggable';\n    };\n    Draggable.prototype.setDragArea = function () {\n        var eleWidthBound;\n        var eleHeightBound;\n        var top = 0;\n        var left = 0;\n        var ele;\n        var type = typeof this.dragArea;\n        if (type === 'string') {\n            ele = select(this.dragArea);\n        }\n        else {\n            ele = this.dragArea;\n        }\n        if (ele) {\n            var elementArea = ele.getBoundingClientRect();\n            eleWidthBound = elementArea.width ? elementArea.width : elementArea.right - elementArea.left;\n            eleHeightBound = elementArea.height ? elementArea.height : elementArea.bottom - elementArea.top;\n            var keys = ['Top', 'Left', 'Bottom', 'Right'];\n            var styles = getComputedStyle(ele);\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var tborder = styles['border' + key + 'Width'];\n                var tpadding = styles['padding' + key];\n                var lowerKey = key.toLowerCase();\n                this.borderWidth[lowerKey] = isNaN(parseFloat(tborder)) ? 0 : parseFloat(tborder);\n                this.padding[lowerKey] = isNaN(parseFloat(tpadding)) ? 0 : parseFloat(tpadding);\n            }\n            top = elementArea.top;\n            left = elementArea.left;\n            this.dragLimit.left = left + this.borderWidth.left + this.padding.left;\n            this.dragLimit.top = top + this.borderWidth.top + this.padding.top;\n            this.dragLimit.right = left + eleWidthBound - (this.borderWidth.right + this.padding.right);\n            this.dragLimit.bottom = top + eleHeightBound - (this.borderWidth.bottom + this.padding.bottom);\n        }\n    };\n    Draggable.prototype.getProperTargetElement = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var ele;\n        var prevStyle = this.helperElement.style.display || '';\n        if (compareElementParent(evt.target, this.helperElement) || evt.type.indexOf('touch') !== -1) {\n            this.helperElement.style.display = 'none';\n            ele = document.elementFromPoint(intCoord.clientX, intCoord.clientY);\n            this.helperElement.style.display = prevStyle;\n        }\n        else {\n            ele = evt.target;\n        }\n        return ele;\n    };\n    Draggable.prototype.getMousePosition = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var pageX = this.clone ? intCoord.pageX : intCoord.pageX - this.relativeXPosition;\n        var pageY = this.clone ? intCoord.pageY : intCoord.pageY - this.relativeYPosition;\n        return {\n            left: pageX - (this.margin.left + this.cursorAt.left),\n            top: pageY - (this.margin.top + this.cursorAt.top)\n        };\n    };\n    Draggable.prototype.getCoordinates = function (evt) {\n        if (evt.type.indexOf('touch') > -1) {\n            return evt.changedTouches[0];\n        }\n        return evt;\n    };\n    Draggable.prototype.getHelperElement = function (evt) {\n        var element;\n        if (this.clone) {\n            if (this.helper) {\n                element = this.helper({ sender: evt, element: this.target });\n            }\n            else {\n                element = createElement('div', { className: 'e-drag-helper e-block-touch', innerHTML: 'Draggable' });\n                document.body.appendChild(element);\n            }\n        }\n        else {\n            element = this.element;\n        }\n        return element;\n    };\n    Draggable.prototype.setGlobalDroppables = function (reset, drag, helper) {\n        this.droppables[this.scope] = reset ? null : {\n            draggable: drag,\n            helper: helper,\n            draggedElement: this.element\n        };\n    };\n    Draggable.prototype.checkTargetElement = function (evt) {\n        var target = this.getProperTargetElement(evt);\n        var dropIns = this.getDropInstance(target);\n        if (!dropIns && target && !isNullOrUndefined(target.parentNode)) {\n            var parent_1 = closest(target.parentNode, '.e-droppable') || target.parentElement;\n            if (parent_1) {\n                dropIns = this.getDropInstance(parent_1);\n            }\n        }\n        return { target: target, instance: dropIns };\n    };\n    Draggable.prototype.getDropInstance = function (ele) {\n        var name = 'getModuleName';\n        var drop;\n        var eleInst = ele && ele.ej2_instances;\n        if (eleInst) {\n            for (var _i = 0, eleInst_1 = eleInst; _i < eleInst_1.length; _i++) {\n                var inst = eleInst_1[_i];\n                if (inst[name]() === 'droppable') {\n                    drop = inst;\n                    break;\n                }\n            }\n        }\n        return drop;\n    };\n    Draggable.prototype.destroy = function () {\n        this.toggleEvents(true);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Complex({}, Position)\n    ], Draggable.prototype, \"cursorAt\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"clone\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"dragArea\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStop\", void 0);\n    __decorate([\n        Property(1)\n    ], Draggable.prototype, \"distance\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"handle\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"abort\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"helper\", void 0);\n    __decorate([\n        Property('default')\n    ], Draggable.prototype, \"scope\", void 0);\n    __decorate([\n        Property('')\n    ], Draggable.prototype, \"dragTarget\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"axis\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"queryPositionInfo\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableTailMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"skipDistanceCheck\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"preventDefault\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableAutoScroll\", void 0);\n    Draggable = Draggable_1 = __decorate([\n        NotifyPropertyChanges\n    ], Draggable);\n    return Draggable;\n    var Draggable_1;\n}(Base));\nexport { Draggable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible, matches } from './dom';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { compareElementParent } from './util';\n/**\n * Droppable Module provides support to enable droppable functionality in Dom Elements.\n * ```html\n * <div id='drop'>Droppable</div>\n * <script>\n * let ele:HTMLElement = document.getElementById('drop');\n * var drag:Droppable = new Droppable(ele,{\n *     accept:'.drop',\n *     drop: function(e) {\n *      //drop handler code.\n *     }\n * });\n * </script>\n * ```\n */\nvar Droppable = /** @class */ (function (_super) {\n    __extends(Droppable, _super);\n    function Droppable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseOver = false;\n        _this.dragData = {};\n        _this.dragStopCalled = false;\n        _this.bind();\n        return _this;\n    }\n    Droppable.prototype.bind = function () {\n        this.wireEvents();\n    };\n    Droppable.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchEndEvent, this.intDrop, this);\n    };\n    // triggers when property changed\n    Droppable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Droppable.prototype.getModuleName = function () {\n        return 'droppable';\n    };\n    Droppable.prototype.intOver = function (event, element) {\n        if (!this.mouseOver) {\n            var drag = this.dragData[this.scope];\n            this.trigger('over', { event: event, target: element, dragData: drag });\n            this.mouseOver = true;\n        }\n    };\n    Droppable.prototype.intOut = function (event, element) {\n        if (this.mouseOver) {\n            this.trigger('out', { evt: event, target: element });\n            this.mouseOver = false;\n        }\n    };\n    Droppable.prototype.intDrop = function (evt, element) {\n        if (!this.dragStopCalled) {\n            return;\n        }\n        else {\n            this.dragStopCalled = false;\n        }\n        var accept = true;\n        var drag = this.dragData[this.scope];\n        var isDrag = drag ? (drag.helper && isVisible(drag.helper)) : false;\n        var area;\n        if (isDrag) {\n            area = this.isDropArea(evt, drag.helper, element);\n            if (this.accept) {\n                accept = matches(drag.helper, this.accept);\n            }\n        }\n        if (isDrag && this.drop && area.canDrop && accept) {\n            this.trigger('drop', { event: evt, target: area.target, droppedElement: drag.helper, dragData: drag });\n        }\n        this.mouseOver = false;\n    };\n    Droppable.prototype.isDropArea = function (evt, helper, element) {\n        var area = { canDrop: true, target: element || evt.target };\n        var isTouch = evt.type === 'touchend';\n        if (isTouch || area.target === helper) {\n            helper.style.display = 'none';\n            var coord = isTouch ? (evt.changedTouches[0]) : evt;\n            var ele = document.elementFromPoint(coord.clientX, coord.clientY);\n            area.canDrop = false;\n            area.canDrop = compareElementParent(ele, this.element);\n            if (area.canDrop) {\n                area.target = ele;\n            }\n            helper.style.display = '';\n        }\n        return area;\n    };\n    Droppable.prototype.destroy = function () {\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.intDrop);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Property()\n    ], Droppable.prototype, \"accept\", void 0);\n    __decorate([\n        Property('default')\n    ], Droppable.prototype, \"scope\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"drop\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"over\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"out\", void 0);\n    Droppable = __decorate([\n        NotifyPropertyChanges\n    ], Droppable);\n    return Droppable;\n}(Base));\nexport { Droppable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Base } from './base';\nvar keyCode = {\n    'backspace': 8,\n    'tab': 9,\n    'enter': 13,\n    'shift': 16,\n    'control': 17,\n    'alt': 18,\n    'pause': 19,\n    'capslock': 20,\n    'space': 32,\n    'escape': 27,\n    'pageup': 33,\n    'pagedown': 34,\n    'end': 35,\n    'home': 36,\n    'leftarrow': 37,\n    'uparrow': 38,\n    'rightarrow': 39,\n    'downarrow': 40,\n    'insert': 45,\n    'delete': 46,\n    'f1': 112,\n    'f2': 113,\n    'f3': 114,\n    'f4': 115,\n    'f5': 116,\n    'f6': 117,\n    'f7': 118,\n    'f8': 119,\n    'f9': 120,\n    'f10': 121,\n    'f11': 122,\n    'f12': 123,\n    'semicolon': 186,\n    'plus': 187,\n    'comma': 188,\n    'minus': 189,\n    'dot': 190,\n    'forwardslash': 191,\n    'graveaccent': 192,\n    'openbracket': 219,\n    'backslash': 220,\n    'closebracket': 221,\n    'singlequote': 222\n};\n/**\n * KeyboardEvents class enables you to bind key action desired key combinations for ex., Ctrl+A, Delete, Alt+Space etc.\n * ```html\n * <div id='testEle'>  </div>;\n * <script>\n *   let node: HTMLElement = document.querySelector('#testEle');\n *   let kbInstance = new KeyboardEvents({\n *       element: node,\n *       keyConfigs:{ selectAll : 'ctrl+a' },\n *       keyAction: function (e:KeyboardEvent, action:string) {\n *           // handler function code\n *       }\n *   });\n * </script>\n * ```\n */\nvar KeyboardEvents = /** @class */ (function (_super) {\n    __extends(KeyboardEvents, _super);\n    /**\n     * Initializes the KeyboardEvents\n     * @param {HTMLElement} element\n     * @param {KeyboardEventsModel} options\n     */\n    function KeyboardEvents(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * To handle a key press event returns null\n         */\n        _this.keyPressHandler = function (e) {\n            var isAltKey = e.altKey;\n            var isCtrlKey = e.ctrlKey;\n            var isShiftKey = e.shiftKey;\n            var curkeyCode = e.which;\n            var keys = Object.keys(_this.keyConfigs);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                var configCollection = _this.keyConfigs[key].split(',');\n                for (var _a = 0, configCollection_1 = configCollection; _a < configCollection_1.length; _a++) {\n                    var rconfig = configCollection_1[_a];\n                    var rKeyObj = KeyboardEvents_1.getKeyConfigData(rconfig.trim());\n                    if (isAltKey === rKeyObj.altKey && isCtrlKey === rKeyObj.ctrlKey &&\n                        isShiftKey === rKeyObj.shiftKey && curkeyCode === rKeyObj.keyCode) {\n                        e.action = key;\n                        if (_this.keyAction) {\n                            _this.keyAction(e);\n                        }\n                    }\n                }\n            }\n        };\n        _this.bind();\n        return _this;\n    }\n    KeyboardEvents_1 = KeyboardEvents;\n    /**\n     * Unwire bound events and destroy the instance.\n     * @return {void}\n     */\n    KeyboardEvents.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Function can be used to specify certain action if a property is changed\n     * @param newProp\n     * @param oldProp\n     * @returns {void}\n     * @private\n     */\n    KeyboardEvents.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // No code are needed\n    };\n    ;\n    KeyboardEvents.prototype.bind = function () {\n        this.wireEvents();\n    };\n    /**\n     * To get the module name, returns 'keyboard'.\n     * @private\n     */\n    KeyboardEvents.prototype.getModuleName = function () {\n        return 'keyboard';\n    };\n    /**\n     * Wiring event handlers to events\n     */\n    KeyboardEvents.prototype.wireEvents = function () {\n        this.element.addEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * Unwiring event handlers to events\n     */\n    KeyboardEvents.prototype.unwireEvents = function () {\n        this.element.removeEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * To get the key configuration data\n     * @param {string} config - configuration data\n     * returns {KeyData}\n     */\n    KeyboardEvents.getKeyConfigData = function (config) {\n        if (config in this.configCache) {\n            return this.configCache[config];\n        }\n        var keys = config.toLowerCase().split('+');\n        var keyData = {\n            altKey: (keys.indexOf('alt') !== -1 ? true : false),\n            ctrlKey: (keys.indexOf('ctrl') !== -1 ? true : false),\n            shiftKey: (keys.indexOf('shift') !== -1 ? true : false),\n            keyCode: null\n        };\n        if (keys[keys.length - 1].length > 1 && !!Number(keys[keys.length - 1])) {\n            keyData.keyCode = Number(keys[keys.length - 1]);\n        }\n        else {\n            keyData.keyCode = KeyboardEvents_1.getKeyCode(keys[keys.length - 1]);\n        }\n        KeyboardEvents_1.configCache[config] = keyData;\n        return keyData;\n    };\n    // Return the keycode value as string \n    KeyboardEvents.getKeyCode = function (keyVal) {\n        return keyCode[keyVal] || keyVal.toUpperCase().charCodeAt(0);\n    };\n    KeyboardEvents.configCache = {};\n    __decorate([\n        Property({})\n    ], KeyboardEvents.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property('keyup')\n    ], KeyboardEvents.prototype, \"eventName\", void 0);\n    __decorate([\n        Event()\n    ], KeyboardEvents.prototype, \"keyAction\", void 0);\n    KeyboardEvents = KeyboardEvents_1 = __decorate([\n        NotifyPropertyChanges\n    ], KeyboardEvents);\n    return KeyboardEvents;\n    var KeyboardEvents_1;\n}(Base));\nexport { KeyboardEvents };\n","import { extend } from './util';\nimport { defaultCulture } from './internationalization';\n/**\n * L10n modules provides localized text for different culture.\n * ```typescript\n * import {setCulture} from '@syncfusion/ts-base-library';\n * //load global locale object common for all components.\n * L10n.load({\n *    'fr-BE': {\n *       'button': {\n *            'check': 'vrifi'\n *        }\n *    }\n * });\n * //set globale default locale culture.\n * setCulture('fr-BE');\n * let instance: L10n = new L10n('button', {\n *    check: 'checked'\n * });\n * //Get locale text for current property.\n * instance.getConstant('check');\n * //Change locale culture in a component.\n * instance.setLocale('en-US');\n * ```\n */\nvar L10n = /** @class */ (function () {\n    /**\n     * Constructor\n     */\n    function L10n(controlName, localeStrings, locale) {\n        this.controlName = controlName;\n        this.localeStrings = localeStrings;\n        this.setLocale(locale || defaultCulture);\n    }\n    /**\n     * Sets the locale text\n     * @param {string} locale\n     * @returns {void}\n     */\n    L10n.prototype.setLocale = function (locale) {\n        var intLocale = this.intGetControlConstant(L10n.locale, locale);\n        this.currentLocale = intLocale || this.localeStrings;\n    };\n    /**\n     * Sets the global locale for all components.\n     * @param {Object} localeObject - specifies the localeObject to be set as global locale.\n     */\n    L10n.load = function (localeObject) {\n        this.locale = extend(this.locale, localeObject, {}, true);\n    };\n    /**\n     * Returns current locale text for the property based on the culture name and control name.\n     * @param {string} propertyName - specifies the property for which localize text to be returned.\n     * @return string\n     */\n    L10n.prototype.getConstant = function (prop) {\n        /* tslint:disable no-any */\n        return this.currentLocale[prop] || this.localeStrings[prop] || '';\n    };\n    /**\n     * Returns the control constant object for current object and the locale specified.\n     * @param {Object} curObject\n     * @param {string} locale\n     * @returns {Object}\n     */\n    L10n.prototype.intGetControlConstant = function (curObject, locale) {\n        if (curObject[locale]) {\n            return curObject[locale][this.controlName];\n        }\n        return null;\n    };\n    L10n.locale = {};\n    return L10n;\n}());\nexport { L10n };\n","/**\n * To import utils\n */\nimport { isNullOrUndefined, } from './util';\nvar SvgRenderer = /** @class */ (function () {\n    /* End-Properties */\n    function SvgRenderer(rootID) {\n        //Internal Variables \n        this.svgLink = 'http://www.w3.org/2000/svg';\n        this.rootId = rootID;\n    }\n    // method to get the attributes value\n    /* tslint:disable */\n    SvgRenderer.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    }; /* tslint:enable */\n    /**\n     * To create a Html5 SVG element\n     * @param {SVGAttributes} options - Options to create SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createSvg = function (options) {\n        if (isNullOrUndefined(options.id)) {\n            options.id = this.rootId + '_svg';\n        }\n        this.svgObj = document.getElementById(options.id);\n        if (isNullOrUndefined(document.getElementById(options.id))) {\n            this.svgObj = document.createElementNS(this.svgLink, 'svg');\n        }\n        this.svgObj = this.setElementAttributes(options, this.svgObj);\n        this.setSVGSize(options.width, options.height);\n        return this.svgObj;\n    };\n    // method to set the height and width for the SVG element\n    SvgRenderer.prototype.setSVGSize = function (width, height) {\n        var element = document.getElementById(this.rootId);\n        var size = !isNullOrUndefined(element) ? element.getBoundingClientRect() : null;\n        if (isNullOrUndefined(this.width) || this.width <= 0) {\n            this.svgObj.setAttribute('width', width ? width.toString() : size.width.toString());\n        }\n        else {\n            this.svgObj.setAttribute('width', this.width.toString());\n        }\n        if (isNullOrUndefined(this.height) || this.height <= 0) {\n            this.svgObj.setAttribute('height', height ? height.toString() : '450');\n        }\n        else {\n            this.svgObj.setAttribute('height', this.height.toString());\n        }\n    };\n    /**\n     * To draw a path\n     * @param {PathAttributes} options - Options to draw a path in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPath = function (options) {\n        var path = document.getElementById(options.id);\n        if (path === null) {\n            path = document.createElementNS(this.svgLink, 'path');\n        }\n        path = this.setElementAttributes(options, path);\n        return path;\n    };\n    /**\n     * To draw a line\n     * @param {LineAttributes} options - Options to draw a line in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawLine = function (options) {\n        var line = document.getElementById(options.id);\n        if (line === null) {\n            line = document.createElementNS(this.svgLink, 'line');\n        }\n        line = this.setElementAttributes(options, line);\n        return line;\n    };\n    /**\n     * To draw a rectangle\n     * @param {BaseAttibutes} options - Required options to draw a rectangle in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawRectangle = function (options) {\n        var rectangle = document.getElementById(options.id);\n        if (rectangle === null) {\n            rectangle = document.createElementNS(this.svgLink, 'rect');\n        }\n        rectangle = this.setElementAttributes(options, rectangle);\n        return rectangle;\n    };\n    /**\n     * To draw a circle\n     * @param {CircleAttributes} options - Required options to draw a circle in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawCircle = function (options) {\n        var circle = document.getElementById(options.id);\n        if (circle === null) {\n            circle = document.createElementNS(this.svgLink, 'circle');\n        }\n        circle = this.setElementAttributes(options, circle);\n        return circle;\n    };\n    /**\n     * To draw a polyline\n     * @param {PolylineAttributes} options - Options required to draw a polyline\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPolyline = function (options) {\n        var polyline = document.getElementById(options.id);\n        if (polyline === null) {\n            polyline = document.createElementNS(this.svgLink, 'polyline');\n        }\n        polyline = this.setElementAttributes(options, polyline);\n        return polyline;\n    };\n    /**\n     * To draw an ellipse\n     * @param {EllipseAttributes} options - Options required to draw an ellipse\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawEllipse = function (options) {\n        var ellipse = document.getElementById(options.id);\n        if (ellipse === null) {\n            ellipse = document.createElementNS(this.svgLink, 'ellipse');\n        }\n        ellipse = this.setElementAttributes(options, ellipse);\n        return ellipse;\n    };\n    /**\n     * To draw a polygon\n     * @param {PolylineAttributes} options - Options needed to draw a polygon in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPolygon = function (options) {\n        var polygon = document.getElementById(options.id);\n        if (polygon === null) {\n            polygon = document.createElementNS(this.svgLink, 'polygon');\n        }\n        polygon = this.setElementAttributes(options, polygon);\n        return polygon;\n    };\n    /**\n     * To draw an image\n     * @param {ImageAttributes} options - Required options to draw an image in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawImage = function (options) {\n        var img = document.createElementNS(this.svgLink, 'image');\n        img.setAttributeNS(null, 'height', options.height.toString());\n        img.setAttributeNS(null, 'width', options.width.toString());\n        img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', options.href);\n        img.setAttributeNS(null, 'x', options.x.toString());\n        img.setAttributeNS(null, 'y', options.y.toString());\n        img.setAttributeNS(null, 'id', options.id);\n        img.setAttributeNS(null, 'visibility', options.visibility);\n        if (!isNullOrUndefined(this.getOptionValue(options, 'clip-path'))) {\n            img.setAttributeNS(null, 'clip-path', this.getOptionValue(options, 'clip-path'));\n        }\n        if (!isNullOrUndefined(options.preserveAspectRatio)) {\n            img.setAttributeNS(null, 'preserveAspectRatio', options.preserveAspectRatio);\n        }\n        return img;\n    };\n    /**\n     * To draw a text\n     * @param {TextAttributes} options - Options needed to draw a text in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createText = function (options, label) {\n        var text = document.createElementNS(this.svgLink, 'text');\n        text = this.setElementAttributes(options, text);\n        if (!isNullOrUndefined(label)) {\n            text.textContent = label;\n        }\n        return text;\n    };\n    /**\n     * To create a tSpan\n     * @param {TextAttributes} options - Options to create tSpan\n     * @param {string} label - The text content which is to be rendered in the tSpan\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createTSpan = function (options, label) {\n        var tSpan = document.createElementNS(this.svgLink, 'tspan');\n        tSpan = this.setElementAttributes(options, tSpan);\n        if (!isNullOrUndefined(label)) {\n            tSpan.textContent = label;\n        }\n        return tSpan;\n    };\n    /**\n     * To create a title\n     * @param {string} text - The text content which is to be rendered in the title\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createTitle = function (text) {\n        var title = document.createElementNS(this.svgLink, 'title');\n        title.textContent = text;\n        return title;\n    };\n    /**\n     * To create defs element in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createDefs = function () {\n        var defs = document.createElementNS(this.svgLink, 'defs');\n        return defs;\n    };\n    /**\n     * To create clip path in SVG\n     * @param {BaseAttibutes} options - Options needed to create clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createClipPath = function (options) {\n        var clipPath = document.createElementNS(this.svgLink, 'clipPath');\n        clipPath = this.setElementAttributes(options, clipPath);\n        return clipPath;\n    };\n    /**\n     * To create foreign object in SVG\n     * @param {BaseAttibutes} options - Options needed to create foreign object\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createForeignObject = function (options) {\n        var foreignObject = document.createElementNS(this.svgLink, 'foreignObject');\n        foreignObject = this.setElementAttributes(options, foreignObject);\n        return foreignObject;\n    };\n    /**\n     * To create group element in SVG\n     * @param {BaseAttibutes} options - Options needed to create group\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createGroup = function (options) {\n        var group = document.createElementNS(this.svgLink, 'g');\n        group = this.setElementAttributes(options, group);\n        return group;\n    };\n    /**\n     * To create pattern in SVG\n     * @param {PatternAttributes} options - Required options to create pattern in SVG\n     * @param {string} type - Specifies the name of the pattern\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createPattern = function (options, element) {\n        var pattern = document.createElementNS(this.svgLink, element);\n        pattern = this.setElementAttributes(options, pattern);\n        return pattern;\n    };\n    /**\n     * To create radial gradient in SVG\n     * @param {string[]} colors - Specifies the colors required to create radial gradient\n     * @param {string[]} colorStop - Specifies the colorstop required to create radial gradient\n     * @param {string} name - Specifies the name of the gradient\n     * @param {RadialGradient} options - value for radial gradient\n     * @return {string}\n     */\n    SvgRenderer.prototype.createRadialGradient = function (colors, name, options) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            var newOptions = {\n                'id': this.rootId + '_' + name + 'radialGradient',\n                'cx': options.cx + '%',\n                'cy': options.cy + '%',\n                'r': options.r + '%',\n                'fx': options.fx + '%',\n                'fy': options.fy + '%'\n            };\n            this.drawGradient('radialGradient', newOptions, colors);\n            colorName = 'url(#' + this.rootId + '_' + name + 'radialGradient)';\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To create linear gradient in SVG\n     * @param {string[]} colors - Array of string specifies the values for color\n     * @param {string[]} colors - Array of string specifies the values for colorStop\n     * @param {string} name - Specifies the name of the gradient\n     * @param {LinearGradient} options - Specifies the options for gradient\n     * @return {string}\n     */\n    SvgRenderer.prototype.createLinearGradient = function (colors, name, options) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            var newOptions = {\n                'id': this.rootId + '_' + name + 'linearGradient',\n                'x1': options.x1 + '%',\n                'y1': options.y1 + '%',\n                'x2': options.x2 + '%',\n                'y2': options.y2 + '%'\n            };\n            this.drawGradient('linearGradient', newOptions, colors);\n            colorName = 'url(#' + this.rootId + '_' + name + 'linearGradient)';\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To render the gradient element in SVG\n     * @param {string} gradientType - Specifies the type of the gradient\n     * @param {RadialGradient | LinearGradient} options - Options required to render a gradient\n     * @param {string[]} colors - Array of string specifies the values for color\n     * @param {string[]} colorStop - Array of string specifies the values for colorStop\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawGradient = function (gradientType, options, colors) {\n        var defs = this.createDefs();\n        var gradient = document.createElementNS(this.svgLink, gradientType);\n        gradient = this.setElementAttributes(options, gradient);\n        for (var i = 0; i < colors.length; i++) {\n            var stop_1 = document.createElementNS(this.svgLink, 'stop');\n            stop_1.setAttribute('offset', colors[i].colorStop);\n            stop_1.setAttribute('stop-color', colors[i].color);\n            stop_1.setAttribute('stop-opacity', '1');\n            gradient.appendChild(stop_1);\n        }\n        defs.appendChild(gradient);\n        return defs;\n    };\n    /**\n     * To render a clip path\n     * @param {BaseAttibutes} options - Options required to render a clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawClipPath = function (options) {\n        var defs = this.createDefs();\n        var clipPath = this.createClipPath({ 'id': options.id });\n        var rect = this.drawRectangle(options);\n        clipPath.appendChild(rect);\n        defs.appendChild(clipPath);\n        return defs;\n    };\n    /**\n     * To create circular clip path in SVG\n     * @param {CircleAttributes} options - Options required to create circular clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawCircularClipPath = function (options) {\n        var defs = this.createDefs();\n        var clipPath = this.createClipPath({ 'id': options.id });\n        var circle = this.drawCircle(options);\n        clipPath.appendChild(circle);\n        defs.appendChild(clipPath);\n        return defs;\n    };\n    /**\n     * To set the attributes to the element\n     * @param {SVGCanvasAttributes} options - Attributes to set for the element\n     * @param {Element} element - The element to which the attributes need to be set\n     * @return {Element}\n     */\n    SvgRenderer.prototype.setElementAttributes = function (options, element) {\n        var keys = Object.keys(options);\n        for (var i = 0; i < keys.length; i++) {\n            element.setAttribute(keys[i], options[keys[i]]);\n        }\n        return element;\n    };\n    return SvgRenderer;\n}());\nexport { SvgRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { extend } from './util';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Browser } from './browser';\nimport { Base } from './base';\nimport { ChildProperty } from './child-property';\nimport { EventHandler } from './event-handler';\n/**\n * SwipeSettings is a framework module that provides support to handle swipe event like swipe up, swipe right, etc..,\n * @private\n */\nvar SwipeSettings = /** @class */ (function (_super) {\n    __extends(SwipeSettings, _super);\n    function SwipeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(50)\n    ], SwipeSettings.prototype, \"swipeThresholdDistance\", void 0);\n    return SwipeSettings;\n}(ChildProperty));\nexport { SwipeSettings };\nvar swipeRegex = /(Up|Down)/;\n/**\n * Touch class provides support to handle the touch event like tap, double tap, tap hold, etc..,\n * ```typescript\n *    let node: HTMLElement;\n * let touchObj: Touch = new Touch({\n *    element: node,\n *    tap: function (e) {\n *        // tap handler function code\n *    }\n *    tapHold: function (e) {\n *        // tap hold handler function code\n *    }\n *    scroll: function (e) {\n *        // scroll handler function code\n *    }\n *    swipe: function (e) {\n *        // swipe handler function code\n *    }\n * });\n * ```\n */\nvar Touch = /** @class */ (function (_super) {\n    __extends(Touch, _super);\n    /* End-Properties */\n    function Touch(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.touchAction = true;\n        _this.tapCount = 0;\n        _this.startEvent = function (evt) {\n            if (_this.touchAction === true) {\n                var point = (evt.changedTouches ? evt.changedTouches[0] : evt);\n                if (evt.changedTouches !== undefined) {\n                    _this.touchAction = false;\n                }\n                _this.isTouchMoved = false;\n                _this.movedDirection = '';\n                _this.startPoint = _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n                _this.startEventData = point;\n                _this.hScrollLocked = _this.vScrollLocked = false;\n                _this.tStampStart = Date.now();\n                _this.timeOutTapHold = setTimeout(function () { _this.tapHoldEvent(evt); }, _this.tapHoldThreshold);\n                EventHandler.add(_this.element, Browser.touchMoveEvent, _this.moveEvent, _this);\n                EventHandler.add(_this.element, Browser.touchEndEvent, _this.endEvent, _this);\n                EventHandler.add(_this.element, Browser.touchCancelEvent, _this.cancelEvent, _this);\n            }\n        };\n        _this.moveEvent = function (evt) {\n            var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n            _this.movedPoint = point;\n            _this.isTouchMoved = !(point.clientX === _this.startPoint.clientX && point.clientY === _this.startPoint.clientY);\n            var eScrollArgs = {};\n            if (_this.isTouchMoved) {\n                clearTimeout(_this.timeOutTapHold);\n                _this.calcScrollPoints(evt);\n                var scrollArg = {\n                    startEvents: _this.startEventData,\n                    originalEvent: evt, startX: _this.startPoint.clientX,\n                    startY: _this.startPoint.clientY, distanceX: _this.distanceX,\n                    distanceY: _this.distanceY, scrollDirection: _this.scrollDirection,\n                    velocity: _this.getVelocity(point)\n                };\n                eScrollArgs = extend(eScrollArgs, {}, scrollArg);\n                _this.trigger('scroll', eScrollArgs);\n                _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n            }\n        };\n        _this.cancelEvent = function (evt) {\n            clearTimeout(_this.timeOutTapHold);\n            clearTimeout(_this.timeOutTap);\n            _this.tapCount = 0;\n            _this.swipeFn(evt);\n            EventHandler.remove(_this.element, Browser.touchCancelEvent, _this.cancelEvent);\n        };\n        _this.endEvent = function (evt) {\n            _this.swipeFn(evt);\n            if (!_this.isTouchMoved) {\n                if (typeof _this.tap === 'function') {\n                    _this.trigger('tap', { originalEvent: evt, tapCount: ++_this.tapCount });\n                    _this.timeOutTap = setTimeout(function () {\n                        _this.tapCount = 0;\n                    }, _this.tapThreshold);\n                }\n            }\n            _this.modeclear();\n        };\n        _this.swipeFn = function (evt) {\n            clearTimeout(_this.timeOutTapHold);\n            clearTimeout(_this.timeOutTap);\n            var point = evt;\n            if (evt.changedTouches) {\n                point = evt.changedTouches[0];\n            }\n            var diffX = point.clientX - _this.startPoint.clientX;\n            var diffY = point.clientY - _this.startPoint.clientY;\n            diffX = Math.floor(diffX < 0 ? -1 * diffX : diffX);\n            diffY = Math.floor(diffY < 0 ? -1 * diffY : diffX);\n            _this.isTouchMoved = diffX > 1 || diffY > 1;\n            _this.endPoint = point;\n            _this.calcPoints(evt);\n            var swipeArgs = {\n                originalEvent: evt,\n                startEvents: _this.startEventData,\n                startX: _this.startPoint.clientX,\n                startY: _this.startPoint.clientY,\n                distanceX: _this.distanceX, distanceY: _this.distanceY, swipeDirection: _this.movedDirection,\n                velocity: _this.getVelocity(point)\n            };\n            if (_this.isTouchMoved) {\n                var eSwipeArgs = void 0;\n                var tDistance = _this.swipeSettings.swipeThresholdDistance;\n                eSwipeArgs = extend(eSwipeArgs, _this.defaultArgs, swipeArgs);\n                var canTrigger = false;\n                var ele = _this.element;\n                var scrollBool = _this.isScrollable(ele);\n                var moved = swipeRegex.test(_this.movedDirection);\n                if ((tDistance < _this.distanceX && !moved) || (tDistance < _this.distanceY && moved)) {\n                    if (!scrollBool) {\n                        canTrigger = true;\n                    }\n                    else {\n                        canTrigger = _this.checkSwipe(ele, moved);\n                    }\n                }\n                if (canTrigger) {\n                    _this.trigger('swipe', eSwipeArgs);\n                }\n            }\n            _this.modeclear();\n        };\n        _this.modeclear = function () {\n            _this.modeClear = setTimeout(function () {\n                _this.touchAction = true;\n            }, (typeof _this.tap !== 'function' ? 0 : 10));\n            _this.lastTapTime = new Date().getTime();\n            EventHandler.remove(_this.element, Browser.touchMoveEvent, _this.moveEvent);\n            EventHandler.remove(_this.element, Browser.touchEndEvent, _this.endEvent);\n            EventHandler.remove(_this.element, Browser.touchCancelEvent, _this.cancelEvent);\n        };\n        _this.bind();\n        return _this;\n    }\n    // triggers when property changed \n    /**\n     * @private\n     * @param newProp\n     * @param oldProp\n     */\n    Touch.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Touch.prototype.bind = function () {\n        this.wireEvents();\n        if (Browser.isIE) {\n            this.element.classList.add('e-block-touch');\n        }\n    };\n    /**\n     * To destroy the touch instance.\n     * @return {void}\n     */\n    Touch.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    // Need to changes the event binding once we updated the event handler.\n    Touch.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchStartEvent, this.startEvent, this);\n    };\n    Touch.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, Browser.touchStartEvent, this.startEvent);\n    };\n    /**\n     * Returns module name as touch\n     * @returns {string}\n     * @private\n     */\n    Touch.prototype.getModuleName = function () {\n        return 'touch';\n    };\n    /**\n     * Returns if the HTML element is Scrollable.\n     * @param {HTMLElement} element - HTML Element to check if Scrollable.\n     * @returns {boolean}\n     */\n    Touch.prototype.isScrollable = function (element) {\n        var eleStyle = getComputedStyle(element);\n        var style = eleStyle.overflow + eleStyle.overflowX + eleStyle.overflowY;\n        if ((/(auto|scroll)/).test(style)) {\n            return true;\n        }\n        return false;\n    };\n    Touch.prototype.tapHoldEvent = function (evt) {\n        this.tapCount = 0;\n        this.touchAction = true;\n        var eTapArgs;\n        EventHandler.remove(this.element, Browser.touchMoveEvent, this.moveEvent);\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.endEvent);\n        eTapArgs = { originalEvent: evt };\n        this.trigger('tapHold', eTapArgs);\n        EventHandler.remove(this.element, Browser.touchCancelEvent, this.cancelEvent);\n    };\n    Touch.prototype.calcPoints = function (evt) {\n        var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.startPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.startPoint.clientY)));\n        if (this.distanceX > this.distanceY) {\n            this.movedDirection = (point.clientX > this.startPoint.clientX) ? 'Right' : 'Left';\n        }\n        else {\n            this.movedDirection = (point.clientY < this.startPoint.clientY) ? 'Up' : 'Down';\n        }\n    };\n    Touch.prototype.calcScrollPoints = function (evt) {\n        var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.lastMovedPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.lastMovedPoint.clientY)));\n        if ((this.distanceX > this.distanceY || this.hScrollLocked === true) && this.vScrollLocked === false) {\n            this.scrollDirection = (point.clientX > this.lastMovedPoint.clientX) ? 'Right' : 'Left';\n            this.hScrollLocked = true;\n        }\n        else {\n            this.scrollDirection = (point.clientY < this.lastMovedPoint.clientY) ? 'Up' : 'Down';\n            this.vScrollLocked = true;\n        }\n    };\n    Touch.prototype.getVelocity = function (pnt) {\n        var newX = pnt.clientX;\n        var newY = pnt.clientY;\n        var newT = Date.now();\n        var xDist = newX - this.startPoint.clientX;\n        var yDist = newY - this.startPoint.clientX;\n        var interval = newT - this.tStampStart;\n        return Math.sqrt(xDist * xDist + yDist * yDist) / interval;\n    };\n    // tslint:disable-next-line:no-any\n    Touch.prototype.checkSwipe = function (ele, flag) {\n        var keys = ['scroll', 'offset'];\n        var temp = flag ? ['Height', 'Top'] : ['Width', 'Left'];\n        if ((ele[keys[0] + temp[0]] <= ele[keys[1] + temp[0]])) {\n            return true;\n        }\n        return (ele[keys[0] + temp[1]] === 0) ||\n            (ele[keys[1] + temp[0]] + ele[keys[0] + temp[1]] >= ele[keys[0] + temp[0]]);\n    };\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tap\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tapHold\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"swipe\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"scroll\", void 0);\n    __decorate([\n        Property(350)\n    ], Touch.prototype, \"tapThreshold\", void 0);\n    __decorate([\n        Property(750)\n    ], Touch.prototype, \"tapHoldThreshold\", void 0);\n    __decorate([\n        Complex({}, SwipeSettings)\n    ], Touch.prototype, \"swipeSettings\", void 0);\n    Touch = __decorate([\n        NotifyPropertyChanges\n    ], Touch);\n    return Touch;\n}(Base));\nexport { Touch };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Touch, Component, EventHandler, selectAll, getUniqueID } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Property, Browser, detach } from '@syncfusion/ej2-base';\nvar CLS_ROOT = 'e-hscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_HSCROLLCON = 'e-hscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVRIGHTARROW = 'e-nav-right-arrow';\nvar CLS_NAVLEFTARROW = 'e-nav-left-arrow';\nvar CLS_HSCROLLNAV = 'e-scroll-nav';\nvar CLS_HSCROLLNAVRIGHT = 'e-scroll-right-nav';\nvar CLS_HSCROLLNAVLEFT = 'e-scroll-left-nav';\nvar CLS_DEVICE = 'e-scroll-device';\n/**\n * HScroll module is introduces horizontal scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs horizontal scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new HScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar HScroll = /** @class */ (function (_super) {\n    __extends(HScroll, _super);\n    /**\n     * Initializes a new instance of the HScroll class.\n     * @param options  - Specifies HScroll model properties as options.\n     * @param element  - Specifies the element for which horizontal scrolling applies.\n     */\n    function HScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    HScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        var element = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (element.id === '') {\n            element.id = getUniqueID('hscroll');\n            this.uniqueId = true;\n        }\n        element.style.display = 'block';\n        if (this.enableRtl) {\n            element.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    HScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this) });\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n            EventHandler.add(this.scrollEle, 'scroll', this.scrollHandler, this);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n        }\n    };\n    HScroll.prototype.initialize = function () {\n        var scrollEle = this.createElement('div', { className: CLS_HSCROLLCON });\n        var scrollDiv = this.createElement('div', { className: CLS_HSCROLLBAR });\n        scrollDiv.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollEle.appendChild(ele_1);\n        }\n        scrollDiv.appendChild(scrollEle);\n        ele.appendChild(scrollDiv);\n        scrollDiv.style.overflowX = 'hidden';\n        this.scrollEle = scrollDiv;\n        this.scrollItems = scrollEle;\n    };\n    HScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    HScroll.prototype.getModuleName = function () {\n        return 'hScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    HScroll.prototype.destroy = function () {\n        var ele = this.element;\n        ele.style.display = '';\n        ele.classList.remove(CLS_ROOT);\n        var nav = selectAll('.e-' + ele.id + '_nav.' + CLS_HSCROLLNAV, ele);\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            ele.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (nav.length > 0) {\n            detach(nav[0]);\n            detach(nav[1]);\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Specifies the value to disable/enable the HScroll component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, HScroll will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    HScroll.prototype.disable = function (value) {\n        var navEles = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n        value ? this.element.classList.add(CLS_DISABLE) : this.element.classList.remove(CLS_DISABLE);\n        navEles.forEach(function (el) {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    };\n    HScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var nav = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsLeft = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVLEFT);\n        var navEle = this.createElement('div', { id: id.concat('_left'), className: clsLeft + ' ' + CLS_DISABLE });\n        navEle.setAttribute('aria-disabled', 'true');\n        var navLeftItem = this.createElement('div', { className: CLS_NAVLEFTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navEle.appendChild(navLeftItem);\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n        element.insertBefore(navEle, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navEle.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navEle]);\n    };\n    HScroll.prototype.onKeyPress = function (e) {\n        var _this = this;\n        if (e.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, e.target);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    HScroll.prototype.onKeyUp = function (e) {\n        if (e.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            e.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    HScroll.prototype.eventBinding = function (ele) {\n        var _this = this;\n        ele.forEach(function (el) {\n            new Touch(el, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            el.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            el.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            el.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            el.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            el.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(el, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    HScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    HScroll.prototype.tabHoldHandler = function (e) {\n        var _this = this;\n        var trgt = e.originalEvent.target;\n        trgt = this.contains(trgt, CLS_HSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDis = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDis, trgt);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    HScroll.prototype.contains = function (ele, className) {\n        return ele.classList.contains(className);\n    };\n    HScroll.prototype.eleScrolling = function (scrollDis, trgt) {\n        var element = this.scrollEle;\n        var rootEle = this.element;\n        var classList = trgt.classList;\n        if (classList.contains(CLS_HSCROLLNAV)) {\n            classList = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (this.contains(rootEle, CLS_RTL) && this.browserCheck) {\n            scrollDis = -scrollDis;\n        }\n        var scrlLeft = element.scrollLeft;\n        if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n            if (classList.contains(CLS_NAVRIGHTARROW)) {\n                element.scrollLeft = scrlLeft + scrollDis;\n            }\n            else {\n                element.scrollLeft = scrlLeft - scrollDis;\n            }\n        }\n        else {\n            if (classList.contains(CLS_NAVLEFTARROW)) {\n                element.scrollLeft = scrlLeft + scrollDis;\n            }\n            else {\n                element.scrollLeft = scrlLeft - scrollDis;\n            }\n        }\n    };\n    HScroll.prototype.clickEventHandler = function (e) {\n        this.eleScrolling(this.scrollStep, e.target);\n    };\n    HScroll.prototype.touchHandler = function (e) {\n        var ele = this.scrollEle;\n        var distance;\n        distance = e.distanceX;\n        if ((this.ieCheck) && this.contains(this.element, CLS_RTL)) {\n            distance = -distance;\n        }\n        if (e.scrollDirection === 'Left') {\n            ele.scrollLeft = ele.scrollLeft + distance;\n        }\n        else if (e.scrollDirection === 'Right') {\n            ele.scrollLeft = ele.scrollLeft - distance;\n        }\n    };\n    HScroll.prototype.arrowDisabling = function (addDisable, removeDisable) {\n        addDisable.classList.add(CLS_DISABLE);\n        addDisable.setAttribute('aria-disabled', 'true');\n        addDisable.removeAttribute('tabindex');\n        clearInterval(this.timeout);\n        removeDisable.classList.remove(CLS_DISABLE);\n        removeDisable.setAttribute('aria-disabled', 'false');\n        removeDisable.setAttribute('tabindex', '0');\n        this.repeatScroll();\n    };\n    HScroll.prototype.scrollHandler = function (e) {\n        var target = e.target;\n        var width = target.offsetWidth;\n        var rootEle = this.element;\n        var navLeftEle = this.element.querySelector('.' + CLS_HSCROLLNAVLEFT);\n        var navRightEle = this.element.querySelector('.' + CLS_HSCROLLNAVRIGHT);\n        var scrollLeft = target.scrollLeft;\n        if (scrollLeft <= 0) {\n            scrollLeft = -scrollLeft;\n        }\n        if (scrollLeft === 0) {\n            if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n                this.arrowDisabling(navLeftEle, navRightEle);\n            }\n            else {\n                this.arrowDisabling(navRightEle, navLeftEle);\n            }\n        }\n        else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) {\n            if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n                this.arrowDisabling(navRightEle, navLeftEle);\n            }\n            else {\n                this.arrowDisabling(navLeftEle, navRightEle);\n            }\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_HSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     * @param  {HScrollModel} newProp\n     * @param  {HScrollModel} oldProp\n     * @returns void\n     * @private\n     */\n    HScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(40)\n    ], HScroll.prototype, \"scrollStep\", void 0);\n    HScroll = __decorate([\n        NotifyPropertyChanges\n    ], HScroll);\n    return HScroll;\n}(Component));\nexport { HScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, NotifyPropertyChanges, Component } from '@syncfusion/ej2-base';\nimport { addClass, detach, removeClass, rippleEffect, EventHandler } from '@syncfusion/ej2-base';\nimport { getTextNode } from '../common/common';\nvar cssClassName = {\n    RTL: 'e-rtl',\n    BUTTON: 'e-btn',\n    PRIMARY: 'e-primary',\n    ICONBTN: 'e-icon-btn'\n};\n/**\n * The Button is a graphical user interface element that triggers an event on its click action. It can contain a text, an image, or both.\n * ```html\n * <button id=\"button\">Button</button>\n * ```\n * ```typescript\n * <script>\n * var btnObj = new Button();\n * btnObj.appendTo(\"#button\");\n * </script>\n * ```\n */\nvar Button = /** @class */ (function (_super) {\n    __extends(Button, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {ButtonModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function Button(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Button.prototype.preRender = function () {\n        // pre render code snippets\n    };\n    /**\n     * Initialize the control rendering\n     * @returns void\n     * @private\n     */\n    Button.prototype.render = function () {\n        this.initialize();\n    };\n    Button.prototype.initialize = function () {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (this.isPrimary) {\n            this.element.classList.add(cssClassName.PRIMARY);\n        }\n        if (this.content) {\n            this.element.innerHTML = this.content;\n        }\n        this.setIconCss();\n        if (this.enableRtl) {\n            this.element.classList.add(cssClassName.RTL);\n        }\n        if (this.disabled) {\n            this.controlStatus(this.disabled);\n        }\n        else {\n            this.wireEvents();\n        }\n        this.removeRippleEffect = rippleEffect(this.element, { selector: '.' + cssClassName.BUTTON });\n    };\n    Button.prototype.controlStatus = function (disabled) {\n        this.element.disabled = disabled;\n    };\n    Button.prototype.setIconCss = function () {\n        if (this.iconCss) {\n            var span = this.createElement('span', { className: 'e-btn-icon ' + this.iconCss });\n            if (!this.element.textContent.trim()) {\n                this.element.classList.add(cssClassName.ICONBTN);\n            }\n            else {\n                span.classList.add('e-icon-' + this.iconPosition.toLowerCase());\n            }\n            var node = this.element.childNodes[0];\n            if (node && (this.iconPosition === 'Left')) {\n                this.element.insertBefore(span, node);\n            }\n            else {\n                this.element.appendChild(span);\n            }\n        }\n    };\n    Button.prototype.wireEvents = function () {\n        if (this.isToggle) {\n            EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n        }\n    };\n    Button.prototype.unWireEvents = function () {\n        if (this.isToggle) {\n            EventHandler.remove(this.element, 'click', this.btnClickHandler);\n        }\n    };\n    Button.prototype.btnClickHandler = function () {\n        if (this.element.classList.contains('e-active')) {\n            this.element.classList.remove('e-active');\n        }\n        else {\n            this.element.classList.add('e-active');\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    Button.prototype.destroy = function () {\n        var span;\n        var element = this.element;\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], [cssClassName.PRIMARY, cssClassName.RTL, cssClassName.ICONBTN, 'e-success',\n            'e-info', 'e-danger', 'e-warning', 'e-flat', 'e-outline', 'e-small', 'e-bigger', 'e-active', 'e-round']);\n        ['e-ripple', 'disabled'].forEach(function (value) {\n            element.removeAttribute(value);\n        });\n        if (this.content) {\n            element.innerHTML = element.innerHTML.replace(this.content, '');\n        }\n        span = element.querySelector('span.e-btn-icon');\n        if (span) {\n            detach(span);\n        }\n        this.unWireEvents();\n        this.removeRippleEffect();\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    Button.prototype.getModuleName = function () {\n        return 'btn';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    Button.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {Button} newProp\n     * @param  {Button} oldProp\n     * @returns void\n     * @private\n     */\n    Button.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'isPrimary':\n                    if (newProp.isPrimary) {\n                        this.element.classList.add(cssClassName.PRIMARY);\n                    }\n                    else {\n                        this.element.classList.remove(cssClassName.PRIMARY);\n                    }\n                    break;\n                case 'disabled':\n                    this.controlStatus(newProp.disabled);\n                    this.unWireEvents();\n                    break;\n                case 'iconCss':\n                    var span = this.element.querySelector('span.e-btn-icon');\n                    if (span) {\n                        span.className = 'e-btn-icon ' + newProp.iconCss;\n                        if (this.element.textContent.trim()) {\n                            if (this.iconPosition === 'Left') {\n                                span.classList.add('e-icon-left');\n                            }\n                            else {\n                                span.classList.add('e-icon-right');\n                            }\n                        }\n                    }\n                    else {\n                        this.setIconCss();\n                    }\n                    break;\n                case 'iconPosition':\n                    span = this.element.querySelector('span.e-btn-icon');\n                    if (span) {\n                        detach(span);\n                    }\n                    this.setIconCss();\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.element.classList.add(cssClassName.RTL);\n                    }\n                    else {\n                        this.element.classList.remove(cssClassName.RTL);\n                    }\n                    break;\n                case 'content':\n                    var node = getTextNode(this.element);\n                    if (!node) {\n                        this.element.classList.remove(cssClassName.ICONBTN);\n                    }\n                    this.element.innerHTML = newProp.content;\n                    this.setIconCss();\n                    break;\n                case 'isToggle':\n                    if (newProp.isToggle) {\n                        EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n                    }\n                    else {\n                        EventHandler.remove(this.element, 'click', this.btnClickHandler);\n                        removeClass([this.element], ['e-active']);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property('Left')\n    ], Button.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"isPrimary\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"content\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"isToggle\", void 0);\n    Button = __decorate([\n        NotifyPropertyChanges\n    ], Button);\n    return Button;\n}(Component));\nexport { Button };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Event, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, detach, getUniqueID, isRippleEnabled, removeClass, rippleEffect } from '@syncfusion/ej2-base';\nimport { wrapperInitialize, rippleMouseHandler } from './../common/common';\nvar CHECK = 'e-check';\nvar DISABLED = 'e-checkbox-disabled';\nvar FRAME = 'e-frame';\nvar INDETERMINATE = 'e-stop';\nvar LABEL = 'e-label';\nvar RIPPLE = 'e-ripple-container';\nvar RIPPLECHECK = 'e-ripple-check';\nvar RIPPLEINDETERMINATE = 'e-ripple-stop';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-checkbox-wrapper';\n/**\n * The CheckBox is a graphical user interface element that allows you to select one or more options from the choices.\n * It contains checked, unchecked, and indeterminate states.\n * ```html\n * <input type=\"checkbox\" id=\"checkbox\"/>\n * <script>\n * var checkboxObj = new CheckBox({ label: \"Default\" });\n * checkboxObj.appendTo(\"#checkbox\");\n * </script>\n * ```\n */\nvar CheckBox = /** @class */ (function (_super) {\n    __extends(CheckBox, _super);\n    /**\n     * Constructor for creating the widget\n     * @private\n     */\n    function CheckBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isKeyPressed = false;\n        return _this;\n    }\n    CheckBox.prototype.changeState = function (state) {\n        var ariaState;\n        var rippleSpan;\n        var frameSpan = this.getWrapper().getElementsByClassName(FRAME)[0];\n        if (isRippleEnabled) {\n            rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        }\n        if (state === 'check') {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            if (rippleSpan) {\n                rippleSpan.classList.remove(RIPPLEINDETERMINATE);\n                rippleSpan.classList.add(RIPPLECHECK);\n            }\n            ariaState = 'true';\n            this.element.checked = true;\n        }\n        else if (state === 'uncheck') {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            if (rippleSpan) {\n                removeClass([rippleSpan], [RIPPLECHECK, RIPPLEINDETERMINATE]);\n            }\n            ariaState = 'false';\n            this.element.checked = false;\n        }\n        else {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            if (rippleSpan) {\n                rippleSpan.classList.remove(RIPPLECHECK);\n                rippleSpan.classList.add(RIPPLEINDETERMINATE);\n            }\n            ariaState = 'mixed';\n            this.element.indeterminate = true;\n        }\n        this.getWrapper().setAttribute('aria-checked', ariaState);\n    };\n    CheckBox.prototype.clickHandler = function (event) {\n        this.focusOutHandler();\n        if (this.indeterminate) {\n            this.changeState(this.checked ? 'check' : 'uncheck');\n            this.indeterminate = false;\n            this.element.indeterminate = false;\n        }\n        else if (this.checked) {\n            this.changeState('uncheck');\n            this.checked = false;\n        }\n        else {\n            this.changeState('check');\n            this.checked = true;\n        }\n        var changeEventArgs = { checked: this.element.checked, event: event };\n        this.trigger('change', changeEventArgs);\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    CheckBox.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        _super.prototype.destroy.call(this);\n        if (!this.disabled) {\n            this.unWireEvents();\n        }\n        if (this.tagName === 'INPUT') {\n            wrapper.parentNode.insertBefore(this.element, wrapper);\n            detach(wrapper);\n            this.element.checked = false;\n            if (this.indeterminate) {\n                this.element.indeterminate = false;\n            }\n            ['name', 'value', 'disabled'].forEach(function (key) {\n                _this.element.removeAttribute(key);\n            });\n        }\n        else {\n            ['role', 'aria-checked', 'class'].forEach(function (key) {\n                wrapper.removeAttribute(key);\n            });\n            if (this.element.id) {\n                wrapper.setAttribute('id', this.element.id);\n            }\n            wrapper.innerHTML = '';\n        }\n    };\n    CheckBox.prototype.focusHandler = function () {\n        if (this.isKeyPressed) {\n            this.getWrapper().classList.add('e-focus');\n        }\n    };\n    CheckBox.prototype.focusOutHandler = function () {\n        this.getWrapper().classList.remove('e-focus');\n    };\n    /**\n     * Gets the module name.\n     * @private\n     */\n    CheckBox.prototype.getModuleName = function () {\n        return 'checkbox';\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     * @private\n     */\n    CheckBox.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked', 'indeterminate']);\n    };\n    CheckBox.prototype.getWrapper = function () {\n        return this.element.parentElement.parentElement;\n    };\n    CheckBox.prototype.initialize = function () {\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        if (this.value) {\n            this.element.setAttribute('value', this.value);\n        }\n        if (this.checked) {\n            this.changeState('check');\n        }\n        if (this.indeterminate) {\n            this.changeState();\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n    };\n    CheckBox.prototype.initWrapper = function () {\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = this.createElement('div', {\n                className: WRAPPER, attrs: { 'role': 'checkbox', 'aria-checked': 'false' }\n            });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var label = this.createElement('label', { attrs: { for: this.element.id } });\n        var frameSpan = this.createElement('span', { className: 'e-icons ' + FRAME });\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        wrapper.appendChild(label);\n        label.appendChild(this.element);\n        label.appendChild(frameSpan);\n        if (isRippleEnabled) {\n            var rippleSpan = this.createElement('span', { className: RIPPLE });\n            if (this.labelPosition === 'Before') {\n                label.appendChild(rippleSpan);\n            }\n            else {\n                label.insertBefore(rippleSpan, frameSpan);\n            }\n            rippleEffect(rippleSpan, { duration: 400, isCenterRipple: true });\n        }\n        if (this.label) {\n            this.setText(this.label);\n        }\n    };\n    CheckBox.prototype.keyDownHandler = function () {\n        this.isKeyPressed = true;\n    };\n    CheckBox.prototype.labelMouseHandler = function (e) {\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, rippleSpan);\n    };\n    CheckBox.prototype.mouseDownHandler = function () {\n        this.isKeyPressed = false;\n    };\n    /**\n     * Called internally if any of the property value changes.\n     * @private\n     */\n    CheckBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    this.indeterminate = false;\n                    this.element.indeterminate = false;\n                    this.changeState(newProp.checked ? 'check' : 'uncheck');\n                    break;\n                case 'indeterminate':\n                    if (newProp.indeterminate) {\n                        this.changeState();\n                    }\n                    else {\n                        this.element.indeterminate = false;\n                        this.changeState(this.checked ? 'check' : 'uncheck');\n                    }\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        wrapper.classList.remove(DISABLED);\n                        wrapper.setAttribute('aria-disabled', 'false');\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        wrapper.classList.remove(oldProp.cssClass);\n                    }\n                    wrapper.classList.add(newProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        wrapper.classList.add(RTL);\n                    }\n                    else {\n                        wrapper.classList.remove(RTL);\n                    }\n                    break;\n                case 'label':\n                    this.setText(newProp.label);\n                    break;\n                case 'labelPosition':\n                    var label = wrapper.getElementsByClassName(LABEL)[0];\n                    var labelWrap = wrapper.getElementsByTagName('label')[0];\n                    detach(label);\n                    if (newProp.labelPosition === 'After') {\n                        labelWrap.appendChild(label);\n                    }\n                    else {\n                        labelWrap.insertBefore(label, wrapper.getElementsByClassName(FRAME)[0]);\n                    }\n                    break;\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'value':\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize Angular, React and Unique ID support.\n     * @private\n     */\n    CheckBox.prototype.preRender = function () {\n        var element = this.element;\n        this.tagName = this.element.tagName;\n        element = wrapperInitialize(this.createElement, 'EJS-CHECKBOX', 'checkbox', element, WRAPPER, 'checkbox');\n        this.element = element;\n        if (this.element.getAttribute('type') !== 'checkbox') {\n            this.element.setAttribute('type', 'checkbox');\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    CheckBox.prototype.render = function () {\n        this.initWrapper();\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n    };\n    CheckBox.prototype.setDisabled = function () {\n        var wrapper = this.getWrapper();\n        this.element.disabled = true;\n        wrapper.classList.add(DISABLED);\n        wrapper.setAttribute('aria-disabled', 'true');\n    };\n    CheckBox.prototype.setText = function (text) {\n        var label = this.getWrapper().getElementsByClassName(LABEL)[0];\n        if (label) {\n            label.textContent = text;\n        }\n        else {\n            label = this.createElement('span', { className: LABEL, innerHTML: text });\n            var labelWrap = this.getWrapper().getElementsByTagName('label')[0];\n            if (this.labelPosition === 'Before') {\n                labelWrap.insertBefore(label, this.getWrapper().getElementsByClassName(FRAME)[0]);\n            }\n            else {\n                labelWrap.appendChild(label);\n            }\n        }\n    };\n    CheckBox.prototype.unWireEvents = function () {\n        var wrapper = this.getWrapper();\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        EventHandler.remove(document, 'keydown', this.keyDownHandler);\n        EventHandler.remove(wrapper, 'mousedown', this.mouseDownHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        var label = wrapper.getElementsByTagName('label')[0];\n        EventHandler.remove(label, 'mousedown', this.labelMouseHandler);\n        EventHandler.remove(label, 'mouseup', this.labelMouseHandler);\n    };\n    CheckBox.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        EventHandler.add(document, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(wrapper, 'mousedown', this.mouseDownHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        var label = wrapper.getElementsByTagName('label')[0];\n        EventHandler.add(label, 'mousedown', this.labelMouseHandler, this);\n        EventHandler.add(label, 'mouseup', this.labelMouseHandler, this);\n    };\n    __decorate([\n        Event()\n    ], CheckBox.prototype, \"change\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"indeterminate\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"label\", void 0);\n    __decorate([\n        Property('After')\n    ], CheckBox.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"value\", void 0);\n    CheckBox = __decorate([\n        NotifyPropertyChanges\n    ], CheckBox);\n    return CheckBox;\n}(Component));\nexport { CheckBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, rippleEffect, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { addClass, getInstance, getUniqueID, isRippleEnabled, removeClass } from '@syncfusion/ej2-base';\nimport { detach, Event, EventHandler } from '@syncfusion/ej2-base';\nimport { wrapperInitialize, rippleMouseHandler } from './../common/common';\nvar LABEL = 'e-label';\nvar RIPPLE = 'e-ripple-container';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-radio-wrapper';\n/**\n * The RadioButton is a graphical user interface element that allows you to select one option from the choices.\n * It contains checked and unchecked states.\n * ```html\n * <input type=\"radio\" id=\"radio\"/>\n * <script>\n * var radioObj = new RadioButton({ label: \"Default\" });\n * radioObj.appendTo(\"#radio\");\n * </script>\n * ```\n */\nvar RadioButton = /** @class */ (function (_super) {\n    __extends(RadioButton, _super);\n    /**\n     * Constructor for creating the widget\n     * @private\n     */\n    function RadioButton(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isKeyPressed = false;\n        return _this;\n    }\n    RadioButton_1 = RadioButton;\n    RadioButton.prototype.changeHandler = function (event) {\n        this.checked = true;\n        this.dataBind();\n        var changeEventArgs = { value: this.value, event: event };\n        this.trigger('change', changeEventArgs);\n    };\n    RadioButton.prototype.updateChange = function (state) {\n        var input;\n        var name = this.element.getAttribute('name');\n        var radioGrp = document.querySelectorAll('input.e-radio[name=\"' + name + '\"]');\n        for (var i = 0; i < radioGrp.length; i++) {\n            input = radioGrp[i];\n            if (input !== this.element) {\n                getInstance(input, RadioButton_1).checked = false;\n            }\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    RadioButton.prototype.destroy = function () {\n        var _this = this;\n        var radioWrap = this.element.parentElement;\n        _super.prototype.destroy.call(this);\n        if (!this.disabled) {\n            this.unWireEvents();\n        }\n        if (this.tagName === 'INPUT') {\n            radioWrap.parentNode.insertBefore(this.element, radioWrap);\n            detach(radioWrap);\n            this.element.checked = false;\n            ['name', 'value', 'disabled'].forEach(function (key) {\n                _this.element.removeAttribute(key);\n            });\n        }\n        else {\n            ['role', 'aria-checked', 'class'].forEach(function (key) {\n                radioWrap.removeAttribute(key);\n            });\n            if (this.element.id) {\n                radioWrap.setAttribute('id', this.element.id);\n            }\n            radioWrap.innerHTML = '';\n        }\n    };\n    RadioButton.prototype.focusHandler = function () {\n        if (this.isKeyPressed) {\n            this.getLabel().classList.add('e-focus');\n        }\n    };\n    RadioButton.prototype.focusOutHandler = function () {\n        this.getLabel().classList.remove('e-focus');\n    };\n    RadioButton.prototype.getModuleName = function () {\n        return 'radio';\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     * @private\n     */\n    RadioButton.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked']);\n    };\n    RadioButton.prototype.getLabel = function () {\n        return this.element.nextElementSibling;\n    };\n    RadioButton.prototype.initialize = function () {\n        this.initWrapper();\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        if (this.value) {\n            this.element.setAttribute('value', this.value);\n        }\n        if (this.checked) {\n            this.element.checked = true;\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n    };\n    RadioButton.prototype.initWrapper = function () {\n        var rippleSpan;\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = this.createElement('div', { className: WRAPPER });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var label = this.createElement('label', { attrs: { for: this.element.id } });\n        wrapper.appendChild(this.element);\n        wrapper.appendChild(label);\n        if (isRippleEnabled) {\n            rippleSpan = this.createElement('span', { className: (RIPPLE) });\n            label.appendChild(rippleSpan);\n            rippleEffect(rippleSpan, {\n                duration: 400,\n                isCenterRipple: true\n            });\n        }\n        if (this.enableRtl) {\n            label.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([label], this.cssClass.split(' '));\n        }\n        if (this.label) {\n            this.setText(this.label);\n        }\n    };\n    RadioButton.prototype.keyDownHandler = function () {\n        this.isKeyPressed = true;\n    };\n    RadioButton.prototype.labelRippleHandler = function (e) {\n        var ripple = this.getLabel().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, ripple);\n    };\n    RadioButton.prototype.mouseDownHandler = function () {\n        this.isKeyPressed = false;\n    };\n    /**\n     * Called internally if any of the property value changes.\n     * @private\n     */\n    RadioButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var label = this.getLabel();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    if (newProp.checked) {\n                        this.updateChange(newProp.checked);\n                    }\n                    this.element.checked = newProp.checked;\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([label], oldProp.cssClass.split(' '));\n                    }\n                    addClass([label], newProp.cssClass.split(' '));\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        label.classList.add(RTL);\n                    }\n                    else {\n                        label.classList.remove(RTL);\n                    }\n                    break;\n                case 'label':\n                    this.setText(newProp.label);\n                    break;\n                case 'labelPosition':\n                    if (newProp.labelPosition === 'Before') {\n                        label.classList.add('e-right');\n                    }\n                    else {\n                        label.classList.remove('e-right');\n                    }\n                    break;\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'value':\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize checked Property, Angular and React and Unique ID support.\n     * @private\n     */\n    RadioButton.prototype.preRender = function () {\n        var element = this.element;\n        this.tagName = this.element.tagName;\n        element = wrapperInitialize(this.createElement, 'EJS-RADIOBUTTON', 'radio', element, WRAPPER, 'radio');\n        this.element = element;\n        if (this.element.getAttribute('type') !== 'radio') {\n            this.element.setAttribute('type', 'radio');\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    RadioButton.prototype.render = function () {\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n    };\n    RadioButton.prototype.setDisabled = function () {\n        this.element.disabled = true;\n    };\n    RadioButton.prototype.setText = function (text) {\n        var label = this.getLabel();\n        var textLabel = label.getElementsByClassName(LABEL)[0];\n        if (textLabel) {\n            textLabel.textContent = text;\n        }\n        else {\n            textLabel = this.createElement('span', { className: LABEL, innerHTML: text });\n            label.appendChild(textLabel);\n        }\n        if (this.labelPosition === 'Before') {\n            this.getLabel().classList.add('e-right');\n        }\n        else {\n            this.getLabel().classList.remove('e-right');\n        }\n    };\n    RadioButton.prototype.unWireEvents = function () {\n        var label = this.getLabel();\n        EventHandler.remove(this.element, 'change', this.changeHandler);\n        EventHandler.remove(document, 'keydown', this.keyDownHandler);\n        EventHandler.remove(label, 'mousedown', this.mouseDownHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        var rippleLabel = label.getElementsByClassName(LABEL)[0];\n        if (rippleLabel) {\n            EventHandler.remove(rippleLabel, 'mousedown', this.labelRippleHandler);\n            EventHandler.remove(rippleLabel, 'mouseup', this.labelRippleHandler);\n        }\n    };\n    RadioButton.prototype.wireEvents = function () {\n        var label = this.getLabel();\n        EventHandler.add(this.element, 'change', this.changeHandler, this);\n        EventHandler.add(document, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(label, 'mousedown', this.mouseDownHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        var rippleLabel = label.getElementsByClassName(LABEL)[0];\n        if (rippleLabel) {\n            EventHandler.add(rippleLabel, 'mousedown', this.labelRippleHandler, this);\n            EventHandler.add(rippleLabel, 'mouseup', this.labelRippleHandler, this);\n        }\n    };\n    __decorate([\n        Event()\n    ], RadioButton.prototype, \"change\", void 0);\n    __decorate([\n        Property(false)\n    ], RadioButton.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], RadioButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"label\", void 0);\n    __decorate([\n        Property('After')\n    ], RadioButton.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"value\", void 0);\n    RadioButton = RadioButton_1 = __decorate([\n        NotifyPropertyChanges\n    ], RadioButton);\n    return RadioButton;\n    var RadioButton_1;\n}(Component));\nexport { RadioButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Event, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, isRippleEnabled, removeClass, rippleEffect } from '@syncfusion/ej2-base';\nimport { rippleMouseHandler, destroy, preRender } from './../common/common';\nvar CHECK = 'e-check';\nvar DISABLED = 'e-switch-disabled';\nvar RIPPLE = 'e-ripple-container';\nvar RIPPLE_CHECK = 'e-ripple-check';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-switch-wrapper';\nvar ACTIVE = 'e-switch-active';\n/**\n * The Switch is a graphical user interface element that allows you to toggle between checked and unchecked states.\n * ```html\n * <input type=\"checkbox\" id=\"switch\"/>\n * <script>\n * var switchObj = new Switch({});\n * switchObj.appendTo(\"#switch\");\n * </script>\n * ```\n */\nvar Switch = /** @class */ (function (_super) {\n    __extends(Switch, _super);\n    /**\n     * Constructor for creating the widget.\n     * @private\n     */\n    function Switch(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isKeyPressed = false;\n        _this.isDrag = false;\n        return _this;\n    }\n    Switch.prototype.changeState = function (state) {\n        var ariaState;\n        var rippleSpan;\n        var wrapper = this.getWrapper();\n        var bar = wrapper.querySelector('.e-switch-inner');\n        var handle = wrapper.querySelector('.e-switch-handle');\n        if (isRippleEnabled) {\n            rippleSpan = wrapper.getElementsByClassName(RIPPLE)[0];\n        }\n        if (state) {\n            addClass([bar, handle], ACTIVE);\n            ariaState = 'true';\n            this.element.checked = true;\n            this.checked = true;\n            if (rippleSpan) {\n                addClass([rippleSpan], [RIPPLE_CHECK]);\n            }\n        }\n        else {\n            removeClass([bar, handle], ACTIVE);\n            ariaState = 'false';\n            this.element.checked = false;\n            this.checked = false;\n            if (rippleSpan) {\n                removeClass([rippleSpan], [RIPPLE_CHECK]);\n            }\n        }\n        wrapper.setAttribute('aria-checked', ariaState);\n    };\n    Switch.prototype.clickHandler = function (evt) {\n        this.isDrag = false;\n        this.focusOutHandler();\n        this.changeState(!this.checked);\n        this.element.focus();\n        var changeEventArgs = { checked: this.element.checked, event: evt };\n        this.trigger('change', changeEventArgs);\n    };\n    /**\n     * Destroys the Switch widget.\n     * @returns void\n     */\n    Switch.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (!this.disabled) {\n            this.unWireEvents();\n        }\n        destroy(this, this.getWrapper(), this.tagName);\n    };\n    Switch.prototype.focusHandler = function () {\n        if (this.isKeyPressed) {\n            this.getWrapper().classList.add('e-focus');\n        }\n    };\n    Switch.prototype.focusOutHandler = function () {\n        this.getWrapper().classList.remove('e-focus');\n    };\n    /**\n     * Gets the module name.\n     * @private\n     */\n    Switch.prototype.getModuleName = function () {\n        return 'switch';\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     * @private\n     */\n    Switch.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked']);\n    };\n    Switch.prototype.getWrapper = function () {\n        return this.element.parentElement;\n    };\n    Switch.prototype.initialize = function () {\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        if (this.value) {\n            this.element.setAttribute('value', this.value);\n        }\n        if (this.checked) {\n            this.changeState(true);\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n        if (this.onLabel || this.offLabel) {\n            this.setLabel(this.onLabel, this.offLabel);\n        }\n    };\n    Switch.prototype.initWrapper = function () {\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = this.createElement('div', {\n                className: WRAPPER, attrs: { 'role': 'switch', 'aria-checked': 'false' }\n            });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var switchInner = this.createElement('span', { className: 'e-switch-inner' });\n        var onLabel = this.createElement('span', { className: 'e-switch-on' });\n        var offLabel = this.createElement('span', { className: 'e-switch-off' });\n        var handle = this.createElement('span', { className: 'e-switch-handle' });\n        wrapper.appendChild(this.element);\n        switchInner.appendChild(onLabel);\n        switchInner.appendChild(offLabel);\n        wrapper.appendChild(switchInner);\n        wrapper.appendChild(handle);\n        if (isRippleEnabled) {\n            var rippleSpan = this.createElement('span', { className: RIPPLE });\n            handle.appendChild(rippleSpan);\n            rippleEffect(rippleSpan, { duration: 400, isCenterRipple: true });\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n    };\n    /**\n     * Called internally if any of the property value changes.\n     * @private\n     */\n    Switch.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    this.changeState(newProp.checked);\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        wrapper.classList.remove(DISABLED);\n                        wrapper.setAttribute('aria-disabled', 'false');\n                        this.wireEvents();\n                    }\n                    break;\n                case 'value':\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'onLabel':\n                case 'offLabel':\n                    this.setLabel(newProp.onLabel, newProp.offLabel);\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        wrapper.classList.add(RTL);\n                    }\n                    else {\n                        wrapper.classList.remove(RTL);\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        wrapper.classList.remove(oldProp.cssClass);\n                    }\n                    wrapper.classList.add(newProp.cssClass);\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize Angular, React and Unique ID support.\n     * @private\n     */\n    Switch.prototype.preRender = function () {\n        var element = this.element;\n        this.tagName = this.element.tagName;\n        preRender(this, 'EJS-SWITCH', WRAPPER, element, this.getModuleName());\n    };\n    /**\n     * Initialize control rendering.\n     * @private\n     */\n    Switch.prototype.render = function () {\n        this.initWrapper();\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n    };\n    Switch.prototype.rippleHandler = function (e) {\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, rippleSpan);\n        if (e.type === 'mousedown' && e.currentTarget.classList.contains('e-switch-wrapper') && e.which === 1) {\n            this.isDrag = true;\n            this.isKeyPressed = false;\n        }\n    };\n    Switch.prototype.rippleTouchHandler = function (eventType) {\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        if (rippleSpan) {\n            var event_1 = document.createEvent('MouseEvents');\n            event_1.initEvent(eventType, false, true);\n            rippleSpan.dispatchEvent(event_1);\n        }\n    };\n    Switch.prototype.setDisabled = function () {\n        var wrapper = this.getWrapper();\n        this.element.disabled = true;\n        wrapper.classList.add(DISABLED);\n        wrapper.setAttribute('aria-disabled', 'true');\n    };\n    Switch.prototype.setLabel = function (onText, offText) {\n        var wrapper = this.getWrapper();\n        if (onText) {\n            wrapper.querySelector('.e-switch-on').textContent = onText;\n        }\n        if (offText) {\n            wrapper.querySelector('.e-switch-off').textContent = offText;\n        }\n    };\n    Switch.prototype.switchFocusHandler = function () {\n        this.isKeyPressed = true;\n    };\n    Switch.prototype.switchMouseUp = function (e) {\n        var target = e.target;\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        if (e.type === 'touchmove') {\n            e.preventDefault();\n        }\n        if (e.type === 'touchstart') {\n            this.isDrag = true;\n            this.rippleTouchHandler('mousedown');\n        }\n        if (this.isDrag) {\n            if ((e.type === 'mouseup' && target.className.indexOf('e-switch') < 0) || e.type === 'touchend') {\n                this.clickHandler(e);\n                this.rippleTouchHandler('mouseup');\n                e.preventDefault();\n            }\n        }\n    };\n    /**\n     * Toggle the Switch component state into checked/unchecked.\n     * @returns void\n     */\n    Switch.prototype.toggle = function () {\n        this.clickHandler();\n    };\n    Switch.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        var handle = wrapper.querySelector('.e-switch-handle');\n        EventHandler.add(wrapper, 'click', this.clickHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        EventHandler.add(document, 'mouseup', this.switchMouseUp, this);\n        EventHandler.add(document, 'keydown', this.switchFocusHandler, this);\n        EventHandler.add(wrapper, 'mousedown mouseup', this.rippleHandler, this);\n        EventHandler.add(wrapper, 'touchstart touchmove touchend', this.switchMouseUp, this);\n    };\n    Switch.prototype.unWireEvents = function () {\n        var wrapper = this.getWrapper();\n        var handle = wrapper.querySelector('.e-switch-handle');\n        EventHandler.remove(wrapper, 'click', this.clickHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        EventHandler.remove(document, 'mouseup', this.switchMouseUp);\n        EventHandler.remove(document, 'keydown', this.switchFocusHandler);\n        EventHandler.remove(wrapper, 'mousedown mouseup', this.rippleHandler);\n        EventHandler.remove(wrapper, 'touchstart touchmove touchend', this.switchMouseUp);\n    };\n    __decorate([\n        Event()\n    ], Switch.prototype, \"change\", void 0);\n    __decorate([\n        Property(false)\n    ], Switch.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Switch.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"onLabel\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"offLabel\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"value\", void 0);\n    Switch = __decorate([\n        NotifyPropertyChanges\n    ], Switch);\n    return Switch;\n}(Component));\nexport { Switch };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, Collection, L10n, Browser, Complex, compile } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, attributes, prepend, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, append } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { Draggable } from '@syncfusion/ej2-base';\nimport { Popup, PositionData, getZindexPartial } from '../popup/popup';\nimport { Button } from '@syncfusion/ej2-buttons';\nvar ButtonProps = /** @class */ (function (_super) {\n    __extends(ButtonProps, _super);\n    function ButtonProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"buttonModel\", void 0);\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"click\", void 0);\n    return ButtonProps;\n}(ChildProperty));\nexport { ButtonProps };\n/**\n * Configures the animation properties for both open and close the dialog.\n */\nvar AnimationSettings = /** @class */ (function (_super) {\n    __extends(AnimationSettings, _super);\n    function AnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Fade')\n    ], AnimationSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AnimationSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property(0)\n    ], AnimationSettings.prototype, \"delay\", void 0);\n    return AnimationSettings;\n}(ChildProperty));\nexport { AnimationSettings };\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\nvar Dialog = /** @class */ (function (_super) {\n    __extends(Dialog, _super);\n    /**\n     * Constructor for creating the widget\n     * @hidden\n     */\n    function Dialog(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    Dialog.prototype.render = function () {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Dialog.prototype.preRender = function () {\n        var _this = this;\n        this.headerContent = null;\n        var classArray = [];\n        for (var j = 0; j < this.element.classList.length; j++) {\n            if (!isNullOrUndefined(this.element.classList[j].match('e-control')) ||\n                !isNullOrUndefined(this.element.classList[j].match(ROOT))) {\n                classArray.push(this.element.classList[j]);\n            }\n        }\n        removeClass([this.element], classArray);\n        this.clonedEle = this.element.cloneNode(true);\n        this.closeIconClickEventHandler = function (event) {\n            _this.hide(event);\n        };\n        this.dlgOverlayClickEventHandler = function (event) {\n            _this.trigger('overlayClick', event);\n        };\n        var localeText = { close: 'Close' };\n        this.l10n = new L10n('dialog', localeText, this.locale);\n        if (isNullOrUndefined(this.target)) {\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            this.target = document.body;\n            this.isProtectedOnChange = prevOnChange;\n        }\n    };\n    ;\n    /* istanbul ignore next */\n    Dialog.prototype.keyDown = function (event) {\n        var _this = this;\n        if (event.keyCode === 9) {\n            if (this.isModal) {\n                var buttonObj = void 0;\n                if (!isNullOrUndefined(this.btnObj)) {\n                    buttonObj = this.btnObj[this.btnObj.length - 1];\n                }\n                if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n                    event.preventDefault();\n                    this.focusableElements(this.element).focus();\n                }\n                if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n                    event.preventDefault();\n                    if (!isNullOrUndefined(buttonObj)) {\n                        buttonObj.element.focus();\n                    }\n                }\n            }\n        }\n        var element = document.activeElement;\n        var isTagName = (['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1);\n        var isContentEdit = false;\n        if (!isTagName) {\n            isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n        }\n        if (event.keyCode === 27 && this.closeOnEscape) {\n            this.hide(event);\n        }\n        if ((event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' &&\n            isTagName && !isNullOrUndefined(this.primaryButtonEle)) ||\n            (event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' ||\n                isContentEdit)) && !isNullOrUndefined(this.primaryButtonEle)) {\n            var buttonIndex_1;\n            var firstPrimary = this.buttons.some(function (data, index) {\n                buttonIndex_1 = index;\n                var buttonModel = data.buttonModel;\n                return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n            });\n            if (firstPrimary && typeof (this.buttons[buttonIndex_1].click) === 'function') {\n                setTimeout(function () {\n                    _this.buttons[buttonIndex_1].click.call(_this, event);\n                });\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    Dialog.prototype.initialize = function () {\n        if (!isNullOrUndefined(this.target)) {\n            this.targetEle = ((typeof this.target) === 'string') ?\n                document.querySelector(this.target) : this.target;\n        }\n        addClass([this.element], ROOT);\n        if (Browser.isDevice) {\n            addClass([this.element], DEVICE);\n        }\n        this.setCSSClass();\n        this.setMaxHeight();\n    };\n    /**\n     * Initialize the rendering\n     * @private\n     */\n    Dialog.prototype.initRender = function () {\n        var _this = this;\n        this.initialRender = true;\n        attributes(this.element, { role: 'dialog' });\n        if (this.zIndex === 1000) {\n            this.setzIndex(this.element, false);\n            this.calculatezIndex = true;\n        }\n        else {\n            this.calculatezIndex = false;\n        }\n        this.setTargetContent();\n        if (this.header !== '' && !isNullOrUndefined(this.header)) {\n            this.setHeader();\n        }\n        if (this.showCloseIcon) {\n            this.renderCloseIcon();\n        }\n        this.setContent();\n        if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n            this.setFooterTemplate();\n        }\n        else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n            this.setButton();\n        }\n        if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n        attributes(this.element, { 'aria-modal': (this.isModal ? 'true' : 'false') });\n        if (this.isModal) {\n            this.setIsModal();\n        }\n        if (!isNullOrUndefined(this.targetEle)) {\n            this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n        }\n        this.popupObj = new Popup(this.element, {\n            height: this.height,\n            width: this.width,\n            zIndex: this.zIndex,\n            relateTo: this.target,\n            actionOnScroll: 'none',\n            open: function (event) {\n                _this.focusContent();\n                var eventArgs = {\n                    container: _this.isModal ? _this.dlgContainer : _this.element,\n                    element: _this.element,\n                    target: _this.target\n                };\n                _this.trigger('open', eventArgs);\n            },\n            close: function (event) {\n                _this.unBindEvent(_this.element);\n                if (_this.isModal) {\n                    _this.dlgContainer.style.display = 'none';\n                }\n                _this.trigger('close', _this.closeArgs);\n                if (!isNullOrUndefined(_this.storeActiveElement)) {\n                    _this.storeActiveElement.focus();\n                }\n            }\n        });\n        this.positionChange();\n        this.setEnableRTL();\n        addClass([this.element], DLG_HIDE);\n        if (this.isModal) {\n            this.setOverlayZindex();\n        }\n        if (this.visible) {\n            this.show();\n        }\n        else {\n            if (this.isModal) {\n                this.dlgOverlay.style.display = 'none';\n            }\n        }\n        this.initialRender = false;\n    };\n    Dialog.prototype.setOverlayZindex = function (zIndexValue) {\n        var zIndex;\n        if (isNullOrUndefined(zIndexValue)) {\n            zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n        }\n        else {\n            zIndex = zIndexValue;\n        }\n        this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n        this.dlgContainer.style.zIndex = zIndex.toString();\n    };\n    Dialog.prototype.positionChange = function () {\n        if (this.isModal) {\n            if (typeof (this.position.X) === 'number' && typeof (this.position.Y) === 'number') {\n                this.setPopupPosition();\n            }\n            else {\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n            }\n        }\n        else {\n            this.setPopupPosition();\n        }\n    };\n    Dialog.prototype.setPopupPosition = function () {\n        this.popupObj.setProperties({\n            position: {\n                X: this.position.X, Y: this.position.Y\n            }\n        });\n    };\n    Dialog.prototype.setAllowDragging = function () {\n        var _this = this;\n        var handleContent = '.' + DLG_HEADER_CONTENT;\n        this.dragObj = new Draggable(this.element, {\n            clone: false,\n            abort: '.e-dlg-closeicon-btn',\n            handle: handleContent,\n            dragStart: function (event) {\n                _this.trigger('dragStart', event);\n            },\n            dragStop: function (event) {\n                if (_this.isModal) {\n                    if (!isNullOrUndefined(_this.position)) {\n                        _this.dlgContainer.classList.remove('e-dlg-' + _this.position.X + '-' + _this.position.Y);\n                    }\n                    // Reset the dialog position after drag completion.\n                    _this.element.style.position = 'relative';\n                }\n                _this.trigger('dragStop', event);\n            },\n            drag: function (event) {\n                _this.trigger('drag', event);\n            }\n        });\n        if (!isNullOrUndefined(this.targetEle)) {\n            this.dragObj.dragArea = this.targetEle;\n        }\n    };\n    Dialog.prototype.setButton = function () {\n        this.buttonContent = [];\n        this.btnObj = [];\n        var primaryBtnFlag = true;\n        for (var i = 0; i < this.buttons.length; i++) {\n            var btn = this.createElement('button', { attrs: { type: 'button' } });\n            this.buttonContent.push(btn.outerHTML);\n        }\n        this.setFooterTemplate();\n        for (var i = 0; i < this.buttons.length; i++) {\n            this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n            if (typeof (this.buttons[i].click) === 'function') {\n                EventHandler.add(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click, this);\n            }\n            this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n            this.btnObj[i].element.classList.add('e-flat');\n            this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n        }\n    };\n    Dialog.prototype.setContent = function () {\n        attributes(this.element, { 'aria-describedby': this.element.id + '_dialog-content' });\n        this.contentEle = this.createElement('div', { className: DLG_CONTENT, id: this.element.id + '_dialog-content' });\n        if (this.innerContentElement) {\n            this.contentEle.appendChild(this.innerContentElement);\n        }\n        else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n            if (typeof (this.content) === 'string') {\n                this.contentEle.innerHTML = this.content;\n            }\n            else if (this.content instanceof HTMLElement) {\n                this.contentEle.appendChild(this.content);\n            }\n            else {\n                this.setTemplate(this.content, this.contentEle);\n            }\n        }\n        if (!isNullOrUndefined(this.headerContent)) {\n            this.element.insertBefore(this.contentEle, this.element.children[1]);\n        }\n        else {\n            this.element.insertBefore(this.contentEle, this.element.children[0]);\n        }\n        if (this.height === 'auto') {\n            this.setMaxHeight();\n        }\n    };\n    Dialog.prototype.setTemplate = function (template, toElement) {\n        var templateFn = compile(template);\n        var fromElements = [];\n        for (var _i = 0, _a = templateFn({}); _i < _a.length; _i++) {\n            var item = _a[_i];\n            fromElements.push(item);\n        }\n        append([].slice.call(fromElements), toElement);\n    };\n    Dialog.prototype.setMaxHeight = function () {\n        var display = this.element.style.display;\n        this.element.style.display = 'none';\n        this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n            (this.targetEle.offsetHeight - 20) + 'px' : (window.innerHeight - 20) + 'px';\n        this.element.style.display = display;\n    };\n    Dialog.prototype.setEnableRTL = function () {\n        this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    };\n    Dialog.prototype.setTargetContent = function () {\n        if (isNullOrUndefined(this.content) || this.content === '') {\n            var isContent = this.element.innerHTML.replace(/\\s/g, '') !== '';\n            if (this.element.children.length > 0 || isContent) {\n                this.innerContentElement = document.createDocumentFragment();\n                while (this.element.childNodes.length !== 0) {\n                    this.innerContentElement.appendChild(this.element.childNodes[0]);\n                }\n            }\n        }\n    };\n    Dialog.prototype.setHeader = function () {\n        if (this.headerEle) {\n            this.headerEle.innerHTML = '';\n        }\n        else {\n            this.headerEle = this.createElement('div', { id: this.element.id + '_title', className: DLG_HEADER });\n        }\n        this.createHeaderContent();\n        this.headerContent.appendChild(this.headerEle);\n        this.setTemplate(this.header, this.headerEle);\n        attributes(this.element, { 'aria-labelledby': this.element.id + '_title' });\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n    };\n    Dialog.prototype.setFooterTemplate = function () {\n        if (this.ftrTemplateContent) {\n            this.ftrTemplateContent.innerHTML = '';\n        }\n        else {\n            this.ftrTemplateContent = this.createElement('div', {\n                className: DLG_FOOTER_CONTENT\n            });\n        }\n        if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n            this.setTemplate(this.footerTemplate, this.ftrTemplateContent);\n        }\n        else {\n            this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n        }\n        this.element.appendChild(this.ftrTemplateContent);\n    };\n    Dialog.prototype.createHeaderContent = function () {\n        if (isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.createElement('div', { className: DLG_HEADER_CONTENT });\n        }\n    };\n    Dialog.prototype.renderCloseIcon = function () {\n        this.closeIcon = this.createElement('button', { className: DLG_CLOSE_ICON_BTN, attrs: { type: 'button' } });\n        this.closeIconBtnObj = new Button({ cssClass: 'e-flat', iconCss: DLG_CLOSE_ICON + ' ' + ICON });\n        this.closeIconTitle();\n        if (!isNullOrUndefined(this.headerContent)) {\n            prepend([this.closeIcon], this.headerContent);\n        }\n        else {\n            this.createHeaderContent();\n            prepend([this.closeIcon], this.headerContent);\n            this.element.insertBefore(this.headerContent, this.element.children[0]);\n        }\n        this.closeIconBtnObj.appendTo(this.closeIcon);\n    };\n    Dialog.prototype.closeIconTitle = function () {\n        this.l10n.setLocale(this.locale);\n        var closeIconTitle = this.l10n.getConstant('close');\n        this.closeIcon.setAttribute('title', closeIconTitle);\n    };\n    Dialog.prototype.setCSSClass = function (oldCSSClass) {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n    };\n    Dialog.prototype.setIsModal = function () {\n        this.dlgContainer = this.createElement('div', { className: DLG_CONTAINER });\n        this.element.classList.remove(DLG_SHOW);\n        this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n        this.dlgContainer.appendChild(this.element);\n        addClass([this.element], MODAL_DLG);\n        this.dlgOverlay = this.createElement('div', { className: DLG_OVERLAY });\n        this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n        this.dlgContainer.appendChild(this.dlgOverlay);\n    };\n    Dialog.prototype.getValidFocusNode = function (items) {\n        var node;\n        for (var u = 0; u < items.length; u++) {\n            node = items[u];\n            if ((node.clientHeight > 0 || (node.tagName.toLowerCase() === 'a' && node.hasAttribute('href'))) && node.tabIndex > -1 &&\n                !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n                return node;\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.focusableElements = function (content) {\n        if (!isNullOrUndefined(content)) {\n            var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n            var items = content.querySelectorAll(value);\n            return this.getValidFocusNode(items);\n        }\n        return null;\n    };\n    Dialog.prototype.getAutoFocusNode = function (container) {\n        var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n        var value = '[autofocus]';\n        var items = container.querySelectorAll(value);\n        var validNode = this.getValidFocusNode(items);\n        if (!isNullOrUndefined(validNode)) {\n            node = validNode;\n        }\n        else {\n            validNode = this.focusableElements(this.contentEle);\n            if (!isNullOrUndefined(validNode)) {\n                return node = validNode;\n            }\n            else if (!isNullOrUndefined(this.primaryButtonEle)) {\n                return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.disableElement = function (element, t) {\n        var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msMatchesSelector : null;\n        if (elementMatch) {\n            for (; element; element = element.parentNode) {\n                if (element instanceof Element && elementMatch.call(element, t)) {\n                    /* istanbul ignore next */\n                    return element;\n                }\n            }\n        }\n        return null;\n    };\n    Dialog.prototype.focusContent = function () {\n        var element = this.getAutoFocusNode(this.element);\n        var node = !isNullOrUndefined(element) ? element : this.element;\n        node.focus();\n        this.bindEvent(this.element);\n    };\n    Dialog.prototype.bindEvent = function (element) {\n        EventHandler.add(element, 'keydown', this.keyDown, this);\n    };\n    Dialog.prototype.unBindEvent = function (element) {\n        EventHandler.remove(element, 'keydown', this.keyDown);\n    };\n    /**\n     * Module required function\n     * @private\n     */\n    Dialog.prototype.getModuleName = function () {\n        return 'dialog';\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     */\n    Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!isNullOrUndefined(this.content) && this.content !== '') {\n                        if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n                            this.contentEle.innerHTML = '';\n                            typeof (this.content) === 'string' ?\n                                this.contentEle.innerHTML = this.content : this.contentEle.appendChild(this.content);\n                            this.setMaxHeight();\n                        }\n                        else {\n                            this.setContent();\n                        }\n                    }\n                    else if (!isNullOrUndefined(this.contentEle)) {\n                        detach(this.contentEle);\n                        this.contentEle = null;\n                    }\n                    break;\n                case 'header':\n                    if (this.header === '' || isNullOrUndefined(this.header)) {\n                        if (this.headerEle) {\n                            detach(this.headerEle);\n                            this.headerEle = null;\n                        }\n                    }\n                    else {\n                        this.setHeader();\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n                        if (!this.ftrTemplateContent) {\n                            return;\n                        }\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                        this.buttons = [{}];\n                    }\n                    else {\n                        this.setFooterTemplate();\n                        this.buttons = [{}];\n                    }\n                    break;\n                case 'showCloseIcon':\n                    if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n                        if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n                            detach(this.headerContent);\n                            this.headerContent = null;\n                        }\n                        else if (!this.showCloseIcon) {\n                            detach(this.closeIcon);\n                        }\n                    }\n                    else {\n                        this.renderCloseIcon();\n                        this.wireEvents();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showCloseIcon) {\n                        this.closeIconTitle();\n                    }\n                    break;\n                case 'visible':\n                    this.visible ? this.show() : this.hide();\n                    break;\n                case 'isModal':\n                    this.updateIsModal();\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'zIndex':\n                    this.popupObj.zIndex = this.zIndex;\n                    if (this.isModal) {\n                        this.setOverlayZindex(this.zIndex);\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'buttons':\n                    if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n                        if (!isNullOrUndefined(this.ftrTemplateContent)) {\n                            detach(this.ftrTemplateContent);\n                            this.ftrTemplateContent = null;\n                        }\n                        this.footerTemplate = '';\n                        this.setButton();\n                    }\n                    break;\n                case 'allowDragging':\n                    if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                        this.setAllowDragging();\n                    }\n                    else {\n                        this.dragObj.destroy();\n                    }\n                    break;\n                case 'target':\n                    this.popupObj.relateTo = newProp.target;\n                    break;\n                case 'position':\n                    if (this.isModal) {\n                        var positionX = isNullOrUndefined(oldProp.position.X) ? this.position.X : oldProp.position.X;\n                        var positionY = isNullOrUndefined(oldProp.position.Y) ? this.position.Y : oldProp.position.Y;\n                        if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n                            this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n                        }\n                    }\n                    this.positionChange();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n            }\n        }\n    };\n    Dialog.prototype.updateIsModal = function () {\n        this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n        if (this.isModal) {\n            this.setIsModal();\n            this.element.style.top = '0px';\n            this.element.style.left = '0px';\n            if (!isNullOrUndefined(this.targetEle)) {\n                this.targetEle.appendChild(this.dlgContainer);\n            }\n        }\n        else {\n            removeClass([this.element], MODAL_DLG);\n            removeClass([document.body], SCROLL_DISABLED);\n            detach(this.dlgOverlay);\n            while (this.dlgContainer.firstChild) {\n                this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n            }\n            this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n        }\n        if (this.visible) {\n            this.show();\n        }\n        this.positionChange();\n    };\n    Dialog.prototype.setzIndex = function (zIndexElement, setPopupZindex) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.zIndex = getZindexPartial(zIndexElement);\n        this.isProtectedOnChange = prevOnChange;\n        if (setPopupZindex) {\n            this.popupObj.zIndex = this.zIndex;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Dialog.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the widget\n     * @method destroy\n     * @return {void}\n     * @memberof dialog\n     */\n    Dialog.prototype.destroy = function () {\n        if (this.element.classList.contains(ROOT)) {\n            this.unWireEvents();\n            _super.prototype.destroy.call(this);\n            var classArray = [\n                ROOT, RTL, MODAL_DLG\n            ];\n            removeClass([this.element, this.element], classArray);\n            if (this.popupObj.element.classList.contains(POPUP_ROOT)) {\n                this.popupObj.destroy();\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(this.btnObj)) {\n                for (var i = void 0; i < this.btnObj.length; i++) {\n                    this.btnObj[i].destroy();\n                }\n            }\n            if (this.isModal) {\n                detach(this.dlgOverlay);\n                this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n                detach(this.dlgContainer);\n            }\n            this.element.innerHTML = '';\n            while (this.element.attributes.length > 0) {\n                this.element.removeAttribute(this.element.attributes[0].name);\n            }\n            for (var k = 0; k < this.clonedEle.attributes.length; k++) {\n                this.element.setAttribute(this.clonedEle.attributes[k].name, this.clonedEle.attributes[k].value);\n            }\n        }\n    };\n    /**\n     * Binding event to the element while widget creation\n     * @hidden\n     */\n    Dialog.prototype.wireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n        }\n        if (this.isModal) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    /**\n     * Unbinding event to the element while widget destroy\n     * @hidden\n     */\n    Dialog.prototype.unWireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n        }\n        if (this.isModal) {\n            EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n        }\n        if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n            for (var i = 0; i < this.buttons.length; i++) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n                }\n            }\n        }\n    };\n    /**\n     * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n     * @return {void}\n     */\n    Dialog.prototype.refreshPosition = function () {\n        this.popupObj.refreshPosition();\n    };\n    /**\n     * Opens the dialog if it is in hidden state.\n     * To open the dialog with full screen width, set the parameter to true.\n     * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n     * @return {void}\n     */\n    Dialog.prototype.show = function (isFullScreen) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (!this.element.classList.contains(DLG_SHOW) || (!isNullOrUndefined(isFullScreen))) {\n            if (!isNullOrUndefined(isFullScreen)) {\n                this.fullScreen(isFullScreen);\n            }\n            var eventArgs = {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                target: this.target\n            };\n            this.trigger('beforeOpen', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n            this.storeActiveElement = document.activeElement;\n            this.element.tabIndex = -1;\n            if (this.isModal && (!isNullOrUndefined(this.dlgOverlay))) {\n                this.dlgOverlay.style.display = 'block';\n                this.dlgContainer.style.display = 'flex';\n                if (!isNullOrUndefined(this.targetEle)) {\n                    if (this.targetEle === document.body) {\n                        this.dlgContainer.style.position = 'fixed';\n                    }\n                    else {\n                        this.dlgContainer.style.position = 'absolute';\n                    }\n                    this.dlgOverlay.style.position = 'absolute';\n                    this.element.style.position = 'relative';\n                    addClass([this.targetEle], SCROLL_DISABLED);\n                }\n                else {\n                    addClass([document.body], SCROLL_DISABLED);\n                }\n            }\n            var openAnimation = {\n                name: this.animationSettings.effect + 'In',\n                duration: this.animationSettings.duration,\n                delay: this.animationSettings.delay\n            };\n            var zIndexElement = (this.isModal) ? this.element.parentElement : this.element;\n            if (this.calculatezIndex) {\n                this.setzIndex(zIndexElement, true);\n                setStyleAttribute(this.element, { 'zIndex': this.zIndex });\n                if (this.isModal) {\n                    this.setOverlayZindex(this.zIndex);\n                }\n            }\n            this.animationSettings.effect === 'None' ? this.popupObj.show() : this.popupObj.show(openAnimation);\n            this.dialogOpen = true;\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            this.visible = true;\n            this.isProtectedOnChange = prevOnChange;\n        }\n    };\n    /**\n     * Closes the dialog if it is in visible state.\n     * @return {void}\n     */\n    Dialog.prototype.hide = function (event) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        var eventArgs = {\n            cancel: false,\n            isInteraction: event ? true : false,\n            element: this.element,\n            target: this.target,\n            container: this.isModal ? this.dlgContainer : this.element,\n            event: event\n        };\n        this.trigger('beforeClose', eventArgs);\n        this.closeArgs = eventArgs;\n        if (eventArgs.cancel) {\n            return;\n        }\n        if (this.isModal) {\n            this.dlgOverlay.style.display = 'none';\n            !isNullOrUndefined(this.targetEle) ? removeClass([this.targetEle], SCROLL_DISABLED) :\n                removeClass([document.body], SCROLL_DISABLED);\n        }\n        var closeAnimation = {\n            name: this.animationSettings.effect + 'Out',\n            duration: this.animationSettings.duration,\n            delay: this.animationSettings.delay\n        };\n        this.animationSettings.effect === 'None' ? this.popupObj.hide() : this.popupObj.hide(closeAnimation);\n        this.dialogOpen = false;\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.visible = false;\n        this.isProtectedOnChange = prevOnChange;\n    };\n    /**\n     * Specifies to view the Full screen Dialog.\n     * @private\n     */\n    Dialog.prototype.fullScreen = function (args) {\n        var top = this.element.offsetTop;\n        var left = this.element.offsetLeft;\n        if (args) {\n            addClass([this.element], FULLSCREEN);\n            var display = this.element.style.display;\n            this.element.style.display = 'none';\n            this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n                (this.targetEle.offsetHeight) + 'px' : (window.innerHeight) + 'px';\n            this.element.style.display = display;\n            addClass([document.body], SCROLL_DISABLED);\n            if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n                this.dragObj.destroy();\n            }\n        }\n        else {\n            removeClass([this.element], FULLSCREEN);\n            removeClass([document.body], SCROLL_DISABLED);\n            if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                this.setAllowDragging();\n            }\n        }\n        return args;\n    };\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"content\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"showCloseIcon\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"isModal\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"header\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"visible\", void 0);\n    __decorate([\n        Property('auto')\n    ], Dialog.prototype, \"height\", void 0);\n    __decorate([\n        Property('100%')\n    ], Dialog.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(1000)\n    ], Dialog.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], Dialog.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"allowDragging\", void 0);\n    __decorate([\n        Collection([{}], ButtonProps)\n    ], Dialog.prototype, \"buttons\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"closeOnEscape\", void 0);\n    __decorate([\n        Complex({}, AnimationSettings)\n    ], Dialog.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Complex({ X: 'center', Y: 'center' }, PositionData)\n    ], Dialog.prototype, \"position\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStop\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"overlayClick\", void 0);\n    Dialog = __decorate([\n        NotifyPropertyChanges\n    ], Dialog);\n    return Dialog;\n}(Component));\nexport { Dialog };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, Event, append, compile } from '@syncfusion/ej2-base';\nimport { EventHandler, Touch, Browser, Animation as PopupAnimation } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getUniqueID, formatUnit } from '@syncfusion/ej2-base';\nimport { attributes, closest, removeClass, addClass, remove } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Complex } from '@syncfusion/ej2-base';\nimport { Popup } from '../popup/popup';\nimport { calculatePosition } from '../common/position';\nimport { isCollide, fit } from '../common/collision';\nvar TOUCHEND_HIDE_DELAY = 1500;\nvar TAPHOLD_THRESHOLD = 500;\nvar SHOW_POINTER_TIP_GAP = 0;\nvar HIDE_POINTER_TIP_GAP = 8;\nvar MOUSE_TRAIL_GAP = 2;\nvar POINTER_ADJUST = 2;\nvar ROOT = 'e-tooltip';\nvar RTL = 'e-rtl';\nvar DEVICE = 'e-bigger';\nvar ICON = 'e-icons';\nvar CLOSE = 'e-tooltip-close';\nvar TOOLTIP_WRAP = 'e-tooltip-wrap';\nvar CONTENT = 'e-tip-content';\nvar ARROW_TIP = 'e-arrow-tip';\nvar ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nvar ARROW_TIP_INNER = 'e-arrow-tip-inner';\nvar TIP_BOTTOM = 'e-tip-bottom';\nvar TIP_TOP = 'e-tip-top';\nvar TIP_LEFT = 'e-tip-left';\nvar TIP_RIGHT = 'e-tip-right';\nvar POPUP_ROOT = 'e-popup';\nvar POPUP_OPEN = 'e-popup-open';\nvar POPUP_CLOSE = 'e-popup-close';\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property({ effect: 'FadeIn', duration: 150, delay: 0 })\n    ], Animation.prototype, \"open\", void 0);\n    __decorate([\n        Property({ effect: 'FadeOut', duration: 150, delay: 0 })\n    ], Animation.prototype, \"close\", void 0);\n    return Animation;\n}(ChildProperty));\nexport { Animation };\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /**\n     * Constructor for creating the Tooltip Component\n     */\n    function Tooltip(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Tooltip.prototype.initialize = function () {\n        this.formatPosition();\n        addClass([this.element], ROOT);\n    };\n    Tooltip.prototype.formatPosition = function () {\n        if (this.position.indexOf('Top') === 0 || this.position.indexOf('Bottom') === 0) {\n            _a = this.position.split(/(?=[A-Z])/), this.tooltipPositionY = _a[0], this.tooltipPositionX = _a[1];\n        }\n        else {\n            _b = this.position.split(/(?=[A-Z])/), this.tooltipPositionX = _b[0], this.tooltipPositionY = _b[1];\n        }\n        var _a, _b;\n    };\n    Tooltip.prototype.renderArrow = function () {\n        this.setTipClass(this.position);\n        var tip = this.createElement('div', { className: ARROW_TIP + ' ' + this.tipClass });\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_OUTER + ' ' + this.tipClass }));\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_INNER + ' ' + this.tipClass }));\n        this.tooltipEle.appendChild(tip);\n    };\n    Tooltip.prototype.setTipClass = function (position) {\n        if (position.indexOf('Right') === 0) {\n            this.tipClass = TIP_LEFT;\n        }\n        else if (position.indexOf('Bottom') === 0) {\n            this.tipClass = TIP_TOP;\n        }\n        else if (position.indexOf('Left') === 0) {\n            this.tipClass = TIP_RIGHT;\n        }\n        else {\n            this.tipClass = TIP_BOTTOM;\n        }\n    };\n    Tooltip.prototype.renderPopup = function (target) {\n        var elePos = this.mouseTrail ? { top: 0, left: 0 } : this.getTooltipPosition(target);\n        this.popupObj = new Popup(this.tooltipEle, {\n            height: this.height,\n            width: this.width,\n            position: {\n                X: elePos.left,\n                Y: elePos.top\n            },\n            enableRtl: this.enableRtl,\n            open: this.openPopupHandler.bind(this),\n            close: this.closePopupHandler.bind(this)\n        });\n    };\n    Tooltip.prototype.getTooltipPosition = function (target) {\n        this.tooltipEle.style.display = 'none';\n        var pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY);\n        this.tooltipEle.style.display = '';\n        var offsetPos = this.calculateTooltipOffset(this.position);\n        var elePos = this.collisionFlipFit(target, pos.left + offsetPos.left, pos.top + offsetPos.top);\n        return elePos;\n    };\n    Tooltip.prototype.reposition = function (target) {\n        var elePos = this.getTooltipPosition(target);\n        this.popupObj.position = { X: elePos.left, Y: elePos.top };\n        this.popupObj.dataBind();\n    };\n    Tooltip.prototype.openPopupHandler = function () {\n        this.trigger('afterOpen', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.closePopupHandler = function () {\n        this.clear();\n        this.trigger('afterClose', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.calculateTooltipOffset = function (position) {\n        var pos = { top: 0, left: 0 };\n        var tooltipEleWidth = this.tooltipEle.offsetWidth;\n        var tooltipEleHeight = this.tooltipEle.offsetHeight;\n        var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n        var tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n        var tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n        var tipAdjust = (this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP);\n        var tipHeightAdjust = (tipHeight / 2) + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n        var tipWidthAdjust = (tipWidth / 2) + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n        if (this.mouseTrail) {\n            tipAdjust += MOUSE_TRAIL_GAP;\n        }\n        switch (position) {\n            case 'RightTop':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= tooltipEleHeight - tipHeightAdjust;\n                break;\n            case 'RightCenter':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'RightBottom':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'BottomRight':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            case 'BottomCenter':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n            case 'BottomLeft':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'LeftBottom':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'LeftCenter':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'LeftTop':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight - tipHeightAdjust);\n                break;\n            case 'TopLeft':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'TopRight':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            default:\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n        }\n        pos.left += this.offsetX;\n        pos.top += this.offsetY;\n        return pos;\n    };\n    Tooltip.prototype.updateTipPosition = function (position) {\n        var selEle = this.tooltipEle.querySelectorAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER);\n        var removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n        removeClass(selEle, removeList);\n        this.setTipClass(position);\n        addClass(selEle, this.tipClass);\n    };\n    Tooltip.prototype.adjustArrow = function (target, position, tooltipPositionX, tooltipPositionY) {\n        if (this.showTipPointer === false) {\n            return;\n        }\n        this.updateTipPosition(position);\n        var leftValue;\n        var topValue;\n        var tooltipWidth = this.tooltipEle.clientWidth;\n        var tooltipHeight = this.tooltipEle.clientHeight;\n        var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n        var arrowInnerELe = this.tooltipEle.querySelector('.' + ARROW_TIP_INNER);\n        var tipWidth = arrowEle.offsetWidth;\n        var tipHeight = arrowEle.offsetHeight;\n        if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n            if (this.tipClass === TIP_BOTTOM) {\n                topValue = '99.9%';\n                // Arrow icon aligned -2px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 2) + 'px';\n            }\n            else {\n                topValue = -(tipHeight - 1) + 'px';\n                // Arrow icon aligned -6px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 6) + 'px';\n            }\n            var tipPosExclude = tooltipPositionX !== 'Center' || (tooltipWidth > target.offsetWidth) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionX === 'Left') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                leftValue = (tooltipWidth - tipWidth - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionX === 'Right') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                leftValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                leftValue = ((tooltipWidth / 2) - (tipWidth / 2)) + 'px';\n            }\n        }\n        else {\n            if (this.tipClass === TIP_RIGHT) {\n                leftValue = '99.9%';\n                // Arrow icon aligned -2px left from ArrowOuterTip div\n                arrowInnerELe.style.left = '-' + (tipWidth - 2) + 'px';\n            }\n            else {\n                leftValue = -(tipWidth - 1) + 'px';\n                // Arrow icon aligned -2px from ArrowOuterTip width\n                arrowInnerELe.style.left = (-(tipWidth) + (tipWidth - 2)) + 'px';\n            }\n            var tipPosExclude = tooltipPositionY !== 'Center' || (tooltipHeight > target.offsetHeight) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionY === 'Top') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                topValue = (tooltipHeight - tipHeight - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionY === 'Bottom') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                topValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                topValue = ((tooltipHeight / 2) - (tipHeight / 2)) + 'px';\n            }\n        }\n        arrowEle.style.top = topValue;\n        arrowEle.style.left = leftValue;\n    };\n    Tooltip.prototype.renderContent = function (target) {\n        var tooltipContent = this.tooltipEle.querySelector('.' + CONTENT);\n        if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n            target.setAttribute('data-content', target.getAttribute('title'));\n            target.removeAttribute('title');\n        }\n        if (!isNullOrUndefined(this.content)) {\n            tooltipContent.innerHTML = '';\n            if (this.content instanceof HTMLElement) {\n                tooltipContent.appendChild(this.content);\n            }\n            else if (typeof this.content === 'string') {\n                tooltipContent.innerHTML = this.content;\n            }\n            else {\n                var templateFunction = compile(this.content);\n                append(templateFunction(), tooltipContent);\n            }\n        }\n        else {\n            if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n                tooltipContent.innerHTML = target.getAttribute('data-content');\n            }\n        }\n    };\n    Tooltip.prototype.renderCloseIcon = function () {\n        if (!this.isSticky) {\n            return;\n        }\n        var tipClose = this.createElement('div', { className: ICON + ' ' + CLOSE });\n        this.tooltipEle.appendChild(tipClose);\n        EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n    };\n    Tooltip.prototype.addDescribedBy = function (target, id) {\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        if (describedby.indexOf(id) < 0) {\n            describedby.push(id);\n        }\n        attributes(target, { 'aria-describedby': describedby.join(' ').trim(), 'data-tooltip-id': id });\n    };\n    Tooltip.prototype.removeDescribedBy = function (target) {\n        var id = target.getAttribute('data-tooltip-id');\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        var index = describedby.indexOf(id);\n        if (index !== -1) {\n            describedby.splice(index, 1);\n        }\n        target.removeAttribute('data-tooltip-id');\n        var orgdescribedby = describedby.join(' ').trim();\n        if (orgdescribedby) {\n            target.setAttribute('aria-describedby', orgdescribedby);\n        }\n        else {\n            target.removeAttribute('aria-describedby');\n        }\n    };\n    Tooltip.prototype.tapHoldHandler = function (evt) {\n        clearTimeout(this.autoCloseTimer);\n        this.targetHover(evt.originalEvent);\n    };\n    Tooltip.prototype.touchEndHandler = function (e) {\n        var _this = this;\n        if (this.isSticky) {\n            return;\n        }\n        var close = function () {\n            _this.close();\n        };\n        this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n    };\n    Tooltip.prototype.targetClick = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        if (target.getAttribute('data-tooltip-id') === null) {\n            this.targetHover(e);\n        }\n        else if (!this.isSticky) {\n            this.hideTooltip(this.animation.close, e, target);\n        }\n    };\n    Tooltip.prototype.targetHover = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target) || target.getAttribute('data-tooltip-id') !== null) {\n            return;\n        }\n        var targetList = [].slice.call(document.querySelectorAll('[data-tooltip-id= ' + this.ctrlId + '_content]'));\n        for (var _i = 0, targetList_1 = targetList; _i < targetList_1.length; _i++) {\n            var target_1 = targetList_1[_i];\n            this.restoreElement(target_1);\n        }\n        this.showTooltip(target, this.animation.open, e);\n        this.wireMouseEvents(e, target);\n    };\n    Tooltip.prototype.showTooltip = function (target, showAnimation, e) {\n        var _this = this;\n        clearTimeout(this.showTimer);\n        clearTimeout(this.hideTimer);\n        this.tooltipEventArgs = e ? { type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle } :\n            { type: null, cancel: false, target: target, event: null, element: this.tooltipEle };\n        this.trigger('beforeRender', this.tooltipEventArgs);\n        if (this.tooltipEventArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            return;\n        }\n        this.isHidden = false;\n        if (isNullOrUndefined(this.tooltipEle)) {\n            this.ctrlId = this.element.getAttribute('id') ? getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n            this.tooltipEle = this.createElement('div', {\n                className: TOOLTIP_WRAP + ' ' + POPUP_ROOT, attrs: {\n                    role: 'tooltip', 'aria-hidden': 'false', 'id': this.ctrlId + '_content'\n                }, styles: 'width:' + formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n            });\n            if (this.cssClass) {\n                addClass([this.tooltipEle], this.cssClass.split(' '));\n            }\n            if (Browser.isDevice) {\n                addClass([this.tooltipEle], DEVICE);\n            }\n            if (this.width !== 'auto') {\n                this.tooltipEle.style.maxWidth = formatUnit(this.width);\n            }\n            this.tooltipEle.appendChild(this.createElement('div', { className: CONTENT }));\n            document.body.appendChild(this.tooltipEle);\n            this.addDescribedBy(target, this.ctrlId + '_content');\n            this.renderContent(target);\n            addClass([this.tooltipEle], POPUP_OPEN);\n            if (this.showTipPointer) {\n                this.renderArrow();\n            }\n            this.renderCloseIcon();\n            this.renderPopup(target);\n        }\n        else {\n            this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n            this.addDescribedBy(target, this.ctrlId + '_content');\n            this.renderContent(target);\n            PopupAnimation.stop(this.tooltipEle);\n            this.reposition(target);\n        }\n        removeClass([this.tooltipEle], POPUP_OPEN);\n        addClass([this.tooltipEle], POPUP_CLOSE);\n        this.tooltipEventArgs = e ? { type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle } :\n            { type: null, cancel: false, target: target, event: null, element: this.tooltipEle };\n        this.trigger('beforeOpen', this.tooltipEventArgs);\n        if (this.tooltipEventArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            return;\n        }\n        var openAnimation = {\n            name: showAnimation.effect, duration: showAnimation.duration, delay: showAnimation.delay, timingFunction: 'easeOut'\n        };\n        if (showAnimation.effect === 'None') {\n            openAnimation = undefined;\n        }\n        if (this.openDelay > 0) {\n            var show = function () {\n                if (_this.popupObj) {\n                    _this.popupObj.show(openAnimation, target);\n                }\n            };\n            this.showTimer = setTimeout(show, this.openDelay);\n        }\n        else {\n            this.popupObj.show(openAnimation, target);\n        }\n    };\n    Tooltip.prototype.checkCollision = function (target, x, y) {\n        var elePos = {\n            left: x, top: y, position: this.position,\n            horizontal: this.tooltipPositionX, vertical: this.tooltipPositionY\n        };\n        var affectedPos = isCollide(this.tooltipEle, (this.target ? this.element : null), x, y);\n        if (affectedPos.length > 0) {\n            elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'Right' : affectedPos.indexOf('right') >= 0 ? 'Left' :\n                this.tooltipPositionX;\n            elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'Bottom' : affectedPos.indexOf('bottom') >= 0 ? 'Top' :\n                this.tooltipPositionY;\n        }\n        return elePos;\n    };\n    Tooltip.prototype.collisionFlipFit = function (target, x, y) {\n        var elePos = this.checkCollision(target, x, y);\n        var newpos = elePos.position;\n        if (this.tooltipPositionY !== elePos.vertical) {\n            newpos = ((this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + this.tooltipPositionX : this.tooltipPositionX + elePos.vertical);\n        }\n        if (this.tooltipPositionX !== elePos.horizontal) {\n            if (newpos.indexOf('Left') === 0) {\n                elePos.vertical = (newpos === 'LeftTop' || newpos === 'LeftCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Left');\n            }\n            if (newpos.indexOf('Right') === 0) {\n                elePos.vertical = (newpos === 'RightTop' || newpos === 'RightCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Right');\n            }\n            elePos.horizontal = this.tooltipPositionX;\n        }\n        this.tooltipEventArgs = {\n            type: null, cancel: false, target: target, event: null,\n            element: this.tooltipEle, collidedPosition: newpos\n        };\n        this.trigger('beforeCollision', this.tooltipEventArgs);\n        if (elePos.position !== newpos) {\n            var pos = calculatePosition(target, this.tooltipPositionX, elePos.vertical);\n            this.adjustArrow(target, newpos, elePos.horizontal, elePos.vertical);\n            var offsetPos = this.calculateTooltipOffset(newpos);\n            elePos.position = newpos;\n            elePos.left = pos.left + offsetPos.left;\n            elePos.top = pos.top + offsetPos.top;\n        }\n        else {\n            this.adjustArrow(target, newpos, elePos.horizontal, elePos.vertical);\n        }\n        var eleOffset = { left: elePos.left, top: elePos.top };\n        var left = fit(this.tooltipEle, (this.target ? this.element : null), { X: true, Y: false }, eleOffset).left;\n        if (this.showTipPointer && (newpos.indexOf('Bottom') === 0 || newpos.indexOf('Top') === 0)) {\n            var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n            var arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n            if (arrowleft < 0) {\n                arrowleft = 0;\n            }\n            else if ((arrowleft + arrowEle.offsetWidth) > this.tooltipEle.clientWidth) {\n                arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n            }\n            arrowEle.style.left = arrowleft.toString() + 'px';\n        }\n        eleOffset.left = left;\n        return eleOffset;\n    };\n    Tooltip.prototype.hideTooltip = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        var target;\n        if (e) {\n            target = this.target ? (targetElement || e.target) : this.element;\n            this.tooltipEventArgs = {\n                type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle\n            };\n        }\n        else {\n            target = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n            this.tooltipEventArgs = {\n                type: null, cancel: false, target: target, event: null, element: this.tooltipEle\n            };\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        this.trigger('beforeClose', this.tooltipEventArgs);\n        if (!this.tooltipEventArgs.cancel) {\n            this.restoreElement(target);\n            this.isHidden = true;\n            var closeAnimation_1 = {\n                name: hideAnimation.effect, duration: hideAnimation.duration, delay: hideAnimation.delay, timingFunction: 'easeIn'\n            };\n            if (hideAnimation.effect === 'None') {\n                closeAnimation_1 = undefined;\n            }\n            if (this.closeDelay > 0) {\n                var hide = function () {\n                    if (_this.popupObj) {\n                        _this.popupObj.hide(closeAnimation_1);\n                    }\n                };\n                this.hideTimer = setTimeout(hide, this.closeDelay);\n            }\n            else {\n                this.popupObj.hide(closeAnimation_1);\n            }\n        }\n        else {\n            this.isHidden = false;\n        }\n    };\n    Tooltip.prototype.restoreElement = function (target) {\n        this.unwireMouseEvents(target);\n        if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n            target.setAttribute('title', target.getAttribute('data-content'));\n            target.removeAttribute('data-content');\n        }\n        this.removeDescribedBy(target);\n    };\n    Tooltip.prototype.clear = function () {\n        if (this.tooltipEle) {\n            removeClass([this.tooltipEle], POPUP_CLOSE);\n            addClass([this.tooltipEle], POPUP_OPEN);\n        }\n        if (this.isHidden) {\n            if (this.popupObj) {\n                this.popupObj.destroy();\n            }\n            if (this.tooltipEle) {\n                remove(this.tooltipEle);\n            }\n            this.tooltipEle = null;\n            this.popupObj = null;\n        }\n    };\n    Tooltip.prototype.onMouseOut = function (e) {\n        this.hideTooltip(this.animation.close, e);\n    };\n    Tooltip.prototype.onStickyClose = function (e) {\n        this.close();\n    };\n    Tooltip.prototype.onMouseMove = function (event) {\n        var eventPageX = 0;\n        var eventPageY = 0;\n        if (event.type.indexOf('touch') > -1) {\n            event.preventDefault();\n            eventPageX = event.touches[0].pageX;\n            eventPageY = event.touches[0].pageY;\n        }\n        else {\n            eventPageX = event.pageX;\n            eventPageY = event.pageY;\n        }\n        PopupAnimation.stop(this.tooltipEle);\n        removeClass([this.tooltipEle], POPUP_CLOSE);\n        addClass([this.tooltipEle], POPUP_OPEN);\n        this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n        var pos = this.calculateTooltipOffset(this.position);\n        var x = eventPageX + pos.left + this.offsetX;\n        var y = eventPageY + pos.top + this.offsetY;\n        var elePos = this.checkCollision(event.target, x, y);\n        if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n            var newpos = (this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + elePos.horizontal : elePos.horizontal + elePos.vertical;\n            elePos.position = newpos;\n            this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n            var colpos = this.calculateTooltipOffset(elePos.position);\n            elePos.left = eventPageX + colpos.left - this.offsetX;\n            elePos.top = eventPageY + colpos.top - this.offsetY;\n        }\n        this.tooltipEle.style.left = elePos.left + 'px';\n        this.tooltipEle.style.top = elePos.top + 'px';\n    };\n    Tooltip.prototype.keyDown = function (event) {\n        if (this.tooltipEle && event.keyCode === 27) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.touchEnd = function (e) {\n        if (this.tooltipEle && closest(e.target, '.' + ROOT) === null) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.scrollHandler = function (e) {\n        if (this.tooltipEle) {\n            this.close();\n        }\n    };\n    /**\n     * Core method that initializes the control rendering.\n     * @private\n     */\n    Tooltip.prototype.render = function () {\n        this.initialize();\n        this.wireEvents(this.opensOn);\n    };\n    /**\n     * Initializes the values of private members.\n     * @private\n     */\n    Tooltip.prototype.preRender = function () {\n        this.tipClass = TIP_BOTTOM;\n        this.tooltipPositionX = 'Center';\n        this.tooltipPositionY = 'Top';\n        this.isHidden = true;\n    };\n    /**\n     * Binding events to the Tooltip element.\n     * @hidden\n     */\n    Tooltip.prototype.wireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_1 = triggerList; _i < triggerList_1.length; _i++) {\n            var opensOn = triggerList_1[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.wireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    this.touchModule = new Touch(this.element, {\n                        tapHoldThreshold: TAPHOLD_THRESHOLD,\n                        tapHold: this.tapHoldHandler.bind(this)\n                    });\n                    EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n                }\n                else {\n                    EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n                }\n            }\n        }\n        EventHandler.add(document, 'touchend', this.touchEnd, this);\n        EventHandler.add(document, 'scroll', this.scrollHandler, this);\n        EventHandler.add(document, 'keydown', this.keyDown, this);\n    };\n    Tooltip.prototype.getTriggerList = function (trigger) {\n        if (trigger === 'Auto') {\n            trigger = (Browser.isDevice) ? 'Hover' : 'Hover Focus';\n        }\n        return trigger.split(' ');\n    };\n    Tooltip.prototype.wireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(this.element.querySelectorAll(this.target));\n            for (var _i = 0, targetList_2 = targetList; _i < targetList_2.length; _i++) {\n                var target = targetList_2[_i];\n                EventHandler.add(target, 'focus', this.targetHover, this);\n            }\n        }\n        else {\n            EventHandler.add(this.element, 'focus', this.targetHover, this);\n        }\n    };\n    Tooltip.prototype.wireMouseEvents = function (e, target) {\n        if (this.tooltipEle) {\n            if (!this.isSticky) {\n                if (e.type === 'focus') {\n                    EventHandler.add(target, 'blur', this.onMouseOut, this);\n                }\n                if (e.type === 'mouseover') {\n                    EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n                }\n            }\n            if (this.mouseTrail) {\n                EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n            }\n        }\n    };\n    /**\n     * Unbinding events from the element on widget destroy.\n     * @hidden\n     */\n    Tooltip.prototype.unwireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_2 = triggerList; _i < triggerList_2.length; _i++) {\n            var opensOn = triggerList_2[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.unwireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    if (this.touchModule) {\n                        this.touchModule.destroy();\n                    }\n                    EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n                }\n                else {\n                    EventHandler.remove(this.element, 'mouseover', this.targetHover);\n                }\n            }\n        }\n        EventHandler.remove(document, 'touchend', this.touchEnd);\n        EventHandler.remove(document, 'scroll', this.scrollHandler);\n        EventHandler.remove(document, 'keydown', this.keyDown);\n    };\n    Tooltip.prototype.unwireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(this.element.querySelectorAll(this.target));\n            for (var _i = 0, targetList_3 = targetList; _i < targetList_3.length; _i++) {\n                var target = targetList_3[_i];\n                EventHandler.remove(target, 'focus', this.targetHover);\n            }\n        }\n        else {\n            EventHandler.remove(this.element, 'focus', this.targetHover);\n        }\n    };\n    Tooltip.prototype.unwireMouseEvents = function (target) {\n        if (!this.isSticky) {\n            var triggerList = this.getTriggerList(this.opensOn);\n            for (var _i = 0, triggerList_3 = triggerList; _i < triggerList_3.length; _i++) {\n                var opensOn = triggerList_3[_i];\n                if (opensOn === 'Focus') {\n                    EventHandler.remove(target, 'blur', this.onMouseOut);\n                }\n                if (opensOn === 'Hover' && !Browser.isDevice) {\n                    EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n                }\n            }\n        }\n        if (this.mouseTrail) {\n            EventHandler.remove(target, 'mousemove touchstart mouseenter', this.onMouseMove);\n        }\n    };\n    /**\n     * Core method to return the component name.\n     * @private\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'tooltip';\n    };\n    /**\n     * Returns the properties to be maintained in the persisted state.\n     * @private\n     */\n    Tooltip.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     * @private\n     */\n    Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    if (this.tooltipEle) {\n                        this.tooltipEle.style.width = formatUnit(newProp.width);\n                    }\n                    break;\n                case 'height':\n                    if (this.tooltipEle) {\n                        this.tooltipEle.style.height = formatUnit(newProp.height);\n                    }\n                    break;\n                case 'content':\n                    if (this.tooltipEle) {\n                        this.renderContent();\n                    }\n                    break;\n                case 'opensOn':\n                    this.unwireEvents(oldProp.opensOn);\n                    this.wireEvents(newProp.opensOn);\n                    break;\n                case 'position':\n                    this.formatPosition();\n                    var target = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n                    if (this.tooltipEle && target) {\n                        var arrowInnerELe = this.tooltipEle.querySelector('.' + ARROW_TIP_INNER);\n                        arrowInnerELe.style.top = arrowInnerELe.style.left = null;\n                        this.reposition(target);\n                    }\n                    break;\n                case 'tipPointerPosition':\n                    var trgt = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n                    if (this.tooltipEle && trgt) {\n                        this.reposition(trgt);\n                    }\n                    break;\n                case 'offsetX':\n                    if (this.tooltipEle) {\n                        var x = newProp.offsetX - oldProp.offsetX;\n                        this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + (x)).toString() + 'px';\n                    }\n                    break;\n                case 'offsetY':\n                    if (this.tooltipEle) {\n                        var y = newProp.offsetY - oldProp.offsetY;\n                        this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + (y)).toString() + 'px';\n                    }\n                    break;\n                case 'cssClass':\n                    if (this.tooltipEle) {\n                        if (oldProp.cssClass) {\n                            removeClass([this.tooltipEle], oldProp.cssClass.split(' '));\n                        }\n                        if (newProp.cssClass) {\n                            addClass([this.tooltipEle], newProp.cssClass.split(' '));\n                        }\n                    }\n                    break;\n                case 'enableRtl':\n                    if (this.tooltipEle) {\n                        if (this.enableRtl) {\n                            addClass([this.tooltipEle], RTL);\n                        }\n                        else {\n                            removeClass([this.tooltipEle], RTL);\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * It is used to show the Tooltip on the specified target with specific animation settings.\n     * @param element Target element where the Tooltip is to be displayed.\n     * @param animation Sets the specific animation, while showing the Tooltip on the screen.\n     * @return {void}\n     */\n    Tooltip.prototype.open = function (element, animation) {\n        if (animation === void 0) { animation = this.animation.open; }\n        if (element.style.display === 'none') {\n            return;\n        }\n        this.showTooltip(element, animation);\n    };\n    /**\n     * It is used to hide the Tooltip with specific animation effect.\n     * @param animation Sets the specific animation when hiding Tooltip from the screen.\n     * @return {void}\n     */\n    Tooltip.prototype.close = function (animation) {\n        if (animation === void 0) { animation = this.animation.close; }\n        this.hideTooltip(animation);\n    };\n    /**\n     * It is used to refresh the Tooltip content and its position.\n     * @param target Target element where the Tooltip content or position needs to be refreshed.\n     * @return {void}\n     */\n    Tooltip.prototype.refresh = function (target) {\n        if (this.tooltipEle) {\n            this.renderContent(target);\n        }\n        if (this.popupObj && target) {\n            this.reposition(target);\n        }\n    };\n    /**\n     * It is used to destroy the Tooltip component.\n     * @method destroy\n     * @return {void}\n     * @memberof Tooltip\n     */\n    Tooltip.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], ROOT);\n        this.unwireEvents(this.opensOn);\n        if (this.popupObj) {\n            this.popupObj.destroy();\n        }\n        if (this.tooltipEle) {\n            remove(this.tooltipEle);\n        }\n        this.tooltipEle = null;\n        this.popupObj = null;\n    };\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"height\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"target\", void 0);\n    __decorate([\n        Property('TopCenter')\n    ], Tooltip.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"showTipPointer\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"tipPointerPosition\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"opensOn\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"mouseTrail\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isSticky\", void 0);\n    __decorate([\n        Complex({}, Animation)\n    ], Tooltip.prototype, \"animation\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"openDelay\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"closeDelay\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeRender\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeCollision\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"destroyed\", void 0);\n    Tooltip = __decorate([\n        NotifyPropertyChanges\n    ], Tooltip);\n    return Tooltip;\n}(Component));\nexport { Tooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, isVisible, closest, attributes, detach, classList, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { selectAll, setStyleAttribute as setStyle } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, getUniqueID, formatUnit, Collection, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Browser } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { calculatePosition } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { HScroll } from '../common/h-scroll';\nvar CLS_ITEMS = 'e-toolbar-items';\nvar CLS_ITEM = 'e-toolbar-item';\nvar CLS_RTL = 'e-rtl';\nvar CLS_SEPARATOR = 'e-separator';\nvar CLS_POPUPICON = 'e-popup-up-icon';\nvar CLS_POPUPDOWN = 'e-popup-down-icon';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_POPUPTEXT = 'e-toolbar-text';\nvar CLS_TBARTEXT = 'e-popup-text';\nvar CLS_TBAROVERFLOW = 'e-overflow-show';\nvar CLS_POPOVERFLOW = 'e-overflow-hide';\nvar CLS_TBARBTN = 'e-tbar-btn';\nvar CLS_TBARNAV = 'e-hor-nav';\nvar CLS_TBARSCRLNAV = 'e-scroll-nav';\nvar CLS_TBARRIGHT = 'e-toolbar-right';\nvar CLS_TBARLEFT = 'e-toolbar-left';\nvar CLS_TBARCENTER = 'e-toolbar-center';\nvar CLS_TBARPOS = 'e-tbar-pos';\nvar CLS_TBARSCROLL = 'e-hscroll-content';\nvar CLS_POPUPNAV = 'e-hor-nav';\nvar CLS_POPUPCLASS = 'e-toolbar-pop';\nvar CLS_POPUP = 'e-toolbar-popup';\nvar CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nvar CLS_TBARNAVACT = 'e-nav-active';\nvar CLS_TBARIGNORE = 'e-ignore';\nvar CLS_POPPRI = 'e-popup-alone';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_MULTIROW = 'e-toolbar-multirow';\nvar CLS_MULTIROW_SEPARATOR = 'e-multirow-separator';\nvar CLS_EXTENDABLE_ITEM = 'e-extended-item';\nvar CLS_EXTENDABLE_SEPARATOR = 'e-extended-separator';\nvar CLS_EXTEANDABLE_TOOLBAR = 'e-extended-toolbar';\nvar CLS_EXTENDABLECLASS = 'e-toolbar-extended';\nvar CLS_EXTENDPOPUP = 'e-expended-nav';\nvar CLS_EXTENDEDPOPOPEN = 'e-tbar-extended';\n/**\n * An item object that is used to configure Toolbar commands.\n */\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('auto')\n    ], Item.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"showAlwaysInPopup\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"prefixIcon\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"suffixIcon\", void 0);\n    __decorate([\n        Property('None')\n    ], Item.prototype, \"overflow\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"template\", void 0);\n    __decorate([\n        Property('Button')\n    ], Item.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], Item.prototype, \"showTextOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Item.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"tooltipText\", void 0);\n    __decorate([\n        Property('Left')\n    ], Item.prototype, \"align\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    /**\n     * Initializes a new instance of the Toolbar class.\n     * @param options  - Specifies Toolbar model properties as options.\n     * @param element  - Specifies the element that is rendered as a Toolbar.\n     */\n    function Toolbar(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Toolbar.\n         */\n        _this.keyConfigs = {\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            popupOpen: 'enter',\n            popupClose: 'escape',\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void.\n     */\n    Toolbar.prototype.destroy = function () {\n        var _this = this;\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        this.tempId.forEach(function (ele) {\n            if (!isNOU(_this.element.querySelector(ele))) {\n                document.body.appendChild(_this.element.querySelector(ele)).style.display = 'none';\n            }\n        });\n        while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n        }\n        if (this.trgtEle) {\n            ele.appendChild(this.ctrlTem);\n        }\n        this.clearProperty();\n        this.popObj = null;\n        this.tbarAlign = null;\n        this.remove(this.element, 'e-toolpop');\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-orientation', 'aria-haspopup', 'role'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Toolbar.prototype.preRender = function () {\n        var eventArgs = { enableCollision: true, scrollStep: this.scrollStep };\n        this.trigger('beforeCreate', eventArgs);\n        this.enableCollision = eventArgs.enableCollision;\n        this.scrollStep = eventArgs.scrollStep;\n        this.scrollModule = null;\n        this.popObj = null;\n        this.tempId = [];\n        this.tbarItemsCol = this.items;\n        this.popupPriCount = 0;\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n    };\n    Toolbar.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resize.bind(this));\n        this.keyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs\n        });\n        EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n        this.element.setAttribute('tabIndex', '0');\n    };\n    Toolbar.prototype.docKeyDown = function (e) {\n        if (e.target.tagName === 'INPUT') {\n            return;\n        }\n        var popCheck = !isNOU(this.popObj) && isVisible(this.popObj.element) && this.overflowMode !== 'Extended';\n        if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && popCheck) {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        var keyCheck = (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36);\n        if (keyCheck) {\n            e.preventDefault();\n        }\n    };\n    Toolbar.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        this.destroyHScroll();\n        this.keyModule.destroy();\n        EventHandler.remove(document, 'scroll', this.docEvent);\n        EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n        EventHandler.remove(document, 'click', this.docEvent);\n    };\n    Toolbar.prototype.clearProperty = function () {\n        this.tbarEle = [];\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n    };\n    Toolbar.prototype.docEvent = function (e) {\n        var popEle = closest(e.target, '.e-popup');\n        if (this.popObj && isVisible(this.popObj.element) && !popEle && this.overflowMode === 'Popup') {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n    };\n    Toolbar.prototype.destroyHScroll = function () {\n        if (this.scrollModule) {\n            if (this.tbarAlign) {\n                this.add(this.scrollModule.element, CLS_TBARPOS);\n            }\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Toolbar.prototype.destroyItems = function () {\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) {\n            detach(el);\n        });\n        var tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n        if (this.tbarAlign) {\n            [].slice.call(tbarItems.children).forEach(function (el) {\n                detach(el);\n            });\n            this.tbarAlign = false;\n            this.remove(tbarItems, CLS_TBARPOS);\n        }\n        this.clearProperty();\n    };\n    Toolbar.prototype.destroyMode = function () {\n        if (this.scrollModule) {\n            this.remove(this.scrollModule.element, CLS_RTL);\n            this.destroyHScroll();\n        }\n        this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        if (this.popObj) {\n            this.popupRefresh(this.popObj.element, true);\n        }\n    };\n    Toolbar.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Toolbar.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    Toolbar.prototype.elementFocus = function (ele) {\n        var fChild = ele.firstElementChild;\n        if (fChild) {\n            fChild.focus();\n            this.activeEleSwitch(ele);\n        }\n        else {\n            ele.focus();\n        }\n    };\n    Toolbar.prototype.clstElement = function (tbrNavChk, trgt) {\n        var clst;\n        if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n            clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n        }\n        else if (this.element === trgt || tbrNavChk) {\n            clst = this.element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_DISABLE + ' ):not(.' + CLS_SEPARATOR + ' )');\n        }\n        else {\n            clst = closest(trgt, '.' + CLS_ITEM);\n        }\n        return clst;\n    };\n    Toolbar.prototype.keyHandling = function (clst, e, trgt, navChk, scrollChk) {\n        var popObj = this.popObj;\n        var rootEle = this.element;\n        var popAnimate = { name: 'FadeOut', duration: 100 };\n        switch (e.action) {\n            case 'moveRight':\n                if (rootEle === trgt) {\n                    this.elementFocus(clst);\n                }\n                else if (!navChk) {\n                    this.eleFocus(clst, 'next');\n                }\n                break;\n            case 'moveLeft':\n                if (!navChk) {\n                    this.eleFocus(clst, 'previous');\n                }\n                break;\n            case 'home':\n            case 'end':\n                var ele = void 0;\n                var nodes = void 0;\n                if (clst) {\n                    var popupCheck = closest(clst, '.e-popup');\n                    if (popupCheck) {\n                        if (isVisible(this.popObj.element)) {\n                            nodes = popupCheck.children;\n                            if (e.action === 'home') {\n                                ele = nodes[0];\n                            }\n                            else {\n                                ele = nodes[nodes.length - 1];\n                            }\n                        }\n                    }\n                    else {\n                        nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM);\n                        if (e.action === 'home') {\n                            ele = nodes[0];\n                        }\n                        else {\n                            ele = nodes[nodes.length - 1];\n                        }\n                    }\n                    if (ele) {\n                        this.elementFocus(ele);\n                    }\n                }\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                var value = e.action === 'moveUp' ? 'previous' : 'next';\n                if (popObj && closest(trgt, '.e-popup')) {\n                    var popEle = popObj.element;\n                    var popFrstEle = popEle.firstElementChild;\n                    if ((value === 'previous' && popFrstEle === clst) || (value === 'next' && popEle.lastElementChild === clst)) {\n                        return;\n                    }\n                    else {\n                        this.eleFocus(clst, value);\n                    }\n                }\n                else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n                    this.elementFocus(clst);\n                }\n                break;\n            case 'tab':\n                if (!scrollChk && !navChk) {\n                    var ele_1 = clst.firstElementChild;\n                    if (rootEle === trgt) {\n                        if (this.activeEle) {\n                            this.activeEle.focus();\n                        }\n                        else {\n                            this.activeEleRemove(ele_1);\n                            ele_1.focus();\n                        }\n                        this.element.removeAttribute('tabindex');\n                    }\n                }\n                break;\n            case 'popupClose':\n                if (popObj && this.overflowMode !== 'Extended') {\n                    popObj.hide(popAnimate);\n                }\n                break;\n            case 'popupOpen':\n                if (!navChk) {\n                    return;\n                }\n                if (popObj && !isVisible(popObj.element)) {\n                    popObj.element.style.top = rootEle.offsetHeight + 'px';\n                    popObj.show({ name: 'FadeIn', duration: 100 });\n                }\n                else {\n                    popObj.hide(popAnimate);\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        if (trgt.tagName === 'INPUT' || trgt.tagName === 'TEXTAREA' || this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        e.preventDefault();\n        var clst;\n        var tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n        var tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n        clst = this.clstElement(tbrNavChk, trgt);\n        if (clst || tbarScrollChk) {\n            this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Toolbar component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, Toolbar will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    Toolbar.prototype.disable = function (value) {\n        var rootEle = this.element;\n        value ? rootEle.classList.add(CLS_DISABLE) : rootEle.classList.remove(CLS_DISABLE);\n        rootEle.setAttribute('tabindex', !value ? '0' : '-1');\n        if (this.activeEle) {\n            this.activeEle.setAttribute('tabindex', !value ? '0' : '-1');\n        }\n        if (this.scrollModule) {\n            this.scrollModule.disable(value);\n        }\n        if (this.popObj) {\n            if (isVisible(this.popObj.element) && this.overflowMode !== 'Extended') {\n                this.popObj.hide();\n            }\n            rootEle.querySelector('#' + rootEle.id + '_nav').setAttribute('tabindex', !value ? '0' : '-1');\n        }\n    };\n    Toolbar.prototype.eleFocus = function (closest, pos) {\n        var sib = Object(closest)[pos + 'ElementSibling'];\n        var contains = function (el) {\n            return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE);\n        };\n        if (sib) {\n            var skipEle = contains(sib);\n            if (skipEle) {\n                if (Object(sib)[pos + 'ElementSibling']) {\n                    sib = Object(sib)[pos + 'ElementSibling'];\n                    skipEle = contains(sib);\n                    if (skipEle) {\n                        this.eleFocus(sib, pos);\n                        return;\n                    }\n                }\n                else {\n                    return;\n                }\n            }\n            this.elementFocus(sib);\n        }\n        else if (this.tbarAlign) {\n            var elem = Object(closest.parentElement)[pos + 'ElementSibling'];\n            if (!isNOU(elem) && elem.children.length === 0) {\n                elem = Object(elem)[pos + 'ElementSibling'];\n            }\n            if (!isNOU(elem) && elem.children.length > 0) {\n                if (pos === 'next') {\n                    var el = elem.querySelector('.' + CLS_ITEM);\n                    if (contains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        el.firstElementChild.focus();\n                        this.activeEleSwitch(el);\n                    }\n                }\n                else {\n                    var el = elem.lastElementChild;\n                    if (contains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        this.elementFocus(el);\n                    }\n                }\n            }\n        }\n    };\n    Toolbar.prototype.clickHandler = function (e) {\n        var trgt = e.target;\n        var clsList = trgt.classList;\n        var ele = this.element;\n        var isPopupElement = !isNOU(closest(trgt, '.' + CLS_POPUPCLASS));\n        var popupNav = closest(trgt, ('.' + CLS_TBARNAV));\n        if (!popupNav) {\n            popupNav = trgt;\n        }\n        if (!ele.children[0].classList.contains('e-hscroll') && (clsList.contains(CLS_TBARNAV))) {\n            clsList = trgt.querySelector('.e-icons').classList;\n        }\n        if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n            this.popupClickHandler(ele, popupNav, CLS_RTL);\n        }\n        var itemObj;\n        var clst = closest(e.target, '.' + CLS_ITEM);\n        if ((isNOU(clst) || clst.classList.contains(CLS_DISABLE)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n            return;\n        }\n        if (clst) {\n            itemObj = this.items[this.tbarEle.indexOf(clst)];\n        }\n        var eventArgs = { originalEvent: e, item: itemObj };\n        this.trigger('clicked', eventArgs);\n        if (!isNOU(this.popObj) && isPopupElement && !eventArgs.cancel && this.overflowMode === 'Popup') {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n    };\n    ;\n    Toolbar.prototype.popupClickHandler = function (ele, popupNav, CLS_RTL) {\n        var popObj = this.popObj;\n        if (isVisible(popObj.element)) {\n            popupNav.classList.remove(CLS_TBARNAVACT);\n            popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        else {\n            if (ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = true;\n                popObj.position = { X: 'left', Y: 'top' };\n            }\n            if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = false;\n                popObj.position = { X: 'right', Y: 'top' };\n            }\n            popObj.dataBind();\n            popObj.refreshPosition();\n            popObj.element.style.top = this.element.offsetHeight + 'px';\n            if (this.overflowMode === 'Extended') {\n                popObj.element.style.minHeight = '0px';\n            }\n            popupNav.classList.add(CLS_TBARNAVACT);\n            popObj.show({ name: 'FadeIn', duration: 100 });\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Toolbar.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.separator();\n        this.wireEvents();\n    };\n    Toolbar.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        if (Browser.info.name !== 'msie' || this.height !== 'auto' || this.overflowMode === 'MultiRow') {\n            setStyle(this.element, { 'height': height });\n        }\n        setStyle(this.element, { 'width': width });\n        var ariaAttr = {\n            'role': 'toolbar', 'aria-disabled': 'false', 'aria-haspopup': 'false', 'aria-orientation': 'horizontal',\n        };\n        attributes(this.element, ariaAttr);\n    };\n    Toolbar.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? this.element.querySelector('div') : null;\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n        this.renderItems();\n        this.renderOverflowMode();\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n            this.popupRefresh(this.popObj.element, false);\n        }\n    };\n    Toolbar.prototype.initHScroll = function (element, innerItems) {\n        if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n            if (this.tbarAlign) {\n                this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n            }\n            this.scrollModule = new HScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl });\n            this.scrollModule.createElement = this.createElement;\n            this.scrollModule.appendTo(innerItems[0]);\n            this.remove(this.scrollModule.element, CLS_TBARPOS);\n            setStyle(this.element, { overflow: 'hidden' });\n        }\n    };\n    Toolbar.prototype.itemWidthCal = function (items) {\n        var width = 0;\n        var style;\n        [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach(function (el) {\n            if (isVisible(el)) {\n                style = window.getComputedStyle(el);\n                width += (el.offsetWidth + parseFloat(style.marginRight) + parseFloat(style.marginLeft));\n            }\n        });\n        return width;\n    };\n    Toolbar.prototype.checkOverflow = function (element, innerItem) {\n        if (isNOU(element) || isNOU(innerItem) || !isVisible(element)) {\n            return false;\n        }\n        var eleWidth = element.offsetWidth;\n        var itemWidth = innerItem.offsetWidth;\n        if (this.tbarAlign || this.scrollModule || (eleWidth === itemWidth)) {\n            itemWidth = this.itemWidthCal(this.scrollModule ? innerItem.querySelector('.e-hscroll-content') : innerItem);\n        }\n        var popNav = element.querySelector('.' + CLS_TBARNAV);\n        var scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n        if (itemWidth > eleWidth - (popNav ? popNav.offsetWidth : (scrollNav ? scrollNav.offsetWidth * 2 : 0))) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /** @hidden */\n    Toolbar.prototype.refreshOverflow = function () {\n        this.resize();\n    };\n    Toolbar.prototype.renderOverflowMode = function () {\n        var ele = this.element;\n        var innerItems = ele.querySelector('.' + CLS_ITEMS);\n        var priorityCheck = this.popupPriCount > 0;\n        if (ele && ele.children.length > 0) {\n            this.offsetWid = ele.offsetWidth;\n            this.remove(this.element, 'e-toolpop');\n            if (Browser.info.name === 'msie' && this.height === 'auto') {\n                ele.style.height = '';\n            }\n            switch (this.overflowMode) {\n                case 'Scrollable':\n                    if (isNOU(this.scrollModule)) {\n                        this.initHScroll(ele, ele.getElementsByClassName(CLS_ITEMS));\n                    }\n                    break;\n                case 'Popup':\n                    this.add(this.element, 'e-toolpop');\n                    if (this.tbarAlign) {\n                        this.removePositioning();\n                    }\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n                        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n                    }\n                    if (this.tbarAlign) {\n                        this.add(innerItems, CLS_TBARPOS);\n                        this.itemPositioning();\n                    }\n                    break;\n                case 'MultiRow':\n                    this.add(innerItems, CLS_MULTIROW);\n                    if (ele.style.overflow === 'hidden') {\n                        ele.style.overflow = '';\n                    }\n                    if (Browser.info.name === 'msie' || ele.style.height !== 'auto') {\n                        ele.style.height = 'auto';\n                    }\n                    break;\n                case 'Extended':\n                    this.add(this.element, CLS_EXTEANDABLE_TOOLBAR);\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n                        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n                    }\n            }\n        }\n    };\n    Toolbar.prototype.separator = function () {\n        var element = this.element;\n        var eleItem = [].slice.call(element.querySelectorAll('.' + CLS_SEPARATOR));\n        var eleInlineItem;\n        var multiVar = element.querySelector('.' + CLS_MULTIROW_SEPARATOR);\n        var extendVar = element.querySelector('.' + CLS_EXTENDABLE_SEPARATOR);\n        eleInlineItem = this.overflowMode === 'MultiRow' ? multiVar : extendVar;\n        if (eleInlineItem !== null) {\n            if (this.overflowMode === 'MultiRow') {\n                eleInlineItem.classList.remove(CLS_MULTIROW_SEPARATOR);\n            }\n            else if (this.overflowMode === 'Extended') {\n                eleInlineItem.classList.remove(CLS_EXTENDABLE_SEPARATOR);\n            }\n        }\n        for (var i = 0; i <= eleItem.length - 1; i++) {\n            if (eleItem[i].offsetLeft < 30 && eleItem[i].offsetLeft !== 0) {\n                if (this.overflowMode === 'MultiRow') {\n                    eleItem[i].classList.add(CLS_MULTIROW_SEPARATOR);\n                }\n                else if (this.overflowMode === 'Extended') {\n                    eleItem[i].classList.add(CLS_EXTENDABLE_SEPARATOR);\n                }\n            }\n        }\n    };\n    Toolbar.prototype.createPopupEle = function (ele, innerEle) {\n        var innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        if (!innerNav) {\n            this.createPopupIcon(ele);\n        }\n        innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var eleWidth = (ele.offsetWidth - (innerNav.offsetWidth));\n        this.element.classList.remove('e-rtl');\n        setStyle(this.element, { direction: 'initial' });\n        this.checkPriority(ele, innerEle, eleWidth, true);\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        this.element.style.removeProperty('direction');\n        this.createPopup();\n    };\n    Toolbar.prototype.pushingPoppedEle = function (tbarObj, popupPri, ele, eleHeight, sepHeight) {\n        var element = tbarObj.element;\n        var nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n        var nodeIndex = 0;\n        var poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n        var nodePri = 0;\n        poppedEle.forEach(function (el, index) {\n            nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n            if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n                if (tbarObj.tbResize && nodes.length > index) {\n                    ele.insertBefore(el, nodes[index]);\n                    ++nodePri;\n                }\n                else {\n                    ele.insertBefore(el, ele.children[nodes.length]);\n                    ++nodePri;\n                }\n            }\n            else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (el.classList.contains(CLS_POPOVERFLOW)) {\n                popupPri.push(el);\n            }\n            else if (tbarObj.tbResize) {\n                ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n                ++nodeIndex;\n            }\n            else {\n                ele.appendChild(el);\n            }\n            if (el.classList.contains(CLS_SEPARATOR)) {\n                setStyle(el, { display: '', height: sepHeight + 'px' });\n            }\n            else {\n                setStyle(el, { display: '', height: eleHeight + 'px' });\n            }\n        });\n        popupPri.forEach(function (el) {\n            ele.appendChild(el);\n        });\n        var tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n        for (var i = tbarEle.length - 1; i >= 0; i--) {\n            var tbarElement = tbarEle[i];\n            if (tbarElement.classList.contains(CLS_SEPARATOR) && this.overflowMode !== 'Extended') {\n                setStyle(tbarElement, { display: 'none' });\n            }\n            else {\n                break;\n            }\n        }\n    };\n    Toolbar.prototype.createPopup = function () {\n        var element = this.element;\n        var eleHeight;\n        var eleItem;\n        var sepHeight;\n        var sepItem;\n        if (this.overflowMode === 'Extended') {\n            sepItem = element.querySelector('.' + CLS_SEPARATOR + ':not(.' + CLS_POPUP + ' )');\n            sepHeight = (element.style.height === 'auto' || element.style.height === '') ? null : sepItem.offsetHeight;\n        }\n        eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_POPUP + ' )');\n        eleHeight = (element.style.height === 'auto' || element.style.height === '') ? null : eleItem.offsetHeight;\n        var ele;\n        var popupPri = [];\n        if (element.querySelector('#' + element.id + '_popup.' + CLS_POPUPCLASS)) {\n            ele = element.querySelector('#' + element.id + '_popup.' + CLS_POPUPCLASS);\n        }\n        else {\n            var extendEle = this.createElement('div', {\n                id: element.id + '_popup', className: CLS_POPUPCLASS + ' ' + CLS_EXTENDABLECLASS\n            });\n            var popupEle = this.createElement('div', { id: element.id + '_popup', className: CLS_POPUPCLASS });\n            ele = this.overflowMode === 'Extended' ? extendEle : popupEle;\n        }\n        this.pushingPoppedEle(this, popupPri, ele, eleHeight, sepHeight);\n        this.popupInit(element, ele);\n    };\n    Toolbar.prototype.popupInit = function (element, ele) {\n        if (!this.popObj) {\n            element.appendChild(ele);\n            setStyle(this.element, { overflow: '' });\n            var eleStyles = window.getComputedStyle(element);\n            var popup = new Popup(null, {\n                relateTo: this.element,\n                offsetY: parseFloat(eleStyles.height),\n                enableRtl: this.enableRtl,\n                open: this.popupOpen.bind(this),\n                close: this.popupClose.bind(this),\n                collision: { Y: this.enableCollision ? 'flip' : 'none' },\n                position: this.enableRtl ? { X: 'left', Y: 'top' } : { X: 'right', Y: 'top' }\n            });\n            if (this.overflowMode === 'Extended') {\n                popup.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n                popup.offsetX = 0;\n            }\n            popup.appendTo(ele);\n            EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n            EventHandler.add(document, 'click ', this.docEvent.bind(this));\n            popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n            popup.hide();\n            this.popObj = popup;\n            this.element.setAttribute('aria-haspopup', 'true');\n        }\n        else {\n            var popupEle = this.popObj.element;\n            setStyle(popupEle, { maxHeight: '', display: 'block' });\n            setStyle(popupEle, { maxHeight: popupEle.offsetHeight + 'px', display: '' });\n        }\n    };\n    Toolbar.prototype.tbarPopupHandler = function (isOpen) {\n        if (this.overflowMode === 'Extended') {\n            isOpen ? this.add(this.element, CLS_EXTENDEDPOPOPEN) : this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        }\n    };\n    Toolbar.prototype.popupOpen = function (e) {\n        var popObj = this.popObj;\n        var eleStyles = window.getComputedStyle(this.element);\n        popObj.offsetY = parseFloat(eleStyles.height);\n        popObj.dataBind();\n        var popupEle = this.popObj.element;\n        var toolEle = this.popObj.element.parentElement;\n        var popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n        setStyle(popObj.element, { height: 'auto', maxHeight: '' });\n        popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n        if (this.overflowMode === 'Extended') {\n            popObj.element.style.minHeight = '';\n        }\n        var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.add(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n        this.tbarPopupHandler(true);\n        var scrollVal = isNOU(window.scrollY) ? 0 : window.scrollY;\n        if (((window.innerHeight + scrollVal) < popupElePos) && (this.element.offsetTop < popupEle.offsetHeight)) {\n            var overflowHeight = (popupEle.offsetHeight - ((popupElePos - window.innerHeight - scrollVal) + 5));\n            popObj.height = overflowHeight + 'px';\n            for (var i = 0; i <= popupEle.childElementCount; i++) {\n                var ele = popupEle.children[i];\n                if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n                    overflowHeight = ele.offsetTop;\n                    break;\n                }\n            }\n            setStyle(popObj.element, { maxHeight: overflowHeight + 'px' });\n        }\n    };\n    Toolbar.prototype.popupClose = function (e) {\n        var element = this.element;\n        var popupNav = element.querySelector('.' + CLS_TBARNAV);\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.remove(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n        this.tbarPopupHandler(false);\n    };\n    Toolbar.prototype.checkPriority = function (ele, inEle, eleWidth, pre) {\n        var popPriority = this.popupPriCount > 0;\n        var len = inEle.length;\n        var eleWid = eleWidth;\n        var sepCheck = 0;\n        var itemCount = 0;\n        var itemPopCount = 0;\n        var checkClass = function (ele, val) {\n            var rVal = false;\n            val.forEach(function (cls) {\n                if (ele.classList.contains(cls)) {\n                    rVal = true;\n                }\n            });\n            return rVal;\n        };\n        for (var i = len - 1; i >= 0; i--) {\n            var mrgn = parseFloat((window.getComputedStyle(inEle[i])).marginRight);\n            mrgn += parseFloat((window.getComputedStyle(inEle[i])).marginLeft);\n            var fstEleCheck = inEle[i] === this.tbarEle[0];\n            if (fstEleCheck) {\n                this.tbarEleMrgn = mrgn;\n            }\n            var eleWid_1 = fstEleCheck ? (inEle[i].offsetWidth + mrgn) : inEle[i].offsetWidth;\n            if (checkClass(inEle[i], [CLS_POPPRI]) && popPriority) {\n                inEle[i].classList.add(CLS_POPUP);\n                setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                itemPopCount++;\n            }\n            if ((inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn) > eleWidth) {\n                if (inEle[i].classList.contains(CLS_SEPARATOR)) {\n                    if (this.overflowMode === 'Extended') {\n                        if (itemCount === itemPopCount) {\n                            var sepEle = inEle[i];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                inEle[i].classList.add(CLS_POPUP);\n                                itemPopCount++;\n                            }\n                        }\n                        itemCount++;\n                    }\n                    else if (this.overflowMode === 'Popup') {\n                        if (sepCheck > 0 && itemCount === itemPopCount) {\n                            var sepEle = inEle[i + itemCount + (sepCheck - 1)];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                setStyle(sepEle, { display: 'none' });\n                            }\n                        }\n                        sepCheck++;\n                        itemCount = 0;\n                        itemPopCount = 0;\n                    }\n                }\n                else {\n                    itemCount++;\n                }\n                if (inEle[i].classList.contains(CLS_TBAROVERFLOW) && pre) {\n                    eleWidth -= (inEle[i].offsetWidth + (mrgn));\n                }\n                else if (!checkClass(inEle[i], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                    inEle[i].classList.add(CLS_POPUP);\n                    setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                    itemPopCount++;\n                }\n                else {\n                    eleWidth -= (inEle[i].offsetWidth + (mrgn));\n                }\n            }\n        }\n        if (pre) {\n            var popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n            this.checkPriority(ele, popedEle, eleWid, false);\n        }\n    };\n    Toolbar.prototype.createPopupIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n        className = this.overflowMode === 'Extended' ? className + ' ' + CLS_EXTENDPOPUP : className;\n        var nav = this.createElement('div', { id: id, className: className });\n        if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n            nav.classList.add('e-ie-align');\n        }\n        var navItem = this.createElement('div', { className: CLS_POPUPDOWN + ' e-icons' });\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n    };\n    Toolbar.prototype.tbarPriRef = function (inEle, indx, sepPri, el, des, elWid, wid, ig) {\n        var ignoreCount = ig;\n        var popEle = this.popObj.element;\n        var query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n        var priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n        var checkClass = function (ele, val) {\n            return ele.classList.contains(val);\n        };\n        if (selectAll(query, inEle).length === 0) {\n            var eleSep = inEle.children[indx - (indx - sepPri) - 1];\n            var ignoreCheck = (!isNOU(eleSep) && checkClass(eleSep, CLS_TBARIGNORE));\n            if ((!isNOU(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep)) || ignoreCheck) {\n                var sepDisplay = 'none';\n                eleSep.style.display = 'inherit';\n                var eleSepWidth = eleSep.offsetWidth + (parseFloat(window.getComputedStyle(eleSep).marginRight) * 2);\n                var prevSep = eleSep.previousElementSibling;\n                if ((elWid + eleSepWidth) < wid || des) {\n                    inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n                    if (!isNOU(prevSep)) {\n                        prevSep.style.display = '';\n                    }\n                }\n                else {\n                    if (prevSep.classList.contains(CLS_SEPARATOR)) {\n                        prevSep.style.display = sepDisplay;\n                    }\n                }\n                eleSep.style.display = '';\n            }\n            else {\n                inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n            }\n        }\n        else {\n            inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - priEleCnt]);\n        }\n    };\n    Toolbar.prototype.popupRefresh = function (popupEle, destroy) {\n        var _this = this;\n        var ele = this.element;\n        var popNav = ele.querySelector('.' + CLS_TBARNAV);\n        var innerEle = ele.querySelector('.' + CLS_ITEMS);\n        if (isNOU(popNav)) {\n            return;\n        }\n        innerEle.removeAttribute('style');\n        popupEle.style.display = 'block';\n        var width = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n        var popupEleWidth = 0;\n        [].slice.call(popupEle.children).forEach(function (el) {\n            popupEleWidth += _this.popupEleWidth(el);\n            setStyle(el, { 'position': '' });\n        });\n        if ((width + popNav.offsetWidth) > (popupEleWidth) && this.popupPriCount === 0) {\n            destroy = true;\n        }\n        this.popupEleRefresh(width, popupEle, destroy);\n        popupEle.style.display = '';\n        if (popupEle.children.length === 0 && popNav && this.popObj) {\n            detach(popNav);\n            popNav = null;\n            this.popObj.destroy();\n            detach(this.popObj.element);\n            this.popObj = null;\n            ele.setAttribute('aria-haspopup', 'false');\n            ele.classList.remove('e-toolpop');\n        }\n    };\n    Toolbar.prototype.ignoreEleFetch = function (index, innerEle) {\n        var ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n        var ignoreInx = [];\n        var count = 0;\n        if (ignoreEle.length > 0) {\n            ignoreEle.forEach(function (ele) {\n                ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n            });\n        }\n        else {\n            return 0;\n        }\n        ignoreInx.forEach(function (val) {\n            if (val <= index) {\n                count++;\n            }\n        });\n        return count;\n    };\n    Toolbar.prototype.checkPopupRefresh = function (root, popEle) {\n        popEle.style.display = 'block';\n        var elWid = this.popupEleWidth(popEle.firstElementChild);\n        popEle.firstElementChild.style.removeProperty('Position');\n        var tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n        var tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n        popEle.style.removeProperty('display');\n        if (tbarWidth > (elWid + tbarItemsWid)) {\n            return true;\n        }\n        return false;\n    };\n    Toolbar.prototype.popupEleWidth = function (el) {\n        el.style.position = 'absolute';\n        var elWidth = el.offsetWidth;\n        var btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n        if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n            var btn = el.children[0];\n            if (!isNOU(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n                btnText.style.display = 'none';\n            }\n            else if (!isNOU(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n                btnText.style.display = 'block';\n            }\n            btn.style.minWidth = '0%';\n            elWidth = parseFloat(el.style.minWidth);\n            btn.style.minWidth = '';\n            if (!isNOU(btnText)) {\n                btnText.style.display = '';\n            }\n        }\n        return elWidth;\n    };\n    Toolbar.prototype.popupEleRefresh = function (width, popupEle, destroy) {\n        var popPriority = this.popupPriCount > 0;\n        var eleSplice = this.tbarEle;\n        var priEleCnt;\n        var index;\n        var checkOverflow;\n        var innerEle = this.element.querySelector('.' + CLS_ITEMS);\n        var ignoreCount = 0;\n        var _loop_1 = function (el) {\n            if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n                return \"continue\";\n            }\n            var elWidth = this_1.popupEleWidth(el);\n            if (el === this_1.tbarEle[0]) {\n                elWidth += this_1.tbarEleMrgn;\n            }\n            el.style.position = '';\n            if (elWidth < width || destroy) {\n                el.style.minWidth = '';\n                if (!el.classList.contains(CLS_POPOVERFLOW)) {\n                    el.classList.remove(CLS_POPUP);\n                }\n                index = this_1.tbarEle.indexOf(el);\n                if (this_1.tbarAlign) {\n                    var pos = this_1.items[index].align;\n                    index = this_1.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n                    eleSplice = this_1.tbarAlgEle[(pos + 's').toLowerCase()];\n                    innerEle = this_1.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n                }\n                var sepBeforePri_1 = 0;\n                if (this_1.overflowMode !== 'Extended') {\n                    eleSplice.slice(0, index).forEach(function (el) {\n                        if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n                            if (el.classList.contains(CLS_SEPARATOR)) {\n                                el.style.display = '';\n                                width -= el.offsetWidth;\n                            }\n                            sepBeforePri_1++;\n                        }\n                    });\n                }\n                ignoreCount = this_1.ignoreEleFetch(index, innerEle);\n                if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                    this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount);\n                    width -= el.offsetWidth;\n                }\n                else if (index === 0) {\n                    innerEle.insertBefore(el, innerEle.firstChild);\n                    width -= el.offsetWidth;\n                }\n                else {\n                    priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, this_1.popObj.element).length;\n                    innerEle.insertBefore(el, innerEle.children[(index + ignoreCount) - priEleCnt]);\n                    width -= el.offsetWidth;\n                }\n                el.style.height = '';\n            }\n            else {\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {\n            var el = _a[_i];\n            var state_1 = _loop_1(el);\n            if (state_1 === \"break\")\n                break;\n        }\n        checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n        if (checkOverflow && !destroy) {\n            this.renderOverflowMode();\n        }\n    };\n    Toolbar.prototype.removePositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        this.remove(item, CLS_TBARPOS);\n        var innerItem = [].slice.call(item.childNodes);\n        innerItem[1].removeAttribute('style');\n        innerItem[2].removeAttribute('style');\n    };\n    Toolbar.prototype.refreshPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        this.add(item, CLS_TBARPOS);\n        this.itemPositioning();\n    };\n    Toolbar.prototype.itemPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n        var innerItem;\n        if (this.scrollModule) {\n            innerItem = [].slice.call(item.querySelector('.' + CLS_TBARSCROLL).children);\n        }\n        else {\n            innerItem = [].slice.call(item.childNodes);\n        }\n        var margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n        var tbarWid = this.element.offsetWidth;\n        if (popupNav) {\n            tbarWid -= popupNav.offsetWidth;\n            var popWid = popupNav.offsetWidth + 'px';\n            innerItem[2].removeAttribute('style');\n            this.enableRtl ? innerItem[2].style.left = popWid : innerItem[2].style.right = popWid;\n        }\n        if (tbarWid <= margin) {\n            return;\n        }\n        var value = (((tbarWid - margin)) - innerItem[1].offsetWidth) / 2;\n        innerItem[1].removeAttribute('style');\n        var mrgn = (innerItem[0].offsetWidth + value) + 'px';\n        this.enableRtl ? innerItem[1].style.marginRight = mrgn : innerItem[1].style.marginLeft = mrgn;\n    };\n    Toolbar.prototype.tbarItemAlign = function (item, itemEle, pos) {\n        var _this = this;\n        if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n            return;\n        }\n        var alignDiv = [];\n        alignDiv.push(this.createElement('div', { className: CLS_TBARLEFT }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARCENTER }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARRIGHT }));\n        if (pos === 0 && item.align !== 'Left') {\n            alignDiv.forEach(function (ele) {\n                itemEle.appendChild(ele);\n            });\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n        else if (item.align !== 'Left') {\n            var alignEle = itemEle.childNodes;\n            var leftAlign_1 = alignDiv[0];\n            [].slice.call(alignEle).forEach(function (el) {\n                _this.tbarAlgEle.lefts.push(el);\n                leftAlign_1.appendChild(el);\n            });\n            itemEle.appendChild(leftAlign_1);\n            itemEle.appendChild(alignDiv[1]);\n            itemEle.appendChild(alignDiv[2]);\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n    };\n    Toolbar.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.trgtEle.cloneNode(true);\n        this.add(this.trgtEle, CLS_ITEMS);\n        this.tbarEle = [];\n        var innerEle = [].slice.call(this.trgtEle.children);\n        innerEle.forEach(function (ele) {\n            if (ele.tagName === 'DIV') {\n                _this.tbarEle.push(ele);\n                ele.setAttribute('aria-disabled', 'false');\n                _this.add(ele, CLS_ITEM);\n            }\n        });\n    };\n    Toolbar.prototype.renderItems = function () {\n        var ele = this.element;\n        var itemEleDom;\n        var innerItem;\n        var innerPos;\n        var items = this.items;\n        if (ele && ele.children.length > 0) {\n            itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n        }\n        if (this.trgtEle != null) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            if (!itemEleDom) {\n                itemEleDom = this.createElement('div', { className: CLS_ITEMS });\n            }\n            for (var i = 0; i < items.length; i++) {\n                innerItem = this.renderSubComponent(items[i], i);\n                if (this.tbarEle.indexOf(innerItem) === -1) {\n                    this.tbarEle.push(innerItem);\n                }\n                if (!this.tbarAlign) {\n                    this.tbarItemAlign(items[i], itemEleDom, i);\n                }\n                innerPos = itemEleDom.querySelector('.e-toolbar-' + items[i].align.toLowerCase());\n                if (innerPos) {\n                    if (!(items[i].showAlwaysInPopup && items[i].overflow !== 'Show')) {\n                        this.tbarAlgEle[(items[i].align + 's').toLowerCase()].push(innerItem);\n                    }\n                    innerPos.appendChild(innerItem);\n                }\n                else {\n                    itemEleDom.appendChild(innerItem);\n                }\n            }\n            ele.appendChild(itemEleDom);\n        }\n    };\n    Toolbar.prototype.setAttr = function (attr, element) {\n        var key = Object.keys(attr);\n        var keyVal;\n        for (var i = 0; i < key.length; i++) {\n            keyVal = key[i];\n            keyVal === 'class' ? this.add(element, attr[keyVal]) : element.setAttribute(keyVal, attr[keyVal]);\n        }\n    };\n    /**\n     * Enables or disables the specified Toolbar item.\n     * @param  {HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n     * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, `isEnable` is set to true.\n     * @returns void.\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        var elements = items;\n        var len = elements.length;\n        if (isNOU(isEnable)) {\n            isEnable = true;\n        }\n        var enable = function (isEnable, ele) {\n            if (isEnable) {\n                ele.classList.remove(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'false');\n            }\n            else {\n                ele.classList.add(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'true');\n            }\n        };\n        if (len && len > 1) {\n            for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                var ele = _a[_i];\n                enable(isEnable, ele);\n            }\n            isEnable ? removeClass(elements, CLS_DISABLE) : addClass(elements, CLS_DISABLE);\n        }\n        else {\n            var ele = void 0;\n            ele = (len && len === 1) ? elements[0] : items;\n            enable(isEnable, ele);\n        }\n    };\n    /**\n     * Adds new items to the Toolbar that accepts an array as Toolbar items.\n     * @param  {ItemsModel[]} items - DOM element or an array of items to be added to the Toolbar.\n     * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n     * @returns void.\n     */\n    Toolbar.prototype.addItems = function (items, index) {\n        var innerItems;\n        var itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(itemsDiv)) {\n            this.itemsRerender(items);\n            return;\n        }\n        var innerEle;\n        var itemAgn = 'Left';\n        if (isNOU(index)) {\n            index = 0;\n        }\n        items.forEach(function (e) {\n            if (!isNOU(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n                itemAgn = e.align;\n            }\n        });\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            if (isNOU(item.type)) {\n                item.type = 'Button';\n            }\n            innerItems = selectAll('.' + CLS_ITEM, this.element);\n            item.align = itemAgn;\n            innerEle = this.renderSubComponent(item, index);\n            if (this.tbarEle.length >= index && innerItems.length >= 0) {\n                if (isNOU(this.scrollModule)) {\n                    this.destroyMode();\n                }\n                var algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n                var ele = void 0;\n                if (!this.tbarAlign && itemAgn !== 'Left') {\n                    this.tbarItemAlign(item, itemsDiv, 1);\n                    this.tbarAlign = true;\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.appendChild(innerEle);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n                    this.refreshPositioning();\n                }\n                else if (this.tbarAlign) {\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.insertBefore(innerEle, ele.children[index]);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n                    this.refreshPositioning();\n                }\n                else if (innerItems.length === 0) {\n                    innerItems = selectAll('.' + CLS_ITEMS, this.element);\n                    innerItems[0].appendChild(innerEle);\n                }\n                else {\n                    innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]);\n                }\n                this.items.splice(index, 0, item);\n                this.tbarEle.splice(index, 0, innerEle);\n                index++;\n                this.offsetWid = itemsDiv.offsetWidth;\n            }\n        }\n        itemsDiv.style.width = '';\n        this.renderOverflowMode();\n    };\n    /**\n     * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n     * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n     * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n     * @returns void.\n     */\n    Toolbar.prototype.removeItems = function (args) {\n        var elements = args;\n        var index;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (typeof (elements) === 'number') {\n            index = parseInt(args.toString(), 10);\n            this.removeItemByIndex(index, innerItems);\n        }\n        else {\n            if (elements && elements.length > 1) {\n                for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                    var ele = _a[_i];\n                    index = this.tbarEle.indexOf(ele);\n                    this.removeItemByIndex(index, innerItems);\n                    innerItems = selectAll('.' + CLS_ITEM, this.element);\n                }\n            }\n            else {\n                var ele = (elements && elements.length && elements.length === 1) ? elements[0] : args;\n                index = innerItems.indexOf(ele);\n                this.removeItemByIndex(index, innerItems);\n            }\n        }\n        this.resize();\n    };\n    Toolbar.prototype.removeItemByIndex = function (index, innerItems) {\n        if (this.tbarEle[index] && innerItems[index]) {\n            var eleIdx = this.tbarEle.indexOf(innerItems[index]);\n            if (this.tbarAlign) {\n                var indexAgn = void 0;\n                indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].indexOf(this.tbarEle[eleIdx]);\n                this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].splice(indexAgn, 1);\n            }\n            detach(innerItems[index]);\n            this.items.splice(eleIdx, 1);\n            this.tbarEle.splice(eleIdx, 1);\n        }\n    };\n    Toolbar.prototype.templateRender = function (templateProp, innerEle, item, index) {\n        var itemType = item.type;\n        var eleObj = templateProp;\n        var isComponent;\n        if (typeof (templateProp) === 'object') {\n            isComponent = typeof (eleObj.appendTo) === 'function';\n        }\n        if (typeof (templateProp) === 'string' || !isComponent) {\n            var templateFn = void 0;\n            var val = templateProp;\n            val = (typeof (templateProp) === 'string') ? templateProp.trim() : templateProp;\n            var e = void 0;\n            try {\n                if (typeof (templateProp) === 'object' && !isNOU(templateProp.tagName)) {\n                    innerEle.appendChild(templateProp);\n                }\n                else if (document.querySelectorAll(val).length) {\n                    var ele = document.querySelector(val);\n                    var tempStr = ele.outerHTML.trim();\n                    innerEle.appendChild(ele);\n                    ele.style.display = '';\n                    if (!isNOU(tempStr)) {\n                        this.tempId.push(val);\n                    }\n                }\n            }\n            catch (e) {\n                templateFn = templateCompiler(val);\n            }\n            var tempArray = void 0;\n            if (!isNOU(templateFn)) {\n                tempArray = templateFn({}, this, 'template');\n            }\n            if (!isNOU(tempArray) && tempArray.length > 0) {\n                [].slice.call(tempArray).forEach(function (ele) {\n                    if (!isNOU(ele.tagName)) {\n                        ele.style.display = '';\n                    }\n                    innerEle.appendChild(ele);\n                });\n            }\n        }\n        else if (itemType === 'Input') {\n            var ele = this.createElement('input');\n            item.id ? (ele.id = item.id) : (ele.id = getUniqueID('tbr-ipt'));\n            innerEle.appendChild(ele);\n            eleObj.appendTo(ele);\n        }\n        this.add(innerEle, CLS_TEMPLATE);\n        this.tbarEle.push(innerEle);\n    };\n    Toolbar.prototype.buttonRendering = function (item, innerEle) {\n        var dom = this.createElement('button', { className: CLS_TBARBTN });\n        dom.setAttribute('type', 'button');\n        var textStr = item.text;\n        var iconCss;\n        var iconPos;\n        item.id ? (dom.id = item.id) : dom.id = getUniqueID('e-tbr-btn');\n        var btnTxt = this.createElement('div', { className: 'e-tbar-btn-text' });\n        if (textStr) {\n            btnTxt.innerHTML = textStr;\n            dom.appendChild(btnTxt);\n            dom.classList.add('e-tbtn-txt');\n        }\n        else {\n            this.add(innerEle, 'e-tbtn-align');\n        }\n        if (item.prefixIcon || item.suffixIcon) {\n            if ((item.prefixIcon && item.suffixIcon) || item.prefixIcon) {\n                iconCss = item.prefixIcon + ' e-icons';\n                iconPos = 'Left';\n            }\n            else {\n                iconCss = item.suffixIcon + ' e-icons';\n                iconPos = 'Right';\n            }\n        }\n        var btnObj = new Button({ iconCss: iconCss, iconPosition: iconPos });\n        btnObj.createElement = this.createElement;\n        btnObj.appendTo(dom);\n        if (item.width) {\n            setStyle(dom, { 'width': formatUnit(item.width) });\n        }\n        return dom;\n    };\n    Toolbar.prototype.renderSubComponent = function (item, index) {\n        var innerEle;\n        var dom;\n        innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.setAttribute('aria-disabled', 'false');\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        if (item.htmlAttributes) {\n            this.setAttr(item.htmlAttributes, innerEle);\n        }\n        if (item.tooltipText) {\n            var tempDom = this.createElement('div', { innerHTML: item.tooltipText });\n            innerEle.setAttribute('title', tempDom.textContent);\n        }\n        if (item.cssClass) {\n            innerEle.className = innerEle.className + ' ' + item.cssClass;\n        }\n        if (item.template) {\n            this.templateRender(item.template, innerEle, item, index);\n        }\n        else {\n            switch (item.type) {\n                case 'Button':\n                    dom = this.buttonRendering(item, innerEle);\n                    dom.setAttribute('tabindex', '-1');\n                    innerEle.appendChild(dom);\n                    innerEle.addEventListener('click', this.itemClick.bind(this));\n                    break;\n                case 'Separator':\n                    this.add(innerEle, CLS_SEPARATOR);\n                    break;\n            }\n        }\n        if (item.showTextOn) {\n            var sTxt = item.showTextOn;\n            if (sTxt === 'Toolbar') {\n                this.add(innerEle, CLS_POPUPTEXT);\n                this.add(innerEle, 'e-tbtn-align');\n            }\n            else if (sTxt === 'Overflow') {\n                this.add(innerEle, CLS_TBARTEXT);\n            }\n        }\n        if (item.overflow) {\n            var overflow = item.overflow;\n            if (overflow === 'Show') {\n                this.add(innerEle, CLS_TBAROVERFLOW);\n            }\n            else if (overflow === 'Hide') {\n                if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n                    this.add(innerEle, CLS_POPOVERFLOW);\n                }\n            }\n        }\n        if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n            this.add(innerEle, CLS_POPPRI);\n            this.popupPriCount++;\n        }\n        return innerEle;\n    };\n    Toolbar.prototype.itemClick = function (e) {\n        this.activeEleSwitch(e.currentTarget);\n    };\n    Toolbar.prototype.activeEleSwitch = function (ele) {\n        this.activeEleRemove(ele.firstElementChild);\n        this.activeEle.focus();\n    };\n    Toolbar.prototype.activeEleRemove = function (curEle) {\n        if (!isNOU(this.activeEle)) {\n            this.activeEle.setAttribute('tabindex', '-1');\n        }\n        this.activeEle = curEle;\n        if (isNOU(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n            curEle.removeAttribute('tabindex');\n        }\n        else {\n            this.activeEle.setAttribute('tabindex', '0');\n        }\n    };\n    Toolbar.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar.prototype.itemsRerender = function (newProp) {\n        this.items = this.tbarItemsCol;\n        this.destroyMode();\n        this.destroyItems();\n        this.items = newProp;\n        this.tbarItemsCol = this.items;\n        this.renderItems();\n        this.renderOverflowMode();\n    };\n    Toolbar.prototype.resize = function () {\n        var ele = this.element;\n        this.tbResize = true;\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.overflowMode === 'Popup') {\n            this.popObj.hide();\n        }\n        var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n        if (!checkOverflow) {\n            this.destroyHScroll();\n        }\n        if (checkOverflow && this.scrollModule && (this.offsetWid === ele.offsetWidth)) {\n            return;\n        }\n        if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n            this.renderOverflowMode();\n        }\n        if (this.popObj) {\n            if (this.overflowMode === 'Extended') {\n                var eleStyles = window.getComputedStyle(this.element);\n                this.popObj.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n            }\n            if (this.tbarAlign) {\n                this.removePositioning();\n            }\n            this.popupRefresh(this.popObj.element, false);\n            if (this.tbarAlign) {\n                this.refreshPositioning();\n            }\n        }\n        this.offsetWid = ele.offsetWidth;\n        this.tbResize = false;\n        this.separator();\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {ToolbarModel} newProp\n     * @param  {ToolbarModel} oldProp\n     * @returns void\n     * @private\n     */\n    Toolbar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var tEle = this.element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProb = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProb.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var oldProperty = Object(oldProp.items[index])[property];\n                            var newProperty = Object(newProp.items[index])[property];\n                            if (this.tbarAlign || property === 'align') {\n                                this.refresh();\n                                break;\n                            }\n                            var popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                            var booleanCheck = property === 'overflow' && this.popupPriCount !== 0;\n                            if ((popupPriCheck) || (this.items[index].showAlwaysInPopup) && booleanCheck) {\n                                --this.popupPriCount;\n                            }\n                            if (isNOU(this.scrollModule)) {\n                                this.destroyMode();\n                            }\n                            var itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n                            detach(itemCol[index]);\n                            this.tbarEle.splice(index, 1);\n                            this.addItems([this.items[index]], index);\n                            this.items.splice(index, 1);\n                            if (this.items[index].template) {\n                                this.tbarEle.splice(this.items.length, 1);\n                            }\n                        }\n                    }\n                    else {\n                        this.itemsRerender(newProp.items);\n                    }\n                    break;\n                case 'width':\n                    var wid = tEle.offsetWidth;\n                    setStyle(tEle, { 'width': formatUnit(newProp.width) });\n                    this.renderOverflowMode();\n                    if (this.popObj && wid < tEle.offsetWidth) {\n                        this.popupRefresh(this.popObj.element, false);\n                    }\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'overflowMode':\n                    this.destroyMode();\n                    this.renderOverflowMode();\n                    if (this.enableRtl) {\n                        this.add(tEle, CLS_RTL);\n                    }\n                    this.refreshOverflow();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(tEle, CLS_RTL) : this.remove(tEle, CLS_RTL);\n                    if (!isNOU(this.scrollModule)) {\n                        newProp.enableRtl ? this.add(this.scrollModule.element, CLS_RTL) : this.remove(this.scrollModule.element, CLS_RTL);\n                    }\n                    if (!isNOU(this.popObj)) {\n                        newProp.enableRtl ? this.add(this.popObj.element, CLS_RTL) : this.remove(this.popObj.element, CLS_RTL);\n                    }\n                    if (this.tbarAlign) {\n                        this.itemPositioning();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Shows or hides the Toolbar item that is in the specified index.\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n     * @returns void.\n     */\n    Toolbar.prototype.hideItem = function (index, value) {\n        if (this.tbarEle[index]) {\n            var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n            if (value === true) {\n                innerItems[index].classList.add(CLS_HIDDEN);\n            }\n            else {\n                innerItems[index].classList.remove(CLS_HIDDEN);\n            }\n            this.refreshOverflow();\n        }\n    };\n    __decorate([\n        Collection([], Item)\n    ], Toolbar.prototype, \"items\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"height\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Toolbar.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Toolbar.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"beforeCreate\", void 0);\n    Toolbar = __decorate([\n        NotifyPropertyChanges\n    ], Toolbar);\n    return Toolbar;\n}(Component));\nexport { Toolbar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, KeyboardEvents, rippleEffect } from '@syncfusion/ej2-base';\nimport { getUniqueID, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { addClass, isVisible, closest, attributes, classList, detach, select } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Collection, Animation } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, formatUnit, selectAll } from '@syncfusion/ej2-base';\nvar CLS_ACRDN_ROOT = 'e-acrdn-root';\nvar CLS_ROOT = 'e-accordion';\nvar CLS_ITEM = 'e-acrdn-item';\nvar CLS_ITEMFOCUS = 'e-item-focus';\nvar CLS_ITEMHIDE = 'e-hide';\nvar CLS_HEADER = 'e-acrdn-header';\nvar CLS_HEADERICN = 'e-acrdn-header-icon';\nvar CLS_HEADERCTN = 'e-acrdn-header-content';\nvar CLS_CONTENT = 'e-acrdn-panel';\nvar CLS_CTENT = 'e-acrdn-content';\nvar CLS_TOOGLEICN = 'e-toggle-icon';\nvar CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nvar CLS_EXPANDICN = 'e-expand-icon';\nvar CLS_RTL = 'e-rtl';\nvar CLS_CTNHIDE = 'e-content-hide';\nvar CLS_SLCT = 'e-select';\nvar CLS_SLCTED = 'e-selected';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_ANIMATE = 'e-animate';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_TOGANIMATE = 'e-toggle-animation';\nvar CLS_NEST = 'e-nested';\nvar CLS_EXPANDSTATE = 'e-expand-state';\nvar AccordionActionSettings = /** @class */ (function (_super) {\n    __extends(AccordionActionSettings, _super);\n    function AccordionActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], AccordionActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AccordionActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], AccordionActionSettings.prototype, \"easing\", void 0);\n    return AccordionActionSettings;\n}(ChildProperty));\nexport { AccordionActionSettings };\nvar AccordionAnimationSettings = /** @class */ (function (_super) {\n    __extends(AccordionAnimationSettings, _super);\n    function AccordionAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"expand\", void 0);\n    return AccordionAnimationSettings;\n}(ChildProperty));\nexport { AccordionAnimationSettings };\n/**\n * An item object that is used to configure Accordion items.\n */\nvar AccordionItem = /** @class */ (function (_super) {\n    __extends(AccordionItem, _super);\n    function AccordionItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"content\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"header\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], AccordionItem.prototype, \"expanded\", void 0);\n    return AccordionItem;\n}(ChildProperty));\nexport { AccordionItem };\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\nvar Accordion = /** @class */ (function (_super) {\n    __extends(Accordion, _super);\n    /**\n     * Initializes a new instance of the Accordion class.\n     * @param options  - Specifies Accordion model properties as options.\n     * @param element  - Specifies the element that is rendered as an Accordion.\n     */\n    function Accordion(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Accordion.\n         */\n        _this.keyConfigs = {\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            enter: 'enter',\n            space: 'space',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    Accordion.prototype.destroy = function () {\n        var _this = this;\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        this.isDestroy = true;\n        this.templateEle.forEach(function (eleStr) {\n            if (!isNOU(_this.element.querySelector(eleStr))) {\n                document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n        while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n        }\n        if (this.trgtEle) {\n            while (this.ctrlTem.firstChild) {\n                ele.appendChild(this.ctrlTem.firstChild);\n            }\n        }\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-multiselectable', 'role'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n    };\n    Accordion.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.isNested = false;\n        this.templateEle = [];\n        if (!this.isDestroy) {\n            this.isDestroy = false;\n        }\n        if (!isNOU(nested)) {\n            nested.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        else {\n            this.element.classList.add(CLS_ACRDN_ROOT);\n        }\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n        if (!this.enablePersistence || isNOU(this.expandedItems)) {\n            this.expandedItems = [];\n        }\n    };\n    Accordion.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Accordion.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    /**\n     * To initialize the control rendering\n     * @private\n     */\n    Accordion.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n    };\n    Accordion.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        setStyle(this.element, { 'width': width, 'height': height });\n        var ariaAttr = {\n            'aria-disabled': 'false', 'role': 'presentation', 'aria-multiselectable': 'true'\n        };\n        if (this.expandedItems.length > 0) {\n            this.initExpand = this.expandedItems;\n        }\n        attributes(this.element, ariaAttr);\n        if (this.expandMode === 'Single') {\n            this.element.setAttribute('aria-multiselectable', 'false');\n        }\n    };\n    Accordion.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? select('div', this.element) : null;\n        this.renderItems();\n        this.initItemExpand();\n    };\n    Accordion.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        if (!isNOU(this.keyModule)) {\n            this.keyModule.destroy();\n        }\n    };\n    Accordion.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        if (!this.isNested && !this.isDestroy) {\n            rippleEffect(this.element, { selector: '.' + CLS_HEADER });\n        }\n        if (!this.isNested) {\n            this.keyModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfigs,\n                eventName: 'keydown'\n            });\n        }\n    };\n    Accordion.prototype.focusIn = function (e) {\n        e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.focusOut = function (e) {\n        e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.element.cloneNode(true);\n        var innerEles = this.element.children;\n        var content;\n        addClass(innerEles, [CLS_ITEM]);\n        [].slice.call(innerEles).forEach(function (el) {\n            el.id = getUniqueID('acrdn_item');\n            if (el.children.length > 0) {\n                _this.add(el.children[0], CLS_HEADER);\n                var header = el.children[0];\n                attributes(header, { 'tabindex': '0', 'role': 'heading', 'aria-level': innerEles.length.toString() });\n                header.id = getUniqueID('acrdn_header');\n                EventHandler.add(header, 'focus', _this.focusIn, _this);\n                EventHandler.add(header, 'blur', _this.focusOut, _this);\n                var headerEle = header.firstElementChild;\n                if (headerEle) {\n                    headerEle.classList.add(CLS_HEADERCTN);\n                }\n                content = el.children[1];\n                if (content) {\n                    content.id = getUniqueID('acrdn_panel');\n                    header.setAttribute('aria-controls', content.id);\n                    content.style.display = '';\n                    el.classList.add(CLS_SLCT);\n                    el.children[0].appendChild(_this.toggleIconGenerate());\n                    classList(content, [CLS_CONTENT, CLS_CTNHIDE], []);\n                    attributes(content, { 'aria-labelledby': header.id, 'aria-hidden': 'true' });\n                    content = content.firstElementChild;\n                    if (content) {\n                        content.classList.add(CLS_CTENT);\n                        content.style.display = '';\n                    }\n                }\n            }\n        });\n    };\n    Accordion.prototype.toggleIconGenerate = function () {\n        var tglIcon = this.createElement('div', { className: CLS_TOOGLEICN });\n        var hdrColIcon = this.createElement('span', { className: CLS_COLLAPSEICN });\n        tglIcon.appendChild(hdrColIcon);\n        return tglIcon;\n    };\n    Accordion.prototype.initItemExpand = function () {\n        var len = this.initExpand.length;\n        if (len === 0) {\n            return;\n        }\n        if (this.expandMode === 'Single') {\n            this.expandItem(true, this.initExpand[len - 1]);\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                this.expandItem(true, this.initExpand[i]);\n            }\n        }\n    };\n    Accordion.prototype.renderItems = function () {\n        var _this = this;\n        var ele = this.element;\n        var innerItem;\n        if (isNOU(this.initExpand)) {\n            this.initExpand = [];\n        }\n        var items = this.items;\n        if (!isNOU(this.trgtEle)) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            items.forEach(function (item, index) {\n                innerItem = _this.renderInnerItem(item, index);\n                ele.appendChild(innerItem);\n                if (innerItem.childElementCount > 0) {\n                    EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                    EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                }\n            });\n        }\n    };\n    Accordion.prototype.clickHandler = function (e) {\n        var _this = this;\n        var trgt = e.target;\n        var eventArgs = {};\n        var index;\n        var tglIcon;\n        var acrdEle = closest(trgt, '.' + CLS_ROOT);\n        if (acrdEle !== this.element) {\n            return;\n        }\n        trgt.classList.add('e-target');\n        var acrdnItem = closest(trgt, '.' + CLS_ITEM);\n        var acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n        var acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n        if (acrdnItem && (isNOU(acrdnHdr) || isNOU(acrdnCtn))) {\n            acrdnHdr = acrdnItem.children[0];\n            acrdnCtn = acrdnItem.children[1];\n        }\n        if (acrdnHdr) {\n            tglIcon = select('.' + CLS_TOOGLEICN, acrdnHdr);\n        }\n        var acrdnCtnItem;\n        if (acrdnCtn) {\n            acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM);\n        }\n        var acrdActive = [];\n        index = this.getIndexByItem(acrdnItem);\n        if (acrdnCtnItem) {\n            eventArgs.item = this.items[this.getIndexByItem(acrdnCtnItem)];\n        }\n        eventArgs.originalEvent = e;\n        var ctnCheck = !isNOU(tglIcon) && isNOU(this.trgtEle) && acrdnItem.childElementCount <= 1;\n        if (ctnCheck && (isNOU(acrdnCtn) || !isNOU(select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n            acrdnItem.appendChild(this.contentRendering(index));\n            this.ariaAttrUpdate(acrdnItem);\n        }\n        this.trigger('clicked', eventArgs);\n        var cntclkCheck = (acrdnCtn && !isNOU(select('.e-target', acrdnCtn)));\n        cntclkCheck = cntclkCheck && (isNOU(select('.' + CLS_ROOT, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT) === this.element));\n        trgt.classList.remove('e-target');\n        if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n            return;\n        }\n        [].slice.call(this.element.children).forEach(function (el) {\n            if (el.classList.contains(CLS_ACTIVE)) {\n                acrdActive.push(el);\n            }\n        });\n        var acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM + ' [' + CLS_ANIMATE + ']'));\n        if (acrdAniEle.length > 0) {\n            for (var _i = 0, acrdAniEle_1 = acrdAniEle; _i < acrdAniEle_1.length; _i++) {\n                var el = acrdAniEle_1[_i];\n                acrdActive.push(el.parentElement);\n            }\n        }\n        var sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n        var sameHeader = false;\n        if (!isNOU(acrdnItem) && !isNOU(acrdnHdr)) {\n            var acrdnCtn_1 = select('.' + CLS_CONTENT, acrdnItem);\n            var acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n            var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n            if (isNOU(acrdnCtn_1)) {\n                return;\n            }\n            sameHeader = (expandState === acrdnItem);\n            if (isVisible(acrdnCtn_1) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n                this.collapse(acrdnCtn_1);\n            }\n            else {\n                if ((acrdActive.length > 0) && this.expandMode === 'Single' && !sameContentCheck) {\n                    acrdActive.forEach(function (el) {\n                        _this.collapse(select('.' + CLS_CONTENT, el));\n                        el.classList.remove(CLS_EXPANDSTATE);\n                    });\n                }\n                this.expand(acrdnCtn_1);\n            }\n            if (!isNOU(expandState) && !sameHeader) {\n                expandState.classList.remove(CLS_EXPANDSTATE);\n            }\n        }\n    };\n    Accordion.prototype.eleMoveFocus = function (action, root, trgt) {\n        var clst;\n        var clstItem = closest(trgt, '.' + CLS_ITEM);\n        if (trgt === root) {\n            clst = ((action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER));\n        }\n        else if (trgt.classList.contains(CLS_HEADER)) {\n            clstItem = (action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling);\n            if (clstItem) {\n                clst = select('.' + CLS_HEADER, clstItem);\n            }\n        }\n        if (clst) {\n            clst.focus();\n        }\n    };\n    Accordion.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        var header = closest(e.target, CLS_HEADER);\n        if (isNOU(header) && !trgt.classList.contains(CLS_ROOT) && !trgt.classList.contains(CLS_HEADER)) {\n            return;\n        }\n        var clst;\n        var root = this.element;\n        var content;\n        switch (e.action) {\n            case 'moveUp':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'moveDown':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'space':\n            case 'enter':\n                content = trgt.nextElementSibling;\n                if (!isNOU(content) && content.classList.contains(CLS_CONTENT)) {\n                    if (content.getAttribute('e-animate') !== 'true') {\n                        trgt.click();\n                    }\n                }\n                else {\n                    trgt.click();\n                }\n                break;\n            case 'home':\n            case 'end':\n                clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n                clst.focus();\n                break;\n        }\n    };\n    Accordion.prototype.headerEleGenerate = function () {\n        var header = this.createElement('div', { className: CLS_HEADER, id: getUniqueID('acrdn_header') });\n        var ariaAttr = {\n            'tabindex': '0', 'role': 'heading', 'aria-expanded': 'false', 'aria-selected': 'false',\n            'aria-disabled': 'false', 'aria-level': this.items.length.toString()\n        };\n        attributes(header, ariaAttr);\n        return header;\n    };\n    Accordion.prototype.renderInnerItem = function (item, index) {\n        var innerEle;\n        innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.id = getUniqueID('acrdn_item');\n        if (item.header) {\n            var ctnEle = this.headerEleGenerate();\n            var hdrEle = this.createElement('div', { className: CLS_HEADERCTN });\n            ctnEle.appendChild(hdrEle);\n            ctnEle.appendChild(this.fetchElement(hdrEle, item.header, index, true));\n            innerEle.appendChild(ctnEle);\n        }\n        var hdr = select('.' + CLS_HEADER, innerEle);\n        if (item.expanded && !isNOU(index) && (!this.enablePersistence)) {\n            if (this.initExpand.indexOf(index) === -1) {\n                this.initExpand.push(index);\n            }\n        }\n        if (item.cssClass) {\n            innerEle.classList.add(item.cssClass);\n        }\n        if (item.iconCss) {\n            var hdrIcnEle = this.createElement('div', { className: CLS_HEADERICN });\n            var icon = this.createElement('span', { className: item.iconCss + ' e-icons' });\n            hdrIcnEle.appendChild(icon);\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                hdr.appendChild(hdrIcnEle);\n                innerEle.appendChild(hdr);\n            }\n            else {\n                hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n            }\n        }\n        if (item.content) {\n            var hdrIcon = this.toggleIconGenerate();\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                innerEle.appendChild(hdr);\n            }\n            hdr.appendChild(hdrIcon);\n            this.add(innerEle, CLS_SLCT);\n        }\n        return innerEle;\n    };\n    Accordion.prototype.fetchElement = function (ele, value, index, isHeader) {\n        var templateFn;\n        var temString;\n        try {\n            if (document.querySelectorAll(value).length) {\n                var eleVal = document.querySelector(value);\n                temString = eleVal.outerHTML.trim();\n                ele.appendChild(eleVal);\n                eleVal.style.display = '';\n            }\n        }\n        catch (e) {\n            templateFn = templateCompiler(value);\n        }\n        var tempArray;\n        if (!isNOU(templateFn)) {\n            tempArray = templateFn();\n        }\n        if (!isNOU(tempArray) && tempArray.length > 0 && !(isNOU(tempArray[0].tagName) && tempArray.length === 1)) {\n            [].slice.call(tempArray).forEach(function (el) {\n                if (!isNOU(el.tagName)) {\n                    el.style.display = '';\n                }\n                ele.appendChild(el);\n            });\n        }\n        else if (ele.childElementCount === 0) {\n            ele.innerHTML = value;\n        }\n        if (!isNOU(temString)) {\n            this.templateEle.push(value);\n        }\n        return ele;\n    };\n    Accordion.prototype.ariaAttrUpdate = function (itemEle) {\n        var header = select('.' + CLS_HEADER, itemEle);\n        var content = select('.' + CLS_CONTENT, itemEle);\n        header.setAttribute('aria-controls', content.id);\n        content.setAttribute('aria-labelledby', header.id);\n    };\n    Accordion.prototype.contentRendering = function (index) {\n        var content = this.items[index].content;\n        var itemcnt = this.createElement('div', { className: CLS_CONTENT + ' ' + CLS_CTNHIDE, id: getUniqueID('acrdn_panel') });\n        attributes(itemcnt, { 'aria-hidden': 'true' });\n        var ctn = this.createElement('div', { className: CLS_CTENT });\n        itemcnt.appendChild(this.fetchElement(ctn, content, index, false));\n        return itemcnt;\n    };\n    Accordion.prototype.expand = function (trgt) {\n        var eventArgs;\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || (isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true') || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n        var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n        var animation = {\n            name: this.animation.expand.effect,\n            duration: this.animation.expand.duration,\n            timingFunction: this.animation.expand.easing\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = { element: trgtItemEle,\n            item: this.items[this.getIndexByItem(trgtItemEle)],\n            isExpanded: true };\n        var eff = animation.name;\n        this.trigger('expanding', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        icon.classList.add(CLS_TOGANIMATE);\n        this.expandedItemsPush(trgtItemEle);\n        if (!isNOU(expandState)) {\n            expandState.classList.remove(CLS_EXPANDSTATE);\n        }\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n        if ((animation.name === 'None')) {\n            this.expandProgress('begin', icon, trgt, trgtItemEle, eventArgs);\n            this.expandProgress('end', icon, trgt, trgtItemEle, eventArgs);\n            return;\n        }\n        this.expandAnimation(eff, icon, trgt, trgtItemEle, animation, eventArgs);\n    };\n    Accordion.prototype.expandAnimation = function (ef, icn, trgt, trgtItemEle, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHgt;\n        this.lastActiveItemId = trgtItemEle.id;\n        if (ef === 'SlideDown') {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n                trgt.style.position = 'absolute';\n                height = trgtItemEle.offsetHeight;\n                trgtHgt = trgt.offsetHeight;\n                trgt.style.maxHeight = (trgt.offsetHeight) + 'px';\n                trgtItemEle.style.maxHeight = '';\n            };\n            animate.progress = function () {\n                trgtItemEle.style.minHeight = (height + trgt.offsetHeight) + 'px';\n            };\n            animate.end = function () {\n                setStyle(trgt, { 'position': '', 'maxHeight': '' });\n                trgtItemEle.style.minHeight = '';\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n            };\n            animate.end = function () {\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.expandProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(trgt, CLS_CTNHIDE);\n        this.add(trgtItemEle, CLS_SLCTED);\n        this.add(icon, CLS_EXPANDICN);\n        if (progress === 'end') {\n            this.add(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'false');\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'true', 'aria-expanded': 'true' });\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    Accordion.prototype.expandedItemsPush = function (item) {\n        var index = this.getIndexByItem(item);\n        if (this.expandedItems.indexOf(index) === -1) {\n            this.expandedItems.push(index);\n        }\n    };\n    Accordion.prototype.getIndexByItem = function (item) {\n        return [].slice.call(this.element.children).indexOf(item);\n    };\n    Accordion.prototype.expandedItemsPop = function (item) {\n        var index = this.getIndexByItem(item);\n        this.expandedItems.splice(this.expandedItems.indexOf(index), 1);\n    };\n    Accordion.prototype.collapse = function (trgt) {\n        var eventArgs;\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var animation = {\n            name: this.animation.collapse.effect,\n            duration: this.animation.collapse.duration,\n            timingFunction: this.animation.collapse.easing,\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = { element: trgtItemEle,\n            item: this.items[this.getIndexByItem(trgtItemEle)],\n            isExpanded: false };\n        var eff = animation.name;\n        this.trigger('expanding', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.expandedItemsPop(trgtItemEle);\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n        icon.classList.add(CLS_TOGANIMATE);\n        if ((animation.name === 'None')) {\n            this.collapseProgress('begin', icon, trgt, trgtItemEle, eventArgs);\n            this.collapseProgress('end', icon, trgt, trgtItemEle, eventArgs);\n            return;\n        }\n        this.collapseAnimation(eff, trgt, trgtItemEle, icon, animation, eventArgs);\n    };\n    Accordion.prototype.collapseAnimation = function (ef, trgt, trgtItEl, icn, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHeight;\n        var itemHeight;\n        var remain;\n        this.lastActiveItemId = trgtItEl.id;\n        if (ef === 'SlideUp') {\n            animate.begin = function () {\n                itemHeight = trgtItEl.offsetHeight;\n                trgtItEl.style.minHeight = itemHeight + 'px';\n                trgt.style.position = 'absolute';\n                height = trgtItEl.offsetHeight;\n                trgtHeight = trgt.offsetHeight;\n                trgt.style.maxHeight = trgtHeight + 'px';\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.progress = function () {\n                remain = ((height - (trgtHeight - trgt.offsetHeight)));\n                if (remain < itemHeight) {\n                    trgtItEl.style.minHeight = remain + 'px';\n                }\n            };\n            animate.end = function () {\n                trgt.style.display = 'none';\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n                trgtItEl.style.minHeight = '';\n                setStyle(trgt, { 'position': '', 'maxHeight': '', 'display': '' });\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.end = function () {\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.collapseProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(icon, CLS_EXPANDICN);\n        this.remove(trgtItemEle, CLS_SLCTED);\n        if (progress === 'end') {\n            this.add(trgt, CLS_CTNHIDE);\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.remove(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'true');\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'false', 'aria-expanded': 'false' });\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Accordion.prototype.getModuleName = function () {\n        return 'accordion';\n    };\n    Accordion.prototype.itemAttribUpdate = function () {\n        var itemEle = [].slice.call(this.element.children);\n        var itemLen = this.items.length;\n        itemEle.forEach(function (ele) {\n            select('.' + CLS_HEADER, ele).setAttribute('aria-level', '' + itemLen);\n        });\n    };\n    /**\n     * Adds new item to the Accordion with the specified index of the Accordion.\n     * @param  {AccordionItemModel} item - Item array that is to be added to the Accordion.\n     * @param  {number} index - Number value that determines where the item should be added.\n     * By default, item is added at the last index if the index is not specified.\n     * @returns void\n     */\n    Accordion.prototype.addItem = function (item, index) {\n        var ele = this.element;\n        if (isNOU(index)) {\n            index = this.items.length;\n        }\n        if (ele.childElementCount >= index) {\n            this.items.splice(index, 0, item);\n            var innerItemEle = this.renderInnerItem(item, index);\n            if (ele.childElementCount === index) {\n                ele.appendChild(innerItemEle);\n            }\n            else {\n                ele.insertBefore(innerItemEle, ele.children[index]);\n            }\n            EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', this.focusIn, this);\n            EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', this.focusOut, this);\n            this.itemAttribUpdate();\n        }\n        this.expandedItems = [];\n        this.expandedItemRefresh(ele);\n        if (item.expanded) {\n            this.expandItem(true, index);\n        }\n    };\n    Accordion.prototype.expandedItemRefresh = function (ele) {\n        var _this = this;\n        [].slice.call(ele.children).forEach(function (el) {\n            if (el.classList.contains(CLS_SLCTED)) {\n                _this.expandedItemsPush(el);\n            }\n        });\n    };\n    /**\n     * Dynamically removes item from Accordion.\n     * @param  {number} index - Number value that determines which item should be removed.\n     * @returns void.\n     */\n    Accordion.prototype.removeItem = function (index) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        detach(ele);\n        this.items.splice(index, 1);\n        this.itemAttribUpdate();\n        this.expandedItems = [];\n        this.expandedItemRefresh(this.element);\n    };\n    /**\n     * Sets focus to the specified index item header in Accordion.\n     * @param  {number} index - Number value that determines which item should be focused.\n     * @returns void.\n     */\n    Accordion.prototype.select = function (index) {\n        var ele = this.element.children[index];\n        if (isNOU(ele) || isNOU(select('.' + CLS_HEADER, ele))) {\n            return;\n        }\n        ele.children[0].focus();\n    };\n    /**\n     * Shows or hides the specified item from Accordion.\n     * @param  {number} index - Number value that determines which item should be hidden/shown.\n     * @param  {Boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n     *  If the `isHidden` value is false, the item is shown or else item it is hidden.\n     * @returns void.\n     */\n    Accordion.prototype.hideItem = function (index, isHidden) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        if (isNOU(isHidden)) {\n            isHidden = true;\n        }\n        isHidden ? this.add(ele, CLS_ITEMHIDE) : this.remove(ele, CLS_ITEMHIDE);\n    };\n    /**\n     * Enables/Disables the specified Accordion item.\n     * @param  {number} index - Number value that determines which item should be enabled/disabled.\n     * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n     * If the `isEnable` value is true, the item is enabled or else it is disabled.\n     * @returns void.\n     */\n    Accordion.prototype.enableItem = function (index, isEnable) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        var eleHeader = ele.firstElementChild;\n        if (isEnable) {\n            this.remove(ele, CLS_DISABLE);\n            attributes(eleHeader, { 'tabindex': '0', 'aria-disabled': 'false' });\n            eleHeader.focus();\n        }\n        else {\n            if (ele.classList.contains(CLS_ACTIVE)) {\n                this.expandItem(false, index);\n                this.eleMoveFocus('movedown', this.element, eleHeader);\n            }\n            this.add(ele, CLS_DISABLE);\n            eleHeader.setAttribute('aria-disabled', 'true');\n            eleHeader.removeAttribute('tabindex');\n        }\n    };\n    /**\n     * Expands/Collapses the specified Accordion item.\n     * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n     * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n     *  Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n     * @returns void.\n     */\n    Accordion.prototype.expandItem = function (isExpand, index) {\n        var _this = this;\n        var root = this.element;\n        if (isNOU(index)) {\n            if (this.expandMode === 'Single' && isExpand) {\n                var ele = root.children[root.childElementCount - 1];\n                this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n            }\n            else {\n                var item = select('#' + this.lastActiveItemId, this.element);\n                [].slice.call(this.element.children).forEach(function (el) {\n                    _this.itemExpand(isExpand, el, _this.getIndexByItem(el));\n                    el.classList.remove(CLS_EXPANDSTATE);\n                });\n                var expandedItem = select('.' + CLS_EXPANDSTATE, this.element);\n                if (expandedItem) {\n                    expandedItem.classList.remove(CLS_EXPANDSTATE);\n                }\n                if (item) {\n                    item.classList.add(CLS_EXPANDSTATE);\n                }\n            }\n        }\n        else {\n            var ele = this.element.children[index];\n            if (isNOU(ele) || !ele.classList.contains(CLS_SLCT) || (ele.classList.contains(CLS_ACTIVE) && isExpand)) {\n                return;\n            }\n            else {\n                if (this.expandMode === 'Single') {\n                    this.expandItem(false);\n                }\n                this.itemExpand(isExpand, ele, index);\n            }\n        }\n    };\n    Accordion.prototype.itemExpand = function (isExpand, ele, index) {\n        var ctn = ele.children[1];\n        if (ele.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        if (isNOU(ctn) && isExpand) {\n            ctn = this.contentRendering(index);\n            ele.appendChild(ctn);\n            this.ariaAttrUpdate(ele);\n        }\n        else if (isNOU(ctn)) {\n            return;\n        }\n        isExpand ? this.expand(ctn) : this.collapse(ctn);\n    };\n    Accordion.prototype.destroyItems = function () {\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) { detach(el); });\n    };\n    Accordion.prototype.updateItem = function (item, index) {\n        if (!isNOU(item)) {\n            var itemObj = this.items[index];\n            this.items.splice(index, 1);\n            detach(item);\n            this.addItem(itemObj, index);\n        }\n    };\n    Accordion.prototype.getPersistData = function () {\n        var keyEntity = ['expandedItems'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {AccordionModel} newProp\n     * @param  {AccordionModel} oldProp\n     * @returns void\n     * @private\n     */\n    Accordion.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var acrdn = this.element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var j = 0; j < changedProp.length; j++) {\n                            var index = parseInt(Object.keys(newProp.items)[j], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var item = selectAll('.' + CLS_ITEM, this.element)[index];\n                            var oldVal = Object(oldProp.items[index])[property];\n                            var newVal = Object(newProp.items[index])[property];\n                            if (property === 'header' || property === 'iconCss' || property === 'expanded') {\n                                this.updateItem(item, index);\n                            }\n                            if (property === 'cssClass' && !isNOU(item)) {\n                                item.classList.remove(oldVal);\n                                item.classList.add(newVal);\n                            }\n                            if (property === 'content' && !isNOU(item) && item.children.length === 2) {\n                                if (item.classList.contains(CLS_SLCTED)) {\n                                    this.expandItem(false, index);\n                                }\n                                detach(item.querySelector('.' + CLS_CONTENT));\n                            }\n                        }\n                    }\n                    else {\n                        this.destroyItems();\n                        this.renderItems();\n                        this.initItemExpand();\n                    }\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(acrdn, CLS_RTL) : this.remove(acrdn, CLS_RTL);\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyle(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'expandMode':\n                    if (newProp.expandMode === 'Single') {\n                        this.element.setAttribute('aria-multiselectable', 'false');\n                        if (this.expandedItems.length > 1) {\n                            this.expandItem(false);\n                        }\n                    }\n                    else {\n                        this.element.setAttribute('aria-multiselectable', 'true');\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Collection([], AccordionItem)\n    ], Accordion.prototype, \"items\", void 0);\n    __decorate([\n        Property('100%')\n    ], Accordion.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Accordion.prototype, \"height\", void 0);\n    __decorate([\n        Property('Multiple')\n    ], Accordion.prototype, \"expandMode\", void 0);\n    __decorate([\n        Complex({}, AccordionAnimationSettings)\n    ], Accordion.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"destroyed\", void 0);\n    Accordion = __decorate([\n        NotifyPropertyChanges\n    ], Accordion);\n    return Accordion;\n}(Component));\nexport { Accordion };\n","import { DataUtil } from './util';\n/**\n * Query class is used to build query which is used by the DataManager to communicate with datasource.\n */\nvar Query = /** @class */ (function () {\n    /**\n     * Constructor for Query class.\n     * @param  {string|string[]} from?\n     * @hidden\n     */\n    function Query(from) {\n        /** @hidden */\n        this.subQuery = null;\n        /** @hidden */\n        this.isChild = false;\n        this.queries = [];\n        this.key = '';\n        this.fKey = '';\n        if (typeof from === 'string') {\n            this.fromTable = from;\n        }\n        else if (from && from instanceof Array) {\n            this.lookups = from;\n        }\n        this.expands = [];\n        this.sortedColumns = [];\n        this.groupedColumns = [];\n        this.subQuery = null;\n        this.isChild = false;\n        this.params = [];\n        return this;\n    }\n    /**\n     * Sets the primary key.\n     * @param  {string} field - Defines the column field.\n     */\n    Query.prototype.setKey = function (field) {\n        this.key = field;\n        return this;\n    };\n    /**\n     * Sets default DataManager to execute query.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     */\n    Query.prototype.using = function (dataManager) {\n        this.dataManager = dataManager;\n        return this;\n    };\n    /**\n     * Executes query with the given DataManager.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     * @param  {Function} done - Defines the success callback.\n     * @param  {Function} fail - Defines the failure callback.\n     * @param  {Function} always - Defines the callback which will be invoked on either success or failure.\n     *\n     * <pre>\n     * let dataManager: DataManager = new DataManager([{ ID: '10' }, { ID: '2' }, { ID: '1' }, { ID: '20' }]);\n     * let query: Query = new Query();\n     * query.sortBy('ID', (x: string, y: string): number => { return parseInt(x, 10) - parseInt(y, 10) });\n     * let promise: Promise< Object > = query.execute(dataManager);\n     * promise.then((e: { result: Object }) => { });\n     * </pre>\n     */\n    Query.prototype.execute = function (dataManager, done, fail, always) {\n        dataManager = dataManager || this.dataManager;\n        if (dataManager) {\n            return dataManager.executeQuery(this, done, fail, always);\n        }\n        return DataUtil.throwError('Query - execute() : dataManager needs to be is set using \"using\" function or should be passed as argument');\n    };\n    /**\n     * Executes query with the local datasource.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     */\n    Query.prototype.executeLocal = function (dataManager) {\n        dataManager = dataManager || this.dataManager;\n        if (dataManager) {\n            return dataManager.executeLocal(this);\n        }\n        return DataUtil.throwError('Query - executeLocal() : dataManager needs to be is set using \"using\" function or should be passed as argument');\n    };\n    /**\n     * Creates deep copy of the Query object.\n     */\n    Query.prototype.clone = function () {\n        var cloned = new Query();\n        cloned.queries = this.queries.slice(0);\n        cloned.key = this.key;\n        cloned.isChild = this.isChild;\n        cloned.dataManager = this.dataManager;\n        cloned.fromTable = this.fromTable;\n        cloned.params = this.params.slice(0);\n        cloned.expands = this.expands.slice(0);\n        cloned.sortedColumns = this.sortedColumns.slice(0);\n        cloned.groupedColumns = this.groupedColumns.slice(0);\n        cloned.subQuerySelector = this.subQuerySelector;\n        cloned.subQuery = this.subQuery;\n        cloned.fKey = this.fKey;\n        cloned.isCountRequired = this.isCountRequired;\n        return cloned;\n    };\n    /**\n     * Specifies the name of table to retrieve data in query execution.\n     * @param  {string} tableName - Defines the table name.\n     */\n    Query.prototype.from = function (tableName) {\n        this.fromTable = tableName;\n        return this;\n    };\n    /**\n     * Adds additional parameter which will be sent along with the request which will be generated while DataManager execute.\n     * @param  {string} key - Defines the key of additional parameter.\n     * @param  {Function|string} value - Defines the value for the key.\n     */\n    Query.prototype.addParams = function (key, value) {\n        if (typeof value === 'function') {\n            this.params.push({ key: key, fn: value });\n        }\n        else {\n            this.params.push({ key: key, value: value });\n        }\n        return this;\n    };\n    /**\n     * Expands the related table.\n     * @param  {string|Object[]} tables\n     */\n    Query.prototype.expand = function (tables) {\n        if (typeof tables === 'string') {\n            this.expands = [].slice.call([tables], 0);\n        }\n        else {\n            this.expands = tables.slice(0);\n        }\n        return this;\n    };\n    /**\n     * Filter data with given filter criteria.\n     * @param  {string|Predicate} fieldName - Defines the column field or Predicate.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string|number|boolean} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Query.prototype.where = function (fieldName, operator, value, ignoreCase, ignoreAccent) {\n        operator = operator ? (operator).toLowerCase() : null;\n        var predicate = null;\n        if (typeof fieldName === 'string') {\n            predicate = new Predicate(fieldName, operator, value, ignoreCase, ignoreAccent);\n        }\n        else if (fieldName instanceof Predicate) {\n            predicate = fieldName;\n        }\n        this.queries.push({\n            fn: 'onWhere',\n            e: predicate\n        });\n        return this;\n    };\n    /**\n     * Search data with given search criteria.\n     * @param  {string|number|boolean} searchKey - Defines the search key.\n     * @param  {string|string[]} fieldNames - Defines the collection of column fields.\n     * @param  {string} operator - Defines the operator how to search data.\n     * @param  {boolean} ignoreCase - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Query.prototype.search = function (searchKey, fieldNames, operator, ignoreCase, ignoreAccent) {\n        if (typeof fieldNames === 'string') {\n            fieldNames = [fieldNames];\n        }\n        operator = operator || 'contains';\n        var comparer = DataUtil.fnOperators[operator];\n        this.queries.push({\n            fn: 'onSearch',\n            e: {\n                fieldNames: fieldNames,\n                operator: operator,\n                searchKey: searchKey,\n                ignoreCase: ignoreCase,\n                ignoreAccent: ignoreAccent,\n                comparer: comparer\n            }\n        });\n        return this;\n    };\n    /**\n     * Sort the data with given sort criteria.\n     * By default, sort direction is ascending.\n     * @param  {string|string[]} fieldName - Defines the single or collection of column fields.\n     * @param  {string|Function} comparer - Defines the sort direction or custom sort comparer function.\n     */\n    Query.prototype.sortBy = function (fieldName, comparer, isFromGroup) {\n        var order = 'ascending';\n        var sorts;\n        var temp;\n        if (typeof fieldName === 'string' && DataUtil.endsWith(fieldName.toLowerCase(), ' desc')) {\n            fieldName = fieldName.replace(/ desc$/i, '');\n            comparer = 'descending';\n        }\n        if (!comparer || typeof comparer === 'string') {\n            order = comparer ? comparer.toLowerCase() : 'ascending';\n            comparer = DataUtil.fnSort(comparer);\n        }\n        if (isFromGroup) {\n            sorts = Query.filterQueries(this.queries, 'onSortBy');\n            for (var i = 0; i < sorts.length; i++) {\n                temp = sorts[i].e.fieldName;\n                if (typeof temp === 'string') {\n                    if (temp === fieldName) {\n                        return this;\n                    }\n                }\n                else if (temp instanceof Array) {\n                    for (var j = 0; j < temp.length; j++) {\n                        if (temp[j] === fieldName || fieldName.toLowerCase() === temp[j] + ' desc') {\n                            return this;\n                        }\n                    }\n                }\n            }\n        }\n        this.queries.push({\n            fn: 'onSortBy',\n            e: {\n                fieldName: fieldName,\n                comparer: comparer,\n                direction: order\n            }\n        });\n        return this;\n    };\n    /**\n     * Sorts data in descending order.\n     * @param  {string} fieldName - Defines the column field.\n     */\n    Query.prototype.sortByDesc = function (fieldName) {\n        return this.sortBy(fieldName, 'descending');\n    };\n    /**\n     * Groups data with the given field name.\n     * @param  {string} fieldName - Defines the column field.\n     */\n    Query.prototype.group = function (fieldName, fn, format) {\n        this.sortBy(fieldName, null, true);\n        this.queries.push({\n            fn: 'onGroup',\n            e: {\n                fieldName: fieldName,\n                comparer: fn ? fn : null,\n                format: format ? format : null\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data based on the given page index and size.\n     * @param  {number} pageIndex - Defines the current page index.\n     * @param  {number} pageSize - Defines the no of records per page.\n     */\n    Query.prototype.page = function (pageIndex, pageSize) {\n        this.queries.push({\n            fn: 'onPage',\n            e: {\n                pageIndex: pageIndex,\n                pageSize: pageSize\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data based on the given start and end index.\n     * @param  {number} start - Defines the start index of the datasource.\n     * @param  {number} end - Defines the end index of the datasource.\n     */\n    Query.prototype.range = function (start, end) {\n        this.queries.push({\n            fn: 'onRange',\n            e: {\n                start: start,\n                end: end\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data from the top of the data source based on given number of records count.\n     * @param  {number} nos - Defines the no of records to retrieve from datasource.\n     */\n    Query.prototype.take = function (nos) {\n        this.queries.push({\n            fn: 'onTake',\n            e: {\n                nos: nos\n            }\n        });\n        return this;\n    };\n    /**\n     * Skips data with given number of records count from the top of the data source.\n     * @param  {number} nos - Defines the no of records skip in the datasource.\n     */\n    Query.prototype.skip = function (nos) {\n        this.queries.push({\n            fn: 'onSkip',\n            e: { nos: nos }\n        });\n        return this;\n    };\n    /**\n     * Selects specified columns from the data source.\n     * @param  {string|string[]} fieldNames - Defines the collection of column fields.\n     */\n    Query.prototype.select = function (fieldNames) {\n        if (typeof fieldNames === 'string') {\n            fieldNames = [].slice.call([fieldNames], 0);\n        }\n        this.queries.push({\n            fn: 'onSelect',\n            e: { fieldNames: fieldNames }\n        });\n        return this;\n    };\n    /**\n     * Gets the records in hierarchical relationship from two tables. It requires the foreign key to relate two tables.\n     * @param  {Query} query - Defines the query to relate two tables.\n     * @param  {Function} selectorFn - Defines the custom function to select records.\n     */\n    Query.prototype.hierarchy = function (query, selectorFn) {\n        this.subQuerySelector = selectorFn;\n        this.subQuery = query;\n        return this;\n    };\n    /**\n     * Sets the foreign key which is used to get data from the related table.\n     * @param  {string} key - Defines the foreign key.\n     */\n    Query.prototype.foreignKey = function (key) {\n        this.fKey = key;\n        return this;\n    };\n    /**\n     * It is used to get total number of records in the DataManager execution result.\n     */\n    Query.prototype.requiresCount = function () {\n        this.isCountRequired = true;\n        return this;\n    };\n    //type - sum, avg, min, max\n    /**\n     * Aggregate the data with given type and field name.\n     * @param  {string} type - Defines the aggregate type.\n     * @param  {string} field - Defines the column field to aggregate.\n     */\n    Query.prototype.aggregate = function (type, field) {\n        this.queries.push({\n            fn: 'onAggregates',\n            e: { field: field, type: type }\n        });\n        return this;\n    };\n    /**\n     * Pass array of filterColumn query for performing filter operation.\n     * @param  {QueryOptions[]} queries\n     * @param  {string} name\n     * @hidden\n     */\n    Query.filterQueries = function (queries, name) {\n        return queries.filter(function (q) {\n            return q.fn === name;\n        });\n    };\n    /**\n     * To get the list of queries which is already filtered in current data source.\n     * @param  {Object[]} queries\n     * @param  {string[]} singles\n     * @hidden\n     */\n    Query.filterQueryLists = function (queries, singles) {\n        var filtered = queries.filter(function (q) {\n            return singles.indexOf(q.fn) !== -1;\n        });\n        var res = {};\n        for (var i = 0; i < filtered.length; i++) {\n            if (!res[filtered[i].fn]) {\n                res[filtered[i].fn] = filtered[i].e;\n            }\n        }\n        return res;\n    };\n    return Query;\n}());\nexport { Query };\n/**\n * Predicate class is used to generate complex filter criteria.\n * This will be used by DataManager to perform multiple filtering operation.\n */\nvar Predicate = /** @class */ (function () {\n    /**\n     * Constructor for Predicate class.\n     * @param  {string|Predicate} field\n     * @param  {string} operator\n     * @param  {string|number|boolean|Predicate|Predicate[]} value\n     * @param  {boolean=false} ignoreCase\n     * @hidden\n     */\n    function Predicate(field, operator, value, ignoreCase, ignoreAccent) {\n        if (ignoreCase === void 0) { ignoreCase = false; }\n        /** @hidden */\n        this.ignoreAccent = false;\n        /** @hidden */\n        this.isComplex = false;\n        if (typeof field === 'string') {\n            this.field = field;\n            this.operator = operator.toLowerCase();\n            this.value = value;\n            this.ignoreCase = ignoreCase;\n            this.ignoreAccent = ignoreAccent;\n            this.isComplex = false;\n            this.comparer = DataUtil.fnOperators.processOperator(this.operator);\n        }\n        else if (field instanceof Predicate && value instanceof Predicate || value instanceof Array) {\n            this.isComplex = true;\n            this.condition = operator.toLowerCase();\n            this.predicates = [field];\n            if (value instanceof Array) {\n                [].push.apply(this.predicates, value);\n            }\n            else {\n                this.predicates.push(value);\n            }\n        }\n        return this;\n    }\n    /**\n     * Adds n-number of new predicates on existing predicate with and condition.\n     * @param  {Object[]} args - Defines the collection of predicates.\n     */\n    Predicate.and = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return Predicate.combinePredicates([].slice.call(args, 0), 'and');\n    };\n    /**\n     * Adds new predicate on existing predicate with and condition.\n     * @param  {string} field - Defines the column field.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Predicate.prototype.and = function (field, operator, value, ignoreCase, ignoreAccent) {\n        return Predicate.combine(this, field, operator, value, 'and', ignoreCase, ignoreAccent);\n    };\n    /**\n     * Adds n-number of new predicates on existing predicate with or condition.\n     * @param  {Object[]} args - Defines the collection of predicates.\n     */\n    Predicate.or = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return Predicate.combinePredicates([].slice.call(args, 0), 'or');\n    };\n    /**\n     * Adds new predicate on existing predicate with or condition.\n     * @param  {string} field - Defines the column field.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Predicate.prototype.or = function (field, operator, value, ignoreCase, ignoreAccent) {\n        return Predicate.combine(this, field, operator, value, 'or', ignoreCase, ignoreAccent);\n    };\n    /**\n     * Converts plain JavaScript object to Predicate object.\n     * @param  {Predicate[]|Predicate} json - Defines single or collection of Predicate.\n     */\n    Predicate.fromJson = function (json) {\n        if (json instanceof Array) {\n            var res = [];\n            for (var i = 0, len = json.length; i < len; i++) {\n                res.push(this.fromJSONData(json[i]));\n            }\n            return res;\n        }\n        var pred = json;\n        return this.fromJSONData(pred);\n    };\n    /**\n     * Validate the record based on the predicates.\n     * @param  {Object} record - Defines the datasource record.\n     */\n    Predicate.prototype.validate = function (record) {\n        var predicate = this.predicates ? this.predicates : [];\n        var isAnd;\n        var ret;\n        if (!this.isComplex && this.comparer) {\n            return this.comparer.call(this, DataUtil.getObject(this.field, record), this.value, this.ignoreCase, this.ignoreAccent);\n        }\n        isAnd = this.condition === 'and';\n        for (var i = 0; i < predicate.length; i++) {\n            ret = predicate[i].validate(record);\n            if (isAnd) {\n                if (!ret) {\n                    return false;\n                }\n            }\n            else {\n                if (ret) {\n                    return true;\n                }\n            }\n        }\n        return isAnd;\n    };\n    /**\n     * Converts predicates to plain JavaScript.\n     * This method is uses Json stringify when serializing Predicate object.\n     */\n    Predicate.prototype.toJson = function () {\n        var predicates;\n        var p;\n        if (this.isComplex) {\n            predicates = [];\n            p = this.predicates;\n            for (var i = 0; i < p.length; i++) {\n                predicates.push(p[i].toJson());\n            }\n        }\n        return {\n            isComplex: this.isComplex,\n            field: this.field,\n            operator: this.operator,\n            value: this.value,\n            ignoreCase: this.ignoreCase,\n            ignoreAccent: this.ignoreAccent,\n            condition: this.condition,\n            predicates: predicates\n        };\n    };\n    Predicate.combinePredicates = function (predicates, operator) {\n        if (predicates.length === 1) {\n            if (!(predicates[0] instanceof Array)) {\n                return predicates[0];\n            }\n            predicates = predicates[0];\n        }\n        return new Predicate(predicates[0], operator, predicates.slice(1));\n    };\n    Predicate.combine = function (pred, field, operator, value, condition, ignoreCase, ignoreAccent) {\n        if (field instanceof Predicate) {\n            return Predicate[condition](pred, field);\n        }\n        if (typeof field === 'string') {\n            return Predicate[condition](pred, new Predicate(field, operator, value, ignoreCase, ignoreAccent));\n        }\n        return DataUtil.throwError('Predicate - ' + condition + ' : invalid arguments');\n    };\n    Predicate.fromJSONData = function (json) {\n        var preds = json.predicates || [];\n        var len = preds.length;\n        var predicates = [];\n        var result;\n        for (var i = 0; i < len; i++) {\n            predicates.push(this.fromJSONData(preds[i]));\n        }\n        if (!json.isComplex) {\n            result = new Predicate(json.field, json.operator, json.value, json.ignoreCase, json.ignoreAccent);\n        }\n        else {\n            result = new Predicate(predicates[0], json.condition, predicates.slice(1));\n        }\n        return result;\n    };\n    return Predicate;\n}());\nexport { Predicate };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataManager } from './manager';\nimport { Query } from './query';\nvar consts = { GroupGuid: '{271bbba0-1ee7}' };\n/**\n * Data manager common utility methods.\n * @hidden\n */\nvar DataUtil = /** @class */ (function () {\n    function DataUtil() {\n    }\n    /**\n     * Returns the value by invoking the provided parameter function.\n     * If the paramater is not of type function then it will be returned as it is.\n     * @param  {Function|string|string[]|number} value\n     * @param  {Object} inst?\n     * @hidden\n     */\n    DataUtil.getValue = function (value, inst) {\n        if (typeof value === 'function') {\n            return value.call(inst || {});\n        }\n        return value;\n    };\n    /**\n     * Returns true if the input string ends with given string.\n     * @param  {string} input\n     * @param  {string} substr\n     */\n    DataUtil.endsWith = function (input, substr) {\n        return input.slice(-substr.length) === substr;\n    };\n    /**\n     * Returns true if the input string starts with given string.\n     * @param  {string} str\n     * @param  {string} startstr\n     */\n    DataUtil.startsWith = function (input, start) {\n        return input.slice(0, start.length) === start;\n    };\n    /**\n     * To return the sorting function based on the string.\n     * @param  {string} order\n     * @hidden\n     */\n    DataUtil.fnSort = function (order) {\n        order = order ? DataUtil.toLowerCase(order) : 'ascending';\n        if (order === 'ascending') {\n            return this.fnAscending;\n        }\n        return this.fnDescending;\n    };\n    /**\n     * Comparer function which is used to sort the data in ascending order.\n     * @param  {string|number} x\n     * @param  {string|number} y\n     * @returns number\n     */\n    DataUtil.fnAscending = function (x, y) {\n        if (y === null || y === undefined) {\n            return -1;\n        }\n        if (typeof x === 'string') {\n            return x.localeCompare(y);\n        }\n        if (x === null || x === undefined) {\n            return 1;\n        }\n        return x - y;\n    };\n    /**\n     * Comparer function which is used to sort the data in descending order.\n     * @param  {string|number} x\n     * @param  {string|number} y\n     * @returns number\n     */\n    DataUtil.fnDescending = function (x, y) {\n        if (y === null || y === undefined) {\n            return 1;\n        }\n        if (typeof x === 'string') {\n            return x.localeCompare(y) * -1;\n        }\n        if (x === null || x === undefined) {\n            return -1;\n        }\n        return y - x;\n    };\n    DataUtil.extractFields = function (obj, fields) {\n        var newObj = {};\n        for (var i = 0; i < fields.length; i++) {\n            newObj = this.setValue(fields[i], this.getObject(fields[i], obj), newObj);\n        }\n        return newObj;\n    };\n    /**\n     * Select objects by given fields from jsonArray.\n     * @param  {Object[]} jsonArray\n     * @param  {string[]} fields\n     */\n    DataUtil.select = function (jsonArray, fields) {\n        var newData = [];\n        for (var i = 0; i < jsonArray.length; i++) {\n            newData.push(this.extractFields(jsonArray[i], fields));\n        }\n        return newData;\n    };\n    /**\n     * Group the input data based on the field name.\n     * It also performs aggregation of the grouped records based on the aggregates paramater.\n     * @param  {Object[]} jsonArray\n     * @param  {string} field?\n     * @param  {Object[]} agg?\n     * @param  {number} level?\n     * @param  {Object[]} groupDs?\n     */\n    DataUtil.group = function (jsonArray, field, aggregates, level, groupDs, format) {\n        level = level || 1;\n        var jsonData = jsonArray;\n        var guid = 'GroupGuid';\n        if (jsonData.GroupGuid === consts[guid]) {\n            var _loop_1 = function (j) {\n                if (!isNullOrUndefined(groupDs)) {\n                    var indx = -1;\n                    var temp = groupDs.filter(function (e) { return e.key === jsonData[j].key; });\n                    indx = groupDs.indexOf(temp[0]);\n                    jsonData[j].items = this_1.group(jsonData[j].items, field, aggregates, jsonData.level + 1, groupDs[indx].items, format);\n                    jsonData[j].count = groupDs[indx].count;\n                }\n                else {\n                    jsonData[j].items = this_1.group(jsonData[j].items, field, aggregates, jsonData.level + 1, null, format);\n                    jsonData[j].count = jsonData[j].items.length;\n                }\n            };\n            var this_1 = this;\n            for (var j = 0; j < jsonData.length; j++) {\n                _loop_1(j);\n            }\n            jsonData.childLevels += 1;\n            return jsonData;\n        }\n        var grouped = {};\n        var groupedArray = [];\n        groupedArray.GroupGuid = consts[guid];\n        groupedArray.level = level;\n        groupedArray.childLevels = 0;\n        groupedArray.records = jsonData;\n        var _loop_2 = function (i) {\n            var val = this_2.getVal(jsonData, i, field);\n            if (!isNullOrUndefined(format)) {\n                val = format(val, field);\n            }\n            if (!grouped[val]) {\n                grouped[val] = {\n                    key: val,\n                    count: 0,\n                    items: [],\n                    aggregates: {},\n                    field: field\n                };\n                groupedArray.push(grouped[val]);\n                if (!isNullOrUndefined(groupDs)) {\n                    var tempObj = groupDs.filter(function (e) { return e.key === grouped[val].key; });\n                    grouped[val].count = tempObj[0].count;\n                }\n            }\n            grouped[val].count = !isNullOrUndefined(groupDs) ? grouped[val].count : grouped[val].count += 1;\n            grouped[val].items.push(jsonData[i]);\n        };\n        var this_2 = this;\n        for (var i = 0; i < jsonData.length; i++) {\n            _loop_2(i);\n        }\n        if (aggregates && aggregates.length) {\n            var _loop_3 = function (i) {\n                var res = {};\n                var fn = void 0;\n                var aggs = aggregates;\n                for (var j = 0; j < aggregates.length; j++) {\n                    fn = DataUtil.aggregates[aggregates[j].type];\n                    if (!isNullOrUndefined(groupDs)) {\n                        var temp = groupDs.filter(function (e) { return e.key === groupedArray[i].key; });\n                        if (fn) {\n                            res[aggs[j].field + ' - ' + aggs[j].type] = fn(temp[0].items, aggs[j].field);\n                        }\n                    }\n                    else {\n                        if (fn) {\n                            res[aggs[j].field + ' - ' + aggs[j].type] = fn(groupedArray[i].items, aggs[j].field);\n                        }\n                    }\n                }\n                groupedArray[i].aggregates = res;\n            };\n            for (var i = 0; i < groupedArray.length; i++) {\n                _loop_3(i);\n            }\n        }\n        return jsonData.length && groupedArray || jsonData;\n    };\n    /**\n     * It is used to categorize the multiple items based on a specific field in jsonArray.\n     * The hierarchical queries are commonly required when you use foreign key binding.\n     * @param  {string} fKey\n     * @param  {string} from\n     * @param  {Object[]} source\n     * @param  {Group} lookup?\n     * @param  {string} pKey?\n     * @hidden\n     */\n    DataUtil.buildHierarchy = function (fKey, from, source, lookup, pKey) {\n        var i;\n        var grp = {};\n        var temp;\n        if (lookup.result) {\n            lookup = lookup.result;\n        }\n        if (lookup.GroupGuid) {\n            this.throwError('DataManager: Do not have support Grouping in hierarchy');\n        }\n        for (i = 0; i < lookup.length; i++) {\n            var fKeyData = this.getObject(fKey, lookup[i]);\n            temp = grp[fKeyData] || (grp[fKeyData] = []);\n            temp.push(lookup[i]);\n        }\n        for (i = 0; i < source.length; i++) {\n            var fKeyData = this.getObject(pKey || fKey, source[i]);\n            source[i][from] = grp[fKeyData];\n        }\n    };\n    /**\n     * The method used to get the field names which started with specified characters.\n     * @param  {Object} obj\n     * @param  {string[]} fields?\n     * @param  {string} prefix?\n     * @hidden\n     */\n    DataUtil.getFieldList = function (obj, fields, prefix) {\n        if (prefix === undefined) {\n            prefix = '';\n        }\n        if (fields === undefined || fields === null) {\n            return this.getFieldList(obj, [], prefix);\n        }\n        var copyObj = obj;\n        var keys = Object.keys(obj);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var prop = keys_1[_i];\n            if (typeof copyObj[prop] === 'object' && !(copyObj[prop] instanceof Array)) {\n                this.getFieldList(copyObj[prop], fields, prefix + prop + '.');\n            }\n            else {\n                fields.push(prefix + prop);\n            }\n        }\n        return fields;\n    };\n    /**\n     * Gets the value of the property in the given object.\n     * The complex object can be accessed by providing the field names concatenated with dot(.).\n     * @param  {string} nameSpace - The name of the property to be accessed.\n     * @param  {Object} from - Defines the source object.\n     */\n    DataUtil.getObject = function (nameSpace, from) {\n        if (!nameSpace) {\n            return from;\n        }\n        if (!from) {\n            return undefined;\n        }\n        if (nameSpace.indexOf('.') === -1) {\n            return from[nameSpace];\n        }\n        var value = from;\n        var splits = nameSpace.split('.');\n        for (var i = 0; i < splits.length; i++) {\n            if (value == null) {\n                break;\n            }\n            value = value[splits[i]];\n        }\n        return value;\n    };\n    /**\n     * To set value for the nameSpace in desired object.\n     * @param {string} nameSpace - String value to the get the inner object.\n     * @param {Object} value - Value that you need to set.\n     * @param {Object} obj - Object to get the inner object value.\n     * @return { [key: string]: Object; } | Object\n     * @hidden\n     */\n    DataUtil.setValue = function (nameSpace, value, obj) {\n        var keys = nameSpace.toString().split('.');\n        var start = obj || {};\n        var fromObj = start;\n        var i;\n        var length = keys.length;\n        var key;\n        for (i = 0; i < length; i++) {\n            key = keys[i];\n            if (i + 1 === length) {\n                fromObj[key] = value === undefined ? undefined : value;\n            }\n            else if (isNullOrUndefined(fromObj[key])) {\n                fromObj[key] = {};\n            }\n            fromObj = fromObj[key];\n        }\n        return start;\n    };\n    /**\n     * Sort the given data based on the field and comparer.\n     * @param  {Object[]} ds - Defines the input data.\n     * @param  {string} field - Defines the field to be sorted.\n     * @param  {Function} comparer - Defines the comparer function used to sort the records.\n     */\n    DataUtil.sort = function (ds, field, comparer) {\n        if (ds.length <= 1) {\n            return ds;\n        }\n        var middle = parseInt((ds.length / 2).toString(), 10);\n        var left = ds.slice(0, middle);\n        var right = ds.slice(middle);\n        left = this.sort(left, field, comparer);\n        right = this.sort(right, field, comparer);\n        return this.merge(left, right, field, comparer);\n    };\n    DataUtil.ignoreDiacritics = function (value) {\n        if (typeof value !== 'string') {\n            return value;\n        }\n        var result = value.split('');\n        var newValue = result.map(function (temp) { return temp in DataUtil.diacritics ? DataUtil.diacritics[temp] : temp; });\n        return newValue.join('');\n    };\n    DataUtil.merge = function (left, right, fieldName, comparer) {\n        var result = [];\n        var current;\n        while (left.length > 0 || right.length > 0) {\n            if (left.length > 0 && right.length > 0) {\n                if (comparer) {\n                    current = comparer(this.getVal(left, 0, fieldName), this.getVal(right, 0, fieldName)) <= 0 ? left : right;\n                }\n                else {\n                    current = left[0][fieldName] < left[0][fieldName] ? left : right;\n                }\n            }\n            else {\n                current = left.length > 0 ? left : right;\n            }\n            result.push(current.shift());\n        }\n        return result;\n    };\n    DataUtil.getVal = function (array, index, field) {\n        return field ? this.getObject(field, array[index]) : array[index];\n    };\n    DataUtil.toLowerCase = function (val) {\n        return val ? typeof val === 'string' ? val.toLowerCase() : val.toString() : (val === 0 || val === false) ? val.toString() : '';\n    };\n    /**\n     * To perform the filter operation with specified adaptor and returns the result.\n     * @param  {Object} adaptor\n     * @param  {string} fnName\n     * @param  {Object} param1?\n     * @param  {Object} param2?\n     * @hidden\n     */\n    DataUtil.callAdaptorFunction = function (adaptor, fnName, param1, param2) {\n        if (fnName in adaptor) {\n            var res = adaptor[fnName](param1, param2);\n            if (!isNullOrUndefined(res)) {\n                param1 = res;\n            }\n        }\n        return param1;\n    };\n    /**\n     * Checks wheather the given input is a plain object or not.\n     * @param  {Object|Object[]} obj\n     */\n    DataUtil.isPlainObject = function (obj) {\n        return (!!obj) && (obj.constructor === Object);\n    };\n    /**\n     * Returns true when the browser cross origin request.\n     */\n    DataUtil.isCors = function () {\n        var xhr = null;\n        var request = 'XMLHttpRequest';\n        try {\n            xhr = new window[request]();\n        }\n        catch (e) {\n            // No exception handling\n        }\n        return !!xhr && ('withCredentials' in xhr);\n    };\n    /**\n     * Generate random GUID value which will be prefixed with the given value.\n     * @param  {string} prefix\n     */\n    DataUtil.getGuid = function (prefix) {\n        var hexs = '0123456789abcdef';\n        var rand;\n        return (prefix || '') + '00000000-0000-4000-0000-000000000000'.replace(/0/g, function (val, i) {\n            if ('crypto' in window && 'getRandomValues' in crypto) {\n                var arr = new Uint8Array(1);\n                window.crypto.getRandomValues(arr);\n                rand = arr[0] % 16 | 0;\n            }\n            else {\n                rand = Math.random() * 16 | 0;\n            }\n            return hexs[i === 19 ? rand & 0x3 | 0x8 : rand];\n        });\n    };\n    /**\n     * Checks wheather the given value is null or not.\n     * @param  {string|Object} val\n     * @returns boolean\n     */\n    DataUtil.isNull = function (val) {\n        return val === undefined || val === null;\n    };\n    /**\n     * To get the required items from collection of objects.\n     * @param  {Object[]} array\n     * @param  {string} field\n     * @param  {Function} comparer\n     * @returns Object\n     * @hidden\n     */\n    DataUtil.getItemFromComparer = function (array, field, comparer) {\n        var keyVal;\n        var current;\n        var key;\n        var i = 0;\n        var castRequired = typeof DataUtil.getVal(array, 0, field) === 'string';\n        if (array.length) {\n            while (isNullOrUndefined(keyVal) && i < array.length) {\n                keyVal = DataUtil.getVal(array, i, field);\n                key = array[i++];\n            }\n        }\n        for (; i < array.length; i++) {\n            current = DataUtil.getVal(array, i, field);\n            if (isNullOrUndefined(current)) {\n                continue;\n            }\n            if (castRequired) {\n                keyVal = +keyVal;\n                current = +current;\n            }\n            if (comparer(keyVal, current) > 0) {\n                keyVal = current;\n                key = array[i];\n            }\n        }\n        return key;\n    };\n    /**\n     * To get distinct values of Array or Array of Objects.\n     * @param  {Object[]} json\n     * @param  {string} field\n     * @param  {boolean} requiresCompleteRecord\n     * @returns Object[]\n     * * distinct array of objects is return when requiresCompleteRecord set as true.\n     * @hidden\n     */\n    DataUtil.distinct = function (json, fieldName, requiresCompleteRecord) {\n        requiresCompleteRecord = isNullOrUndefined(requiresCompleteRecord) ? false : requiresCompleteRecord;\n        var result = [];\n        var val;\n        var tmp = {};\n        json.forEach(function (data, index) {\n            val = DataUtil.getVal(json, index, fieldName);\n            if (!(val in tmp)) {\n                result.push(!requiresCompleteRecord ? val : json[index]);\n                tmp[val] = 1;\n            }\n        });\n        return result;\n    };\n    /**\n     * Specifies the value which will be used to adjust the date value to server timezone.\n     * @default null\n     */\n    DataUtil.serverTimezoneOffset = null;\n    /**\n     * Throw error with the given string as message.\n     * @param  {string} er\n     */\n    DataUtil.throwError = function (error) {\n        try {\n            throw new Error(error);\n        }\n        catch (e) {\n            throw e.message + '\\n' + e.stack;\n        }\n    };\n    DataUtil.aggregates = {\n        /**\n         * Calculate sum of the given field in the data.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        sum: function (ds, field) {\n            var result = 0;\n            var val;\n            var castRequired = typeof DataUtil.getVal(ds, 0, field) !== 'number';\n            for (var i = 0; i < ds.length; i++) {\n                val = DataUtil.getVal(ds, i, field);\n                if (!isNaN(val) && val !== null) {\n                    if (castRequired) {\n                        val = +val;\n                    }\n                    result += val;\n                }\n            }\n            return result;\n        },\n        /**\n         * Calculate average value of the given field in the data.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        average: function (ds, field) {\n            return DataUtil.aggregates.sum(ds, field) / ds.length;\n        },\n        /**\n         * Returns the min value of the data based on the field.\n         * @param  {Object[]} ds\n         * @param  {string|Function} field\n         */\n        min: function (ds, field) {\n            var comparer;\n            if (typeof field === 'function') {\n                comparer = field;\n                field = null;\n            }\n            return DataUtil.getObject(field, DataUtil.getItemFromComparer(ds, field, comparer || DataUtil.fnAscending));\n        },\n        /**\n         * Returns the max value of the data based on the field.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         * @returns number\n         */\n        max: function (ds, field) {\n            var comparer;\n            if (typeof field === 'function') {\n                comparer = field;\n                field = null;\n            }\n            return DataUtil.getObject(field, DataUtil.getItemFromComparer(ds, field, comparer || DataUtil.fnDescending));\n        },\n        /**\n         * Returns the total number of true value present in the data based on the given boolean field name.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        truecount: function (ds, field) {\n            return new DataManager(ds).executeLocal(new Query().where(field, 'equal', true, true)).length;\n        },\n        /**\n         * Returns the total number of false value present in the data based on the given boolean field name.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        falsecount: function (ds, field) {\n            return new DataManager(ds).executeLocal(new Query().where(field, 'equal', false, true)).length;\n        },\n        /**\n         * Returns the length of the given data.\n         * @param  {Object[]} ds\n         * @param  {string} field?\n         * @returns number\n         */\n        count: function (ds, field) {\n            return ds.length;\n        }\n    };\n    /**\n     * Specifies the Object with filter operators.\n     */\n    DataUtil.operatorSymbols = {\n        '<': 'lessthan',\n        '>': 'greaterthan',\n        '<=': 'lessthanorequal',\n        '>=': 'greaterthanorequal',\n        '==': 'equal',\n        '!=': 'notequal',\n        '*=': 'contains',\n        '$=': 'endswith',\n        '^=': 'startswith'\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for OData filter query generation.\n     * * It will be used for date/number type filter query.\n     */\n    DataUtil.odBiOperator = {\n        '<': ' lt ',\n        '>': ' gt ',\n        '<=': ' le ',\n        '>=': ' ge ',\n        '==': ' eq ',\n        '!=': ' ne ',\n        'lessthan': ' lt ',\n        'lessthanorequal': ' le ',\n        'greaterthan': ' gt ',\n        'greaterthanorequal': ' ge ',\n        'equal': ' eq ',\n        'notequal': ' ne '\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for OData filter query generation.\n     * It will be used for string type filter query.\n     */\n    DataUtil.odUniOperator = {\n        '$=': 'endswith',\n        '^=': 'startswith',\n        '*=': 'substringof',\n        'endswith': 'endswith',\n        'startswith': 'startswith',\n        'contains': 'substringof'\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for ODataV4 filter query generation.\n     * It will be used for string type filter query.\n     */\n    DataUtil.odv4UniOperator = {\n        '$=': 'endswith',\n        '^=': 'startswith',\n        '*=': 'contains',\n        'endswith': 'endswith',\n        'startswith': 'startswith',\n        'contains': 'contains'\n    };\n    DataUtil.diacritics = {\n        '\\u24B6': 'A',\n        '\\uFF21': 'A',\n        '\\u00C0': 'A',\n        '\\u00C1': 'A',\n        '\\u00C2': 'A',\n        '\\u1EA6': 'A',\n        '\\u1EA4': 'A',\n        '\\u1EAA': 'A',\n        '\\u1EA8': 'A',\n        '\\u00C3': 'A',\n        '\\u0100': 'A',\n        '\\u0102': 'A',\n        '\\u1EB0': 'A',\n        '\\u1EAE': 'A',\n        '\\u1EB4': 'A',\n        '\\u1EB2': 'A',\n        '\\u0226': 'A',\n        '\\u01E0': 'A',\n        '\\u00C4': 'A',\n        '\\u01DE': 'A',\n        '\\u1EA2': 'A',\n        '\\u00C5': 'A',\n        '\\u01FA': 'A',\n        '\\u01CD': 'A',\n        '\\u0200': 'A',\n        '\\u0202': 'A',\n        '\\u1EA0': 'A',\n        '\\u1EAC': 'A',\n        '\\u1EB6': 'A',\n        '\\u1E00': 'A',\n        '\\u0104': 'A',\n        '\\u023A': 'A',\n        '\\u2C6F': 'A',\n        '\\uA732': 'AA',\n        '\\u00C6': 'AE',\n        '\\u01FC': 'AE',\n        '\\u01E2': 'AE',\n        '\\uA734': 'AO',\n        '\\uA736': 'AU',\n        '\\uA738': 'AV',\n        '\\uA73A': 'AV',\n        '\\uA73C': 'AY',\n        '\\u24B7': 'B',\n        '\\uFF22': 'B',\n        '\\u1E02': 'B',\n        '\\u1E04': 'B',\n        '\\u1E06': 'B',\n        '\\u0243': 'B',\n        '\\u0182': 'B',\n        '\\u0181': 'B',\n        '\\u24B8': 'C',\n        '\\uFF23': 'C',\n        '\\u0106': 'C',\n        '\\u0108': 'C',\n        '\\u010A': 'C',\n        '\\u010C': 'C',\n        '\\u00C7': 'C',\n        '\\u1E08': 'C',\n        '\\u0187': 'C',\n        '\\u023B': 'C',\n        '\\uA73E': 'C',\n        '\\u24B9': 'D',\n        '\\uFF24': 'D',\n        '\\u1E0A': 'D',\n        '\\u010E': 'D',\n        '\\u1E0C': 'D',\n        '\\u1E10': 'D',\n        '\\u1E12': 'D',\n        '\\u1E0E': 'D',\n        '\\u0110': 'D',\n        '\\u018B': 'D',\n        '\\u018A': 'D',\n        '\\u0189': 'D',\n        '\\uA779': 'D',\n        '\\u01F1': 'DZ',\n        '\\u01C4': 'DZ',\n        '\\u01F2': 'Dz',\n        '\\u01C5': 'Dz',\n        '\\u24BA': 'E',\n        '\\uFF25': 'E',\n        '\\u00C8': 'E',\n        '\\u00C9': 'E',\n        '\\u00CA': 'E',\n        '\\u1EC0': 'E',\n        '\\u1EBE': 'E',\n        '\\u1EC4': 'E',\n        '\\u1EC2': 'E',\n        '\\u1EBC': 'E',\n        '\\u0112': 'E',\n        '\\u1E14': 'E',\n        '\\u1E16': 'E',\n        '\\u0114': 'E',\n        '\\u0116': 'E',\n        '\\u00CB': 'E',\n        '\\u1EBA': 'E',\n        '\\u011A': 'E',\n        '\\u0204': 'E',\n        '\\u0206': 'E',\n        '\\u1EB8': 'E',\n        '\\u1EC6': 'E',\n        '\\u0228': 'E',\n        '\\u1E1C': 'E',\n        '\\u0118': 'E',\n        '\\u1E18': 'E',\n        '\\u1E1A': 'E',\n        '\\u0190': 'E',\n        '\\u018E': 'E',\n        '\\u24BB': 'F',\n        '\\uFF26': 'F',\n        '\\u1E1E': 'F',\n        '\\u0191': 'F',\n        '\\uA77B': 'F',\n        '\\u24BC': 'G',\n        '\\uFF27': 'G',\n        '\\u01F4': 'G',\n        '\\u011C': 'G',\n        '\\u1E20': 'G',\n        '\\u011E': 'G',\n        '\\u0120': 'G',\n        '\\u01E6': 'G',\n        '\\u0122': 'G',\n        '\\u01E4': 'G',\n        '\\u0193': 'G',\n        '\\uA7A0': 'G',\n        '\\uA77D': 'G',\n        '\\uA77E': 'G',\n        '\\u24BD': 'H',\n        '\\uFF28': 'H',\n        '\\u0124': 'H',\n        '\\u1E22': 'H',\n        '\\u1E26': 'H',\n        '\\u021E': 'H',\n        '\\u1E24': 'H',\n        '\\u1E28': 'H',\n        '\\u1E2A': 'H',\n        '\\u0126': 'H',\n        '\\u2C67': 'H',\n        '\\u2C75': 'H',\n        '\\uA78D': 'H',\n        '\\u24BE': 'I',\n        '\\uFF29': 'I',\n        '\\u00CC': 'I',\n        '\\u00CD': 'I',\n        '\\u00CE': 'I',\n        '\\u0128': 'I',\n        '\\u012A': 'I',\n        '\\u012C': 'I',\n        '\\u0130': 'I',\n        '\\u00CF': 'I',\n        '\\u1E2E': 'I',\n        '\\u1EC8': 'I',\n        '\\u01CF': 'I',\n        '\\u0208': 'I',\n        '\\u020A': 'I',\n        '\\u1ECA': 'I',\n        '\\u012E': 'I',\n        '\\u1E2C': 'I',\n        '\\u0197': 'I',\n        '\\u24BF': 'J',\n        '\\uFF2A': 'J',\n        '\\u0134': 'J',\n        '\\u0248': 'J',\n        '\\u24C0': 'K',\n        '\\uFF2B': 'K',\n        '\\u1E30': 'K',\n        '\\u01E8': 'K',\n        '\\u1E32': 'K',\n        '\\u0136': 'K',\n        '\\u1E34': 'K',\n        '\\u0198': 'K',\n        '\\u2C69': 'K',\n        '\\uA740': 'K',\n        '\\uA742': 'K',\n        '\\uA744': 'K',\n        '\\uA7A2': 'K',\n        '\\u24C1': 'L',\n        '\\uFF2C': 'L',\n        '\\u013F': 'L',\n        '\\u0139': 'L',\n        '\\u013D': 'L',\n        '\\u1E36': 'L',\n        '\\u1E38': 'L',\n        '\\u013B': 'L',\n        '\\u1E3C': 'L',\n        '\\u1E3A': 'L',\n        '\\u0141': 'L',\n        '\\u023D': 'L',\n        '\\u2C62': 'L',\n        '\\u2C60': 'L',\n        '\\uA748': 'L',\n        '\\uA746': 'L',\n        '\\uA780': 'L',\n        '\\u01C7': 'LJ',\n        '\\u01C8': 'Lj',\n        '\\u24C2': 'M',\n        '\\uFF2D': 'M',\n        '\\u1E3E': 'M',\n        '\\u1E40': 'M',\n        '\\u1E42': 'M',\n        '\\u2C6E': 'M',\n        '\\u019C': 'M',\n        '\\u24C3': 'N',\n        '\\uFF2E': 'N',\n        '\\u01F8': 'N',\n        '\\u0143': 'N',\n        '\\u00D1': 'N',\n        '\\u1E44': 'N',\n        '\\u0147': 'N',\n        '\\u1E46': 'N',\n        '\\u0145': 'N',\n        '\\u1E4A': 'N',\n        '\\u1E48': 'N',\n        '\\u0220': 'N',\n        '\\u019D': 'N',\n        '\\uA790': 'N',\n        '\\uA7A4': 'N',\n        '\\u01CA': 'NJ',\n        '\\u01CB': 'Nj',\n        '\\u24C4': 'O',\n        '\\uFF2F': 'O',\n        '\\u00D2': 'O',\n        '\\u00D3': 'O',\n        '\\u00D4': 'O',\n        '\\u1ED2': 'O',\n        '\\u1ED0': 'O',\n        '\\u1ED6': 'O',\n        '\\u1ED4': 'O',\n        '\\u00D5': 'O',\n        '\\u1E4C': 'O',\n        '\\u022C': 'O',\n        '\\u1E4E': 'O',\n        '\\u014C': 'O',\n        '\\u1E50': 'O',\n        '\\u1E52': 'O',\n        '\\u014E': 'O',\n        '\\u022E': 'O',\n        '\\u0230': 'O',\n        '\\u00D6': 'O',\n        '\\u022A': 'O',\n        '\\u1ECE': 'O',\n        '\\u0150': 'O',\n        '\\u01D1': 'O',\n        '\\u020C': 'O',\n        '\\u020E': 'O',\n        '\\u01A0': 'O',\n        '\\u1EDC': 'O',\n        '\\u1EDA': 'O',\n        '\\u1EE0': 'O',\n        '\\u1EDE': 'O',\n        '\\u1EE2': 'O',\n        '\\u1ECC': 'O',\n        '\\u1ED8': 'O',\n        '\\u01EA': 'O',\n        '\\u01EC': 'O',\n        '\\u00D8': 'O',\n        '\\u01FE': 'O',\n        '\\u0186': 'O',\n        '\\u019F': 'O',\n        '\\uA74A': 'O',\n        '\\uA74C': 'O',\n        '\\u01A2': 'OI',\n        '\\uA74E': 'OO',\n        '\\u0222': 'OU',\n        '\\u24C5': 'P',\n        '\\uFF30': 'P',\n        '\\u1E54': 'P',\n        '\\u1E56': 'P',\n        '\\u01A4': 'P',\n        '\\u2C63': 'P',\n        '\\uA750': 'P',\n        '\\uA752': 'P',\n        '\\uA754': 'P',\n        '\\u24C6': 'Q',\n        '\\uFF31': 'Q',\n        '\\uA756': 'Q',\n        '\\uA758': 'Q',\n        '\\u024A': 'Q',\n        '\\u24C7': 'R',\n        '\\uFF32': 'R',\n        '\\u0154': 'R',\n        '\\u1E58': 'R',\n        '\\u0158': 'R',\n        '\\u0210': 'R',\n        '\\u0212': 'R',\n        '\\u1E5A': 'R',\n        '\\u1E5C': 'R',\n        '\\u0156': 'R',\n        '\\u1E5E': 'R',\n        '\\u024C': 'R',\n        '\\u2C64': 'R',\n        '\\uA75A': 'R',\n        '\\uA7A6': 'R',\n        '\\uA782': 'R',\n        '\\u24C8': 'S',\n        '\\uFF33': 'S',\n        '\\u1E9E': 'S',\n        '\\u015A': 'S',\n        '\\u1E64': 'S',\n        '\\u015C': 'S',\n        '\\u1E60': 'S',\n        '\\u0160': 'S',\n        '\\u1E66': 'S',\n        '\\u1E62': 'S',\n        '\\u1E68': 'S',\n        '\\u0218': 'S',\n        '\\u015E': 'S',\n        '\\u2C7E': 'S',\n        '\\uA7A8': 'S',\n        '\\uA784': 'S',\n        '\\u24C9': 'T',\n        '\\uFF34': 'T',\n        '\\u1E6A': 'T',\n        '\\u0164': 'T',\n        '\\u1E6C': 'T',\n        '\\u021A': 'T',\n        '\\u0162': 'T',\n        '\\u1E70': 'T',\n        '\\u1E6E': 'T',\n        '\\u0166': 'T',\n        '\\u01AC': 'T',\n        '\\u01AE': 'T',\n        '\\u023E': 'T',\n        '\\uA786': 'T',\n        '\\uA728': 'TZ',\n        '\\u24CA': 'U',\n        '\\uFF35': 'U',\n        '\\u00D9': 'U',\n        '\\u00DA': 'U',\n        '\\u00DB': 'U',\n        '\\u0168': 'U',\n        '\\u1E78': 'U',\n        '\\u016A': 'U',\n        '\\u1E7A': 'U',\n        '\\u016C': 'U',\n        '\\u00DC': 'U',\n        '\\u01DB': 'U',\n        '\\u01D7': 'U',\n        '\\u01D5': 'U',\n        '\\u01D9': 'U',\n        '\\u1EE6': 'U',\n        '\\u016E': 'U',\n        '\\u0170': 'U',\n        '\\u01D3': 'U',\n        '\\u0214': 'U',\n        '\\u0216': 'U',\n        '\\u01AF': 'U',\n        '\\u1EEA': 'U',\n        '\\u1EE8': 'U',\n        '\\u1EEE': 'U',\n        '\\u1EEC': 'U',\n        '\\u1EF0': 'U',\n        '\\u1EE4': 'U',\n        '\\u1E72': 'U',\n        '\\u0172': 'U',\n        '\\u1E76': 'U',\n        '\\u1E74': 'U',\n        '\\u0244': 'U',\n        '\\u24CB': 'V',\n        '\\uFF36': 'V',\n        '\\u1E7C': 'V',\n        '\\u1E7E': 'V',\n        '\\u01B2': 'V',\n        '\\uA75E': 'V',\n        '\\u0245': 'V',\n        '\\uA760': 'VY',\n        '\\u24CC': 'W',\n        '\\uFF37': 'W',\n        '\\u1E80': 'W',\n        '\\u1E82': 'W',\n        '\\u0174': 'W',\n        '\\u1E86': 'W',\n        '\\u1E84': 'W',\n        '\\u1E88': 'W',\n        '\\u2C72': 'W',\n        '\\u24CD': 'X',\n        '\\uFF38': 'X',\n        '\\u1E8A': 'X',\n        '\\u1E8C': 'X',\n        '\\u24CE': 'Y',\n        '\\uFF39': 'Y',\n        '\\u1EF2': 'Y',\n        '\\u00DD': 'Y',\n        '\\u0176': 'Y',\n        '\\u1EF8': 'Y',\n        '\\u0232': 'Y',\n        '\\u1E8E': 'Y',\n        '\\u0178': 'Y',\n        '\\u1EF6': 'Y',\n        '\\u1EF4': 'Y',\n        '\\u01B3': 'Y',\n        '\\u024E': 'Y',\n        '\\u1EFE': 'Y',\n        '\\u24CF': 'Z',\n        '\\uFF3A': 'Z',\n        '\\u0179': 'Z',\n        '\\u1E90': 'Z',\n        '\\u017B': 'Z',\n        '\\u017D': 'Z',\n        '\\u1E92': 'Z',\n        '\\u1E94': 'Z',\n        '\\u01B5': 'Z',\n        '\\u0224': 'Z',\n        '\\u2C7F': 'Z',\n        '\\u2C6B': 'Z',\n        '\\uA762': 'Z',\n        '\\u24D0': 'a',\n        '\\uFF41': 'a',\n        '\\u1E9A': 'a',\n        '\\u00E0': 'a',\n        '\\u00E1': 'a',\n        '\\u00E2': 'a',\n        '\\u1EA7': 'a',\n        '\\u1EA5': 'a',\n        '\\u1EAB': 'a',\n        '\\u1EA9': 'a',\n        '\\u00E3': 'a',\n        '\\u0101': 'a',\n        '\\u0103': 'a',\n        '\\u1EB1': 'a',\n        '\\u1EAF': 'a',\n        '\\u1EB5': 'a',\n        '\\u1EB3': 'a',\n        '\\u0227': 'a',\n        '\\u01E1': 'a',\n        '\\u00E4': 'a',\n        '\\u01DF': 'a',\n        '\\u1EA3': 'a',\n        '\\u00E5': 'a',\n        '\\u01FB': 'a',\n        '\\u01CE': 'a',\n        '\\u0201': 'a',\n        '\\u0203': 'a',\n        '\\u1EA1': 'a',\n        '\\u1EAD': 'a',\n        '\\u1EB7': 'a',\n        '\\u1E01': 'a',\n        '\\u0105': 'a',\n        '\\u2C65': 'a',\n        '\\u0250': 'a',\n        '\\uA733': 'aa',\n        '\\u00E6': 'ae',\n        '\\u01FD': 'ae',\n        '\\u01E3': 'ae',\n        '\\uA735': 'ao',\n        '\\uA737': 'au',\n        '\\uA739': 'av',\n        '\\uA73B': 'av',\n        '\\uA73D': 'ay',\n        '\\u24D1': 'b',\n        '\\uFF42': 'b',\n        '\\u1E03': 'b',\n        '\\u1E05': 'b',\n        '\\u1E07': 'b',\n        '\\u0180': 'b',\n        '\\u0183': 'b',\n        '\\u0253': 'b',\n        '\\u24D2': 'c',\n        '\\uFF43': 'c',\n        '\\u0107': 'c',\n        '\\u0109': 'c',\n        '\\u010B': 'c',\n        '\\u010D': 'c',\n        '\\u00E7': 'c',\n        '\\u1E09': 'c',\n        '\\u0188': 'c',\n        '\\u023C': 'c',\n        '\\uA73F': 'c',\n        '\\u2184': 'c',\n        '\\u24D3': 'd',\n        '\\uFF44': 'd',\n        '\\u1E0B': 'd',\n        '\\u010F': 'd',\n        '\\u1E0D': 'd',\n        '\\u1E11': 'd',\n        '\\u1E13': 'd',\n        '\\u1E0F': 'd',\n        '\\u0111': 'd',\n        '\\u018C': 'd',\n        '\\u0256': 'd',\n        '\\u0257': 'd',\n        '\\uA77A': 'd',\n        '\\u01F3': 'dz',\n        '\\u01C6': 'dz',\n        '\\u24D4': 'e',\n        '\\uFF45': 'e',\n        '\\u00E8': 'e',\n        '\\u00E9': 'e',\n        '\\u00EA': 'e',\n        '\\u1EC1': 'e',\n        '\\u1EBF': 'e',\n        '\\u1EC5': 'e',\n        '\\u1EC3': 'e',\n        '\\u1EBD': 'e',\n        '\\u0113': 'e',\n        '\\u1E15': 'e',\n        '\\u1E17': 'e',\n        '\\u0115': 'e',\n        '\\u0117': 'e',\n        '\\u00EB': 'e',\n        '\\u1EBB': 'e',\n        '\\u011B': 'e',\n        '\\u0205': 'e',\n        '\\u0207': 'e',\n        '\\u1EB9': 'e',\n        '\\u1EC7': 'e',\n        '\\u0229': 'e',\n        '\\u1E1D': 'e',\n        '\\u0119': 'e',\n        '\\u1E19': 'e',\n        '\\u1E1B': 'e',\n        '\\u0247': 'e',\n        '\\u025B': 'e',\n        '\\u01DD': 'e',\n        '\\u24D5': 'f',\n        '\\uFF46': 'f',\n        '\\u1E1F': 'f',\n        '\\u0192': 'f',\n        '\\uA77C': 'f',\n        '\\u24D6': 'g',\n        '\\uFF47': 'g',\n        '\\u01F5': 'g',\n        '\\u011D': 'g',\n        '\\u1E21': 'g',\n        '\\u011F': 'g',\n        '\\u0121': 'g',\n        '\\u01E7': 'g',\n        '\\u0123': 'g',\n        '\\u01E5': 'g',\n        '\\u0260': 'g',\n        '\\uA7A1': 'g',\n        '\\u1D79': 'g',\n        '\\uA77F': 'g',\n        '\\u24D7': 'h',\n        '\\uFF48': 'h',\n        '\\u0125': 'h',\n        '\\u1E23': 'h',\n        '\\u1E27': 'h',\n        '\\u021F': 'h',\n        '\\u1E25': 'h',\n        '\\u1E29': 'h',\n        '\\u1E2B': 'h',\n        '\\u1E96': 'h',\n        '\\u0127': 'h',\n        '\\u2C68': 'h',\n        '\\u2C76': 'h',\n        '\\u0265': 'h',\n        '\\u0195': 'hv',\n        '\\u24D8': 'i',\n        '\\uFF49': 'i',\n        '\\u00EC': 'i',\n        '\\u00ED': 'i',\n        '\\u00EE': 'i',\n        '\\u0129': 'i',\n        '\\u012B': 'i',\n        '\\u012D': 'i',\n        '\\u00EF': 'i',\n        '\\u1E2F': 'i',\n        '\\u1EC9': 'i',\n        '\\u01D0': 'i',\n        '\\u0209': 'i',\n        '\\u020B': 'i',\n        '\\u1ECB': 'i',\n        '\\u012F': 'i',\n        '\\u1E2D': 'i',\n        '\\u0268': 'i',\n        '\\u0131': 'i',\n        '\\u24D9': 'j',\n        '\\uFF4A': 'j',\n        '\\u0135': 'j',\n        '\\u01F0': 'j',\n        '\\u0249': 'j',\n        '\\u24DA': 'k',\n        '\\uFF4B': 'k',\n        '\\u1E31': 'k',\n        '\\u01E9': 'k',\n        '\\u1E33': 'k',\n        '\\u0137': 'k',\n        '\\u1E35': 'k',\n        '\\u0199': 'k',\n        '\\u2C6A': 'k',\n        '\\uA741': 'k',\n        '\\uA743': 'k',\n        '\\uA745': 'k',\n        '\\uA7A3': 'k',\n        '\\u24DB': 'l',\n        '\\uFF4C': 'l',\n        '\\u0140': 'l',\n        '\\u013A': 'l',\n        '\\u013E': 'l',\n        '\\u1E37': 'l',\n        '\\u1E39': 'l',\n        '\\u013C': 'l',\n        '\\u1E3D': 'l',\n        '\\u1E3B': 'l',\n        '\\u017F': 'l',\n        '\\u0142': 'l',\n        '\\u019A': 'l',\n        '\\u026B': 'l',\n        '\\u2C61': 'l',\n        '\\uA749': 'l',\n        '\\uA781': 'l',\n        '\\uA747': 'l',\n        '\\u01C9': 'lj',\n        '\\u24DC': 'm',\n        '\\uFF4D': 'm',\n        '\\u1E3F': 'm',\n        '\\u1E41': 'm',\n        '\\u1E43': 'm',\n        '\\u0271': 'm',\n        '\\u026F': 'm',\n        '\\u24DD': 'n',\n        '\\uFF4E': 'n',\n        '\\u01F9': 'n',\n        '\\u0144': 'n',\n        '\\u00F1': 'n',\n        '\\u1E45': 'n',\n        '\\u0148': 'n',\n        '\\u1E47': 'n',\n        '\\u0146': 'n',\n        '\\u1E4B': 'n',\n        '\\u1E49': 'n',\n        '\\u019E': 'n',\n        '\\u0272': 'n',\n        '\\u0149': 'n',\n        '\\uA791': 'n',\n        '\\uA7A5': 'n',\n        '\\u01CC': 'nj',\n        '\\u24DE': 'o',\n        '\\uFF4F': 'o',\n        '\\u00F2': 'o',\n        '\\u00F3': 'o',\n        '\\u00F4': 'o',\n        '\\u1ED3': 'o',\n        '\\u1ED1': 'o',\n        '\\u1ED7': 'o',\n        '\\u1ED5': 'o',\n        '\\u00F5': 'o',\n        '\\u1E4D': 'o',\n        '\\u022D': 'o',\n        '\\u1E4F': 'o',\n        '\\u014D': 'o',\n        '\\u1E51': 'o',\n        '\\u1E53': 'o',\n        '\\u014F': 'o',\n        '\\u022F': 'o',\n        '\\u0231': 'o',\n        '\\u00F6': 'o',\n        '\\u022B': 'o',\n        '\\u1ECF': 'o',\n        '\\u0151': 'o',\n        '\\u01D2': 'o',\n        '\\u020D': 'o',\n        '\\u020F': 'o',\n        '\\u01A1': 'o',\n        '\\u1EDD': 'o',\n        '\\u1EDB': 'o',\n        '\\u1EE1': 'o',\n        '\\u1EDF': 'o',\n        '\\u1EE3': 'o',\n        '\\u1ECD': 'o',\n        '\\u1ED9': 'o',\n        '\\u01EB': 'o',\n        '\\u01ED': 'o',\n        '\\u00F8': 'o',\n        '\\u01FF': 'o',\n        '\\u0254': 'o',\n        '\\uA74B': 'o',\n        '\\uA74D': 'o',\n        '\\u0275': 'o',\n        '\\u01A3': 'oi',\n        '\\u0223': 'ou',\n        '\\uA74F': 'oo',\n        '\\u24DF': 'p',\n        '\\uFF50': 'p',\n        '\\u1E55': 'p',\n        '\\u1E57': 'p',\n        '\\u01A5': 'p',\n        '\\u1D7D': 'p',\n        '\\uA751': 'p',\n        '\\uA753': 'p',\n        '\\uA755': 'p',\n        '\\u24E0': 'q',\n        '\\uFF51': 'q',\n        '\\u024B': 'q',\n        '\\uA757': 'q',\n        '\\uA759': 'q',\n        '\\u24E1': 'r',\n        '\\uFF52': 'r',\n        '\\u0155': 'r',\n        '\\u1E59': 'r',\n        '\\u0159': 'r',\n        '\\u0211': 'r',\n        '\\u0213': 'r',\n        '\\u1E5B': 'r',\n        '\\u1E5D': 'r',\n        '\\u0157': 'r',\n        '\\u1E5F': 'r',\n        '\\u024D': 'r',\n        '\\u027D': 'r',\n        '\\uA75B': 'r',\n        '\\uA7A7': 'r',\n        '\\uA783': 'r',\n        '\\u24E2': 's',\n        '\\uFF53': 's',\n        '\\u00DF': 's',\n        '\\u015B': 's',\n        '\\u1E65': 's',\n        '\\u015D': 's',\n        '\\u1E61': 's',\n        '\\u0161': 's',\n        '\\u1E67': 's',\n        '\\u1E63': 's',\n        '\\u1E69': 's',\n        '\\u0219': 's',\n        '\\u015F': 's',\n        '\\u023F': 's',\n        '\\uA7A9': 's',\n        '\\uA785': 's',\n        '\\u1E9B': 's',\n        '\\u24E3': 't',\n        '\\uFF54': 't',\n        '\\u1E6B': 't',\n        '\\u1E97': 't',\n        '\\u0165': 't',\n        '\\u1E6D': 't',\n        '\\u021B': 't',\n        '\\u0163': 't',\n        '\\u1E71': 't',\n        '\\u1E6F': 't',\n        '\\u0167': 't',\n        '\\u01AD': 't',\n        '\\u0288': 't',\n        '\\u2C66': 't',\n        '\\uA787': 't',\n        '\\uA729': 'tz',\n        '\\u24E4': 'u',\n        '\\uFF55': 'u',\n        '\\u00F9': 'u',\n        '\\u00FA': 'u',\n        '\\u00FB': 'u',\n        '\\u0169': 'u',\n        '\\u1E79': 'u',\n        '\\u016B': 'u',\n        '\\u1E7B': 'u',\n        '\\u016D': 'u',\n        '\\u00FC': 'u',\n        '\\u01DC': 'u',\n        '\\u01D8': 'u',\n        '\\u01D6': 'u',\n        '\\u01DA': 'u',\n        '\\u1EE7': 'u',\n        '\\u016F': 'u',\n        '\\u0171': 'u',\n        '\\u01D4': 'u',\n        '\\u0215': 'u',\n        '\\u0217': 'u',\n        '\\u01B0': 'u',\n        '\\u1EEB': 'u',\n        '\\u1EE9': 'u',\n        '\\u1EEF': 'u',\n        '\\u1EED': 'u',\n        '\\u1EF1': 'u',\n        '\\u1EE5': 'u',\n        '\\u1E73': 'u',\n        '\\u0173': 'u',\n        '\\u1E77': 'u',\n        '\\u1E75': 'u',\n        '\\u0289': 'u',\n        '\\u24E5': 'v',\n        '\\uFF56': 'v',\n        '\\u1E7D': 'v',\n        '\\u1E7F': 'v',\n        '\\u028B': 'v',\n        '\\uA75F': 'v',\n        '\\u028C': 'v',\n        '\\uA761': 'vy',\n        '\\u24E6': 'w',\n        '\\uFF57': 'w',\n        '\\u1E81': 'w',\n        '\\u1E83': 'w',\n        '\\u0175': 'w',\n        '\\u1E87': 'w',\n        '\\u1E85': 'w',\n        '\\u1E98': 'w',\n        '\\u1E89': 'w',\n        '\\u2C73': 'w',\n        '\\u24E7': 'x',\n        '\\uFF58': 'x',\n        '\\u1E8B': 'x',\n        '\\u1E8D': 'x',\n        '\\u24E8': 'y',\n        '\\uFF59': 'y',\n        '\\u1EF3': 'y',\n        '\\u00FD': 'y',\n        '\\u0177': 'y',\n        '\\u1EF9': 'y',\n        '\\u0233': 'y',\n        '\\u1E8F': 'y',\n        '\\u00FF': 'y',\n        '\\u1EF7': 'y',\n        '\\u1E99': 'y',\n        '\\u1EF5': 'y',\n        '\\u01B4': 'y',\n        '\\u024F': 'y',\n        '\\u1EFF': 'y',\n        '\\u24E9': 'z',\n        '\\uFF5A': 'z',\n        '\\u017A': 'z',\n        '\\u1E91': 'z',\n        '\\u017C': 'z',\n        '\\u017E': 'z',\n        '\\u1E93': 'z',\n        '\\u1E95': 'z',\n        '\\u01B6': 'z',\n        '\\u0225': 'z',\n        '\\u0240': 'z',\n        '\\u2C6C': 'z',\n        '\\uA763': 'z',\n        '\\u0386': '\\u0391',\n        '\\u0388': '\\u0395',\n        '\\u0389': '\\u0397',\n        '\\u038A': '\\u0399',\n        '\\u03AA': '\\u0399',\n        '\\u038C': '\\u039F',\n        '\\u038E': '\\u03A5',\n        '\\u03AB': '\\u03A5',\n        '\\u038F': '\\u03A9',\n        '\\u03AC': '\\u03B1',\n        '\\u03AD': '\\u03B5',\n        '\\u03AE': '\\u03B7',\n        '\\u03AF': '\\u03B9',\n        '\\u03CA': '\\u03B9',\n        '\\u0390': '\\u03B9',\n        '\\u03CC': '\\u03BF',\n        '\\u03CD': '\\u03C5',\n        '\\u03CB': '\\u03C5',\n        '\\u03B0': '\\u03C5',\n        '\\u03C9': '\\u03C9',\n        '\\u03C2': '\\u03C3'\n    };\n    DataUtil.fnOperators = {\n        /**\n         * Returns true when the actual input is equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         * @param  {boolean} ignoreAccent?\n         */\n        equal: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) === DataUtil.toLowerCase(expected);\n            }\n            return actual === expected;\n        },\n        /**\n         * Returns true when the actual input is not equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        notequal: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            return !DataUtil.fnOperators.equal(actual, expected, ignoreCase);\n        },\n        /**\n         * Returns true when the actual input is less than to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        lessthan: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) < DataUtil.toLowerCase(expected);\n            }\n            return actual < expected;\n        },\n        /**\n         * Returns true when the actual input is greater than to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        greaterthan: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) > DataUtil.toLowerCase(expected);\n            }\n            return actual > expected;\n        },\n        /**\n         * Returns true when the actual input is less than or equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        lessthanorequal: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) <= DataUtil.toLowerCase(expected);\n            }\n            return actual <= expected;\n        },\n        /**\n         * Returns true when the actual input is greater than or equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        greaterthanorequal: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) >= DataUtil.toLowerCase(expected);\n            }\n            return actual >= expected;\n        },\n        /**\n         * Returns true when the actual input contains the given string.\n         * @param  {string|number} actual\n         * @param  {string|number} expected\n         * @param  {boolean} ignoreCase?\n         */\n        contains: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return !isNullOrUndefined(actual) && !isNullOrUndefined(expected) &&\n                    DataUtil.toLowerCase(actual).indexOf(DataUtil.toLowerCase(expected)) !== -1;\n            }\n            return !isNullOrUndefined(actual) && !isNullOrUndefined(expected) &&\n                actual.toString().indexOf(expected) !== -1;\n        },\n        /**\n         * Returns true when the given input value is not null.\n         * @param  {string|number} actual\n         * @returns boolean\n         */\n        notnull: function (actual) {\n            return actual !== null;\n        },\n        /**\n         * Returns true when the given input value is null.\n         * @param  {string|number} actual\n         * @returns boolean\n         */\n        isnull: function (actual) {\n            return actual === null;\n        },\n        /**\n         * Returns true when the actual input starts with the given string\n         * @param  {string} actual\n         * @param  {string} expected\n         * @param  {boolean} ignoreCase?\n         */\n        startswith: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return actual && expected && DataUtil.startsWith(DataUtil.toLowerCase(actual), DataUtil.toLowerCase(expected));\n            }\n            return actual && expected && DataUtil.startsWith(actual, expected);\n        },\n        /**\n         * Returns true when the actual input ends with the given string.\n         * @param  {string} actual\n         * @param  {string} expected\n         * @param  {boolean} ignoreCase?\n         */\n        endswith: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return actual && expected && DataUtil.endsWith(DataUtil.toLowerCase(actual), DataUtil.toLowerCase(expected));\n            }\n            return actual && expected && DataUtil.endsWith(actual, expected);\n        },\n        /**\n         * It will return the filter operator based on the filter symbol.\n         * @param  {string} operator\n         * @hidden\n         */\n        processSymbols: function (operator) {\n            var fnName = DataUtil.operatorSymbols[operator];\n            if (fnName) {\n                var fn = DataUtil.fnOperators[fnName];\n                return fn;\n            }\n            return DataUtil.throwError('Query - Process Operator : Invalid operator');\n        },\n        /**\n         * It will return the valid filter operator based on the specified operators.\n         * @param  {string} operator\n         * @hidden\n         */\n        processOperator: function (operator) {\n            var fn = DataUtil.fnOperators[operator];\n            if (fn) {\n                return fn;\n            }\n            return DataUtil.fnOperators.processSymbols(operator);\n        }\n    };\n    /**\n     * To perform the parse operation on JSON data, like convert to string from JSON or convert to JSON from string.\n     */\n    DataUtil.parse = {\n        /**\n         * Parse the given string to the plain JavaScript object.\n         * @param  {string|Object|Object[]} jsonText\n         */\n        parseJson: function (jsonText) {\n            if (typeof jsonText === 'string') {\n                jsonText = JSON.parse(jsonText, DataUtil.parse.jsonReviver);\n            }\n            else if (jsonText instanceof Array) {\n                DataUtil.parse.iterateAndReviveArray(jsonText);\n            }\n            else if (typeof jsonText === 'object') {\n                DataUtil.parse.iterateAndReviveJson(jsonText);\n            }\n            return jsonText;\n        },\n        /**\n         * It will perform on array of values.\n         * @param  {string[]|Object[]} array\n         * @hidden\n         */\n        iterateAndReviveArray: function (array) {\n            for (var i = 0; i < array.length; i++) {\n                if (typeof array[i] === 'object') {\n                    DataUtil.parse.iterateAndReviveJson(array[i]);\n                }\n                else if (typeof array[i] === 'string' && !/^[\\s]*\\[|^[\\s]*\\{|\\\"/g.test(array[i])) {\n                    array[i] = DataUtil.parse.jsonReviver('', array[i]);\n                }\n                else {\n                    array[i] = DataUtil.parse.parseJson(array[i]);\n                }\n            }\n        },\n        /**\n         * It will perform on JSON values\n         * @param  {JSON} json\n         * @hidden\n         */\n        iterateAndReviveJson: function (json) {\n            var value;\n            var keys = Object.keys(json);\n            for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n                var prop = keys_2[_i];\n                if (DataUtil.startsWith(prop, '__')) {\n                    continue;\n                }\n                value = json[prop];\n                if (typeof value === 'object') {\n                    if (value instanceof Array) {\n                        DataUtil.parse.iterateAndReviveArray(value);\n                    }\n                    else if (value) {\n                        DataUtil.parse.iterateAndReviveJson(value);\n                    }\n                }\n                else {\n                    json[prop] = DataUtil.parse.jsonReviver(json[prop], value);\n                }\n            }\n        },\n        /**\n         * It will perform on JSON values\n         * @param  {string} field\n         * @param  {string|Date} value\n         * @hidden\n         */\n        jsonReviver: function (field, value) {\n            var dupValue = value;\n            if (typeof value === 'string') {\n                var ms = /^\\/Date\\(([+-]?[0-9]+)([+-][0-9]{4})?\\)\\/$/.exec(value);\n                if (ms) {\n                    return DataUtil.dateParse.toTimeZone(new Date(parseInt(ms[1], 10)), DataUtil.serverTimezoneOffset, true);\n                }\n                else if (/^(\\d{4}\\-\\d\\d\\-\\d\\d([tT][\\d:\\.]*){1})([zZ]|([+\\-])(\\d\\d):?(\\d\\d))?$/.test(value)) {\n                    var arr = dupValue.split(/[^0-9]/);\n                    value = DataUtil.dateParse\n                        .toTimeZone(new Date(parseInt(arr[0], 10), parseInt(arr[1], 10) - 1, parseInt(arr[2], 10), parseInt(arr[3], 10), parseInt(arr[4], 10), parseInt(arr[5], 10)), DataUtil.serverTimezoneOffset, true);\n                }\n            }\n            return value;\n        },\n        /**\n         * Check wheather the given value is JSON or not.\n         * @param  {Object[]} jsonData\n         */\n        isJson: function (jsonData) {\n            if (typeof jsonData[0] === 'string') {\n                return jsonData;\n            }\n            return DataUtil.parse.parseJson(jsonData);\n        },\n        /**\n         * Checks wheather the given value is GUID or not.\n         * @param  {string} value\n         */\n        isGuid: function (value) {\n            var regex = /[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i;\n            var match = regex.exec(value);\n            return match != null;\n        },\n        /**\n         * The method used to replace the value based on the type.\n         * @param  {Object} value\n         * @param  {boolean} stringify\n         * @hidden\n         */\n        replacer: function (value, stringify) {\n            if (DataUtil.isPlainObject(value)) {\n                return DataUtil.parse.jsonReplacer(value, stringify);\n            }\n            if (value instanceof Array) {\n                return DataUtil.parse.arrayReplacer(value);\n            }\n            if (value instanceof Date) {\n                return DataUtil.parse.jsonReplacer({ val: value }, stringify).val;\n            }\n            return value;\n        },\n        /**\n         * It will replace the JSON value.\n         * @param  {string} key\n         * @param  {Object} val\n         * @hidden\n         */\n        jsonReplacer: function (val, stringify) {\n            var value;\n            var keys = Object.keys(val);\n            for (var _i = 0, keys_3 = keys; _i < keys_3.length; _i++) {\n                var prop = keys_3[_i];\n                value = val[prop];\n                if (!(value instanceof Date)) {\n                    continue;\n                }\n                var d = value;\n                val[prop] = DataUtil.dateParse.toTimeZone(DataUtil.dateParse.addSelfOffset(d), DataUtil.serverTimezoneOffset).toJSON();\n            }\n            return val;\n        },\n        /**\n         * It will replace the Array of value.\n         * @param  {string} key\n         * @param  {Object[]} val\n         * @hidden\n         */\n        arrayReplacer: function (val) {\n            for (var i = 0; i < val.length; i++) {\n                if (DataUtil.isPlainObject(val[i])) {\n                    val[i] = DataUtil.parse.jsonReplacer(val[i]);\n                }\n                else if (val[i] instanceof Date) {\n                    val[i] = DataUtil.parse.jsonReplacer({ date: val[i] }).date;\n                }\n            }\n            return val;\n        }\n    };\n    /**\n     * @hidden\n     */\n    DataUtil.dateParse = {\n        addSelfOffset: function (input) {\n            return new Date(+input - (input.getTimezoneOffset() * 60000));\n        },\n        toUTC: function (input) {\n            return new Date(+input + (input.getTimezoneOffset() * 60000));\n        },\n        toTimeZone: function (input, offset, utc) {\n            if (offset === null) {\n                return input;\n            }\n            var unix = utc ? DataUtil.dateParse.toUTC(input) : input;\n            return new Date(+unix - (offset * 3600000));\n        },\n        toLocalTime: function (input) {\n            var datefn = input;\n            var timeZone = -datefn.getTimezoneOffset();\n            var differenceString = timeZone >= 0 ? '+' : '-';\n            var localtimefn = function (num) {\n                var norm = Math.floor(Math.abs(num));\n                return (norm < 10 ? '0' : '') + norm;\n            };\n            var val = datefn.getFullYear() + '-' + localtimefn(datefn.getMonth() + 1) + '-' + localtimefn(datefn.getDate()) +\n                'T' + localtimefn(datefn.getHours()) +\n                ':' + localtimefn(datefn.getMinutes()) +\n                ':' + localtimefn(datefn.getSeconds()) +\n                differenceString + localtimefn(timeZone / 60) +\n                ':' + localtimefn(timeZone % 60);\n            return val;\n        }\n    };\n    return DataUtil;\n}());\nexport { DataUtil };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { merge, extend, isNullOrUndefined, setValue, getValue } from '@syncfusion/ej2-base';\nimport { DataUtil } from './util';\nimport { Query, Predicate } from './query';\n/**\n * Adaptors are specific data source type aware interfaces that are used by DataManager to communicate with DataSource.\n * This is the base adaptor class that other adaptors can extend.\n * @hidden\n */\nvar Adaptor = /** @class */ (function () {\n    function Adaptor(ds) {\n        // common options for all the adaptors \n        this.options = {\n            from: 'table',\n            requestType: 'json',\n            sortBy: 'sorted',\n            select: 'select',\n            skip: 'skip',\n            group: 'group',\n            take: 'take',\n            search: 'search',\n            count: 'requiresCounts',\n            where: 'where',\n            aggregates: 'aggregates'\n        };\n        /**\n         * Specifies the type of adaptor.\n         * @default Adaptor\n         */\n        this.type = Adaptor;\n        this.dataSource = ds;\n        this.pvt = {};\n    }\n    /**\n     * Returns the data from the query processing.\n     * @param  {Object} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @returns Object\n     */\n    Adaptor.prototype.processResponse = function (data, ds, query, xhr) {\n        return data;\n    };\n    return Adaptor;\n}());\nexport { Adaptor };\n/**\n * JsonAdaptor is used to process JSON data. It contains methods to process the given JSON data based on the queries.\n * @hidden\n */\nvar JsonAdaptor = /** @class */ (function (_super) {\n    __extends(JsonAdaptor, _super);\n    function JsonAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Process the JSON data based on the provided queries.\n     * @param  {DataManager} dataManager\n     * @param  {Query} query\n     * @returns Object\n     */\n    JsonAdaptor.prototype.processQuery = function (dataManager, query) {\n        var result = dataManager.dataSource.json.slice(0);\n        var count = result.length;\n        var countFlg = true;\n        var ret;\n        var key;\n        var agg = {};\n        for (var i = 0; i < query.queries.length; i++) {\n            key = query.queries[i];\n            ret = this[key.fn].call(this, result, key.e, query);\n            if (key.fn === 'onAggregates') {\n                agg[key.e.field + ' - ' + key.e.type] = ret;\n            }\n            else {\n                result = ret !== undefined ? ret : result;\n            }\n            if (key.fn === 'onPage' || key.fn === 'onSkip' || key.fn === 'onTake' || key.fn === 'onRange') {\n                countFlg = false;\n            }\n            if (countFlg) {\n                count = result.length;\n            }\n        }\n        if (query.isCountRequired) {\n            result = {\n                result: result,\n                count: count,\n                aggregates: agg\n            };\n        }\n        return result;\n    };\n    /**\n     * Performs batch update in the JSON array which add, remove and update records.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    JsonAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        var i;\n        for (i = 0; i < changes.addedRecords.length; i++) {\n            this.insert(dm, changes.addedRecords[i]);\n        }\n        for (i = 0; i < changes.changedRecords.length; i++) {\n            this.update(dm, e.key, changes.changedRecords[i]);\n        }\n        for (i = 0; i < changes.deletedRecords.length; i++) {\n            this.remove(dm, e.key, changes.deletedRecords[i]);\n        }\n        return changes;\n    };\n    /**\n     * Performs filter operation with the given data and where query.\n     * @param  {Object[]} ds\n     * @param  {{validate:Function}} e\n     */\n    JsonAdaptor.prototype.onWhere = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.filter(function (obj) {\n            if (e) {\n                return e.validate(obj);\n            }\n        });\n    };\n    /**\n     * Returns aggregate function based on the aggregate type.\n     * @param  {Object[]} ds\n     * @param  {{field:string} e\n     * @param  {string}} type\n     */\n    JsonAdaptor.prototype.onAggregates = function (ds, e) {\n        var fn = DataUtil.aggregates[e.type];\n        if (!ds || !fn || ds.length === 0) {\n            return null;\n        }\n        return fn(ds, e.field);\n    };\n    /**\n     * Performs search operation based on the given query.\n     * @param  {Object[]} ds\n     * @param  {QueryOptions} e\n     */\n    JsonAdaptor.prototype.onSearch = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        if (e.fieldNames.length === 0) {\n            DataUtil.getFieldList(ds[0], e.fieldNames);\n        }\n        return ds.filter(function (obj) {\n            for (var j = 0; j < e.fieldNames.length; j++) {\n                if (e.comparer.call(obj, DataUtil.getObject(e.fieldNames[j], obj), e.searchKey, e.ignoreCase, e.ignoreAccent)) {\n                    return true;\n                }\n            }\n            return false;\n        });\n    };\n    /**\n     * Sort the data with given direction and field.\n     * @param  {Object[]} ds\n     * @param  {{comparer:(a:Object} e\n     * @param  {Object} b\n     */\n    JsonAdaptor.prototype.onSortBy = function (ds, e, query) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        var fnCompare;\n        var field = DataUtil.getValue(e.fieldName, query);\n        if (!field) {\n            return ds.sort(e.comparer);\n        }\n        if (field instanceof Array) {\n            field = field.slice(0);\n            for (var i = field.length - 1; i >= 0; i--) {\n                if (!field[i]) {\n                    continue;\n                }\n                fnCompare = e.comparer;\n                if (DataUtil.endsWith(field[i], ' desc')) {\n                    fnCompare = DataUtil.fnSort('descending');\n                    field[i] = field[i].replace(' desc', '');\n                }\n                ds = DataUtil.sort(ds, field[i], fnCompare);\n            }\n            return ds;\n        }\n        return DataUtil.sort(ds, field, e.comparer);\n    };\n    /**\n     * Group the data based on the given query.\n     * @param  {Object[]} ds\n     * @param  {QueryOptions} e\n     * @param  {Query} query\n     */\n    JsonAdaptor.prototype.onGroup = function (ds, e, query) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        var aggQuery = Query.filterQueries(query.queries, 'onAggregates');\n        var agg = [];\n        if (aggQuery.length) {\n            var tmp = void 0;\n            for (var i = 0; i < aggQuery.length; i++) {\n                tmp = aggQuery[i].e;\n                agg.push({ type: tmp.type, field: DataUtil.getValue(tmp.field, query) });\n            }\n        }\n        return DataUtil.group(ds, DataUtil.getValue(e.fieldName, query), agg, null, null, e.comparer);\n    };\n    /**\n     * Retrieves records based on the given page index and size.\n     * @param  {Object[]} ds\n     * @param  {{pageSize:number} e\n     * @param  {number}} pageIndex\n     * @param  {Query} query\n     */\n    JsonAdaptor.prototype.onPage = function (ds, e, query) {\n        var size = DataUtil.getValue(e.pageSize, query);\n        var start = (DataUtil.getValue(e.pageIndex, query) - 1) * size;\n        var end = start + size;\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(start, end);\n    };\n    /**\n     * Retrieves records based on the given start and end index from query.\n     * @param  {Object[]} ds\n     * @param  {{start:number} e\n     * @param  {number}} end\n     */\n    JsonAdaptor.prototype.onRange = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(DataUtil.getValue(e.start), DataUtil.getValue(e.end));\n    };\n    /**\n     * Picks the given count of records from the top of the datasource.\n     * @param  {Object[]} ds\n     * @param  {{nos:number}} e\n     */\n    JsonAdaptor.prototype.onTake = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(0, DataUtil.getValue(e.nos));\n    };\n    /**\n     * Skips the given count of records from the data source.\n     * @param  {Object[]} ds\n     * @param  {{nos:number}} e\n     */\n    JsonAdaptor.prototype.onSkip = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(DataUtil.getValue(e.nos));\n    };\n    /**\n     * Selects specified columns from the data source.\n     * @param  {Object[]} ds\n     * @param  {{fieldNames:string}} e\n     */\n    JsonAdaptor.prototype.onSelect = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return DataUtil.select(ds, DataUtil.getValue(e.fieldNames));\n    };\n    /**\n     * Inserts new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {number} position\n     */\n    JsonAdaptor.prototype.insert = function (dm, data, tableName, query, position) {\n        if (isNullOrUndefined(position)) {\n            return dm.dataSource.json.push(data);\n        }\n        else {\n            return dm.dataSource.json.splice(position, 0, data);\n        }\n    };\n    /**\n     * Remove the data from the dataSource based on the key field value.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns null\n     */\n    JsonAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        var ds = dm.dataSource.json;\n        var i;\n        if (typeof value === 'object') {\n            value = value[keyField];\n        }\n        for (i = 0; i < ds.length; i++) {\n            if (ds[i][keyField] === value) {\n                break;\n            }\n        }\n        return i !== ds.length ? ds.splice(i, 1) : null;\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns null\n     */\n    JsonAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        var ds = dm.dataSource.json;\n        var i;\n        var key = value[keyField];\n        for (i = 0; i < ds.length; i++) {\n            if (ds[i][keyField] === key) {\n                break;\n            }\n        }\n        return i < ds.length ? merge(ds[i], value) : null;\n    };\n    return JsonAdaptor;\n}(Adaptor));\nexport { JsonAdaptor };\n/**\n * URL Adaptor of DataManager can be used when you are required to use remote service to retrieve data.\n * It interacts with server-side for all DataManager Queries and CRUD operations.\n * @hidden\n */\nvar UrlAdaptor = /** @class */ (function (_super) {\n    __extends(UrlAdaptor, _super);\n    function UrlAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Process the query to generate request body.\n     * @param  {DataManager} dm\n     * @param  {Query} query\n     * @param  {Object[]} hierarchyFilters?\n     * @returns p\n     */\n    UrlAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var queries = this.getQueryRequest(query);\n        var singles = Query.filterQueryLists(query.queries, ['onSelect', 'onPage', 'onSkip', 'onTake', 'onRange']);\n        var params = query.params;\n        var url = dm.dataSource.url;\n        var temp;\n        var skip;\n        var take = null;\n        var options = this.options;\n        var request = { sorts: [], groups: [], filters: [], searches: [], aggregates: [] };\n        // calc Paging & Range\n        if ('onPage' in singles) {\n            temp = singles.onPage;\n            skip = DataUtil.getValue(temp.pageIndex, query);\n            take = DataUtil.getValue(temp.pageSize, query);\n            skip = (skip - 1) * take;\n        }\n        else if ('onRange' in singles) {\n            temp = singles.onRange;\n            skip = temp.start;\n            take = temp.end - temp.start;\n        }\n        // Sorting\n        for (var i = 0; i < queries.sorts.length; i++) {\n            temp = DataUtil.getValue(queries.sorts[i].e.fieldName, query);\n            request.sorts.push(DataUtil.callAdaptorFunction(this, 'onEachSort', { name: temp, direction: queries.sorts[i].e.direction }, query));\n        }\n        // hierarchy\n        if (hierarchyFilters) {\n            temp = this.getFiltersFrom(hierarchyFilters, query);\n            if (temp) {\n                request.filters.push(DataUtil.callAdaptorFunction(this, 'onEachWhere', temp.toJson(), query));\n            }\n        }\n        // Filters\n        for (var i = 0; i < queries.filters.length; i++) {\n            request.filters.push(DataUtil.callAdaptorFunction(this, 'onEachWhere', queries.filters[i].e.toJson(), query));\n            var keys_1 = typeof request.filters[i] === 'object' ? Object.keys(request.filters[i]) : [];\n            for (var _i = 0, keys_2 = keys_1; _i < keys_2.length; _i++) {\n                var prop = keys_2[_i];\n                if (DataUtil.isNull((request)[prop])) {\n                    delete request[prop];\n                }\n            }\n        }\n        // Searches\n        for (var i = 0; i < queries.searches.length; i++) {\n            temp = queries.searches[i].e;\n            request.searches.push(DataUtil.callAdaptorFunction(this, 'onEachSearch', {\n                fields: temp.fieldNames,\n                operator: temp.operator,\n                key: temp.searchKey,\n                ignoreCase: temp.ignoreCase\n            }, query));\n        }\n        // Grouping\n        for (var i = 0; i < queries.groups.length; i++) {\n            request.groups.push(DataUtil.getValue(queries.groups[i].e.fieldName, query));\n        }\n        // aggregates\n        for (var i = 0; i < queries.aggregates.length; i++) {\n            temp = queries.aggregates[i].e;\n            request.aggregates.push({ type: temp.type, field: DataUtil.getValue(temp.field, query) });\n        }\n        var req = {};\n        this.getRequestQuery(options, query, singles, request, req);\n        // Params\n        DataUtil.callAdaptorFunction(this, 'addParams', { dm: dm, query: query, params: params, reqParams: req });\n        // cleanup\n        var keys = Object.keys(req);\n        for (var _a = 0, keys_3 = keys; _a < keys_3.length; _a++) {\n            var prop = keys_3[_a];\n            if (DataUtil.isNull(req[prop]) || req[prop] === '' || req[prop].length === 0) {\n                delete req[prop];\n            }\n        }\n        if (!(options.skip in req && options.take in req) && take !== null) {\n            req[options.skip] = DataUtil.callAdaptorFunction(this, 'onSkip', skip, query);\n            req[options.take] = DataUtil.callAdaptorFunction(this, 'onTake', take, query);\n        }\n        var p = this.pvt;\n        this.pvt = {};\n        if (this.options.requestType === 'json') {\n            return {\n                data: JSON.stringify(req),\n                url: url,\n                pvtData: p,\n                type: 'POST',\n                contentType: 'application/json; charset=utf-8'\n            };\n        }\n        temp = this.convertToQueryString(req, query, dm);\n        temp = (dm.dataSource.url.indexOf('?') !== -1 ? '&' : '/') + temp;\n        return {\n            type: 'GET', url: temp.length ? url.replace(/\\/*$/, temp) : url, pvtData: p\n        };\n    };\n    UrlAdaptor.prototype.getRequestQuery = function (options, query, singles, request, request1) {\n        var param = 'param';\n        var req = request1;\n        req[options.from] = query.fromTable;\n        if (options.expand) {\n            req[options.expand] = 'onExpand' in this && 'onSelect' in singles ?\n                DataUtil.callAdaptorFunction(this, 'onExpand', { selects: DataUtil.getValue(singles.onSelect.fieldNames, query), expands: query.expands }, query) : query.expands;\n        }\n        req[options.select] = 'onSelect' in singles ?\n            DataUtil.callAdaptorFunction(this, 'onSelect', DataUtil.getValue(singles.onSelect.fieldNames, query), query) : '';\n        req[options.count] = query.isCountRequired ? DataUtil.callAdaptorFunction(this, 'onCount', query.isCountRequired, query) : '';\n        req[options.search] = request.searches.length ? DataUtil.callAdaptorFunction(this, 'onSearch', request.searches, query) : '';\n        req[options.skip] = 'onSkip' in singles ?\n            DataUtil.callAdaptorFunction(this, 'onSkip', DataUtil.getValue(singles.onSkip.nos, query), query) : '';\n        req[options.take] = 'onTake' in singles ?\n            DataUtil.callAdaptorFunction(this, 'onTake', DataUtil.getValue(singles.onTake.nos, query), query) : '';\n        req[options.where] = request.filters.length || request.searches.length ?\n            DataUtil.callAdaptorFunction(this, 'onWhere', request.filters, query) : '';\n        req[options.sortBy] = request.sorts.length ? DataUtil.callAdaptorFunction(this, 'onSortBy', request.sorts, query) : '';\n        req[options.group] = request.groups.length ? DataUtil.callAdaptorFunction(this, 'onGroup', request.groups, query) : '';\n        req[options.aggregates] = request.aggregates.length ?\n            DataUtil.callAdaptorFunction(this, 'onAggregates', request.aggregates, query) : '';\n        req[param] = [];\n    };\n    /**\n     * Convert the object from processQuery to string which can be added query string.\n     * @param  {Object} req\n     * @param  {Query} query\n     * @param  {DataManager} dm\n     */\n    UrlAdaptor.prototype.convertToQueryString = function (request, query, dm) {\n        return '';\n        // this needs to be overridden\n    };\n    /**\n     * Return the data from the data manager processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Object} request?\n     * @param  {CrudOptions} changes?\n     */\n    UrlAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var requests = request;\n        var pvt = requests.pvtData || {};\n        var groupDs = data.groupDs;\n        if (xhr && xhr.getResponseHeader('Content-Type') &&\n            xhr.getResponseHeader('Content-Type').indexOf('xml') !== -1) {\n            return (query.isCountRequired ? { result: [], count: 0 } : []);\n        }\n        var d = JSON.parse(requests.data);\n        if (d && d.action === 'batch' && data.addedRecords) {\n            changes.addedRecords = data.addedRecords;\n            return changes;\n        }\n        if (data.d) {\n            data = data.d;\n        }\n        var args = {};\n        if ('count' in data) {\n            args.count = data.count;\n        }\n        args.result = data.result ? data.result : data;\n        this.getAggregateResult(pvt, data, args, groupDs, query);\n        return DataUtil.isNull(args.count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    /**\n     * Add the group query to the adaptor`s option.\n     * @param  {Object[]} e\n     * @returns void\n     */\n    UrlAdaptor.prototype.onGroup = function (e) {\n        this.pvt.groups = e;\n        return e;\n    };\n    /**\n     * Add the aggregate query to the adaptor`s option.\n     * @param  {Aggregates[]} e\n     * @returns void\n     */\n    UrlAdaptor.prototype.onAggregates = function (e) {\n        this.pvt.aggregates = e;\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {Object} e\n     */\n    UrlAdaptor.prototype.batchRequest = function (dm, changes, e, query, original) {\n        var url;\n        var key;\n        return {\n            type: 'POST',\n            url: dm.dataSource.batchUrl || dm.dataSource.crudUrl || dm.dataSource.removeUrl || dm.dataSource.url,\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'json',\n            data: JSON.stringify({\n                changed: changes.changedRecords,\n                added: changes.addedRecords,\n                deleted: changes.deletedRecords,\n                action: 'batch',\n                table: e[url],\n                key: e[key]\n            })\n        };\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @returns void\n     */\n    UrlAdaptor.prototype.beforeSend = function (dm, request) {\n        // need to extend this method\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.insert = function (dm, data, tableName) {\n        return {\n            url: dm.dataSource.insertUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                value: data,\n                table: tableName,\n                action: 'insert'\n            })\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number|string} value\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.removeUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                key: value,\n                keyColumn: keyField,\n                table: tableName,\n                action: 'remove'\n            })\n        };\n    };\n    /**\n     * Prepare and return request body which is used to update record.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.updateUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                value: value,\n                action: 'update',\n                keyColumn: keyField,\n                key: value[keyField],\n                table: tableName\n            })\n        };\n    };\n    /**\n     * To generate the predicate based on the filtered query.\n     * @param  {Object[]|string[]|number[]} data\n     * @param  {Query} query\n     * @hidden\n     */\n    UrlAdaptor.prototype.getFiltersFrom = function (data, query) {\n        var key = query.fKey;\n        var value;\n        var prop = key;\n        var pKey = query.key;\n        var predicats = [];\n        if (typeof data[0] !== 'object') {\n            prop = null;\n        }\n        for (var i = 0; i < data.length; i++) {\n            if (typeof data[0] === 'object') {\n                value = DataUtil.getObject(pKey || prop, data[i]);\n            }\n            else {\n                value = data[i];\n            }\n            predicats.push(new Predicate(key, 'equal', value));\n        }\n        return Predicate.or(predicats);\n    };\n    UrlAdaptor.prototype.getAggregateResult = function (pvt, data, args, groupDs, query) {\n        var pData = data;\n        if (data && data.result) {\n            pData = data.result;\n        }\n        if (pvt && pvt.aggregates && pvt.aggregates.length) {\n            var agg = pvt.aggregates;\n            var fn = void 0;\n            var aggregateData = pData;\n            var res = {};\n            if (data.aggregate) {\n                aggregateData = data.aggregate;\n            }\n            for (var i = 0; i < agg.length; i++) {\n                fn = DataUtil.aggregates[agg[i].type];\n                if (fn) {\n                    res[agg[i].field + ' - ' + agg[i].type] = fn(aggregateData, agg[i].field);\n                }\n            }\n            args.aggregates = res;\n        }\n        if (pvt && pvt.groups && pvt.groups.length) {\n            var groups = pvt.groups;\n            for (var i = 0; i < groups.length; i++) {\n                var level = null;\n                if (!isNullOrUndefined(groupDs)) {\n                    groupDs = DataUtil.group(groupDs, groups[i]);\n                }\n                var groupQuery = Query.filterQueries(query.queries, 'onGroup')[i].e;\n                pData = DataUtil.group(pData, groups[i], pvt.aggregates, level, groupDs, groupQuery.comparer);\n            }\n            args.result = pData;\n        }\n        return args;\n    };\n    UrlAdaptor.prototype.getQueryRequest = function (query) {\n        var req = { sorts: [], groups: [], filters: [], searches: [], aggregates: [] };\n        req.sorts = Query.filterQueries(query.queries, 'onSortBy');\n        req.groups = Query.filterQueries(query.queries, 'onGroup');\n        req.filters = Query.filterQueries(query.queries, 'onWhere');\n        req.searches = Query.filterQueries(query.queries, 'onSearch');\n        req.aggregates = Query.filterQueries(query.queries, 'onAggregates');\n        return req;\n    };\n    UrlAdaptor.prototype.addParams = function (options) {\n        var req = options.reqParams;\n        if (options.params.length) {\n            req.params = {};\n        }\n        for (var _i = 0, _a = options.params; _i < _a.length; _i++) {\n            var tmp = _a[_i];\n            if (req[tmp.key]) {\n                throw new Error('Query() - addParams: Custom Param is conflicting other request arguments');\n            }\n            req[tmp.key] = tmp.value;\n            if (tmp.fn) {\n                req[tmp.key] = tmp.fn.call(options.query, tmp.key, options.query, options.dm);\n            }\n            req.params[tmp.key] = req[tmp.key];\n        }\n    };\n    return UrlAdaptor;\n}(Adaptor));\nexport { UrlAdaptor };\n/**\n * OData Adaptor that is extended from URL Adaptor, is used for consuming data through OData Service.\n * @hidden\n */\nvar ODataAdaptor = /** @class */ (function (_super) {\n    __extends(ODataAdaptor, _super);\n    function ODataAdaptor(props) {\n        var _this = _super.call(this) || this;\n        // options replaced the default adaptor options\n        _this.options = extend({}, _this.options, {\n            requestType: 'get',\n            accept: 'application/json;odata=light;q=1,application/json;odata=verbose;q=0.5',\n            multipartAccept: 'multipart/mixed',\n            sortBy: '$orderby',\n            select: '$select',\n            skip: '$skip',\n            take: '$top',\n            count: '$inlinecount',\n            where: '$filter',\n            expand: '$expand',\n            batch: '$batch',\n            changeSet: '--changeset_',\n            batchPre: 'batch_',\n            contentId: 'Content-Id: ',\n            batchContent: 'Content-Type: multipart/mixed; boundary=',\n            changeSetContent: 'Content-Type: application/http\\nContent-Transfer-Encoding: binary ',\n            batchChangeSetContentType: 'Content-Type: application/json; charset=utf-8 ',\n            updateType: 'PUT'\n        });\n        _this.getModuleName = getValue('getModulename', _this);\n        extend(_this.options, props || {});\n        return _this;\n    }\n    /**\n     * Generate request string based on the filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onPredicate = function (predicate, query, requiresCast) {\n        var returnValue = '';\n        var operator;\n        var guid;\n        var val = predicate.value;\n        var type = typeof val;\n        var field = predicate.field ? ODataAdaptor.getField(predicate.field) : null;\n        if (val instanceof Date) {\n            val = 'datetime\\'' + DataUtil.parse.replacer(val) + '\\'';\n        }\n        if (type === 'string') {\n            val = '\\'' + val + '\\'';\n            if (requiresCast) {\n                field = 'cast(' + field + ', \\'Edm.String\\')';\n            }\n            if (DataUtil.parse.isGuid(val)) {\n                guid = 'guid';\n            }\n            if (predicate.ignoreCase) {\n                if (!guid) {\n                    field = 'tolower(' + field + ')';\n                }\n                val = val.toLowerCase();\n            }\n        }\n        operator = DataUtil.odBiOperator[predicate.operator];\n        if (operator) {\n            returnValue += field;\n            returnValue += operator;\n            if (guid) {\n                returnValue += guid;\n            }\n            return returnValue + val;\n        }\n        if (!isNullOrUndefined(this.getModuleName)) {\n            if (this.getModuleName() === 'ODataV4Adaptor') {\n                operator = DataUtil.odv4UniOperator[predicate.operator];\n            }\n        }\n        else {\n            operator = DataUtil.odUniOperator[predicate.operator];\n        }\n        if (operator === 'substringof') {\n            var temp = val;\n            val = field;\n            field = temp;\n        }\n        returnValue += operator + '(';\n        returnValue += field + ',';\n        if (guid) {\n            returnValue += guid;\n        }\n        returnValue += val + ')';\n        return returnValue;\n    };\n    ODataAdaptor.prototype.addParams = function (options) {\n        _super.prototype.addParams.call(this, options);\n        delete options.reqParams.params;\n    };\n    /**\n     * Generate request string based on the multiple filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onComplexPredicate = function (predicate, query, requiresCast) {\n        var res = [];\n        for (var i = 0; i < predicate.predicates.length; i++) {\n            res.push('(' + this.onEachWhere(predicate.predicates[i], query, requiresCast) + ')');\n        }\n        return res.join(' ' + predicate.condition + ' ');\n    };\n    /**\n     * Generate query string based on the multiple filter criteria from query.\n     * @param  {Predicate} filter\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onEachWhere = function (filter, query, requiresCast) {\n        return filter.isComplex ? this.onComplexPredicate(filter, query, requiresCast) : this.onPredicate(filter, query, requiresCast);\n    };\n    /**\n     * Generate query string based on the multiple filter criteria from query.\n     * @param  {string[]} filters\n     */\n    ODataAdaptor.prototype.onWhere = function (filters) {\n        if (this.pvt.search) {\n            filters.push(this.onEachWhere(this.pvt.search, null, true));\n        }\n        return filters.join(' and ');\n    };\n    /**\n     * Generate query string based on the multiple search criteria from query.\n     * @param  {{fields:string[]} e\n     * @param  {string} operator\n     * @param  {string} key\n     * @param  {boolean}} ignoreCase\n     */\n    ODataAdaptor.prototype.onEachSearch = function (e) {\n        if (e.fields && e.fields.length === 0) {\n            DataUtil.throwError('Query() - Search : oData search requires list of field names to search');\n        }\n        var filter = this.pvt.search || [];\n        for (var i = 0; i < e.fields.length; i++) {\n            filter.push(new Predicate(e.fields[i], e.operator, e.key, e.ignoreCase));\n        }\n        this.pvt.search = filter;\n    };\n    /**\n     * Generate query string based on the search criteria from query.\n     * @param  {Object} e\n     */\n    ODataAdaptor.prototype.onSearch = function (e) {\n        this.pvt.search = Predicate.or(this.pvt.search);\n        return '';\n    };\n    /**\n     * Generate query string based on multiple sort criteria from query.\n     * @param  {QueryOptions} e\n     */\n    ODataAdaptor.prototype.onEachSort = function (e) {\n        var res = [];\n        if (e.name instanceof Array) {\n            for (var i = 0; i < e.name.length; i++) {\n                res.push(ODataAdaptor.getField(e.name[i]) + (e.direction === 'descending' ? ' desc' : ''));\n            }\n        }\n        else {\n            res.push(ODataAdaptor.getField(e.name) + (e.direction === 'descending' ? ' desc' : ''));\n        }\n        return res.join(',');\n    };\n    /**\n     * Returns sort query string.\n     * @param  {string[]} e\n     */\n    ODataAdaptor.prototype.onSortBy = function (e) {\n        return e.reverse().join(',');\n    };\n    /**\n     * Adds the group query to the adaptor option.\n     * @param  {Object[]} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onGroup = function (e) {\n        this.pvt.groups = e;\n        return [];\n    };\n    /**\n     * Returns the select query string.\n     * @param  {string[]} e\n     */\n    ODataAdaptor.prototype.onSelect = function (e) {\n        for (var i = 0; i < e.length; i++) {\n            e[i] = ODataAdaptor.getField(e[i]);\n        }\n        return e.join(',');\n    };\n    /**\n     * Add the aggregate query to the adaptor option.\n     * @param  {Object[]} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onAggregates = function (e) {\n        this.pvt.aggregates = e;\n        return '';\n    };\n    /**\n     * Returns the query string which requests total count from the data source.\n     * @param  {boolean} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onCount = function (e) {\n        return e === true ? 'allpages' : '';\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings?\n     */\n    ODataAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (DataUtil.endsWith(settings.url, this.options.batch) && settings.type.toLowerCase() === 'post') {\n            request.setRequestHeader('Accept', this.options.multipartAccept);\n            request.setRequestHeader('DataServiceVersion', '2.0');\n            request.overrideMimeType('text/plain; charset=x-user-defined');\n        }\n        else {\n            request.setRequestHeader('Accept', this.options.accept);\n        }\n        request.setRequestHeader('DataServiceVersion', '2.0');\n        request.setRequestHeader('MaxDataServiceVersion', '2.0');\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    ODataAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        if (!isNullOrUndefined(data.d)) {\n            var dataCopy = ((query && query.isCountRequired) ? data.d.results : data.d);\n            var metaData = '__metadata';\n            if (!isNullOrUndefined(dataCopy)) {\n                for (var i = 0; i < dataCopy.length; i++) {\n                    if (!isNullOrUndefined(dataCopy[i][metaData])) {\n                        delete dataCopy[i][metaData];\n                    }\n                }\n            }\n        }\n        var pvt = request && request[pvtData];\n        var emptyAndBatch = this.processBatchResponse(data, query, xhr, request, changes);\n        if (emptyAndBatch) {\n            return emptyAndBatch;\n        }\n        var versionCheck = xhr && request.getResponseHeader('DataServiceVersion');\n        var count = null;\n        var version = (versionCheck && parseInt(versionCheck, 10)) || 2;\n        if (query && query.isCountRequired) {\n            var oDataCount = '__count';\n            if (data[oDataCount] || data['odata.count']) {\n                count = data[oDataCount] || data['odata.count'];\n            }\n            if (data.d) {\n                data = data.d;\n            }\n            if (data[oDataCount] || data['odata.count']) {\n                count = data[oDataCount] || data['odata.count'];\n            }\n        }\n        if (version === 3 && data.value) {\n            data = data.value;\n        }\n        if (data.d) {\n            data = data.d;\n        }\n        if (version < 3 && data.results) {\n            data = data.results;\n        }\n        var args = {};\n        args.count = count;\n        args.result = data;\n        this.getAggregateResult(pvt, data, args, null, query);\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    /**\n     * Converts the request object to query string.\n     * @param  {Object} req\n     * @param  {Query} query\n     * @param  {DataManager} dm\n     * @returns tableName\n     */\n    ODataAdaptor.prototype.convertToQueryString = function (request, query, dm) {\n        var res = [];\n        var table = 'table';\n        var tableName = request[table] || '';\n        var format = '$format';\n        delete request[table];\n        if (dm.dataSource.requiresFormat) {\n            request[format] = 'json';\n        }\n        var keys = Object.keys(request);\n        for (var _i = 0, keys_4 = keys; _i < keys_4.length; _i++) {\n            var prop = keys_4[_i];\n            res.push(prop + '=' + request[prop]);\n        }\n        res = res.join('&');\n        if (dm.dataSource.url && dm.dataSource.url.indexOf('?') !== -1 && !tableName) {\n            return res;\n        }\n        return res.length ? tableName + '?' + res : tableName || '';\n    };\n    ODataAdaptor.prototype.localTimeReplacer = function (key, convertObj) {\n        for (var _i = 0, _a = !isNullOrUndefined(convertObj) ? Object.keys(convertObj) : []; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            if ((convertObj[prop] instanceof Date)) {\n                convertObj[prop] = DataUtil.dateParse.toLocalTime(convertObj[prop]);\n            }\n        }\n        return convertObj;\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    ODataAdaptor.prototype.insert = function (dm, data, tableName) {\n        return {\n            url: dm.dataSource.url.replace(/\\/*$/, tableName ? '/' + tableName : ''),\n            data: JSON.stringify(data, this.options.localTime ? this.localTimeReplacer : null)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number} value\n     * @param  {string} tableName?\n     */\n    ODataAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        return {\n            type: 'DELETE',\n            url: dm.dataSource.url.replace(/\\/*$/, tableName ? '/' + tableName : '') + '(' + value + ')'\n        };\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns this\n     */\n    ODataAdaptor.prototype.update = function (dm, keyField, value, tableName, query, original) {\n        if (this.options.updateType === 'PATCH' && !isNullOrUndefined(original)) {\n            value = this.compareAndRemove(value, original, keyField);\n        }\n        return {\n            type: this.options.updateType,\n            url: dm.dataSource.url.replace(/\\/*$/, tableName ? '/' + tableName : '') + '(' + value[keyField] + ')',\n            data: JSON.stringify(value, this.options.localTime ? this.localTimeReplacer : null),\n            accept: this.options.accept\n        };\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     * @returns {Object}\n     */\n    ODataAdaptor.prototype.batchRequest = function (dm, changes, e, query, original) {\n        var initialGuid = e.guid = DataUtil.getGuid(this.options.batchPre);\n        var url = dm.dataSource.url.replace(/\\/*$/, '/' + this.options.batch);\n        var args = {\n            url: e.url,\n            key: e.key,\n            cid: 1,\n            cSet: DataUtil.getGuid(this.options.changeSet)\n        };\n        var req = '--' + initialGuid + '\\n';\n        req += 'Content-Type: multipart/mixed; boundary=' + args.cSet.replace('--', '') + '\\n';\n        this.pvt.changeSet = 0;\n        req += this.generateInsertRequest(changes.addedRecords, args);\n        req += this.generateUpdateRequest(changes.changedRecords, args, original ? original.changedRecords : []);\n        req += this.generateDeleteRequest(changes.deletedRecords, args);\n        req += args.cSet + '--\\n';\n        req += '--' + initialGuid + '--';\n        return {\n            type: 'POST',\n            url: url,\n            dataType: 'json',\n            contentType: 'multipart/mixed; charset=UTF-8;boundary=' + initialGuid,\n            data: req\n        };\n    };\n    /**\n     * Generate the string content from the removed records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     * @returns this\n     */\n    ODataAdaptor.prototype.generateDeleteRequest = function (arr, e) {\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        var stat = {\n            'method': 'DELETE ',\n            'url': function (data, i, key) { return '(' + data[i][key] + ')'; },\n            'data': function (data, i) { return ''; }\n        };\n        req = this.generateBodyContent(arr, e, stat);\n        return req + '\\n';\n    };\n    /**\n     * Generate the string content from the inserted records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     */\n    ODataAdaptor.prototype.generateInsertRequest = function (arr, e) {\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        var stat = {\n            'method': 'POST ',\n            'url': function (data, i, key) { return ''; },\n            'data': function (data, i) { return JSON.stringify(data[i]) + '\\n\\n'; }\n        };\n        req = this.generateBodyContent(arr, e, stat);\n        return req;\n    };\n    /**\n     * Generate the string content from the updated records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     */\n    ODataAdaptor.prototype.generateUpdateRequest = function (arr, e, org) {\n        var _this = this;\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        arr.forEach(function (change) { return change = _this.compareAndRemove(change, org.filter(function (o) { return DataUtil.getObject(e.key, o) === DataUtil.getObject(e.key, change); })[0], e.key); });\n        var stat = {\n            'method': this.options.updateType + ' ',\n            'url': function (data, i, key) { return '(' + data[i][key] + ')'; },\n            'data': function (data, i) { return JSON.stringify(data[i]) + '\\n\\n'; }\n        };\n        req = this.generateBodyContent(arr, e, stat);\n        return req;\n    };\n    ODataAdaptor.getField = function (prop) {\n        return prop.replace(/\\./g, '/');\n    };\n    ODataAdaptor.prototype.generateBodyContent = function (arr, e, stat) {\n        var req = '';\n        for (var i = 0; i < arr.length; i++) {\n            req += '\\n' + e.cSet + '\\n';\n            req += this.options.changeSetContent + '\\n\\n';\n            req += stat.method;\n            req += e.url + stat.url(arr, i, e.key) + ' HTTP/1.1\\n';\n            req += 'Accept: ' + this.options.accept + '\\n';\n            req += 'Content-Id: ' + this.pvt.changeSet++ + '\\n';\n            req += this.options.batchChangeSetContentType + '\\n';\n            !isNullOrUndefined(arr[i]['@odata.etag']) ? req += 'If-Match: ' + arr[i]['@odata.etag'] + '\\n\\n' : req += '\\n';\n            req += stat.data(arr, i);\n        }\n        return req;\n    };\n    ODataAdaptor.prototype.processBatchResponse = function (data, query, xhr, request, changes) {\n        if (xhr && xhr.getResponseHeader('Content-Type') && xhr.getResponseHeader('Content-Type').indexOf('xml') !== -1) {\n            return (query.isCountRequired ? { result: [], count: 0 } : []);\n        }\n        if (request && this.options.batch && DataUtil.endsWith(request.url, this.options.batch) && request.type.toLowerCase() === 'post') {\n            var guid = xhr.getResponseHeader('Content-Type');\n            var cIdx = void 0;\n            var jsonObj = void 0;\n            var d = data + '';\n            guid = guid.substring(guid.indexOf('=batchresponse') + 1);\n            d = d.split(guid);\n            if (d.length < 2) {\n                return {};\n            }\n            d = d[1];\n            var exVal = /(?:\\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(d);\n            if (exVal) {\n                d.replace(exVal[0], '');\n            }\n            var changeGuid = exVal ? exVal[1] : '';\n            d = d.split(changeGuid);\n            for (var i = d.length; i > -1; i--) {\n                if (!/\\bContent-ID:/i.test(d[i]) || !/\\bHTTP.+201/.test(d[i])) {\n                    continue;\n                }\n                cIdx = parseInt(/\\bContent-ID: (\\d+)/i.exec(d[i])[1], 10);\n                if (changes.addedRecords[cIdx]) {\n                    jsonObj = DataUtil.parse.parseJson(/^\\{.+\\}/m.exec(d[i])[0]);\n                    extend({}, changes.addedRecords[cIdx], this.processResponse(jsonObj));\n                }\n            }\n            return changes;\n        }\n        return null;\n    };\n    ODataAdaptor.prototype.compareAndRemove = function (data, original, key) {\n        var _this = this;\n        if (isNullOrUndefined(original)) {\n            return data;\n        }\n        Object.keys(data).forEach(function (prop) {\n            if (prop !== key) {\n                if (DataUtil.isPlainObject(data[prop])) {\n                    _this.compareAndRemove(data[prop], original[prop]);\n                    if (Object.keys(data[prop]).length === 0) {\n                        delete data[prop];\n                    }\n                }\n                else if (data[prop] === original[prop]) {\n                    delete data[prop];\n                }\n                else if (data[prop] && original[prop] && data[prop].valueOf() === original[prop].valueOf()) {\n                    delete data[prop];\n                }\n            }\n        });\n        return data;\n    };\n    return ODataAdaptor;\n}(UrlAdaptor));\nexport { ODataAdaptor };\n/**\n * The OData v4 is an improved version of OData protocols.\n * The DataManager uses the ODataV4Adaptor to consume OData v4 services.\n * @hidden\n */\nvar ODataV4Adaptor = /** @class */ (function (_super) {\n    __extends(ODataV4Adaptor, _super);\n    function ODataV4Adaptor(props) {\n        var _this = _super.call(this, props) || this;\n        // options replaced the default adaptor options\n        _this.options = extend({}, _this.options, {\n            requestType: 'get',\n            accept: 'application/json, text/javascript, */*; q=0.01',\n            multipartAccept: 'multipart/mixed',\n            sortBy: '$orderby',\n            select: '$select',\n            skip: '$skip',\n            take: '$top',\n            count: '$count',\n            search: '$search',\n            where: '$filter',\n            expand: '$expand',\n            batch: '$batch',\n            changeSet: '--changeset_',\n            batchPre: 'batch_',\n            contentId: 'Content-Id: ',\n            batchContent: 'Content-Type: multipart/mixed; boundary=',\n            changeSetContent: 'Content-Type: application/http\\nContent-Transfer-Encoding: binary ',\n            batchChangeSetContentType: 'Content-Type: application/json; charset=utf-8 ',\n            updateType: 'PATCH',\n            localTime: false\n        });\n        getValue('getModulename', _this.getModulename());\n        extend(_this.options, props || {});\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    ODataV4Adaptor.prototype.getModulename = function () {\n        return 'ODataV4Adaptor';\n    };\n    ;\n    /**\n     * Returns the query string which requests total count from the data source.\n     * @param  {boolean} e\n     * @returns string\n     */\n    ODataV4Adaptor.prototype.onCount = function (e) {\n        return e === true ? 'true' : '';\n    };\n    /**\n     * Generate request string based on the filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataV4Adaptor.prototype.onPredicate = function (predicate, query, requiresCast) {\n        var returnValue = '';\n        var val = predicate.value;\n        var isDate = val instanceof Date;\n        returnValue = _super.prototype.onPredicate.call(this, predicate, query, requiresCast);\n        if (isDate) {\n            returnValue = returnValue.replace(/datetime'(.*)'$/, '$1');\n        }\n        return returnValue;\n    };\n    /**\n     *  Generate query string based on the multiple search criteria from query.\n     * @param  {{fields:string[]} e\n     * @param  {string} operator\n     * @param  {string} key\n     * @param  {boolean}} ignoreCase\n     */\n    ODataV4Adaptor.prototype.onEachSearch = function (e) {\n        var search = this.pvt.searches || [];\n        search.push(e.key);\n        this.pvt.searches = search;\n    };\n    /**\n     *  Generate query string based on the search criteria from query.\n     * @param  {Object} e\n     */\n    ODataV4Adaptor.prototype.onSearch = function (e) {\n        return this.pvt.searches.join(' OR ');\n    };\n    /**\n     * Returns the expand query string.\n     * @param  {string} e\n     */\n    ODataV4Adaptor.prototype.onExpand = function (e) {\n        var _this = this;\n        var selected = {};\n        var expanded = {};\n        var expands = e.expands.slice();\n        var exArr = [];\n        var selects = e.selects.filter(function (item) { return item.indexOf('.') > -1; });\n        selects.forEach(function (select) {\n            var splits = select.split('.');\n            if (!(splits[0] in selected)) {\n                selected[splits[0]] = [];\n            }\n            selected[splits[0]].push(splits[1]);\n        });\n        //Auto expand from select query\n        Object.keys(selected).forEach(function (expand) {\n            if ((expands.indexOf(expand) === -1)) {\n                expands.push(expand);\n            }\n        });\n        expands.forEach(function (expand) {\n            expanded[expand] = expand in selected ? expand + \"(\" + _this.options.select + \"=\" + selected[expand].join(',') + \")\" : expand;\n        });\n        Object.keys(expanded).forEach(function (ex) { return exArr.push(expanded[ex]); });\n        return exArr.join(',');\n    };\n    /**\n     * Returns the select query string.\n     * @param  {string[]} e\n     */\n    ODataV4Adaptor.prototype.onSelect = function (e) {\n        return _super.prototype.onSelect.call(this, e.filter(function (item) { return item.indexOf('.') === -1; }));\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings\n     * @returns void\n     */\n    ODataV4Adaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (settings.type === 'POST' || settings.type === 'PUT' || settings.type === 'PATCH') {\n            request.setRequestHeader('Prefer', 'return=representation');\n        }\n        request.setRequestHeader('Accept', this.options.accept);\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    ODataV4Adaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        var pvt = request && request[pvtData];\n        var emptyAndBatch = _super.prototype.processBatchResponse.call(this, data, query, xhr, request, changes);\n        if (emptyAndBatch) {\n            return emptyAndBatch;\n        }\n        var count = null;\n        var dataCount = '@odata.count';\n        if (query && query.isCountRequired) {\n            if (dataCount in data) {\n                count = data[dataCount];\n            }\n        }\n        data = !isNullOrUndefined(data.value) ? data.value : data;\n        var args = {};\n        args.count = count;\n        args.result = data;\n        this.getAggregateResult(pvt, data, args, null, query);\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: count, aggregates: args.aggregates };\n    };\n    return ODataV4Adaptor;\n}(ODataAdaptor));\nexport { ODataV4Adaptor };\n/**\n * The Web API is a programmatic interface to define the request and response messages system that is mostly exposed in JSON or XML.\n * The DataManager uses the WebApiAdaptor to consume Web API.\n * Since this adaptor is targeted to interact with Web API created using OData endpoint, it is extended from ODataAdaptor\n * @hidden\n */\nvar WebApiAdaptor = /** @class */ (function (_super) {\n    __extends(WebApiAdaptor, _super);\n    function WebApiAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.insert = function (dm, data, tableName) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.url,\n            data: JSON.stringify(data)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number} value\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        return {\n            type: 'DELETE',\n            url: dm.dataSource.url + '/' + value,\n            data: JSON.stringify(value)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to update record.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        return {\n            type: 'PUT',\n            url: dm.dataSource.url,\n            data: JSON.stringify(value)\n        };\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings\n     * @returns void\n     */\n    WebApiAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        request.setRequestHeader('Accept', 'application/json, text/javascript, */*; q=0.01');\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    WebApiAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        var pvt = request && request[pvtData];\n        var count = null;\n        var args = {};\n        if (request && request.type.toLowerCase() !== 'post') {\n            var versionCheck = xhr && request.getResponseHeader('DataServiceVersion');\n            var version = (versionCheck && parseInt(versionCheck, 10)) || 2;\n            if (query && query.isCountRequired) {\n                if (!DataUtil.isNull(data.Count)) {\n                    count = data.Count;\n                }\n            }\n            if (version < 3 && data.Items) {\n                data = data.Items;\n            }\n            args.count = count;\n            args.result = data;\n            this.getAggregateResult(pvt, data, args, null, query);\n        }\n        args.result = args.result || data;\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    return WebApiAdaptor;\n}(ODataAdaptor));\nexport { WebApiAdaptor };\n/**\n * WebMethodAdaptor can be used by DataManager to interact with web method.\n * @hidden\n */\nvar WebMethodAdaptor = /** @class */ (function (_super) {\n    __extends(WebMethodAdaptor, _super);\n    function WebMethodAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Prepare the request body based on the query.\n     * The query information can be accessed at the WebMethod using variable named `value`.\n     * @param  {DataManager} dm\n     * @param  {Query} query\n     * @param  {Object[]} hierarchyFilters?\n     * @returns application\n     */\n    WebMethodAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var obj = new UrlAdaptor().processQuery(dm, query, hierarchyFilters);\n        var getData = 'data';\n        var data = DataUtil.parse.parseJson(obj[getData]);\n        var result = {};\n        var value = 'value';\n        if (data.param) {\n            for (var i = 0; i < data.param.length; i++) {\n                var param = data.param[i];\n                var key = Object.keys(param)[0];\n                result[key] = param[key];\n            }\n        }\n        result[value] = data;\n        var pvtData = 'pvtData';\n        var url = 'url';\n        return {\n            data: JSON.stringify(result),\n            url: obj[url],\n            pvtData: obj[pvtData],\n            type: 'POST',\n            contentType: 'application/json; charset=utf-8'\n        };\n    };\n    return WebMethodAdaptor;\n}(UrlAdaptor));\nexport { WebMethodAdaptor };\n/**\n * RemoteSaveAdaptor, extended from JsonAdaptor and it is used for binding local data and performs all DataManager queries in client-side.\n * It interacts with server-side only for CRUD operations.\n * @hidden\n */\nvar RemoteSaveAdaptor = /** @class */ (function (_super) {\n    __extends(RemoteSaveAdaptor, _super);\n    /**\n     * @hidden\n     */\n    function RemoteSaveAdaptor() {\n        var _this = _super.call(this) || this;\n        setValue('beforeSend', UrlAdaptor.prototype.beforeSend, _this);\n        return _this;\n    }\n    RemoteSaveAdaptor.prototype.insert = function (dm, data, tableName) {\n        this.updateType = 'add';\n        return {\n            url: dm.dataSource.insertUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                value: data,\n                table: tableName,\n                action: 'insert'\n            })\n        };\n    };\n    RemoteSaveAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        _super.prototype.remove.call(this, dm, keyField, value);\n        return {\n            type: 'POST',\n            url: dm.dataSource.removeUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                key: value,\n                keyColumn: keyField,\n                table: tableName,\n                action: 'remove'\n            })\n        };\n    };\n    RemoteSaveAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        this.updateType = 'update';\n        this.updateKey = keyField;\n        return {\n            type: 'POST',\n            url: dm.dataSource.updateUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                value: value,\n                action: 'update',\n                keyColumn: keyField,\n                key: value[keyField],\n                table: tableName\n            })\n        };\n    };\n    RemoteSaveAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes, e) {\n        var i;\n        if (this.updateType === 'add') {\n            _super.prototype.insert.call(this, ds, data, null, null, 0);\n        }\n        if (this.updateType === 'update') {\n            _super.prototype.update.call(this, ds, this.updateKey, data);\n        }\n        if (data.added) {\n            for (i = 0; i < data.added.length; i++) {\n                _super.prototype.insert.call(this, ds, data.added[i]);\n            }\n        }\n        if (data.changed) {\n            for (i = 0; i < data.changed.length; i++) {\n                _super.prototype.update.call(this, ds, e.key, data.changed[i]);\n            }\n        }\n        if (data.deleted) {\n            for (i = 0; i < data.deleted.length; i++) {\n                _super.prototype.remove.call(this, ds, e.key, data.deleted[i]);\n            }\n        }\n        return data;\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * Also perform the changes in the locally cached data to sync with the remote data.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    RemoteSaveAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.batchUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'json',\n            data: JSON.stringify({\n                changed: changes.changedRecords,\n                added: changes.addedRecords,\n                deleted: changes.deletedRecords,\n                action: 'batch',\n                table: e.url,\n                key: e.key\n            })\n        };\n    };\n    return RemoteSaveAdaptor;\n}(JsonAdaptor));\nexport { RemoteSaveAdaptor };\n/**\n * Cache Adaptor is used to cache the data of the visited pages. It prevents new requests for the previously visited pages.\n * You can configure cache page size and duration of caching by using cachingPageSize and timeTillExpiration properties of the DataManager\n * @hidden\n */\nvar CacheAdaptor = /** @class */ (function (_super) {\n    __extends(CacheAdaptor, _super);\n    /**\n     * Constructor for CacheAdaptor class.\n     * @param  {CacheAdaptor} adaptor?\n     * @param  {number} timeStamp?\n     * @param  {number} pageSize?\n     * @hidden\n     */\n    function CacheAdaptor(adaptor, timeStamp, pageSize) {\n        var _this = _super.call(this) || this;\n        _this.isCrudAction = false;\n        _this.isInsertAction = false;\n        if (!isNullOrUndefined(adaptor)) {\n            _this.cacheAdaptor = adaptor;\n        }\n        _this.pageSize = pageSize;\n        _this.guidId = DataUtil.getGuid('cacheAdaptor');\n        var obj = { keys: [], results: [] };\n        window.localStorage.setItem(_this.guidId, JSON.stringify(obj));\n        var guid = _this.guidId;\n        if (!isNullOrUndefined(timeStamp)) {\n            setInterval(function () {\n                var data;\n                data = DataUtil.parse.parseJson(window.localStorage.getItem(guid));\n                var forDel = [];\n                for (var i = 0; i < data.results.length; i++) {\n                    var currentTime = +new Date();\n                    var requestTime = +new Date(data.results[i].timeStamp);\n                    data.results[i].timeStamp = currentTime - requestTime;\n                    if (currentTime - requestTime > timeStamp) {\n                        forDel.push(i);\n                    }\n                }\n                for (var i = 0; i < forDel.length; i++) {\n                    data.results.splice(forDel[i], 1);\n                    data.keys.splice(forDel[i], 1);\n                }\n                window.localStorage.removeItem(guid);\n                window.localStorage.setItem(guid, JSON.stringify(data));\n            }, timeStamp);\n        }\n        return _this;\n    }\n    /**\n     * It will generate the key based on the URL when we send a request to server.\n     * @param  {string} url\n     * @param  {Query} query?\n     * @hidden\n     */\n    CacheAdaptor.prototype.generateKey = function (url, query) {\n        var queries = this.getQueryRequest(query);\n        var singles = Query.filterQueryLists(query.queries, ['onSelect', 'onPage', 'onSkip', 'onTake', 'onRange']);\n        var key = url;\n        var page = 'onPage';\n        if (page in singles) {\n            key += singles[page].pageIndex;\n        }\n        queries.sorts.forEach(function (obj) {\n            key += obj.e.direction + obj.e.fieldName;\n        });\n        queries.groups.forEach(function (obj) {\n            key += obj.e.fieldName;\n        });\n        queries.searches.forEach(function (obj) {\n            key += obj.e.searchKey;\n        });\n        for (var filter = 0; filter < queries.filters.length; filter++) {\n            var currentFilter = queries.filters[filter];\n            if (currentFilter.e.isComplex) {\n                var newQuery = query.clone();\n                newQuery.queries = [];\n                for (var i = 0; i < currentFilter.e.predicates.length; i++) {\n                    newQuery.queries.push({ fn: 'onWhere', e: currentFilter.e.predicates[i], filter: query.queries.filter });\n                }\n                key += currentFilter.e.condition + this.generateKey(url, newQuery);\n            }\n            else {\n                key += currentFilter.e.field + currentFilter.e.operator + currentFilter.e.value;\n            }\n        }\n        return key;\n    };\n    /**\n     * Process the query to generate request body.\n     * If the data is already cached, it will return the cached data.\n     * @param  {DataManager} dm\n     * @param  {Query} query?\n     * @param  {Object[]} hierarchyFilters?\n     */\n    CacheAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var key = this.generateKey(dm.dataSource.url, query);\n        var cachedItems;\n        cachedItems = DataUtil.parse.parseJson(window.localStorage.getItem(this.guidId));\n        var data = cachedItems ? cachedItems.results[cachedItems.keys.indexOf(key)] : null;\n        if (data != null && !this.isCrudAction && !this.isInsertAction) {\n            return data;\n        }\n        this.isCrudAction = null;\n        this.isInsertAction = null;\n        return this.cacheAdaptor.processQuery.apply(this.cacheAdaptor, [].slice.call(arguments, 0));\n    };\n    /**\n     * Returns the data from the query processing.\n     * It will also cache the data for later usage.\n     * @param  {DataResult} data\n     * @param  {DataManager} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     */\n    CacheAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        if (this.isInsertAction || (request && this.cacheAdaptor.options.batch &&\n            DataUtil.endsWith(request.url, this.cacheAdaptor.options.batch) && request.type.toLowerCase() === 'post')) {\n            return this.cacheAdaptor.processResponse(data, ds, query, xhr, request, changes);\n        }\n        data = this.cacheAdaptor.processResponse.apply(this.cacheAdaptor, [].slice.call(arguments, 0));\n        var key = query ? this.generateKey(ds.dataSource.url, query) : ds.dataSource.url;\n        var obj = {};\n        obj = DataUtil.parse.parseJson(window.localStorage.getItem(this.guidId));\n        var index = obj.keys.indexOf(key);\n        if (index !== -1) {\n            obj.results.splice(index, 1);\n            obj.keys.splice(index, 1);\n        }\n        obj.results[obj.keys.push(key) - 1] = { keys: key, result: data.result, timeStamp: new Date(), count: data.count };\n        while (obj.results.length > this.pageSize) {\n            obj.results.splice(0, 1);\n            obj.keys.splice(0, 1);\n        }\n        window.localStorage.setItem(this.guidId, JSON.stringify(obj));\n        return data;\n    };\n    /**\n     * Method will trigger before send the request to server side. Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings?\n     */\n    CacheAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (DataUtil.endsWith(settings.url, this.cacheAdaptor.options.batch) && settings.type.toLowerCase() === 'post') {\n            request.setRequestHeader('Accept', this.cacheAdaptor.options.multipartAccept);\n        }\n        if (!dm.dataSource.crossDomain) {\n            request.setRequestHeader('Accept', this.cacheAdaptor.options.accept);\n        }\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName\n     */\n    CacheAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        this.isCrudAction = true;\n        return this.cacheAdaptor.update(dm, keyField, value, tableName);\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    CacheAdaptor.prototype.insert = function (dm, data, tableName) {\n        this.isInsertAction = true;\n        return this.cacheAdaptor.insert(dm, data, tableName);\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     */\n    CacheAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        this.isCrudAction = true;\n        return this.cacheAdaptor.remove(dm, keyField, value, tableName);\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    CacheAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        return this.cacheAdaptor.batchRequest(dm, changes, e);\n    };\n    return CacheAdaptor;\n}(UrlAdaptor));\nexport { CacheAdaptor };\n","import { Ajax } from '@syncfusion/ej2-base';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataUtil } from './util';\nimport { Query } from './query';\nimport { ODataAdaptor, JsonAdaptor, CacheAdaptor, RemoteSaveAdaptor } from './adaptors';\n/**\n * DataManager is used to manage and manipulate relational data.\n */\nvar DataManager = /** @class */ (function () {\n    /**\n     * Constructor for DataManager class\n     * @param  {DataOptions|JSON[]} dataSource?\n     * @param  {Query} query?\n     * @param  {AdaptorOptions|string} adaptor?\n     * @hidden\n     */\n    function DataManager(dataSource, query, adaptor) {\n        var _this = this;\n        /** @hidden */\n        this.dateParse = true;\n        this.requests = [];\n        if (!dataSource && !this.dataSource) {\n            dataSource = [];\n        }\n        adaptor = adaptor || dataSource.adaptor;\n        var data;\n        if (dataSource instanceof Array) {\n            data = {\n                json: dataSource,\n                offline: true\n            };\n        }\n        else if (typeof dataSource === 'object') {\n            if (!dataSource.json) {\n                dataSource.json = [];\n            }\n            data = {\n                url: dataSource.url,\n                insertUrl: dataSource.insertUrl,\n                removeUrl: dataSource.removeUrl,\n                updateUrl: dataSource.updateUrl,\n                crudUrl: dataSource.crudUrl,\n                batchUrl: dataSource.batchUrl,\n                json: dataSource.json,\n                headers: dataSource.headers,\n                accept: dataSource.accept,\n                data: dataSource.data,\n                timeTillExpiration: dataSource.timeTillExpiration,\n                cachingPageSize: dataSource.cachingPageSize,\n                enableCaching: dataSource.enableCaching,\n                requestType: dataSource.requestType,\n                key: dataSource.key,\n                crossDomain: dataSource.crossDomain,\n                jsonp: dataSource.jsonp,\n                dataType: dataSource.dataType,\n                offline: dataSource.offline !== undefined ? dataSource.offline\n                    : dataSource.adaptor instanceof RemoteSaveAdaptor ? false : dataSource.url ? false : true,\n                requiresFormat: dataSource.requiresFormat\n            };\n        }\n        else {\n            DataUtil.throwError('DataManager: Invalid arguments');\n        }\n        if (data.requiresFormat === undefined && !DataUtil.isCors()) {\n            data.requiresFormat = isNullOrUndefined(data.crossDomain) ? true : data.crossDomain;\n        }\n        if (data.dataType === undefined) {\n            data.dataType = 'json';\n        }\n        this.dataSource = data;\n        this.defaultQuery = query;\n        if (data.url && data.offline && !data.json.length) {\n            this.isDataAvailable = false;\n            this.adaptor = adaptor || new ODataAdaptor();\n            this.dataSource.offline = false;\n            this.ready = this.executeQuery(query || new Query());\n            this.ready.then(function (e) {\n                _this.dataSource.offline = true;\n                _this.isDataAvailable = true;\n                data.json = e.result;\n                _this.adaptor = new JsonAdaptor();\n            });\n        }\n        else {\n            this.adaptor = data.offline ? new JsonAdaptor() : new ODataAdaptor();\n        }\n        if (!data.jsonp && this.adaptor instanceof ODataAdaptor) {\n            data.jsonp = 'callback';\n        }\n        this.adaptor = adaptor || this.adaptor;\n        if (data.enableCaching) {\n            this.adaptor = new CacheAdaptor(this.adaptor, data.timeTillExpiration, data.cachingPageSize);\n        }\n        return this;\n    }\n    /**\n     * Overrides DataManager's default query with given query.\n     * @param  {Query} query - Defines the new default query.\n     */\n    DataManager.prototype.setDefaultQuery = function (query) {\n        this.defaultQuery = query;\n        return this;\n    };\n    /**\n     * Executes the given query with local data source.\n     * @param  {Query} query - Defines the query to retrieve data.\n     */\n    DataManager.prototype.executeLocal = function (query) {\n        if (!this.defaultQuery && !(query instanceof Query)) {\n            DataUtil.throwError('DataManager - executeLocal() : A query is required to execute');\n        }\n        if (!this.dataSource.json) {\n            DataUtil.throwError('DataManager - executeLocal() : Json data is required to execute');\n        }\n        query = query || this.defaultQuery;\n        var result = this.adaptor.processQuery(this, query);\n        if (query.subQuery) {\n            var from = query.subQuery.fromTable;\n            var lookup = query.subQuery.lookups;\n            var res = query.isCountRequired ? result.result :\n                result;\n            if (lookup && lookup instanceof Array) {\n                DataUtil.buildHierarchy(query.subQuery.fKey, from, res, lookup, query.subQuery.key);\n            }\n            for (var j = 0; j < res.length; j++) {\n                if (res[j][from] instanceof Array) {\n                    res[j] = extend({}, {}, res[j]);\n                    res[j][from] = this.adaptor.processResponse(query.subQuery.using(new DataManager(res[j][from].slice(0))).executeLocal(), this, query);\n                }\n            }\n        }\n        return this.adaptor.processResponse(result, this, query);\n    };\n    /**\n     * Executes the given query with either local or remote data source.\n     * It will be executed as asynchronously and returns Promise object which will be resolved or rejected after action completed.\n     * @param  {Query|Function} query - Defines the query to retrieve data.\n     * @param  {Function} done - Defines the callback function and triggers when the Promise is resolved.\n     * @param  {Function} fail - Defines the callback function and triggers when the Promise is rejected.\n     * @param  {Function} always - Defines the callback function and triggers when the Promise is resolved or rejected.\n     */\n    DataManager.prototype.executeQuery = function (query, done, fail, always) {\n        var _this = this;\n        if (typeof query === 'function') {\n            always = fail;\n            fail = done;\n            done = query;\n            query = null;\n        }\n        if (!query) {\n            query = this.defaultQuery;\n        }\n        if (!(query instanceof Query)) {\n            DataUtil.throwError('DataManager - executeQuery() : A query is required to execute');\n        }\n        var deffered = new Deferred();\n        var args = { query: query };\n        if (!this.dataSource.offline && (this.dataSource.url !== undefined && this.dataSource.url !== '')) {\n            var result = this.adaptor.processQuery(this, query);\n            this.makeRequest(result, deffered, args, query);\n        }\n        else {\n            DataManager.nextTick(function () {\n                var res = _this.executeLocal(query);\n                args = DataManager.getDeferedArgs(query, res, args);\n                deffered.resolve(args);\n            });\n        }\n        if (done || fail) {\n            deffered.promise.then(done, fail);\n        }\n        if (always) {\n            deffered.promise.then(always, always);\n        }\n        return deffered.promise;\n    };\n    DataManager.getDeferedArgs = function (query, result, args) {\n        if (query.isCountRequired) {\n            args.result = result.result;\n            args.count = result.count;\n            args.aggregates = result.aggregates;\n        }\n        else {\n            args.result = result;\n        }\n        return args;\n    };\n    DataManager.nextTick = function (fn) {\n        (window.setImmediate || window.setTimeout)(fn, 0);\n    };\n    DataManager.prototype.extendRequest = function (url, fnSuccess, fnFail) {\n        return extend({}, {\n            type: 'GET',\n            dataType: this.dataSource.dataType,\n            crossDomain: this.dataSource.crossDomain,\n            jsonp: this.dataSource.jsonp,\n            cache: true,\n            processData: false,\n            onSuccess: fnSuccess,\n            onFailure: fnFail\n        }, url);\n    };\n    DataManager.prototype.makeRequest = function (url, deffered, args, query) {\n        var _this = this;\n        var isSelector = !!query.subQuerySelector;\n        var fnFail = function (e) {\n            args.error = e;\n            deffered.reject(args);\n        };\n        var process = function (data, count, xhr, request, actual, aggregates, virtualSelectRecords) {\n            args.xhr = xhr;\n            args.count = count ? parseInt(count.toString(), 10) : 0;\n            args.result = data;\n            args.request = request;\n            args.aggregates = aggregates;\n            args.actual = actual;\n            args.virtualSelectRecords = virtualSelectRecords;\n            deffered.resolve(args);\n        };\n        var fnQueryChild = function (data, selector) {\n            var subDeffer = new Deferred();\n            var childArgs = { parent: args };\n            query.subQuery.isChild = true;\n            var subUrl = _this.adaptor.processQuery(_this, query.subQuery, data ? _this.adaptor.processResponse(data) : selector);\n            var childReq = _this.makeRequest(subUrl, subDeffer, childArgs, query.subQuery);\n            if (!isSelector) {\n                subDeffer.then(function (subData) {\n                    if (data) {\n                        DataUtil.buildHierarchy(query.subQuery.fKey, query.subQuery.fromTable, data, subData, query.subQuery.key);\n                        process(data, subData.count, subData.xhr);\n                    }\n                }, fnFail);\n            }\n            return childReq;\n        };\n        var fnSuccess = function (data, request) {\n            if (request.httpRequest.getResponseHeader('Content-Type').indexOf('xml') === -1 && _this.dateParse) {\n                data = DataUtil.parse.parseJson(data);\n            }\n            var result = _this.adaptor.processResponse(data, _this, query, request.httpRequest, request);\n            var count = 0;\n            var aggregates = null;\n            var virtualSelectRecords = 'virtualSelectRecords';\n            var virtualRecords = data[virtualSelectRecords];\n            if (query.isCountRequired) {\n                count = result.count;\n                aggregates = result.aggregates;\n                result = result.result;\n            }\n            if (!query.subQuery) {\n                process(result, count, request.httpRequest, request.type, data, aggregates, virtualRecords);\n                return;\n            }\n            if (!isSelector) {\n                fnQueryChild(result, request);\n            }\n        };\n        var req = this.extendRequest(url, fnSuccess, fnFail);\n        var ajax = new Ajax(req);\n        ajax.beforeSend = function () {\n            _this.beforeSend(ajax.httpRequest, ajax);\n        };\n        req = ajax.send();\n        req.catch(function (e) { return true; }); // to handle failure remote requests.        \n        this.requests.push(ajax);\n        if (isSelector) {\n            var promise = void 0;\n            var res = query.subQuerySelector.call(this, { query: query.subQuery, parent: query });\n            if (res && res.length) {\n                promise = Promise.all([req, fnQueryChild(null, res)]);\n                promise.then(function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    var result = args[0];\n                    var pResult = _this.adaptor.processResponse(result[0], _this, query, _this.requests[0].httpRequest, _this.requests[0]);\n                    var count = 0;\n                    if (query.isCountRequired) {\n                        count = pResult.count;\n                        pResult = pResult.result;\n                    }\n                    var cResult = _this.adaptor.processResponse(result[1], _this, query.subQuery, _this.requests[1].httpRequest, _this.requests[1]);\n                    count = 0;\n                    if (query.subQuery.isCountRequired) {\n                        count = cResult.count;\n                        cResult = cResult.result;\n                    }\n                    DataUtil.buildHierarchy(query.subQuery.fKey, query.subQuery.fromTable, pResult, cResult, query.subQuery.key);\n                    isSelector = false;\n                    process(pResult, count, _this.requests[0].httpRequest);\n                });\n            }\n            else {\n                isSelector = false;\n            }\n        }\n        return req;\n    };\n    DataManager.prototype.beforeSend = function (request, settings) {\n        this.adaptor.beforeSend(this, request, settings);\n        var headers = this.dataSource.headers;\n        var props;\n        for (var i = 0; headers && i < headers.length; i++) {\n            props = [];\n            var keys = Object.keys(headers[i]);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var prop = keys_1[_i];\n                props.push(prop);\n                request.setRequestHeader(prop, headers[i][prop]);\n            }\n        }\n    };\n    /**\n     * Save bulk changes to the given table name.\n     * User can add a new record, edit an existing record, and delete a record at the same time.\n     * If the datasource from remote, then updated in a single post.\n     * @param  {Object} changes - Defines the CrudOptions.\n     * @param  {string} key - Defines the column field.\n     * @param  {string|Query} tableName - Defines the table name.\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.saveChanges = function (changes, key, tableName, query, original) {\n        var _this = this;\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var args = {\n            url: tableName,\n            key: key || this.dataSource.key\n        };\n        var req = this.adaptor.batchRequest(this, changes, args, query, original);\n        if (this.dataSource.offline) {\n            return req;\n        }\n        var deff = new Deferred();\n        var ajax = new Ajax(req);\n        ajax.beforeSend = function () {\n            _this.beforeSend(ajax.httpRequest, ajax);\n        };\n        ajax.onSuccess = function (data, request) {\n            deff.resolve(_this.adaptor.processResponse(DataUtil.parse.parseJson(data), _this, null, request.httpRequest, request, changes, args));\n        };\n        ajax.onFailure = function (e) {\n            deff.reject([{ error: e }]);\n        };\n        ajax.send().catch(function (e) { return true; }); // to handle the failure requests.        \n        return deff.promise;\n    };\n    /**\n     * Inserts new record in the given table.\n     * @param  {Object} data - Defines the data to insert.\n     * @param  {string|Query} tableName - Defines the table name.\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.insert = function (data, tableName, query, position) {\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var req = this.adaptor.insert(this, data, tableName, query, position);\n        if (this.dataSource.offline) {\n            return req;\n        }\n        return this.doAjaxRequest(req);\n    };\n    /**\n     * Removes data from the table with the given key.\n     * @param  {string} keyField - Defines the column field.\n     * @param  {Object} value - Defines the value to find the data in the specified column.\n     * @param  {string|Query} tableName - Defines the table name\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.remove = function (keyField, value, tableName, query) {\n        if (typeof value === 'object') {\n            value = value[keyField];\n        }\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var res = this.adaptor.remove(this, keyField, value, tableName, query);\n        if (this.dataSource.offline) {\n            return res;\n        }\n        return this.doAjaxRequest(res);\n    };\n    /**\n     * Updates existing record in the given table.\n     * @param  {string} keyField - Defines the column field.\n     * @param  {Object} value - Defines the value to find the data in the specified column.\n     * @param  {string|Query} tableName - Defines the table name\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.update = function (keyField, value, tableName, query, original) {\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var res = this.adaptor.update(this, keyField, value, tableName, query, original);\n        if (this.dataSource.offline) {\n            return res;\n        }\n        return this.doAjaxRequest(res);\n    };\n    DataManager.prototype.doAjaxRequest = function (res) {\n        var _this = this;\n        var defer = new Deferred();\n        res = extend({}, {\n            type: 'POST',\n            contentType: 'application/json; charset=utf-8',\n            processData: false\n        }, res);\n        var ajax = new Ajax(res);\n        ajax.beforeSend = function () {\n            _this.beforeSend(ajax.httpRequest, ajax);\n        };\n        ajax.onSuccess = function (record, request) {\n            try {\n                DataUtil.parse.parseJson(record);\n            }\n            catch (e) {\n                record = [];\n            }\n            record = _this.adaptor.processResponse(DataUtil.parse.parseJson(record), _this, null, request.httpRequest, request);\n            defer.resolve(record);\n        };\n        ajax.onFailure = function (e) {\n            defer.reject([{ error: e }]);\n        };\n        ajax.send().catch(function (e) { return true; }); // to handle the failure requests.\n        return defer.promise;\n    };\n    return DataManager;\n}());\nexport { DataManager };\n/**\n * Deferred is used to handle asynchronous operation.\n */\nvar Deferred = /** @class */ (function () {\n    function Deferred() {\n        var _this = this;\n        /**\n         * Promise is an object that represents a value that may not be available yet, but will be resolved at some point in the future.\n         */\n        this.promise = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n        /**\n         * Defines the callback function triggers when the Deferred object is resolved.\n         */\n        this.then = this.promise.then.bind(this.promise);\n        /**\n         * Defines the callback function triggers when the Deferred object is rejected.\n         */\n        this.catch = this.promise.catch.bind(this.promise);\n    }\n    return Deferred;\n}());\nexport { Deferred };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { merge, formatUnit, isNullOrUndefined, append, detach } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, prepend, closest, remove } from '@syncfusion/ej2-base';\nimport { Component, EventHandler, Property, Complex, Event } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { compile } from '@syncfusion/ej2-base';\nimport { Animation, rippleEffect, Touch } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { ListBase, getFieldValues } from '../common/list-base';\n// Effect Configuration Effect[] =  [fromViewBackward,fromViewForward,toViewBackward,toviewForward];\nvar effectsConfig = {\n    'None': [],\n    'SlideLeft': ['SlideRightOut', 'SlideLeftOut', 'SlideLeftIn', 'SlideRightIn'],\n    'SlideDown': ['SlideTopOut', 'SlideBottomOut', 'SlideBottomIn', 'SlideTopIn'],\n    'Zoom': ['FadeOut', 'FadeZoomOut', 'FadeZoomIn', 'FadeIn'],\n    'Fade': ['FadeOut', 'FadeOut', 'FadeIn', 'FadeIn']\n};\nvar effectsRTLConfig = {\n    'None': [],\n    'SlideLeft': ['SlideLeftOut', 'SlideRightOut', 'SlideRightIn', 'SlideLeftIn'],\n    'SlideDown': ['SlideBottomOut', 'SlideTopOut', 'SlideTopIn', 'SlideBottomIn'],\n    'Zoom': ['FadeZoomOut', 'FadeOut', 'FadeIn', 'FadeZoomIn'],\n    'Fade': ['FadeOut', 'FadeOut', 'FadeIn', 'FadeIn']\n};\n// don't use space in classnames.\nexport var classNames = {\n    root: 'e-listview',\n    hover: 'e-hover',\n    selected: 'e-active',\n    focused: 'e-focused',\n    parentItem: 'e-list-parent',\n    listItem: 'e-list-item',\n    listIcon: 'e-list-icon',\n    textContent: 'e-text-content',\n    listItemText: 'e-list-text',\n    groupListItem: 'e-list-group-item',\n    hasChild: 'e-has-child',\n    view: 'e-view',\n    header: 'e-list-header',\n    headerText: 'e-headertext',\n    headerTemplateText: 'e-headertemplate-text',\n    text: 'e-text',\n    disable: 'e-disabled',\n    content: 'e-content',\n    icon: 'e-icons',\n    backIcon: 'e-icon-back',\n    checkboxWrapper: 'e-checkbox-wrapper',\n    checkbox: 'e-checkbox',\n    checked: 'e-check',\n    checklist: 'e-checklist',\n    checkboxIcon: 'e-frame',\n    checkboxRight: 'e-checkbox-right',\n    checkboxLeft: 'e-checkbox-left',\n    listviewCheckbox: 'e-listview-checkbox',\n    itemCheckList: 'e-checklist'\n};\nvar FieldSettings = /** @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('id')\n    ], FieldSettings.prototype, \"id\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property('isChecked')\n    ], FieldSettings.prototype, \"isChecked\", void 0);\n    __decorate([\n        Property('isVisible')\n    ], FieldSettings.prototype, \"isVisible\", void 0);\n    __decorate([\n        Property('enabled')\n    ], FieldSettings.prototype, \"enabled\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('child')\n    ], FieldSettings.prototype, \"child\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], FieldSettings.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('groupBy')\n    ], FieldSettings.prototype, \"groupBy\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldSettings.prototype, \"sortBy\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], FieldSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('tableName')\n    ], FieldSettings.prototype, \"tableName\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nexport { FieldSettings };\n/**\n * Represents the EJ2 ListView control.\n * ```html\n * <div id=\"listview\">\n * <ul>\n * <li>Favourite</li>\n * <li>Documents</li>\n * <li>Downloads</li>\n * </ul>\n * </div>\n * ```\n * ```typescript\n *   var lvObj = new ListView({});\n *   lvObj.appendTo(\"#listview\");\n * ```\n */\nvar ListView = /** @class */ (function (_super) {\n    __extends(ListView, _super);\n    /**\n     * Constructor for creating the widget\n     */\n    function ListView(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    ListView.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'htmlAttributes':\n                    this.setHTMLAttribute();\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'enable':\n                    this.setEnable();\n                    break;\n                case 'width':\n                case 'height':\n                    this.setSize();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n                case 'fields':\n                    this.listBaseOption.fields = this.fields.properties;\n                    if (this.enableVirtualization) {\n                        this.virtualizationModule.reRenderUiVirtualization();\n                    }\n                    else {\n                        this.reRender();\n                    }\n                    break;\n                case 'headerTitle':\n                    if (!this.curDSLevel.length) {\n                        this.header(this.headerTitle, false);\n                    }\n                    break;\n                case 'showHeader':\n                    this.header(this.headerTitle, false);\n                    break;\n                case 'enableVirtualization':\n                    detach(this.contentContainer);\n                    this.refresh();\n                    break;\n                case 'showCheckBox':\n                case 'checkBoxPosition':\n                    if (this.enableVirtualization) {\n                        this.virtualizationModule.reRenderUiVirtualization();\n                    }\n                    else {\n                        this.setCheckbox();\n                    }\n                    break;\n                case 'dataSource':\n                    if (this.enableVirtualization) {\n                        this.virtualizationModule.reRenderUiVirtualization();\n                    }\n                    else {\n                        this.reRender();\n                    }\n                    break;\n                case 'sortOrder':\n                case 'showIcon':\n                    if (this.enableVirtualization) {\n                        this.virtualizationModule.reRenderUiVirtualization();\n                    }\n                    else {\n                        this.listBaseOption.showIcon = this.showIcon;\n                        this.curViewDS = this.getSubDS();\n                        this.resetCurrentList();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n    };\n    // Model Changes\n    ListView.prototype.setHTMLAttribute = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            attributes(this.element, this.htmlAttributes);\n        }\n    };\n    ListView.prototype.setCSSClass = function (oldCSSClass) {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n    };\n    ListView.prototype.setSize = function () {\n        this.element.style.height = formatUnit(this.height);\n        this.element.style.width = formatUnit(this.width);\n        this.isWindow = this.element.getBoundingClientRect().height ? false : true;\n    };\n    ListView.prototype.setEnable = function () {\n        this.enableElement(this.element, this.enable);\n    };\n    ListView.prototype.setEnableRTL = function () {\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        else {\n            this.element.classList.remove('e-rtl');\n        }\n    };\n    ListView.prototype.enableElement = function (element, isEnabled) {\n        if (isEnabled) {\n            element.classList.remove(classNames.disable);\n        }\n        else {\n            element.classList.add(classNames.disable);\n        }\n    };\n    //Suport Component Functions\n    ListView.prototype.header = function (text, showBack) {\n        if (this.headerEle === undefined && this.showHeader) {\n            this.headerEle = this.createElement('div', { className: classNames.header });\n            var innerHeaderEle = this.createElement('span', { className: classNames.headerText, innerHTML: this.headerTitle });\n            var textEle = this.createElement('div', { className: classNames.text, innerHTML: innerHeaderEle.outerHTML });\n            var hedBackButton = this.createElement('div', {\n                className: classNames.icon + ' ' + classNames.backIcon + ' e-but-back',\n                attrs: { style: 'display:none;' }\n            });\n            this.headerEle.appendChild(hedBackButton);\n            this.headerEle.appendChild(textEle);\n            if (this.headerTemplate) {\n                var compiledString = compile(this.headerTemplate);\n                var headerTemplateEle = this.createElement('div', { className: classNames.headerTemplateText });\n                append(compiledString({}), headerTemplateEle);\n                append([headerTemplateEle], this.headerEle);\n            }\n            if (this.headerTemplate && this.headerTitle) {\n                textEle.classList.add('header');\n            }\n            this.element.classList.add('e-has-header');\n            prepend([this.headerEle], this.element);\n        }\n        else if (this.headerEle) {\n            if (this.showHeader) {\n                this.headerEle.style.display = '';\n                var textEle = this.headerEle.querySelector('.' + classNames.headerText);\n                var hedBackButton = this.headerEle.querySelector('.' + classNames.backIcon);\n                textEle.innerHTML = text;\n                if (this.headerTemplate && showBack) {\n                    textEle.parentElement.classList.remove('header');\n                    this.headerEle.querySelector('.' + classNames.headerTemplateText).classList.add('nested-header');\n                }\n                if (this.headerTemplate && !showBack) {\n                    textEle.parentElement.classList.add('header');\n                    this.headerEle.querySelector('.' + classNames.headerTemplateText).classList.remove('nested-header');\n                    this.headerEle.querySelector('.' + classNames.headerTemplateText).classList.add('header');\n                }\n                if (showBack === true) {\n                    hedBackButton.style.display = '';\n                }\n                else {\n                    hedBackButton.style.display = 'none';\n                }\n            }\n            else {\n                this.headerEle.style.display = 'none';\n            }\n        }\n    };\n    // Animation Related Functions\n    ListView.prototype.switchView = function (fromView, toView, reverse) {\n        var _this = this;\n        if (fromView && toView) {\n            var fPos_1 = fromView.style.position;\n            var overflow_1 = (this.element.style.overflow !== 'hidden') ? this.element.style.overflow : '';\n            fromView.style.position = 'absolute';\n            fromView.classList.add('e-view');\n            var anim = void 0;\n            var duration = this.animation.duration;\n            if (this.animation.effect) {\n                anim = (this.enableRtl ? effectsRTLConfig[this.animation.effect] : effectsConfig[this.animation.effect]);\n            }\n            else {\n                var slideLeft = 'SlideLeft';\n                anim = effectsConfig[slideLeft];\n                reverse = this.enableRtl;\n                duration = 0;\n            }\n            this.element.style.overflow = 'hidden';\n            this.aniObj.animate(fromView, {\n                name: (reverse === true ? anim[0] : anim[1]),\n                duration: duration,\n                timingFunction: this.animation.easing,\n                end: function (model) {\n                    fromView.style.display = 'none';\n                    _this.element.style.overflow = overflow_1;\n                    fromView.style.position = fPos_1;\n                    fromView.classList.remove('e-view');\n                }\n            });\n            toView.style.display = '';\n            this.aniObj.animate(toView, {\n                name: (reverse === true ? anim[2] : anim[3]),\n                duration: duration,\n                timingFunction: this.animation.easing,\n                end: function () {\n                    _this.trigger('actionComplete');\n                }\n            });\n            this.curUL = toView;\n        }\n    };\n    ListView.prototype.preRender = function () {\n        this.listBaseOption = {\n            template: this.template,\n            headerTemplate: this.headerTemplate,\n            groupTemplate: this.groupTemplate, expandCollapse: true, listClass: '',\n            ariaAttributes: {\n                itemRole: 'listitem', listRole: 'list', itemText: '',\n                groupItemRole: 'group', wrapperRole: 'presentation'\n            },\n            fields: this.fields.properties, sortOrder: this.sortOrder, showIcon: this.showIcon,\n            itemCreated: this.renderCheckbox.bind(this)\n        };\n        this.initialization();\n    };\n    ListView.prototype.initialization = function () {\n        this.curDSLevel = [];\n        this.animateOptions = {};\n        this.curViewDS = [];\n        this.currentLiElements = [];\n        this.isNestedList = false;\n        this.selectedData = [];\n        this.selectedId = [];\n        this.aniObj = new Animation(this.animateOptions);\n    };\n    ListView.prototype.renderCheckbox = function (args) {\n        if (args.item.classList.contains(classNames.hasChild)) {\n            this.isNestedList = true;\n        }\n        if (this.showCheckBox && this.isValidLI(args.item)) {\n            var checkboxElement = void 0;\n            var fieldData = void 0;\n            checkboxElement = createCheckBox(this.createElement, false, {\n                checked: false, enableRtl: this.enableRtl,\n                cssClass: classNames.listviewCheckbox\n            });\n            checkboxElement.setAttribute('role', 'checkbox');\n            var frameElement_1 = checkboxElement.querySelector('.' + classNames.checkboxIcon);\n            args.item.classList.add(classNames.itemCheckList);\n            args.item.firstElementChild.classList.add(classNames.checkbox);\n            if (typeof this.dataSource[0] !== 'string' && typeof this.dataSource[0] !== 'number') {\n                fieldData = getFieldValues(args.curData, this.listBaseOption.fields);\n                if (fieldData[this.listBaseOption.fields.isChecked]) {\n                    this.checkInternally(args, checkboxElement);\n                }\n            }\n            else if (((typeof this.dataSource[0] === 'string' ||\n                typeof this.dataSource[0] === 'number') && this.selectedData.indexOf(args.text) !== -1)) {\n                this.checkInternally(args, checkboxElement);\n            }\n            checkboxElement.setAttribute('aria-checked', frameElement_1.classList.contains(classNames.checked) ? 'true' : 'false');\n            if (this.checkBoxPosition === 'Left') {\n                checkboxElement.classList.add(classNames.checkboxLeft);\n                args.item.firstElementChild.classList.add(classNames.checkboxLeft);\n                args.item.firstElementChild.insertBefore(checkboxElement, args.item.firstElementChild.childNodes[0]);\n            }\n            else {\n                checkboxElement.classList.add(classNames.checkboxRight);\n                args.item.firstElementChild.classList.add(classNames.checkboxRight);\n                args.item.firstElementChild.appendChild(checkboxElement);\n            }\n            this.currentLiElements.push(args.item);\n        }\n    };\n    ListView.prototype.checkInternally = function (args, checkboxElement) {\n        args.item.classList.add(classNames.selected);\n        args.item.setAttribute('aria-selected', 'true');\n        checkboxElement.querySelector('.' + classNames.checkboxIcon).classList.add(classNames.checked);\n        checkboxElement.setAttribute('aria-checked', 'true');\n    };\n    /**\n     * It is used to check the checkbox of an item.\n     * @param  {Fields | HTMLElement} item - It accepts Fields or HTML list element as an argument.\n     */\n    ListView.prototype.checkItem = function (item) {\n        this.toggleCheckBase(item, true);\n    };\n    ListView.prototype.toggleCheckBase = function (item, checked) {\n        if (this.showCheckBox) {\n            var liElement = item;\n            if (item instanceof Object && item.constructor !== HTMLLIElement) {\n                liElement = this.getLiFromObjOrElement(item);\n            }\n            if (!isNullOrUndefined(liElement)) {\n                var checkboxIcon = liElement.querySelector('.' + classNames.checkboxIcon);\n                checked ? liElement.classList.add(classNames.selected) : liElement.classList.remove(classNames.selected);\n                liElement.setAttribute('aria-selected', checked ? 'true' : 'false');\n                checked ? checkboxIcon.classList.add(classNames.checked) : checkboxIcon.classList.remove(classNames.checked);\n                checkboxIcon.parentElement.setAttribute('aria-checked', checked ? 'true' : 'false');\n            }\n            this.setSelectedItemData(liElement);\n        }\n    };\n    /**\n     * It is used to uncheck the checkbox of an item.\n     * @param  {Fields | HTMLElement} item - It accepts Fields or HTML list element as an argument.\n     */\n    ListView.prototype.uncheckItem = function (item) {\n        this.toggleCheckBase(item, false);\n    };\n    /**\n     * It is used to check all the items in ListView.\n     */\n    ListView.prototype.checkAllItems = function () {\n        this.toggleAllCheckBase(true);\n    };\n    /**\n     * It is used to un-check all the items in ListView.\n     */\n    ListView.prototype.uncheckAllItems = function () {\n        this.toggleAllCheckBase(false);\n    };\n    ListView.prototype.toggleAllCheckBase = function (checked) {\n        if (this.showCheckBox) {\n            for (var i = 0; i < this.liCollection.length; i++) {\n                var checkIcon = this.liCollection[i].querySelector('.' + classNames.checkboxIcon);\n                if (checkIcon) {\n                    if (checked) {\n                        if (!checkIcon.classList.contains(classNames.checked)) {\n                            this.checkItem(this.liCollection[i]);\n                        }\n                    }\n                    else {\n                        if (checkIcon.classList.contains(classNames.checked)) {\n                            this.uncheckItem(this.liCollection[i]);\n                        }\n                    }\n                }\n            }\n            if (this.enableVirtualization) {\n                this.virtualizationModule.checkedItem(checked);\n            }\n        }\n    };\n    ListView.prototype.setCheckbox = function () {\n        var _this = this;\n        if (this.showCheckBox) {\n            var liCollection = Array.prototype.slice.call(this.element.querySelectorAll('.' + classNames.listItem));\n            var args_1 = {\n                item: undefined, curData: undefined, dataSource: undefined, fields: undefined,\n                options: undefined, text: ''\n            };\n            liCollection.forEach(function (element) {\n                args_1.item = element;\n                args_1.curData = _this.getItemData(element);\n                if (element.querySelector('.' + classNames.checkboxWrapper)) {\n                    _this.removeElement(element.querySelector('.' + classNames.checkboxWrapper));\n                }\n                _this.renderCheckbox(args_1);\n                if (args_1.item.classList.contains(classNames.selected)) {\n                    _this.checkInternally(args_1, args_1.item.querySelector('.' + classNames.checkboxWrapper));\n                }\n            });\n        }\n        else {\n            var liCollection = Array.prototype.slice.call(this.element.querySelectorAll('.' + classNames.itemCheckList));\n            liCollection.forEach(function (element) {\n                element.classList.remove(classNames.selected);\n                element.firstElementChild.classList.remove(classNames.checkbox);\n                _this.removeElement(element.querySelector('.' + classNames.checkboxWrapper));\n            });\n            if (this.selectedItems) {\n                this.selectedItems.item.classList.add(classNames.selected);\n            }\n        }\n    };\n    ListView.prototype.clickHandler = function (e) {\n        var target = e.target;\n        var classList = target.classList;\n        if (classList.contains(classNames.backIcon) || classList.contains(classNames.headerText)) {\n            if (this.showCheckBox && this.curDSLevel[this.curDSLevel.length - 1]) {\n                this.uncheckAllItems();\n            }\n            this.back();\n        }\n        else {\n            var li = closest(target.parentNode, '.' + classNames.listItem);\n            if (li === null) {\n                li = target;\n            }\n            this.removeFocus();\n            if (this.enable && this.showCheckBox && this.isValidLI(li)) {\n                if (e.target.classList.contains(classNames.checkboxIcon)) {\n                    li.classList.add(classNames.focused);\n                    if (isNullOrUndefined(li.querySelector('.' + classNames.checked))) {\n                        var args = {\n                            curData: undefined, dataSource: undefined, fields: undefined, options: undefined,\n                            text: undefined, item: li\n                        };\n                        this.checkInternally(args, args.item.querySelector('.' + classNames.checkboxWrapper));\n                    }\n                    else {\n                        this.uncheckItem(li);\n                        li.classList.add(classNames.focused);\n                    }\n                    if (e) {\n                        var eventArgs = this.selectEventData(li, e);\n                        var checkIcon = li.querySelector('.' + classNames.checkboxIcon);\n                        merge(eventArgs, { isChecked: checkIcon.classList.contains(classNames.checked) });\n                        this.trigger('select', eventArgs);\n                    }\n                }\n                else if (li.classList.contains(classNames.hasChild)) {\n                    this.removeHover();\n                    this.removeSelect();\n                    this.removeSelect(li);\n                    this.setSelectLI(li, e);\n                    li.classList.remove(classNames.selected);\n                }\n                else {\n                    this.setCheckboxLI(li, e);\n                }\n            }\n            else {\n                this.setSelectLI(li, e);\n            }\n        }\n    };\n    ListView.prototype.removeElement = function (element) {\n        return element && element.parentNode && element.parentNode.removeChild(element);\n    };\n    ListView.prototype.hoverHandler = function (e) {\n        var curLi = closest(e.target.parentNode, '.' + classNames.listItem);\n        this.setHoverLI(curLi);\n    };\n    ListView.prototype.leaveHandler = function (e) {\n        this.removeHover();\n    };\n    ;\n    ListView.prototype.homeKeyHandler = function (e, end) {\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var li = this.curUL.querySelectorAll('.' + classNames.listItem);\n            var focusedElement = this.curUL.querySelector('.' + classNames.focused) ||\n                this.curUL.querySelector('.' + classNames.selected);\n            if (focusedElement) {\n                focusedElement.classList.remove(classNames.focused);\n                if (!this.showCheckBox) {\n                    focusedElement.classList.remove(classNames.selected);\n                }\n            }\n            var index = !end ? 0 : li.length - 1;\n            if (li[index].classList.contains(classNames.hasChild) || this.showCheckBox) {\n                li[index].classList.add(classNames.focused);\n            }\n            else {\n                this.setSelectLI(li[index], e);\n            }\n        }\n    };\n    ListView.prototype.onArrowKeyDown = function (e, prev) {\n        var siblingLI;\n        var li;\n        var hasChild = !isNullOrUndefined(this.curUL.querySelector('.' + classNames.hasChild)) ? true : false;\n        if (hasChild || this.showCheckBox) {\n            li = this.curUL.querySelector('.' + classNames.focused) || this.curUL.querySelector('.' + classNames.selected);\n            siblingLI = ListBase.getSiblingLI(this.curUL.querySelectorAll('.' + classNames.listItem), li, prev);\n            if (!isNullOrUndefined(siblingLI)) {\n                if (li) {\n                    li.classList.remove(classNames.focused);\n                    if (!this.showCheckBox) {\n                        li.classList.remove(classNames.selected);\n                    }\n                }\n                if (siblingLI.classList.contains(classNames.hasChild) || this.showCheckBox) {\n                    siblingLI.classList.add(classNames.focused);\n                }\n                else {\n                    this.setSelectLI(siblingLI, e);\n                }\n            }\n        }\n        else {\n            li = this.curUL.querySelector('.' + classNames.selected);\n            siblingLI = ListBase.getSiblingLI(this.curUL.querySelectorAll('.' + classNames.listItem), li, prev);\n            this.setSelectLI(siblingLI, e);\n        }\n        return siblingLI;\n    };\n    ListView.prototype.arrowKeyHandler = function (e, prev) {\n        var _this = this;\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var siblingLI = this.onArrowKeyDown(e, prev);\n            var elementTop = this.element.getBoundingClientRect().top;\n            var elementHeight = this.element.getBoundingClientRect().height;\n            var firstItemBounds = this.curUL.querySelector('.' + classNames.listItem).getBoundingClientRect();\n            var heightDiff = void 0;\n            var groupItemBounds = void 0;\n            if (this.fields.groupBy) {\n                groupItemBounds = this.curUL.querySelector('.' + classNames.groupListItem).getBoundingClientRect();\n            }\n            if (siblingLI) {\n                var siblingTop = siblingLI.getBoundingClientRect().top;\n                var siblingHeight = siblingLI.getBoundingClientRect().height;\n                if (!prev) {\n                    var height = this.isWindow ? window.innerHeight : elementHeight;\n                    heightDiff = this.isWindow ? (siblingTop + siblingHeight) :\n                        ((siblingTop - elementTop) + siblingHeight);\n                    if (heightDiff > height) {\n                        this.isWindow ? window.scrollTo(0, pageYOffset + (heightDiff - height)) :\n                            this.element.scrollTo(0, this.element.scrollTop + (heightDiff - height));\n                    }\n                }\n                else {\n                    heightDiff = this.isWindow ? siblingTop : (siblingTop - elementTop);\n                    if (heightDiff < 0) {\n                        this.isWindow ? window.scrollTo(0, pageYOffset + heightDiff) :\n                            this.element.scrollTo(0, this.element.scrollTop + heightDiff);\n                    }\n                }\n            }\n            else if (this.enableVirtualization && prev && this.virtualizationModule.uiFirstIndex) {\n                this.onUIScrolled = function () {\n                    _this.onArrowKeyDown(e, prev);\n                    _this.onUIScrolled = undefined;\n                };\n                heightDiff = this.virtualizationModule.listItemHeight;\n                this.isWindow ? window.scrollTo(0, pageYOffset - heightDiff) :\n                    this.element.scrollTo(0, this.element.scrollTop - heightDiff);\n            }\n            else if (prev) {\n                if (this.showHeader && this.headerEle) {\n                    var topHeight = groupItemBounds ? groupItemBounds.top : firstItemBounds.top;\n                    var headerBounds = this.headerEle.getBoundingClientRect();\n                    heightDiff = headerBounds.top < 0 ? (headerBounds.height - topHeight) : 0;\n                    this.isWindow ? window.scrollTo(0, pageYOffset - heightDiff)\n                        : this.element.scrollTo(0, 0);\n                }\n                else if (this.fields.groupBy) {\n                    heightDiff = this.isWindow ? (groupItemBounds.top < 0 ? groupItemBounds.top : 0) :\n                        (elementTop - firstItemBounds.top) + groupItemBounds.height;\n                    this.isWindow ? window.scrollTo(0, pageYOffset + heightDiff) :\n                        this.element.scrollTo(0, this.element.scrollTop - heightDiff);\n                }\n            }\n        }\n    };\n    ListView.prototype.enterKeyHandler = function (e) {\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var hasChild = !isNullOrUndefined(this.curUL.querySelector('.' + classNames.hasChild)) ? true : false;\n            var li = this.curUL.querySelector('.' + classNames.focused);\n            if (hasChild && li) {\n                li.classList.remove(classNames.focused);\n                if (this.showCheckBox) {\n                    this.removeSelect();\n                    this.removeSelect(li);\n                    this.removeHover();\n                }\n                this.setSelectLI(li, e);\n            }\n        }\n    };\n    ListView.prototype.spaceKeyHandler = function (e) {\n        if (this.enable && this.showCheckBox && Object.keys(this.dataSource).length && this.curUL) {\n            var li = this.curUL.querySelector('.' + classNames.focused);\n            if (!isNullOrUndefined(li) && isNullOrUndefined(li.querySelector('.' + classNames.checked))) {\n                var args = {\n                    curData: undefined, dataSource: undefined, fields: undefined, options: undefined,\n                    text: undefined, item: li\n                };\n                this.checkInternally(args, args.item.querySelector('.' + classNames.checkboxWrapper));\n            }\n            else {\n                this.uncheckItem(li);\n            }\n        }\n    };\n    ListView.prototype.keyActionHandler = function (e) {\n        e.preventDefault();\n        switch (e.keyCode) {\n            case 36:\n                this.homeKeyHandler(e);\n                break;\n            case 35:\n                this.homeKeyHandler(e, true);\n                break;\n            case 40:\n                this.arrowKeyHandler(e);\n                break;\n            case 38:\n                this.arrowKeyHandler(e, true);\n                break;\n            case 13:\n                this.enterKeyHandler(e);\n                break;\n            case 8:\n                if (this.showCheckBox && this.curDSLevel[this.curDSLevel.length - 1]) {\n                    this.uncheckAllItems();\n                }\n                this.back();\n                break;\n            case 9:\n                this.tabFocus(e);\n                break;\n            case 32:\n                this.spaceKeyHandler(e);\n                break;\n        }\n    };\n    ListView.prototype.swipeActionHandler = function (e) {\n        if (e.swipeDirection === 'Right') {\n            if (this.showCheckBox && this.curDSLevel[this.curDSLevel.length - 1]) {\n                this.uncheckAllItems();\n            }\n            this.back();\n        }\n    };\n    ListView.prototype.focusout = function () {\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var focusedElement = this.curUL.querySelector('.' + classNames.focused);\n            var activeElement = this.curUL.querySelector('[aria-selected = true]');\n            if (focusedElement && !this.showCheckBox) {\n                focusedElement.classList.remove(classNames.focused);\n                if (activeElement) {\n                    activeElement.classList.add(classNames.selected);\n                }\n            }\n        }\n    };\n    ListView.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'keydown', this.keyActionHandler, this);\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        if (!this.enableVirtualization) {\n            EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n            EventHandler.add(this.element, 'mouseout', this.leaveHandler, this);\n        }\n        EventHandler.add(this.element, 'focusout', this.focusout, this);\n        this.touchModule = new Touch(this.element, { swipe: this.swipeActionHandler.bind(this) });\n    };\n    ListView.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        if (!this.enableVirtualization) {\n            EventHandler.remove(this.element, 'mouseover', this.hoverHandler);\n            EventHandler.remove(this.element, 'mouseout', this.leaveHandler);\n        }\n        EventHandler.remove(this.element, 'mouseover', this.hoverHandler);\n        EventHandler.remove(this.element, 'mouseout', this.leaveHandler);\n        this.touchModule.destroy();\n    };\n    ListView.prototype.tabFocus = function (e) {\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var selectedList = this.curUL.querySelector('.' + classNames.selected);\n            if ((!selectedList && this.curUL) || this.showCheckBox) {\n                var li = this.curUL.querySelector('.' + classNames.listItem);\n                if (li.classList.contains(classNames.hasChild) || this.showCheckBox) {\n                    var focusedElement = this.curUL.querySelector('.' + classNames.focused);\n                    if (isNullOrUndefined(focusedElement)) {\n                        li.classList.add(classNames.focused);\n                    }\n                }\n                else {\n                    this.setSelectLI(li, e);\n                }\n            }\n        }\n    };\n    ListView.prototype.removeFocus = function () {\n        var focusedLI = this.element.querySelectorAll('.' + classNames.focused);\n        for (var _i = 0, focusedLI_1 = focusedLI; _i < focusedLI_1.length; _i++) {\n            var ele = focusedLI_1[_i];\n            ele.classList.remove(classNames.focused);\n        }\n    };\n    ListView.prototype.removeHover = function () {\n        var hoverLI = this.element.querySelector('.' + classNames.hover);\n        if (hoverLI) {\n            hoverLI.classList.remove(classNames.hover);\n        }\n    };\n    ListView.prototype.removeSelect = function (li) {\n        if (isNullOrUndefined(li)) {\n            var selectedLI = this.element.querySelectorAll('.' + classNames.selected);\n            for (var _i = 0, selectedLI_1 = selectedLI; _i < selectedLI_1.length; _i++) {\n                var ele = selectedLI_1[_i];\n                if (this.showCheckBox && ele.querySelector('.' + classNames.checked)) {\n                    continue;\n                }\n                else {\n                    ele.setAttribute('aria-selected', 'false');\n                    ele.classList.remove(classNames.selected);\n                }\n            }\n        }\n        else {\n            li.classList.remove(classNames.selected);\n            li.setAttribute('aria-selected', 'false');\n        }\n    };\n    ListView.prototype.isValidLI = function (li) {\n        return (li && li.classList.contains(classNames.listItem)\n            && !li.classList.contains(classNames.groupListItem)\n            && !li.classList.contains(classNames.disable));\n    };\n    ListView.prototype.setCheckboxLI = function (li, e) {\n        if (this.isValidLI(li) && this.enable && this.showCheckBox) {\n            if (this.curUL.querySelector('.' + classNames.focused)) {\n                this.curUL.querySelector('.' + classNames.focused).classList.remove(classNames.focused);\n            }\n            li.classList.add(classNames.focused);\n            var checkboxElement = li.querySelector('.' + classNames.checkboxWrapper);\n            var checkIcon = checkboxElement.querySelector('.' + classNames.checkboxIcon + '.' + classNames.icon);\n            this.removeHover();\n            if (!checkIcon.classList.contains(classNames.checked)) {\n                checkIcon.classList.add(classNames.checked);\n                li.classList.add(classNames.selected);\n                li.setAttribute('aria-selected', 'true');\n            }\n            else {\n                checkIcon.classList.remove(classNames.checked);\n                li.classList.remove(classNames.selected);\n                li.setAttribute('aria-selected', 'false');\n            }\n            checkboxElement.setAttribute('aria-checked', checkIcon.classList.contains(classNames.checked) ?\n                'true' : 'false');\n            if (e) {\n                var eventArgs = this.selectEventData(li, e);\n                merge(eventArgs, { isChecked: checkIcon.classList.contains(classNames.checked) });\n                if (this.enableVirtualization) {\n                    this.virtualizationModule.setCheckboxLI(li, e);\n                }\n                this.trigger('select', eventArgs);\n            }\n            this.setSelectedItemData(li);\n            this.renderSubList(li);\n        }\n    };\n    ListView.prototype.selectEventData = function (li, e) {\n        var data = this.getItemData(li);\n        var fieldData = getFieldValues(data, this.listBaseOption.fields);\n        var selectedItem;\n        if (!isNullOrUndefined(data)\n            && typeof this.dataSource[0] === 'string' || typeof this.dataSource[0] === 'number') {\n            selectedItem = { item: li, text: li && li.innerText.trim(), data: this.dataSource };\n        }\n        else {\n            selectedItem = { item: li, text: fieldData && fieldData[this.listBaseOption.fields.text], data: data };\n        }\n        var eventArgs = {};\n        merge(eventArgs, selectedItem);\n        if (e) {\n            merge(eventArgs, { isInteracted: true, event: e, index: Array.prototype.indexOf.call(this.curUL.children, li) });\n        }\n        return eventArgs;\n    };\n    ListView.prototype.setSelectedItemData = function (li) {\n        var data = this.getItemData(li);\n        var fieldData = getFieldValues(data, this.listBaseOption.fields);\n        if (!isNullOrUndefined(data) && ((typeof this.dataSource[0] === 'string') ||\n            (typeof this.dataSource[0] === 'number'))) {\n            this.selectedItems = {\n                item: li,\n                text: li && li.innerText.trim(),\n                data: this.dataSource\n            };\n        }\n        else {\n            this.selectedItems = {\n                item: li,\n                text: fieldData && fieldData[this.listBaseOption.fields.text],\n                data: data\n            };\n        }\n    };\n    ListView.prototype.setSelectLI = function (li, e) {\n        if (this.isValidLI(li) && !li.classList.contains(classNames.selected) && this.enable) {\n            if (!this.showCheckBox) {\n                this.removeSelect();\n            }\n            li.classList.add(classNames.selected);\n            li.setAttribute('aria-selected', 'true');\n            this.removeHover();\n            this.setSelectedItemData(li);\n            if (this.enableVirtualization) {\n                this.virtualizationModule.setSelectLI(li, e);\n            }\n            var eventArgs = this.selectEventData(li, e);\n            this.trigger('select', eventArgs);\n            this.selectedLI = li;\n            this.renderSubList(li);\n        }\n    };\n    ListView.prototype.setHoverLI = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(classNames.hover) && this.enable) {\n            var lastLi = this.element.querySelectorAll('.' + classNames.hover);\n            if (lastLi && lastLi.length) {\n                removeClass(lastLi, classNames.hover);\n            }\n            if (!li.classList.contains(classNames.selected) || this.showCheckBox) {\n                li.classList.add(classNames.hover);\n            }\n        }\n    };\n    ListView.prototype.hoverSiblingLI = function (prev) {\n        var lastLi = this.curUL.querySelector('.' + classNames.hover);\n        var siblingLI;\n        if (!lastLi) {\n            lastLi = this.curUL.querySelector('.' + classNames.selected);\n        }\n        if (lastLi) {\n            siblingLI = ListBase.getSiblingLI(this.curUL.querySelectorAll('.' + classNames.listItem), lastLi, prev);\n        }\n        else {\n            if (prev) {\n                var curLIs = this.curUL.querySelectorAll('.' + classNames.listItem);\n                siblingLI = curLIs[curLIs.length - 1];\n            }\n            else {\n                siblingLI = this.curUL.querySelector('.' + classNames.listItem);\n            }\n        }\n        this.setHoverLI(siblingLI);\n    };\n    //Data Source Related Functions\n    ListView.prototype.getSubDS = function () {\n        var levelKeys = this.curDSLevel;\n        if (levelKeys.length) {\n            var ds = this.localData;\n            for (var _i = 0, levelKeys_1 = levelKeys; _i < levelKeys_1.length; _i++) {\n                var key = levelKeys_1[_i];\n                var field = {};\n                field[this.fields.id] = key;\n                this.curDSJSON = this.findItemFromDS(ds, field);\n                var fieldData = getFieldValues(this.curDSJSON, this.listBaseOption.fields);\n                ds = this.curDSJSON ? fieldData[this.fields.child] : ds;\n            }\n            return ds;\n        }\n        return this.localData;\n    };\n    ListView.prototype.getItemData = function (li) {\n        var fields = this.getElementUID(li);\n        var curDS;\n        if (isNullOrUndefined(this.curUL.querySelector('.' + classNames.hasChild)) && this.fields.groupBy) {\n            curDS = this.curViewDS;\n        }\n        else {\n            curDS = this.dataSource;\n        }\n        return this.findItemFromDS(curDS, fields);\n    };\n    ListView.prototype.findItemFromDS = function (dataSource, fields, parent) {\n        var _this = this;\n        var resultJSON;\n        if (dataSource && dataSource.length && fields) {\n            dataSource.some(function (data) {\n                var fieldData = getFieldValues(data, _this.listBaseOption.fields);\n                //(!(fid) || id === fid) && (!(ftext) || text === ftext) && (!!fid || !!ftext)\n                if ((fields[_this.fields.id] || fields[_this.fields.text]) &&\n                    (!fields[_this.fields.id] || (!isNullOrUndefined(fieldData[_this.fields.id]) &&\n                        fieldData[_this.fields.id].toString()) === fields[_this.fields.id].toString()) &&\n                    (!fields[_this.fields.text] || fieldData[_this.fields.text] === fields[_this.fields.text])) {\n                    resultJSON = (parent ? dataSource : data);\n                }\n                else if (typeof data !== 'object' && dataSource.indexOf(data) !== -1) {\n                    resultJSON = (parent ? dataSource : data);\n                }\n                else if (!isNullOrUndefined(fields[_this.fields.id]) && isNullOrUndefined(fieldData[_this.fields.id])) {\n                    var li = _this.element.querySelector('[data-uid=\"'\n                        + fields[_this.fields.id] + '\"]');\n                    if (li && li.innerText.trim() === fieldData[_this.fields.text]) {\n                        resultJSON = data;\n                    }\n                }\n                else if (fieldData.hasOwnProperty(_this.fields.child) && fieldData[_this.fields.child].length) {\n                    resultJSON = _this.findItemFromDS(fieldData[_this.fields.child], fields, parent);\n                }\n                return !!resultJSON;\n            });\n        }\n        else {\n            resultJSON = dataSource;\n        }\n        return resultJSON;\n    };\n    ListView.prototype.getQuery = function () {\n        var columns = [];\n        var query = (this.query ? this.query : new Query());\n        if (!this.query) {\n            for (var _i = 0, _a = Object.keys(this.fields.properties); _i < _a.length; _i++) {\n                var column = _a[_i];\n                if (column !== 'tableName' && !!(this.fields[column]) &&\n                    this.fields[column] !==\n                        ListBase.defaultMappedFields[column]\n                    && columns.indexOf(this.fields[column]) === -1) {\n                    columns.push(this.fields[column]);\n                }\n            }\n            query.select(columns);\n            if (this.fields.properties.hasOwnProperty('tableName')) {\n                query.from(this.fields.tableName);\n            }\n        }\n        return query;\n    };\n    ListView.prototype.setViewDataSource = function (dataSource) {\n        if (dataSource === void 0) { dataSource = this.localData; }\n        if (dataSource && this.fields.groupBy) {\n            this.curViewDS = ListBase.groupDataSource(dataSource, this.listBaseOption.fields, this.sortOrder);\n        }\n        else if (dataSource && this.sortOrder !== 'None') {\n            this.curViewDS = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, this.fields.sortBy));\n        }\n        else {\n            this.curViewDS = dataSource;\n        }\n    };\n    ListView.prototype.isInAnimation = function () {\n        return this.curUL.classList.contains('.e-animate');\n    };\n    ListView.prototype.setLocalData = function () {\n        var _this = this;\n        this.trigger('actionBegin');\n        if (this.dataSource instanceof DataManager) {\n            this.dataSource.executeQuery(this.getQuery()).then(function (e) {\n                if (_this.isDestroyed) {\n                    return;\n                }\n                _this.localData = e.result;\n                _this.renderList();\n                _this.trigger('actionComplete', e);\n            }).catch(function (e) {\n                if (_this.isDestroyed) {\n                    return;\n                }\n                _this.trigger('actionFailure', e);\n            });\n        }\n        else if (!this.dataSource || !this.dataSource.length) {\n            var ul = this.element.querySelector('ul');\n            if (ul) {\n                remove(ul);\n                this.setProperties({ dataSource: ListBase.createJsonFromElement(ul) }, true);\n                this.localData = this.dataSource;\n                this.renderList();\n                this.trigger('actionComplete', { data: this.localData });\n            }\n        }\n        else {\n            this.localData = this.dataSource;\n            this.renderList();\n            this.trigger('actionComplete', { data: this.localData });\n        }\n    };\n    ListView.prototype.reRender = function () {\n        this.element.innerHTML = '';\n        this.headerEle = this.ulElement = this.liCollection = undefined;\n        this.setLocalData();\n        this.header();\n    };\n    ListView.prototype.resetCurrentList = function () {\n        this.setViewDataSource(this.curViewDS);\n        this.contentContainer.innerHTML = '';\n        this.createList();\n        this.renderIntoDom(this.curUL);\n    };\n    ListView.prototype.createList = function () {\n        this.currentLiElements = [];\n        this.isNestedList = false;\n        this.ulElement = this.curUL = ListBase.createList(this.createElement, this.curViewDS, this.listBaseOption);\n        this.liCollection = this.curUL.querySelectorAll('.' + classNames.listItem);\n    };\n    ListView.prototype.renderSubList = function (li) {\n        var uID = li.getAttribute('data-uid');\n        if (li.classList.contains(classNames.hasChild) && uID) {\n            var ul = closest(li.parentNode, '.' + classNames.parentItem);\n            var ele = this.element.querySelector('[pid=\\'' + uID + '\\']');\n            this.curDSLevel.push(uID);\n            this.setViewDataSource(this.getSubDS());\n            if (!ele) {\n                var data = this.curViewDS;\n                ele = ListBase.createListFromJson(this.createElement, data, this.listBaseOption, this.curDSLevel.length);\n                ele.setAttribute('pID', uID);\n                ele.style.display = 'none';\n                this.renderIntoDom(ele);\n            }\n            this.switchView(ul, ele);\n            this.liCollection = this.curUL.querySelectorAll('.' + classNames.listItem);\n            if (this.selectedItems) {\n                var fieldData = getFieldValues(this.selectedItems.data, this.listBaseOption.fields);\n                this.header((fieldData[this.listBaseOption.fields.text]), true);\n            }\n            this.selectedLI = undefined;\n        }\n    };\n    ListView.prototype.renderIntoDom = function (ele) {\n        this.contentContainer.appendChild(ele);\n    };\n    ListView.prototype.renderList = function (data) {\n        this.setViewDataSource(data);\n        if (this.enableVirtualization && Object.keys(this.dataSource).length) {\n            if (this.template || this.groupTemplate) {\n                this.listBaseOption.template = null;\n                this.listBaseOption.groupTemplate = null;\n                this.listBaseOption.itemCreated = this.virtualizationModule.createUIItem.bind(this.virtualizationModule);\n            }\n            this.virtualizationModule.uiVirtualization();\n        }\n        else {\n            this.createList();\n            this.contentContainer = this.createElement('div', { className: classNames.content });\n            this.element.appendChild(this.contentContainer);\n            this.renderIntoDom(this.ulElement);\n        }\n    };\n    ListView.prototype.getElementUID = function (obj) {\n        var fields = {};\n        if (obj instanceof Element) {\n            fields[this.fields.id] = obj.getAttribute('data-uid');\n        }\n        else {\n            fields = obj;\n        }\n        return fields;\n    };\n    /**\n     * It is used to Initialize the control rendering.\n     */\n    ListView.prototype.render = function () {\n        this.element.classList.add(classNames.root);\n        attributes(this.element, { role: 'list', tabindex: '0' });\n        this.setCSSClass();\n        this.setEnableRTL();\n        this.setEnable();\n        this.setSize();\n        this.wireEvents();\n        this.header();\n        this.setLocalData();\n        this.setHTMLAttribute();\n        this.rippleFn = rippleEffect(this.element, {\n            selector: '.' + classNames.listItem\n        });\n    };\n    /**\n     * It is used to destroy the ListView component.\n     */\n    ListView.prototype.destroy = function () {\n        this.unWireEvents();\n        var classAr = [classNames.root, this.cssClass, classNames.disable, 'e-rtl',\n            'e-has-header', 'e-control'];\n        removeClass([this.element], classAr);\n        this.rippleFn();\n        this.element.removeAttribute('role');\n        this.element.removeAttribute('tabindex');\n        this.element.innerHTML = '';\n        this.curUL = this.ulElement = this.liCollection = this.headerEle = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * It helps to switch back from navigated sub list.\n     */\n    ListView.prototype.back = function () {\n        var pID = this.curDSLevel[this.curDSLevel.length - 1];\n        if (pID === undefined || this.isInAnimation()) {\n            return;\n        }\n        this.curDSLevel.pop();\n        this.setViewDataSource(this.getSubDS());\n        var toUL = this.element.querySelector('[data-uid=\\'' + pID + '\\']');\n        var fromUL = this.curUL;\n        if (!toUL) {\n            this.createList();\n            this.renderIntoDom(this.ulElement);\n            toUL = this.curUL;\n        }\n        else {\n            toUL = toUL.parentElement;\n        }\n        var fieldData = getFieldValues(this.curDSJSON, this.listBaseOption.fields);\n        var text = fieldData[this.fields.text];\n        this.switchView(fromUL, toUL, true);\n        this.removeFocus();\n        var li = this.element.querySelector('[data-uid=\\'' + pID + '\\']');\n        li.classList.add(classNames.focused);\n        if (this.showCheckBox && li.querySelector('.' + classNames.checkboxIcon).classList.contains(classNames.checked)) {\n            li.setAttribute('aria-selected', 'true');\n        }\n        else {\n            li.classList.remove(classNames.selected);\n            li.setAttribute('aria-selected', 'false');\n        }\n        this.liCollection = this.curUL.querySelectorAll('.' + classNames.listItem);\n        this.header((this.curDSLevel.length ? text : this.headerTitle), (this.curDSLevel.length ? true : false));\n    };\n    /**\n     * It is used to select the list item from the ListView.\n     * @param  {Fields|HTMLElement} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.selectItem = function (obj) {\n        if (!isNullOrUndefined(obj)) {\n            if (this.enableVirtualization) {\n                this.virtualizationModule.selectItem(obj);\n            }\n            else if (this.showCheckBox) {\n                this.setCheckboxLI(this.getLiFromObjOrElement(obj));\n            }\n            else {\n                this.setSelectLI(this.getLiFromObjOrElement(obj));\n            }\n        }\n    };\n    ListView.prototype.getLiFromObjOrElement = function (obj) {\n        var li;\n        if (!isNullOrUndefined(obj)) {\n            if (typeof this.dataSource[0] === 'string' || typeof this.dataSource[0] === 'number') {\n                if (obj instanceof Element) {\n                    var uid = obj.getAttribute('data-uid').toString();\n                    for (var i = 0; i < this.liCollection.length; i++) {\n                        if (this.liCollection[i].getAttribute('data-uid').toString() === uid) {\n                            li = this.liCollection[i];\n                            break;\n                        }\n                    }\n                }\n                else {\n                    Array.prototype.some.call(this.curUL.querySelectorAll('.' + classNames.listItem), function (item) {\n                        if (item.innerText.trim() === obj.toString()) {\n                            li = item;\n                            return true;\n                        }\n                        else {\n                            return false;\n                        }\n                    });\n                }\n            }\n            else {\n                var resultJSON = this.getItemData(obj);\n                var fieldData = getFieldValues(resultJSON, this.listBaseOption.fields);\n                if (resultJSON) {\n                    li = this.element.querySelector('[data-uid=\"'\n                        + fieldData[this.fields.id] + '\"]');\n                    if (isNullOrUndefined(li)) {\n                        var curLi = this.element.querySelectorAll('.' + classNames.listItem);\n                        for (var i = 0; i < curLi.length; i++) {\n                            if (curLi[i].innerText.trim() === resultJSON.text) {\n                                li = curLi[i];\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return li;\n    };\n    /**\n     * It is used to select multiple list item from the ListView.\n     * @param  {Fields[] | HTMLElement[]} obj - We can pass array of elements or array of field Object with ID and Text fields.\n     */\n    ListView.prototype.selectMultipleItems = function (obj) {\n        if (!isNullOrUndefined(obj)) {\n            for (var i = 0; i < obj.length; i++) {\n                if (!isNullOrUndefined(obj[i])) {\n                    this.selectItem(obj[i]);\n                }\n            }\n        }\n    };\n    ListView.prototype.getParentId = function () {\n        var parentId = [];\n        if (this.isNestedList) {\n            for (var i = this.curDSLevel.length - 1; i >= 0; i--) {\n                parentId.push(this.curDSLevel[i]);\n            }\n        }\n        return parentId;\n    };\n    /**\n     * It is used to get the currently [here](http://ej2.syncfusion.com/documentation/list-view/api-selectedItem.html?lang=typescript)\n     *  item details from the list items.\n     */\n    ListView.prototype.getSelectedItems = function () {\n        this.selectedId = [];\n        if (this.enableVirtualization) {\n            return this.virtualizationModule.getSelectedItems();\n        }\n        else if (this.showCheckBox) {\n            var liCollection = this.curUL.getElementsByClassName(classNames.selected);\n            var liTextCollection = [];\n            var liDataCollection = [];\n            this.selectedId = [];\n            var dataParent = [];\n            for (var i = 0; i < liCollection.length; i++) {\n                if (typeof this.dataSource[0] === 'string' || typeof this.dataSource[0] === 'number') {\n                    liTextCollection.push(liCollection[i].innerText.trim());\n                }\n                else {\n                    var tempData = this.getItemData(liCollection[i]);\n                    var fieldData = getFieldValues(tempData, this.listBaseOption.fields);\n                    if (this.isNestedList) {\n                        dataParent.push({ data: tempData, parentId: this.getParentId() });\n                    }\n                    else {\n                        liDataCollection.push(tempData);\n                    }\n                    if (fieldData) {\n                        liTextCollection.push(fieldData[this.listBaseOption.fields.text]);\n                        this.selectedId.push(fieldData[this.listBaseOption.fields.id]);\n                    }\n                    else {\n                        liTextCollection.push(undefined);\n                        this.selectedId.push(undefined);\n                    }\n                }\n            }\n            if (typeof this.dataSource[0] === 'string' || typeof this.dataSource[0] === 'number') {\n                return { item: liCollection, data: this.dataSource, text: liTextCollection };\n            }\n            if (this.isNestedList) {\n                return { item: liCollection, data: dataParent, text: liTextCollection };\n            }\n            else {\n                return { item: liCollection, data: liDataCollection, text: liTextCollection };\n            }\n        }\n        else {\n            var liElement = this.element.getElementsByClassName(classNames.selected)[0];\n            var fieldData = getFieldValues(this.getItemData(liElement), this.listBaseOption.fields);\n            if (typeof this.dataSource[0] === 'string' || typeof this.dataSource[0] === 'number') {\n                return (!isNullOrUndefined(liElement)) ? {\n                    item: liElement, data: this.dataSource,\n                    text: liElement.innerText.trim()\n                } : undefined;\n            }\n            else {\n                if (isNullOrUndefined(fieldData) || isNullOrUndefined(liElement)) {\n                    return undefined;\n                }\n                else {\n                    this.selectedId.push(fieldData[this.listBaseOption.fields.id]);\n                    return {\n                        text: fieldData[this.listBaseOption.fields.text], item: liElement,\n                        data: this.getItemData(liElement)\n                    };\n                }\n            }\n        }\n    };\n    /**\n     * It is used to find out an item details from the current list.\n     * @param  {Fields|HTMLElement} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.findItem = function (obj) {\n        return this.getItemData(obj);\n    };\n    /**\n     * A function that used to enable the disabled list items based on passed element.\n     * @param  {Fields|HTMLElement} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.enableItem = function (obj) {\n        this.setItemState(obj, true);\n        if (this.enableVirtualization) {\n            this.virtualizationModule.enableItem(obj);\n        }\n    };\n    /**\n     * It is used to disable the list items based on passed element.\n     * @param  {Fields|HTMLElement} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.disableItem = function (obj) {\n        this.setItemState(obj, false);\n        if (this.enableVirtualization) {\n            this.virtualizationModule.disableItem(obj);\n        }\n    };\n    //A function that used to set state of the list item like enable, disable.\n    ListView.prototype.setItemState = function (obj, isEnable) {\n        var resultJSON = this.getItemData(obj);\n        var fieldData = getFieldValues(resultJSON, this.listBaseOption.fields);\n        if (resultJSON) {\n            var li = this.element.querySelector('[data-uid=\"' + fieldData[this.fields.id] + '\"]');\n            if (isEnable) {\n                if (li) {\n                    li.classList.remove(classNames.disable);\n                }\n                delete resultJSON[this.fields.enabled];\n            }\n            else if (!isEnable) {\n                if (li) {\n                    li.classList.add(classNames.disable);\n                }\n                resultJSON[this.fields.enabled] = false;\n            }\n        }\n    };\n    /**\n     * It is used to show an list item from the ListView.\n     * @param  {Fields|HTMLElement} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.showItem = function (obj) {\n        this.showHideItem(obj, false, '');\n        if (this.enableVirtualization) {\n            this.virtualizationModule.showItem(obj);\n        }\n    };\n    /**\n     * It is used to hide an item from the ListView.\n     * @param  {Fields|HTMLElement} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.hideItem = function (obj) {\n        this.showHideItem(obj, true, 'none');\n        if (this.enableVirtualization) {\n            this.virtualizationModule.hideItem(obj);\n        }\n    };\n    ListView.prototype.showHideItem = function (obj, isHide, display) {\n        var resultJSON = this.getItemData(obj);\n        var fieldData = getFieldValues(resultJSON, this.listBaseOption.fields);\n        if (resultJSON) {\n            var li = this.element.querySelector('[data-uid=\"' + fieldData[this.fields.id] + '\"]');\n            if (li) {\n                li.style.display = display;\n            }\n            if (isHide) {\n                resultJSON[this.fields.isVisible] = false;\n            }\n            else {\n                delete resultJSON[this.fields.isVisible];\n            }\n        }\n    };\n    /**\n     * It adds new item to current ListView.\n     * To add a new item in the list view, we need to pass data as array or object and fields as object.\n     * For example fields: { text: 'Name', tooltip: 'Name', id:'id'}\n     * @param  {{[key:string]:Object}[]} data - Array JSON Data that need to add.\n     * @param  {Fields} fields - Fields as an Object with ID and Text fields.\n     */\n    ListView.prototype.addItem = function (data, fields) {\n        var _this = this;\n        if (fields === void 0) { fields = undefined; }\n        if (data instanceof Array) {\n            if (this.enableVirtualization) {\n                this.virtualizationModule.addItem(data, fields);\n            }\n            else {\n                var ds = this.findItemFromDS(this.dataSource, fields);\n                var fieldData = getFieldValues(ds, this.listBaseOption.fields);\n                var child = fieldData[this.fields.child];\n                if (!child) {\n                    child = [];\n                }\n                child = child.concat(data);\n                if (ds instanceof Array) {\n                    data.forEach(function (dataSource) {\n                        _this.dataSource.push(dataSource);\n                        _this.setViewDataSource(_this.dataSource);\n                        if (_this.ulElement) {\n                            var index = _this.curViewDS.indexOf(dataSource);\n                            _this.addListItem(dataSource, index);\n                            var curViewDS = _this.curViewDS[index - 1];\n                            if (curViewDS && curViewDS.isHeader && curViewDS.items.length === 1) {\n                                _this.addListItem(curViewDS, (index - 1));\n                            }\n                        }\n                        else {\n                            _this.reRender();\n                        }\n                    });\n                    this.liCollection = this.curUL.querySelectorAll('.' + classNames.listItem);\n                }\n                else {\n                    ds[this.fields.child] = child;\n                    this.reRender();\n                }\n            }\n        }\n    };\n    ListView.prototype.addListItem = function (dataSource, index) {\n        var target = this.getLiFromObjOrElement(this.curViewDS[index + 1]) ||\n            this.getLiFromObjOrElement(this.curViewDS[index + 2]) || null;\n        var li = ListBase.createListItemFromJson(this.createElement, [dataSource], this.listBaseOption);\n        this.ulElement.insertBefore(li[0], target);\n    };\n    /**\n     * A function that removes the item from data source based on passed element like fields: { text: 'Name', tooltip: 'Name', id:'id'}\n     * @param  {Fields|HTMLElement} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.removeItem = function (obj) {\n        if (this.enableVirtualization) {\n            this.virtualizationModule.removeItem(obj);\n        }\n        else {\n            this.removeItemFromList(obj);\n        }\n    };\n    ListView.prototype.removeItemFromList = function (obj) {\n        var fields = obj instanceof Element ? this.getElementUID(obj) : obj;\n        var dataSource;\n        dataSource = this.findItemFromDS(this.dataSource, fields, true);\n        if (dataSource) {\n            var data = void 0;\n            data = this.findItemFromDS(dataSource, fields);\n            var index = this.curViewDS.indexOf(data);\n            if (this.fields.groupBy && this.curViewDS[index - 1] &&\n                this.curViewDS[index - 1].isHeader &&\n                (this.curViewDS[index - 1])\n                    .items.length === 1) {\n                detach(this.getLiFromObjOrElement(this.curViewDS[index - 1]));\n            }\n            if (this.getLiFromObjOrElement(obj)) {\n                detach(this.getLiFromObjOrElement(obj));\n            }\n            var dsIndex = dataSource.indexOf(data);\n            dataSource.splice(dsIndex, 1);\n            this.setViewDataSource(this.dataSource);\n            this.liCollection = Array.prototype.slice.call(this.element.querySelectorAll('.' + classNames.listItem));\n        }\n    };\n    /**\n     * A function that removes multiple item from list view based on given input.\n     * @param  {Fields[] | HTMLElement[]} obj - We can pass array of elements or array of field Object with ID and Text fields.\n     */\n    ListView.prototype.removeMultipleItems = function (obj) {\n        if (obj.length) {\n            for (var i = 0; i < obj.length; i++) {\n                if (this.enableVirtualization) {\n                    this.removeItem(obj[i]);\n                }\n                else {\n                    this.removeItemFromList(obj[i]);\n                }\n            }\n        }\n    };\n    // Module Required function\n    ListView.prototype.getModuleName = function () {\n        return 'listview';\n    };\n    ListView.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableVirtualization) {\n            modules.push({ args: [this], member: 'virtualization' });\n        }\n        return modules;\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     */\n    ListView.prototype.getPersistData = function () {\n        return this.addOnPersist(['cssClass', 'enableRtl', 'htmlAttributes',\n            'enable', 'fields', 'animation', 'headerTitle',\n            'sortOrder', 'showIcon', 'height', 'width', 'showCheckBox', 'checkBoxPosition']);\n    };\n    __decorate([\n        Property()\n    ], ListView.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], ListView.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property({})\n    ], ListView.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(true)\n    ], ListView.prototype, \"enable\", void 0);\n    __decorate([\n        Property([])\n    ], ListView.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], ListView.prototype, \"query\", void 0);\n    __decorate([\n        Complex(ListBase.defaultMappedFields, FieldSettings)\n    ], ListView.prototype, \"fields\", void 0);\n    __decorate([\n        Property({ effect: 'SlideLeft', duration: 400, easing: 'ease' })\n    ], ListView.prototype, \"animation\", void 0);\n    __decorate([\n        Property('None')\n    ], ListView.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(false)\n    ], ListView.prototype, \"showIcon\", void 0);\n    __decorate([\n        Property(false)\n    ], ListView.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Property('Left')\n    ], ListView.prototype, \"checkBoxPosition\", void 0);\n    __decorate([\n        Property('')\n    ], ListView.prototype, \"headerTitle\", void 0);\n    __decorate([\n        Property(false)\n    ], ListView.prototype, \"showHeader\", void 0);\n    __decorate([\n        Property('')\n    ], ListView.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], ListView.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], ListView.prototype, \"template\", void 0);\n    __decorate([\n        Property(null)\n    ], ListView.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ListView.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Event()\n    ], ListView.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], ListView.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], ListView.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], ListView.prototype, \"actionFailure\", void 0);\n    ListView = __decorate([\n        NotifyPropertyChanges\n    ], ListView);\n    return ListView;\n}(Component));\nexport { ListView };\n","import { createElement, attributes, addClass, removeClass, detach, classList, closest, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar CLASSNAMES = {\n    RTL: 'e-rtl',\n    DISABLE: 'e-disabled',\n    INPUT: 'e-input',\n    INPUTGROUP: 'e-input-group',\n    FLOATINPUT: 'e-float-input',\n    FLOATLINE: 'e-float-line',\n    FLOATTEXT: 'e-float-text',\n    CLEARICON: 'e-clear-icon',\n    CLEARICONHIDE: 'e-clear-icon-hide',\n    LABELTOP: 'e-label-top',\n    LABELBOTTOM: 'e-label-bottom',\n    NOFLOATLABEL: 'e-no-float-label',\n    INPUTCUSTOMTAG: 'e-input-custom-tag',\n    FLOATCUSTOMTAG: 'e-float-custom-tag'\n};\n/**\n * Base for Input creation through util methods.\n */\nexport var Input;\n(function (Input) {\n    var privateInputObj = {\n        container: null,\n        buttons: [],\n        clearButton: null\n    };\n    /**\n     * Create a wrapper to input element with multiple span elements and set the basic properties to input based components.\n     * ```\n     * E.g : Input.createInput({ element: element, floatLabelType : \"Auto\", properties: { placeholder: 'Search' } });\n     * ```\n     * @param args\n     */\n    function createInput(args, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var inputObject = { container: null, buttons: [], clearButton: null };\n        if (isNullOrUndefined(args.floatLabelType) || args.floatLabelType === 'Never') {\n            inputObject.container = createInputContainer(args, CLASSNAMES.INPUTGROUP, CLASSNAMES.INPUTCUSTOMTAG, 'span', makeElement);\n            args.element.parentNode.insertBefore(inputObject.container, args.element);\n            addClass([args.element], CLASSNAMES.INPUT);\n            inputObject.container.appendChild(args.element);\n        }\n        else {\n            createFloatingInput(args, inputObject, makeElement);\n        }\n        args.element.addEventListener('focus', function () {\n            var parent = getParentNode(this);\n            if (parent.classList.contains('e-input-group')) {\n                parent.classList.add('e-input-focus');\n            }\n        });\n        args.element.addEventListener('blur', function () {\n            var parent = getParentNode(this);\n            if (parent.classList.contains('e-input-group')) {\n                parent.classList.remove('e-input-focus');\n            }\n        });\n        if (!isNullOrUndefined(args.properties) && !isNullOrUndefined(args.properties.showClearButton) && args.properties.showClearButton) {\n            setClearButton(args.properties.showClearButton, args.element, inputObject, true, makeElement);\n            if (inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                addClass([inputObject.container], CLASSNAMES.INPUTGROUP);\n            }\n        }\n        if (!isNullOrUndefined(args.buttons)) {\n            for (var i = 0; i < args.buttons.length; i++) {\n                inputObject.buttons.push(appendSpan(args.buttons[i], inputObject.container, makeElement));\n            }\n        }\n        inputObject = setPropertyValue(args, inputObject);\n        privateInputObj = inputObject;\n        return inputObject;\n    }\n    Input.createInput = createInput;\n    function _focusFn() {\n        var label = getParentNode(this).getElementsByClassName('e-float-text')[0];\n        addClass([label], CLASSNAMES.LABELTOP);\n        if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n            removeClass([label], CLASSNAMES.LABELBOTTOM);\n        }\n    }\n    function _blurFn() {\n        var parent = getParentNode(this);\n        if (parent.getElementsByTagName('input')[0].value === '') {\n            var label = parent.getElementsByClassName('e-float-text')[0];\n            if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                removeClass([label], CLASSNAMES.LABELTOP);\n            }\n            addClass([label], CLASSNAMES.LABELBOTTOM);\n        }\n    }\n    function wireFloatingEvents(element) {\n        element.addEventListener('focus', _focusFn);\n        element.addEventListener('blur', _blurFn);\n    }\n    function unwireFloatingEvents(element) {\n        element.removeEventListener('focus', _focusFn);\n        element.removeEventListener('blur', _blurFn);\n    }\n    function createFloatingInput(args, inputObject, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var inputElement;\n        var floatLinelement;\n        var floatLabelElement;\n        if (args.floatLabelType === 'Auto') {\n            wireFloatingEvents(args.element);\n        }\n        if (isNullOrUndefined(inputObject.container)) {\n            inputObject.container = createInputContainer(args, CLASSNAMES.FLOATINPUT, CLASSNAMES.FLOATCUSTOMTAG, 'div', makeElement);\n            args.element.parentNode.insertBefore(inputObject.container, args.element);\n        }\n        else {\n            if (!isNullOrUndefined(args.customTag)) {\n                inputObject.container.classList.add(CLASSNAMES.FLOATCUSTOMTAG);\n            }\n            inputObject.container.classList.add(CLASSNAMES.FLOATINPUT);\n        }\n        floatLinelement = makeElement('span', { className: CLASSNAMES.FLOATLINE });\n        floatLabelElement = makeElement('label', { className: CLASSNAMES.FLOATTEXT });\n        if (!isNullOrUndefined(args.element.id) && args.element.id !== '') {\n            floatLabelElement.id = 'label_' + args.element.id.replace(/ /g, '_');\n            attributes(args.element, { 'aria-labelledby': floatLabelElement.id });\n        }\n        if (!isNullOrUndefined(args.element.placeholder) && args.element.placeholder !== '') {\n            floatLabelElement.innerHTML = args.element.placeholder;\n            args.element.removeAttribute('placeholder');\n        }\n        if (!isNullOrUndefined(args.properties) && !isNullOrUndefined(args.properties.placeholder) &&\n            args.properties.placeholder !== '') {\n            floatLabelElement.innerHTML = args.properties.placeholder;\n        }\n        if (!floatLabelElement.innerHTML) {\n            inputObject.container.classList.add(CLASSNAMES.NOFLOATLABEL);\n        }\n        inputObject.container.appendChild(args.element);\n        inputObject.container.appendChild(floatLinelement);\n        inputObject.container.appendChild(floatLabelElement);\n        updateLabelState(args.element.value, floatLabelElement);\n        if (args.floatLabelType === 'Always') {\n            if (floatLabelElement.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([floatLabelElement], CLASSNAMES.LABELBOTTOM);\n            }\n            addClass([floatLabelElement], CLASSNAMES.LABELTOP);\n        }\n        if (args.floatLabelType === 'Auto') {\n            args.element.addEventListener('input', function (event) {\n                updateLabelState(args.element.value, floatLabelElement);\n            });\n            args.element.addEventListener('blur', function (event) {\n                updateLabelState(args.element.value, floatLabelElement);\n            });\n        }\n    }\n    function setPropertyValue(args, inputObject) {\n        if (!isNullOrUndefined(args.properties)) {\n            for (var _i = 0, _a = Object.keys(args.properties); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'cssClass':\n                        setCssClass(args.properties.cssClass, [inputObject.container]);\n                        break;\n                    case 'enabled':\n                        setEnabled(args.properties.enabled, args.element);\n                        break;\n                    case 'enableRtl':\n                        setEnableRtl(args.properties.enableRtl, [inputObject.container]);\n                        break;\n                    case 'placeholder':\n                        setPlaceholder(args.properties.placeholder, args.element);\n                        break;\n                    case 'readonly':\n                        setReadonly(args.properties.readonly, args.element);\n                        break;\n                }\n            }\n        }\n        return inputObject;\n    }\n    function updateIconState(value, button) {\n        if (value) {\n            removeClass([button], CLASSNAMES.CLEARICONHIDE);\n        }\n        else {\n            addClass([button], CLASSNAMES.CLEARICONHIDE);\n        }\n    }\n    function updateLabelState(value, label) {\n        if (value) {\n            addClass([label], CLASSNAMES.LABELTOP);\n            if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n        else {\n            if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                removeClass([label], CLASSNAMES.LABELTOP);\n            }\n            addClass([label], CLASSNAMES.LABELBOTTOM);\n        }\n    }\n    function getParentNode(element) {\n        var parentNode = element.parentNode;\n        return parentNode;\n    }\n    /**\n     * To create clear button.\n     */\n    function createClearButton(element, inputObject, initial, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = makeElement('span', { className: CLASSNAMES.CLEARICON });\n        var container = inputObject.container;\n        if (!isNullOrUndefined(initial)) {\n            container.appendChild(button);\n        }\n        else {\n            var baseElement = inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT) ?\n                inputObject.container.querySelector('.' + CLASSNAMES.FLOATTEXT) : element;\n            baseElement.insertAdjacentElement('afterend', button);\n        }\n        if (!isNullOrUndefined(container) &&\n            container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            addClass([container], CLASSNAMES.INPUTGROUP);\n        }\n        addClass([button], CLASSNAMES.CLEARICONHIDE);\n        wireClearBtnEvents(element, button, container);\n        return button;\n    }\n    function wireClearBtnEvents(element, button, container) {\n        button.addEventListener('click', function (event) {\n            if (!(element.classList.contains(CLASSNAMES.DISABLE) || element.readOnly)) {\n                event.preventDefault();\n                if (element !== document.activeElement) {\n                    element.focus();\n                }\n                element.value = '';\n                addClass([button], CLASSNAMES.CLEARICONHIDE);\n            }\n        });\n        element.addEventListener('input', function (event) {\n            updateIconState(element.value, button);\n        });\n        element.addEventListener('focus', function (event) {\n            updateIconState(element.value, button);\n        });\n        element.addEventListener('blur', function (event) {\n            setTimeout(function () { addClass([button], CLASSNAMES.CLEARICONHIDE); }, 200);\n        });\n    }\n    function validateLabel(element, floatLabelType) {\n        var parent = getParentNode(element);\n        if (parent.classList.contains(CLASSNAMES.FLOATINPUT) && floatLabelType === 'Auto') {\n            var label = getParentNode(element).getElementsByClassName('e-float-text')[0];\n            updateLabelState(element.value, label);\n        }\n    }\n    /**\n     * To create input box contianer.\n     */\n    function createInputContainer(args, className, tagClass, tag, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var container;\n        if (!isNullOrUndefined(args.customTag)) {\n            container = makeElement(args.customTag, { className: className });\n            container.classList.add(tagClass);\n        }\n        else {\n            container = makeElement(tag, { className: className });\n        }\n        container.classList.add('e-control-wrapper');\n        return container;\n    }\n    /**\n     * Sets the value to the input element.\n     * ```\n     * E.g : Input.setValue('content', element, \"Auto\", true );\n     * ```\n     * @param value - Specify the value of the input element.\n     * @param element - The element on which the specified value is updated.\n     * @param floatLabelType - Specify the float label type of the input element.\n     * @param clearButton - Boolean value to specify whether the clear icon is enabled / disabled on the input.\n     */\n    function setValue(value, element, floatLabelType, clearButton) {\n        element.value = value;\n        if ((!isNullOrUndefined(floatLabelType)) && floatLabelType === 'Auto') {\n            validateLabel(element, floatLabelType);\n        }\n        if (!isNullOrUndefined(clearButton) && clearButton) {\n            var parentElement = getParentNode(element);\n            var button = parentElement.getElementsByClassName(CLASSNAMES.CLEARICON)[0];\n            if (element.value && parentElement.classList.contains('e-input-focus')) {\n                removeClass([button], CLASSNAMES.CLEARICONHIDE);\n            }\n            else {\n                addClass([button], CLASSNAMES.CLEARICONHIDE);\n            }\n        }\n    }\n    Input.setValue = setValue;\n    /**\n     * Sets the single or multiple cssClass to wrapper of input element.\n     * ```\n     * E.g : Input.setCssClass('e-custom-class', [element]);\n     * ```\n     * @param cssClass - Css class names which are needed to add.\n     * @param elements - The elements which are needed to add / remove classes.\n     * @param oldClass - Css class names which are needed to remove. If old classes are need to remove, can give this optional parameter.\n     */\n    function setCssClass(cssClass, elements, oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass);\n        }\n        if (!isNullOrUndefined(cssClass) && cssClass !== '') {\n            addClass(elements, cssClass);\n        }\n    }\n    Input.setCssClass = setCssClass;\n    /**\n     * Set the placeholder attribute to the input element.\n     * ```\n     * E.g : Input.setPlaceholder('Search here', element);\n     * ```\n     * @param placeholder - Placeholder value which is need to add.\n     * @param element - The element on which the placeholder is need to add.\n     */\n    function setPlaceholder(placeholder, element) {\n        var parentElement;\n        parentElement = getParentNode(element);\n        if (parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = placeholder;\n                parentElement.classList.remove(CLASSNAMES.NOFLOATLABEL);\n            }\n            else {\n                parentElement.classList.add(CLASSNAMES.NOFLOATLABEL);\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n        }\n        else {\n            if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n                attributes(element, { 'placeholder': placeholder, 'aria-placeholder': placeholder });\n            }\n            else {\n                element.removeAttribute('placeholder');\n                element.removeAttribute('aria-placeholder');\n            }\n        }\n    }\n    Input.setPlaceholder = setPlaceholder;\n    /**\n     * Set the read only attribute to the input element\n     * ```\n     * E.g : Input.setReadonly(true, element);\n     * ```\n     * @param isReadonly\n     * - Boolean value to specify whether to set read only. Setting \"True\" value enables read only.\n     * @param element\n     * - The element which is need to enable read only.\n     */\n    function setReadonly(isReadonly, element, floatLabelType) {\n        if (isReadonly) {\n            attributes(element, { readonly: '' });\n        }\n        else {\n            element.removeAttribute('readonly');\n        }\n        if (!isNullOrUndefined(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setReadonly = setReadonly;\n    /**\n     * Displays the element direction from right to left when its enabled.\n     * ```\n     * E.g : Input.setEnableRtl(true, [inputObj.container]);\n     * ```\n     * @param isRtl\n     * - Boolean value to specify whether to set RTL. Setting \"True\" value enables the RTL mode.\n     * @param elements\n     * - The elements that are needed to enable/disable RTL.\n     */\n    function setEnableRtl(isRtl, elements) {\n        if (isRtl) {\n            addClass(elements, CLASSNAMES.RTL);\n        }\n        else {\n            removeClass(elements, CLASSNAMES.RTL);\n        }\n    }\n    Input.setEnableRtl = setEnableRtl;\n    /**\n     * Enables or disables the given input element.\n     * ```\n     * E.g : Input.setEnabled(false, element);\n     * ```\n     * @param isEnable\n     * - Boolean value to specify whether to enable or disable.\n     * @param element\n     * - Element to be enabled or disabled.\n     */\n    function setEnabled(isEnable, element, floatLabelType) {\n        var disabledAttrs = { 'disabled': 'disabled', 'aria-disabled': 'true' };\n        if (isEnable) {\n            element.classList.remove(CLASSNAMES.DISABLE);\n            removeAttributes(disabledAttrs, element);\n        }\n        else {\n            element.classList.add(CLASSNAMES.DISABLE);\n            addAttributes(disabledAttrs, element);\n        }\n        if (!isNullOrUndefined(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setEnabled = setEnabled;\n    function setClearButton(isClear, element, inputObject, initial, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        if (isClear) {\n            inputObject.clearButton = createClearButton(element, inputObject, initial, makeElement);\n        }\n        else {\n            inputObject.clearButton.remove();\n            inputObject.clearButton = null;\n        }\n    }\n    Input.setClearButton = setClearButton;\n    /**\n     * Removing the multiple attributes from the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.removeAttributes({ 'disabled': 'disabled', 'aria-disabled': 'true' }, element);\n     * ```\n     * @param attrs\n     *  - Array of attributes which are need to removed from the element.\n     * @param element\n     *  - Element on which the attributes are needed to be removed.\n     */\n    function removeAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = void 0;\n            parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n            else {\n                element.removeAttribute(key);\n            }\n        }\n    }\n    Input.removeAttributes = removeAttributes;\n    /**\n     * Adding the multiple attributes to the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.addAttributes({ 'id': 'inputpopup' }, element);\n     * ```\n     * @param attrs\n     * - Array of attributes which is added to element.\n     * @param element\n     * - Element on which the attributes are needed to be added.\n     */\n    function addAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = void 0;\n            parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = attrs[key];\n            }\n            else {\n                element.setAttribute(key, attrs[key]);\n            }\n        }\n    }\n    Input.addAttributes = addAttributes;\n    function removeFloating(input) {\n        var container = input.container;\n        if (!isNullOrUndefined(container) && container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            var inputEle = container.querySelector('input');\n            var placeholder = container.querySelector('.' + CLASSNAMES.FLOATTEXT).textContent;\n            var clearButton = container.querySelector('.e-clear-icon') !== null;\n            detach(container.querySelector('.' + CLASSNAMES.FLOATLINE));\n            detach(container.querySelector('.' + CLASSNAMES.FLOATTEXT));\n            classList(container, [CLASSNAMES.INPUTGROUP], [CLASSNAMES.FLOATINPUT]);\n            unwireFloatingEvents(inputEle);\n            attributes(inputEle, { 'placeholder': placeholder });\n            inputEle.classList.add(CLASSNAMES.INPUT);\n            if (!clearButton) {\n                inputEle.removeAttribute('required');\n            }\n        }\n    }\n    Input.removeFloating = removeFloating;\n    function addFloating(input, type, placeholder, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var container = closest(input, '.' + CLASSNAMES.INPUTGROUP);\n        if (type !== 'Never') {\n            var customTag = container.tagName;\n            customTag = customTag !== 'DIV' && customTag !== 'SPAN' ? customTag : null;\n            var args = { element: input, floatLabelType: type, customTag: customTag, properties: { placeholder: placeholder } };\n            var iconEle = container.querySelector('.e-clear-icon');\n            var inputObj = { container: container };\n            input.classList.remove(CLASSNAMES.INPUT);\n            createFloatingInput(args, inputObj, makeElement);\n            if (isNullOrUndefined(iconEle)) {\n                iconEle = container.querySelector('.e-input-group-icon');\n            }\n            if (isNullOrUndefined(iconEle)) {\n                container.classList.remove(CLASSNAMES.INPUTGROUP);\n            }\n            else {\n                var floatLine = container.querySelector('.' + CLASSNAMES.FLOATLINE);\n                var floatText = container.querySelector('.' + CLASSNAMES.FLOATTEXT);\n                container.insertBefore(input, iconEle);\n                container.insertBefore(floatLine, iconEle);\n                container.insertBefore(floatText, iconEle);\n            }\n        }\n    }\n    Input.addFloating = addFloating;\n    /**\n     * Enable or Disable the ripple effect on the icons inside the Input. Ripple effect is only applicable for material theme.\n     * ```\n     * E.g : Input.setRipple(true, [inputObjects]);\n     * ```\n     * @param isRipple\n     * - Boolean value to specify whether to enable the ripple effect.\n     * @param inputObject\n     * - Specify the collection of input objects.\n     */\n    function setRipple(isRipple, inputObj) {\n        for (var i = 0; i < inputObj.length; i++) {\n            _internalRipple(isRipple, inputObj[i].container);\n        }\n    }\n    Input.setRipple = setRipple;\n    function _internalRipple(isRipple, container, button) {\n        var argsButton = [];\n        argsButton.push(button);\n        var buttons = isNullOrUndefined(button) ?\n            container.querySelectorAll('.e-input-group-icon') : argsButton;\n        if (isRipple && buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[index].addEventListener('mousedown', _onMouseDownRipple, false);\n                buttons[index].addEventListener('mouseup', _onMouseUpRipple, false);\n            }\n        }\n        else if (buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[index].removeEventListener('mousedown', _onMouseDownRipple, this);\n                buttons[index].removeEventListener('mouseup', _onMouseUpRipple, this);\n            }\n        }\n    }\n    function _onMouseRipple(container, button) {\n        if (!container.classList.contains('e-disabled') && !container.querySelector('input').readOnly) {\n            button.classList.add('e-input-btn-ripple');\n        }\n    }\n    function _onMouseDownRipple() {\n        var ele = this;\n        var parentEle = this.parentElement;\n        while (!parentEle.classList.contains('e-input-group')) {\n            parentEle = parentEle.parentElement;\n        }\n        _onMouseRipple(parentEle, ele);\n    }\n    function _onMouseUpRipple() {\n        var ele = this;\n        setTimeout(function () { ele.classList.remove('e-input-btn-ripple'); }, 500);\n    }\n    /**\n     * Creates a new span element with the given icons added and append it in container element.\n     * ```\n     * E.g : Input.appendSpan('e-icon-spin', inputObj.container);\n     * ```\n     * @param iconClass - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param container - The container on which created span element is going to append.\n     */\n    function appendSpan(iconClass, container, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = makeElement('span', { className: iconClass });\n        button.classList.add('e-input-group-icon');\n        container.appendChild(button);\n        if (!container.classList.contains(CLASSNAMES.INPUTGROUP)) {\n            container.classList.add(CLASSNAMES.INPUTGROUP);\n        }\n        _internalRipple(true, container, button);\n        return button;\n    }\n    Input.appendSpan = appendSpan;\n})(Input || (Input = {}));\n","import { classNames } from './list-view';\nimport { EventHandler, append, isNullOrUndefined, detach } from '@syncfusion/ej2-base';\nimport { ListBase } from '../common/list-base';\nvar Virtualization = /** @class */ (function () {\n    function Virtualization(instance) {\n        this.listViewInstance = instance;\n    }\n    Virtualization.prototype.uiVirtualization = function () {\n        var curViewDS = this.listViewInstance.curViewDS;\n        var firstDs = curViewDS.slice(0, 1);\n        this.listViewInstance.ulElement = this.listViewInstance.curUL = ListBase.createList(this.listViewInstance.createElement, firstDs, this.listViewInstance.listBaseOption);\n        this.listViewInstance.contentContainer = this.listViewInstance.createElement('div', { className: classNames.content });\n        this.listViewInstance.element.appendChild(this.listViewInstance.contentContainer);\n        this.listViewInstance.contentContainer.appendChild(this.listViewInstance.ulElement);\n        this.listItemHeight = this.listViewInstance.ulElement.firstElementChild.getBoundingClientRect().height;\n        this.expectedDomItemCount = this.ValidateItemCount(10000);\n        this.domItemCount = this.ValidateItemCount(Object.keys(this.listViewInstance.curViewDS).length);\n        this.uiFirstIndex = 0;\n        this.uiLastIndex = this.domItemCount - 1;\n        this.wireScrollEvent(false);\n        var otherDs = curViewDS.slice(1, this.domItemCount);\n        var listItems = ListBase.createListItemFromJson(this.listViewInstance.createElement, otherDs, this.listViewInstance.listBaseOption);\n        append(listItems, this.listViewInstance.ulElement);\n        this.listViewInstance.liCollection = this.listViewInstance.curUL.querySelectorAll('li');\n        this.topElement = this.listViewInstance.createElement('div');\n        this.listViewInstance.ulElement.insertBefore(this.topElement, this.listViewInstance.ulElement.firstElementChild);\n        this.bottomElement = this.listViewInstance.createElement('div');\n        this.listViewInstance.ulElement.insertBefore(this.bottomElement, null);\n        this.totalHeight = (Object.keys(curViewDS).length * this.listItemHeight) - (this.domItemCount * this.listItemHeight);\n        this.topElement.style.height = 0 + 'px';\n        this.bottomElement.style.height = this.totalHeight + 'px';\n        this.topElementHeight = 0;\n        this.bottomElementHeight = this.totalHeight;\n        this.listDiff = 0;\n        this.uiIndicesInitialization();\n    };\n    Virtualization.prototype.wireScrollEvent = function (destroy) {\n        if (!destroy) {\n            if (this.listViewInstance.isWindow) {\n                this.onVirtualScroll = this.onVirtualUiScroll.bind(this);\n                window.addEventListener('scroll', this.onVirtualScroll);\n            }\n            else {\n                EventHandler.add(this.listViewInstance.element, 'scroll', this.onVirtualUiScroll, this);\n            }\n        }\n        else {\n            this.listViewInstance.isWindow ? window.removeEventListener('scroll', this.onVirtualScroll) :\n                EventHandler.remove(this.listViewInstance.element, 'scroll', this.onVirtualUiScroll);\n        }\n    };\n    Virtualization.prototype.ValidateItemCount = function (dataSourceLength) {\n        var itemCount = this.listViewInstance.isWindow ? Math.round((window.innerHeight / this.listItemHeight) * 3) :\n            Math.round((this.listViewInstance.height / this.listItemHeight) * 1.5);\n        if (itemCount > dataSourceLength) {\n            itemCount = dataSourceLength;\n        }\n        return itemCount;\n    };\n    Virtualization.prototype.uiIndicesInitialization = function () {\n        var _this = this;\n        this.uiIndices = { 'activeIndices': [], 'disabledItemIndices': [], 'hiddenItemIndices': [] };\n        this.listViewInstance.curViewDS.forEach(function (ds, index) {\n            if (_this.listViewInstance.showCheckBox && ds[_this.listViewInstance.fields.isChecked]) {\n                _this.uiIndices.activeIndices.push(index);\n            }\n            if (!isNullOrUndefined(ds[_this.listViewInstance.fields.enabled]) && !ds[_this.listViewInstance.fields.enabled]) {\n                _this.uiIndices.disabledItemIndices.push(index);\n            }\n        });\n    };\n    Virtualization.prototype.getscrollerHeight = function () {\n        return this.listViewInstance.isWindow ? (((pageYOffset - this.startingHeight) <= 0) ? 0 :\n            (pageYOffset - this.startingHeight)) : ((this.listViewInstance.element.scrollTop - this.startingHeight) <= 0) ? 0 :\n            (this.listViewInstance.element.scrollTop - this.startingHeight);\n    };\n    Virtualization.prototype.onVirtualUiScroll = function () {\n        if (isNullOrUndefined(this.startingHeight)) {\n            if (this.listViewInstance.isWindow) {\n                this.startingHeight = document.documentElement.getBoundingClientRect().height -\n                    this.listViewInstance.ulElement.getBoundingClientRect().height;\n            }\n            else {\n                this.startingHeight = this.listViewInstance.headerEle ? this.listViewInstance.headerEle.getBoundingClientRect().height : 0;\n            }\n            this.scrollPosition = 0;\n        }\n        var scroll = this.getscrollerHeight();\n        this.topElementHeight = this.listItemHeight * Math.floor(scroll / this.listItemHeight);\n        this.bottomElementHeight = this.totalHeight - this.topElementHeight;\n        _a = scroll <= this.totalHeight ?\n            [this.topElementHeight, this.bottomElementHeight] : [this.totalHeight, 0], this.topElementHeight = _a[0], this.bottomElementHeight = _a[1];\n        if (this.topElementHeight !== parseFloat(this.topElement.style.height)) {\n            this.topElement.style.height = this.topElementHeight + 'px';\n            this.bottomElement.style.height = this.bottomElementHeight + 'px';\n            if (scroll > this.scrollPosition) {\n                var listDiff = ((this.topElementHeight / this.listItemHeight) - this.listDiff);\n                if (listDiff > (this.expectedDomItemCount + 5)) {\n                    this.onLongScroll(listDiff, true);\n                }\n                else {\n                    this.onNormalScroll(listDiff, true);\n                }\n            }\n            else {\n                var listDiff = (this.listDiff - (this.topElementHeight / this.listItemHeight));\n                if (listDiff > (this.expectedDomItemCount + 5)) {\n                    this.onLongScroll(listDiff, false);\n                }\n                else {\n                    this.onNormalScroll(listDiff, false);\n                }\n            }\n            this.listDiff = this.topElementHeight / this.listItemHeight;\n            if (typeof this.listViewInstance.onUIScrolled === 'function') {\n                this.listViewInstance.onUIScrolled();\n            }\n        }\n        this.scrollPosition = scroll;\n        var _a;\n    };\n    Virtualization.prototype.onLongScroll = function (listDiff, isScrollingDown) {\n        var _this = this;\n        var index = isScrollingDown ? (this.uiFirstIndex + listDiff) : (this.uiFirstIndex - listDiff);\n        Array.prototype.forEach.call(this.listViewInstance.ulElement.querySelectorAll('li'), function (element) {\n            _this.updateUI(element, index);\n            index++;\n        });\n        this.uiLastIndex = isScrollingDown ? (this.uiLastIndex + listDiff) : (this.uiLastIndex - listDiff);\n        this.uiFirstIndex = isScrollingDown ? (this.uiFirstIndex + listDiff) : (this.uiFirstIndex - listDiff);\n    };\n    Virtualization.prototype.onNormalScroll = function (listDiff, isScrollingDown) {\n        if (isScrollingDown) {\n            for (var i = 0; i < listDiff; i++) {\n                var index = ++this.uiLastIndex;\n                this.updateUI(this.topElement.nextElementSibling, index, this.bottomElement);\n                this.uiFirstIndex++;\n            }\n        }\n        else {\n            for (var i = 0; i < listDiff; i++) {\n                var index = --this.uiFirstIndex;\n                var target = this.topElement.nextSibling;\n                this.updateUI(this.bottomElement.previousElementSibling, index, target);\n                this.uiLastIndex--;\n            }\n        }\n    };\n    Virtualization.prototype.updateUiContent = function (element, index) {\n        var curViewDs = this.listViewInstance.curViewDS;\n        if (typeof this.listViewInstance.dataSource[0] === 'string' ||\n            typeof this.listViewInstance.dataSource[0] === 'number') {\n            element.dataset.uid = ListBase.generateId();\n            element.getElementsByClassName(classNames.listItemText)[0].innerHTML =\n                this.listViewInstance.curViewDS[index].toString();\n        }\n        else {\n            element.dataset.uid = curViewDs[index][this.listViewInstance.fields.id] ?\n                curViewDs[index][this.listViewInstance.fields.id].toString() : ListBase.generateId();\n            element.getElementsByClassName(classNames.listItemText)[0].innerHTML =\n                curViewDs[index][this.listViewInstance.fields.text].toString();\n        }\n        if (this.listViewInstance.showIcon) {\n            if (element.querySelector('.' + classNames.listIcon)) {\n                detach(element.querySelector('.' + classNames.listIcon));\n            }\n            if (this.listViewInstance.curViewDS[index][this.listViewInstance.fields.iconCss]) {\n                var textContent = element.querySelector('.' + classNames.textContent);\n                var target = this.listViewInstance.createElement('div', {\n                    className: classNames.listIcon + ' ' +\n                        this.listViewInstance.curViewDS[index][this.listViewInstance.fields.iconCss]\n                });\n                textContent.insertBefore(target, element.querySelector('.' + classNames.listItemText));\n            }\n        }\n        if (this.listViewInstance.showCheckBox && this.listViewInstance.fields.groupBy) {\n            if (!this.checkListWrapper) {\n                this.checkListWrapper = this.listViewInstance.curUL.querySelector('.' + classNames.checkboxWrapper).cloneNode(true);\n            }\n            var textContent = element.querySelector('.' + classNames.textContent);\n            if (this.listViewInstance.curViewDS[index].isHeader) {\n                if (element.querySelector('.' + classNames.checkboxWrapper)) {\n                    element.classList.remove(classNames.checklist);\n                    textContent.classList.remove(classNames.checkbox);\n                    detach(element.querySelector('.' + classNames.checkboxWrapper));\n                }\n            }\n            else {\n                if (!element.querySelector('.' + classNames.checkboxWrapper)) {\n                    element.classList.add(classNames.checklist);\n                    textContent.classList.add(classNames.checkbox);\n                    textContent.insertBefore(this.checkListWrapper.cloneNode(true), element.querySelector('.' + classNames.listItemText));\n                }\n            }\n        }\n    };\n    Virtualization.prototype.changeElementAttributes = function (element, index) {\n        element.classList.remove(classNames.disable);\n        if (this.uiIndices.disabledItemIndices.length && this.uiIndices.disabledItemIndices.indexOf(index) !== -1) {\n            element.classList.add(classNames.disable);\n        }\n        element.style.display = '';\n        if (this.uiIndices.hiddenItemIndices.length && this.uiIndices.hiddenItemIndices.indexOf(index) !== -1) {\n            element.style.display = 'none';\n        }\n        if (this.listViewInstance.showCheckBox) {\n            var checklistElement = element.querySelector('.' + classNames.checkboxWrapper);\n            element.classList.remove(classNames.selected);\n            element.classList.remove(classNames.focused);\n            if (checklistElement) {\n                checklistElement.removeAttribute('aria-checked');\n                checklistElement.firstElementChild.classList.remove(classNames.checked);\n            }\n            if (this.uiIndices.activeIndices.length && this.uiIndices.activeIndices.indexOf(index) !== -1 &&\n                !this.listViewInstance.curUL.querySelector(classNames.selected)) {\n                element.classList.add(classNames.selected);\n                checklistElement.firstElementChild.classList.add(classNames.checked);\n                checklistElement.setAttribute('aria-checked', 'true');\n                if (this.activeIndex === index) {\n                    element.classList.add(classNames.focused);\n                }\n            }\n        }\n        else {\n            element.classList.remove(classNames.selected);\n            element.removeAttribute('aria-selected');\n            if (!isNullOrUndefined(this.activeIndex) && this.activeIndex === index &&\n                !this.listViewInstance.curUL.querySelector(classNames.selected)) {\n                element.classList.add(classNames.selected);\n                element.setAttribute('aria-selected', 'true');\n            }\n        }\n        if (this.listViewInstance.fields.groupBy) {\n            if (this.listViewInstance.curViewDS[index].isHeader) {\n                if (element.classList.contains(classNames.listItem)) {\n                    element.classList.remove(classNames.listItem);\n                    element.setAttribute('role', 'group');\n                    element.classList.add(classNames.groupListItem);\n                }\n            }\n            else {\n                if (element.classList.contains(classNames.groupListItem)) {\n                    element.classList.remove(classNames.groupListItem);\n                    element.setAttribute('role', 'listitem');\n                    element.classList.add(classNames.listItem);\n                }\n            }\n        }\n    };\n    Virtualization.prototype.findDSAndIndexFromId = function (ds, fields) {\n        var _this = this;\n        var resultJSON = {};\n        ds.some(function (data, index) {\n            if ((fields[_this.listViewInstance.fields.id] &&\n                fields[_this.listViewInstance.fields.id].toString()\n                    === (data[_this.listViewInstance.fields.id] && data[_this.listViewInstance.fields.id].toString())) || fields === data) {\n                resultJSON.index = index;\n                resultJSON.data = data;\n                return true;\n            }\n            else {\n                return false;\n            }\n        });\n        return resultJSON;\n    };\n    Virtualization.prototype.getSelectedItems = function () {\n        var _this = this;\n        if (!isNullOrUndefined(this.activeIndex) || (this.listViewInstance.showCheckBox && this.uiIndices.activeIndices.length)) {\n            var dataCollection_1 = [];\n            var textCollection_1 = [];\n            if (typeof this.listViewInstance.dataSource[0] === 'string' ||\n                typeof this.listViewInstance.dataSource[0] === 'number') {\n                var curViewDS_1 = this.listViewInstance.curViewDS;\n                if (this.listViewInstance.showCheckBox) {\n                    this.uiIndices.activeIndices.forEach(function (index) {\n                        dataCollection_1.push(curViewDS_1[index]);\n                    });\n                    return {\n                        text: dataCollection_1,\n                        data: dataCollection_1,\n                        index: this.uiIndices.activeIndices.map(function (index) {\n                            return _this.listViewInstance.dataSource.indexOf(curViewDS_1[index]);\n                        })\n                    };\n                }\n                else {\n                    return {\n                        text: curViewDS_1[this.activeIndex],\n                        data: curViewDS_1[this.activeIndex],\n                        index: this.listViewInstance.dataSource.indexOf(curViewDS_1[this.activeIndex])\n                    };\n                }\n            }\n            else {\n                var curViewDS_2 = this.listViewInstance.curViewDS;\n                var text_1 = this.listViewInstance.fields.text;\n                if (this.listViewInstance.showCheckBox) {\n                    this.uiIndices.activeIndices.forEach(function (index) {\n                        textCollection_1.push(curViewDS_2[index][text_1]);\n                        dataCollection_1.push(curViewDS_2[index]);\n                    });\n                    return {\n                        text: textCollection_1,\n                        data: dataCollection_1,\n                        index: this.uiIndices.activeIndices.map(function (index) {\n                            return (_this.listViewInstance.dataSource).indexOf(curViewDS_2[index]);\n                        })\n                    };\n                }\n                else {\n                    return {\n                        text: curViewDS_2[this.activeIndex][this.listViewInstance.fields.text],\n                        data: curViewDS_2[this.activeIndex],\n                        index: this.listViewInstance.dataSource.indexOf(curViewDS_2[this.activeIndex])\n                    };\n                }\n            }\n        }\n        else {\n            return undefined;\n        }\n    };\n    Virtualization.prototype.selectItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length) {\n            this.activeIndex = resutJSON.index;\n            if (this.listViewInstance.showCheckBox && this.uiIndices.activeIndices.indexOf(resutJSON.index) === -1) {\n                this.uiIndices.activeIndices.push(resutJSON.index);\n            }\n            this.listViewInstance.removeSelect();\n            if (this.listViewInstance.showCheckBox && this.listViewInstance.curUL.querySelector('.' + classNames.focused)) {\n                this.listViewInstance.curUL.querySelector('.' + classNames.focused).classList.remove(classNames.focused);\n            }\n            if (this.listViewInstance.getLiFromObjOrElement(obj)) {\n                if (this.listViewInstance.showCheckBox) {\n                    this.listViewInstance.setCheckboxLI(this.listViewInstance.getLiFromObjOrElement(obj));\n                }\n                else {\n                    this.listViewInstance.setSelectLI(this.listViewInstance.getLiFromObjOrElement(obj));\n                }\n            }\n            else {\n                var eventArgs = void 0;\n                if (typeof this.listViewInstance.dataSource[0] === 'string' ||\n                    typeof this.listViewInstance.dataSource[0] === 'number') {\n                    eventArgs = {\n                        text: this.listViewInstance.curViewDS[this.activeIndex],\n                        data: this.listViewInstance.curViewDS[this.activeIndex],\n                        index: this.activeIndex\n                    };\n                }\n                else {\n                    var curViewDS = this.listViewInstance.curViewDS;\n                    eventArgs = {\n                        text: curViewDS[this.activeIndex][this.listViewInstance.fields.text],\n                        data: curViewDS[this.activeIndex],\n                        index: this.uiIndices.activeIndices\n                    };\n                }\n                this.listViewInstance.trigger('select', eventArgs);\n            }\n        }\n    };\n    Virtualization.prototype.enableItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length) {\n            this.uiIndices.disabledItemIndices.splice(this.uiIndices.disabledItemIndices.indexOf(resutJSON.index), 1);\n        }\n    };\n    Virtualization.prototype.disableItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length && this.uiIndices.disabledItemIndices.indexOf(resutJSON.index) === -1) {\n            this.uiIndices.disabledItemIndices.push(resutJSON.index);\n        }\n    };\n    Virtualization.prototype.showItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length) {\n            this.uiIndices.hiddenItemIndices.splice(this.uiIndices.hiddenItemIndices.indexOf(resutJSON.index), 1);\n        }\n    };\n    Virtualization.prototype.hideItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length && this.uiIndices.hiddenItemIndices.indexOf(resutJSON.index) === -1) {\n            this.uiIndices.hiddenItemIndices.push(resutJSON.index);\n        }\n    };\n    Virtualization.prototype.removeItem = function (obj) {\n        var dataSource;\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length) {\n            dataSource = resutJSON.data;\n            if (this.listViewInstance.curViewDS[resutJSON.index - 1] &&\n                this.listViewInstance.curViewDS[resutJSON.index - 1].isHeader &&\n                (this.listViewInstance.curViewDS[resutJSON.index - 1])\n                    .items.length === 1) {\n                this.removeUiItem(resutJSON.index - 1);\n                this.removeUiItem(resutJSON.index - 1);\n            }\n            else {\n                this.removeUiItem(resutJSON.index);\n            }\n        }\n        var index = this.listViewInstance.dataSource.indexOf(dataSource);\n        if (index !== -1) {\n            this.listViewInstance.dataSource.splice(index, 1);\n            this.listViewInstance.setViewDataSource(this.listViewInstance.dataSource);\n        }\n    };\n    Virtualization.prototype.setCheckboxLI = function (li, e) {\n        var index = Array.prototype.indexOf.call(this.listViewInstance.curUL.querySelectorAll('li'), li) + this.uiFirstIndex;\n        this.activeIndex = Array.prototype.indexOf.call(this.listViewInstance.curUL.querySelectorAll('li'), li) + this.uiFirstIndex;\n        if (li.classList.contains(classNames.selected)) {\n            if (this.uiIndices.activeIndices.indexOf(index) === -1) {\n                this.uiIndices.activeIndices.push(index);\n            }\n        }\n        else {\n            this.uiIndices.activeIndices.splice(this.uiIndices.activeIndices.indexOf(index), 1);\n        }\n    };\n    Virtualization.prototype.setSelectLI = function (li, e) {\n        this.activeIndex = Array.prototype.indexOf.call(this.listViewInstance.curUL.querySelectorAll('li'), li) + this.uiFirstIndex;\n    };\n    Virtualization.prototype.checkedItem = function (checked) {\n        var _this = this;\n        if (checked) {\n            this.uiIndices.activeIndices = [];\n            this.activeIndex = undefined;\n            this.listViewInstance.curViewDS.forEach(function (ds, index) {\n                if (!ds.isHeader) {\n                    _this.uiIndices.activeIndices.push(index);\n                }\n            });\n        }\n        else {\n            this.activeIndex = undefined;\n            this.uiIndices.activeIndices = [];\n        }\n    };\n    Virtualization.prototype.addUiItem = function (index) {\n        var curViewDs = this.listViewInstance.curViewDS;\n        this.changeUiIndices(index, true);\n        if (this.activeIndex && this.activeIndex >= index) {\n            this.activeIndex++;\n        }\n        if (this.listViewInstance.showCheckBox &&\n            curViewDs[index][this.listViewInstance.fields.isChecked]) {\n            this.uiIndices.activeIndices.push(index);\n        }\n        if (!parseFloat(this.bottomElement.style.height) && !parseFloat(this.topElement.style.height)) {\n            this.bottomElement.style.height = parseFloat(this.bottomElement.style.height) + this.listItemHeight + 'px';\n        }\n        if (parseFloat(this.bottomElement.style.height)) {\n            var liItem = this.listViewInstance.curUL.lastElementChild.previousSibling;\n            var target = this.listViewInstance.getLiFromObjOrElement(curViewDs[index + 1]) ||\n                this.listViewInstance.getLiFromObjOrElement(curViewDs[index + 2]);\n            if (target) {\n                this.bottomElement.style.height = parseFloat(this.bottomElement.style.height) + this.listItemHeight + 'px';\n                this.updateUI(liItem, index, target);\n            }\n        }\n        else {\n            var liItem = this.listViewInstance.curUL.firstElementChild.nextSibling;\n            var target = void 0;\n            if ((Object.keys(this.listViewInstance.curViewDS).length - 1) === index) {\n                target = this.listViewInstance.curUL.lastElementChild;\n            }\n            else {\n                target = this.listViewInstance.getLiFromObjOrElement(curViewDs[index + 1]) ||\n                    this.listViewInstance.getLiFromObjOrElement(curViewDs[index + 2]);\n            }\n            this.topElement.style.height = parseFloat(this.topElement.style.height) + this.listItemHeight + 'px';\n            this.uiFirstIndex++;\n            this.uiLastIndex++;\n            if (target) {\n                this.updateUI(liItem, index, target);\n                this.listViewInstance.isWindow ? window.scrollTo(0, (pageYOffset + this.listItemHeight)) :\n                    this.listViewInstance.element.scrollTop += this.listItemHeight;\n            }\n        }\n        this.totalHeight += this.listItemHeight;\n        this.listDiff = parseFloat(this.topElement.style.height) / this.listItemHeight;\n    };\n    Virtualization.prototype.removeUiItem = function (index) {\n        this.totalHeight -= this.listItemHeight;\n        var curViewDS = this.listViewInstance.curViewDS[index];\n        var liItem = this.listViewInstance.getLiFromObjOrElement(curViewDS);\n        this.listViewInstance.curViewDS.splice(index, 1);\n        if (this.activeIndex && this.activeIndex >= index) {\n            this.activeIndex--;\n        }\n        if (liItem) {\n            if (this.domItemCount > Object.keys(this.listViewInstance.curViewDS).length) {\n                detach(liItem);\n                this.domItemCount--;\n                this.uiLastIndex--;\n                this.totalHeight = 0;\n            }\n            else {\n                if (liItem.classList.contains(classNames.disable)) {\n                    liItem.classList.remove(classNames.disable);\n                    this.uiIndices.disabledItemIndices.splice(this.uiIndices.disabledItemIndices.indexOf(index), 1);\n                }\n                if (liItem.style.display === 'none') {\n                    liItem.style.display = '';\n                    this.uiIndices.hiddenItemIndices.splice(this.uiIndices.hiddenItemIndices.indexOf(index), 1);\n                }\n                if (this.listViewInstance.showCheckBox && liItem.classList.contains(classNames.selected)) {\n                    this.listViewInstance.removeSelect();\n                    this.uiIndices.activeIndices.splice(this.uiIndices.activeIndices.indexOf(index), 1);\n                    var checklistElement = liItem.querySelector('.' + classNames.checkboxWrapper);\n                    checklistElement.removeAttribute('aria-checked');\n                    checklistElement.firstElementChild.classList.remove(classNames.checked);\n                    if (liItem.classList.contains(classNames.focused)) {\n                        liItem.classList.remove(classNames.focused);\n                        this.activeIndex = undefined;\n                    }\n                }\n                else if (liItem.classList.contains(classNames.selected)) {\n                    this.listViewInstance.removeSelect();\n                    this.activeIndex = undefined;\n                }\n                if (!parseFloat(this.bottomElement.style.height) && !parseFloat(this.topElement.style.height)) {\n                    this.updateUI(liItem, this.uiLastIndex, this.bottomElement);\n                }\n                else if (parseFloat(this.bottomElement.style.height)) {\n                    this.bottomElement.style.height = parseFloat(this.bottomElement.style.height) - this.listItemHeight + 'px';\n                    this.updateUI(liItem, this.uiLastIndex, this.bottomElement);\n                }\n                else {\n                    this.topElement.style.height = parseFloat(this.topElement.style.height) - this.listItemHeight + 'px';\n                    this.updateUI(liItem, (this.uiFirstIndex - 1), this.topElement.nextSibling);\n                    this.uiLastIndex--;\n                    this.uiFirstIndex--;\n                }\n            }\n        }\n        this.changeUiIndices(index, false);\n        this.listDiff = parseFloat(this.topElement.style.height) / this.listItemHeight;\n    };\n    Virtualization.prototype.changeUiIndices = function (index, increment) {\n        var _this = this;\n        Object.keys(this.uiIndices).forEach(function (key) {\n            _this.uiIndices[key] = _this.uiIndices[key].map(function (i) {\n                if (i >= index) {\n                    return increment ? ++i : --i;\n                }\n                else {\n                    return i;\n                }\n            });\n        });\n    };\n    Virtualization.prototype.addItem = function (data, fields) {\n        var _this = this;\n        data.forEach(function (dataSource) {\n            _this.listViewInstance.dataSource.push(dataSource);\n            _this.listViewInstance.setViewDataSource(_this.listViewInstance.dataSource);\n            if (!_this.domItemCount) {\n                _this.uiVirtualization();\n            }\n            else if (_this.domItemCount < _this.expectedDomItemCount) {\n                _this.wireScrollEvent(true);\n                detach(_this.listViewInstance.contentContainer);\n                _this.uiVirtualization();\n            }\n            else {\n                var index = _this.listViewInstance.curViewDS.indexOf(dataSource);\n                _this.addUiItem(index);\n                var curViewDS = _this.listViewInstance.curViewDS[index - 1];\n                if (curViewDS && curViewDS.isHeader && curViewDS.items.length === 1) {\n                    _this.addUiItem(index - 1);\n                }\n            }\n        });\n    };\n    Virtualization.prototype.createUIItem = function (args) {\n        var template = this.listViewInstance.createElement('div');\n        var commonTemplate = '<div class=\"e-text-content\" role=\"presentation\"> ' +\n            '<span class=\"e-list-text\"> ${' + this.listViewInstance.fields.text + '} </span></div>';\n        template.innerHTML = this.listViewInstance.template || commonTemplate;\n        var templateElements = template.getElementsByTagName('*');\n        var groupTemplate = this.listViewInstance.createElement('div');\n        if (this.listViewInstance.fields.groupBy) {\n            groupTemplate.innerHTML = this.listViewInstance.groupTemplate || commonTemplate;\n        }\n        var groupTemplateElements = groupTemplate.getElementsByTagName('*');\n        if (args.curData.isHeader) {\n            this.headerData = args.curData;\n        }\n        this.templateData = args.curData.isHeader ? args.curData.items[0] :\n            args.curData;\n        args.item.innerHTML = '';\n        args.item.context = { data: args.curData, nodes: { flatTemplateNodes: [], groupTemplateNodes: [] } };\n        for (var i = 0; i < templateElements.length; i++) {\n            this.compileTemplate(templateElements[i], args.item, false);\n        }\n        for (var i = 0; i < groupTemplateElements.length; i++) {\n            this.compileTemplate(groupTemplateElements[i], args.item, true);\n        }\n        args.item.context.template = args.curData.isHeader ? template.firstElementChild :\n            groupTemplate.firstElementChild;\n        args.item.context.type = args.curData.isHeader ? 'flatList' : 'groupList';\n        var element = args.curData.isHeader ? groupTemplate : template;\n        args.item.insertBefore(element.firstElementChild, null);\n    };\n    Virtualization.prototype.compileTemplate = function (element, item, isHeader) {\n        this.textProperty(element, item, isHeader);\n        this.classProperty(element, item, isHeader);\n        this.attributeProperty(element, item, isHeader);\n    };\n    Virtualization.prototype.onChange = function (newData, listElement) {\n        listElement.context.data = newData;\n        var groupTemplateNodes = listElement.context.nodes.groupTemplateNodes;\n        var flatTemplateNodes = listElement.context.nodes.flatTemplateNodes;\n        if (!isNullOrUndefined(newData.isHeader) && newData.isHeader && listElement.context.type === 'groupList') {\n            var element = listElement.firstElementChild;\n            detach(listElement.firstElementChild);\n            listElement.insertBefore(listElement.context.template, null);\n            listElement.context.template = element;\n            listElement.context.type = 'flatList';\n            groupTemplateNodes.forEach(function (node) { return node.onChange(newData); });\n        }\n        else if (!newData.isHeader && listElement.context.type === 'flatList') {\n            var element = listElement.firstElementChild;\n            detach(listElement.firstElementChild);\n            listElement.insertBefore(listElement.context.template, null);\n            listElement.context.template = element;\n            listElement.context.type = 'groupList';\n            flatTemplateNodes.forEach(function (node) { return node.onChange(newData); });\n        }\n        else if (!newData.isHeader) {\n            flatTemplateNodes.forEach(function (node) { return node.onChange(newData); });\n        }\n        else {\n            groupTemplateNodes.forEach(function (node) { return node.onChange(newData); });\n        }\n    };\n    Virtualization.prototype.updateContextData = function (listElement, node, isHeader) {\n        if (isHeader) {\n            listElement.context.nodes.groupTemplateNodes.push(node);\n        }\n        else {\n            listElement.context.nodes.flatTemplateNodes.push(node);\n        }\n    };\n    Virtualization.prototype.classProperty = function (element, listElement, isHeader) {\n        var _this = this;\n        var regex = new RegExp('\\\\${([^}]*)}', 'g');\n        var resultantOutput = [];\n        var regexMatch;\n        while (regexMatch !== null) {\n            var match = regex.exec(element.className);\n            resultantOutput.push(match);\n            regexMatch = match;\n            if (regexMatch === null) {\n                resultantOutput.pop();\n            }\n        }\n        if (resultantOutput && resultantOutput.length) {\n            resultantOutput.forEach(function (classNameMatch) {\n                var classFunction;\n                if (classNameMatch[1].indexOf('?') !== -1 && classNameMatch[1].indexOf(':') !== -1) {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    classFunction = new Function('data', 'return ' + classNameMatch[1].replace(/\\$/g, 'data.'));\n                }\n                else {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    classFunction = new Function('data', 'return ' + 'data.' + classNameMatch[1]);\n                }\n                var subNode = {};\n                if (isHeader) {\n                    subNode.bindedvalue = classFunction(_this.headerData);\n                }\n                else {\n                    subNode.bindedvalue = classFunction(_this.templateData);\n                }\n                subNode.onChange = function (value) {\n                    element.classList.remove(subNode.bindedvalue);\n                    element.classList.add(classFunction(value));\n                    subNode.bindedvalue = classFunction(value);\n                };\n                classNameMatch[0].split(' ').forEach(function (className) {\n                    element.classList.remove(className);\n                });\n                element.classList.add(subNode.bindedvalue);\n                _this.updateContextData(listElement, subNode, isHeader);\n            });\n        }\n    };\n    Virtualization.prototype.attributeProperty = function (element, listElement, isHeader) {\n        var _this = this;\n        var attributeNames = [];\n        for (var i = 0; i < element.attributes.length; i++) {\n            attributeNames.push(element.attributes[i].nodeName);\n        }\n        if (attributeNames.indexOf('class') !== -1) {\n            attributeNames.splice(attributeNames.indexOf('class'), 1);\n        }\n        attributeNames.forEach(function (attributeName) {\n            var attrNameMatch = new RegExp('\\\\${([^}]*)}', 'g').exec(attributeName) || [];\n            var attrValueMatch = new RegExp('\\\\${([^}]*)}', 'g').exec(element.getAttribute(attributeName))\n                || [];\n            var attributeNameFunction;\n            var attributeValueFunction;\n            if (attrNameMatch.length || attrValueMatch.length) {\n                if (attrNameMatch[1]) {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    attributeNameFunction = new Function('data', 'return ' + 'data.' + attrNameMatch[1]);\n                }\n                if (attrValueMatch[1]) {\n                    if (attrValueMatch[1].indexOf('?') !== -1 && attrValueMatch[1].indexOf(':') !== -1) {\n                        // tslint:disable-next-line:no-function-constructor-with-string-args\n                        attributeValueFunction = new Function('data', 'return ' + attrValueMatch[1].replace(/\\$/g, 'data.'));\n                    }\n                    else {\n                        // tslint:disable-next-line:no-function-constructor-with-string-args\n                        attributeValueFunction = new Function('data', 'return ' + 'data.' + attrValueMatch[1]);\n                    }\n                }\n                var subNode_1 = {};\n                if (isHeader) {\n                    subNode_1.bindedvalue = [attrNameMatch[1] === undefined ? undefined : attributeNameFunction(_this.headerData),\n                        attrValueMatch[1] === undefined ? undefined : attributeValueFunction(_this.headerData)];\n                }\n                else {\n                    subNode_1.bindedvalue = [attrNameMatch[1] === undefined ? undefined : attributeNameFunction(_this.templateData),\n                        attrValueMatch[1] === undefined ? undefined : attributeValueFunction(_this.templateData)];\n                }\n                subNode_1.attrName = subNode_1.bindedvalue[0] === undefined ?\n                    attributeName : subNode_1.bindedvalue[0];\n                subNode_1.onChange = function (value) {\n                    var bindedvalue = subNode_1.bindedvalue[1] === undefined ?\n                        element.getAttribute(subNode_1.attrName) : attributeValueFunction(value);\n                    element.removeAttribute(subNode_1.attrName);\n                    subNode_1.attrName = subNode_1.bindedvalue[0] === undefined ? subNode_1.attrName : attributeNameFunction(value);\n                    element.setAttribute(subNode_1.attrName, bindedvalue);\n                    subNode_1.bindedvalue = [subNode_1.bindedvalue[0] === undefined ? undefined : attributeNameFunction(value),\n                        subNode_1.bindedvalue[1] === undefined ? undefined : attributeValueFunction(value)];\n                };\n                var attributeValue = subNode_1.bindedvalue[1] === undefined ? element.getAttribute(attributeName) :\n                    subNode_1.bindedvalue[1];\n                element.removeAttribute(attributeName);\n                element.setAttribute(subNode_1.attrName, attributeValue);\n                _this.updateContextData(listElement, subNode_1, isHeader);\n            }\n        });\n    };\n    Virtualization.prototype.textProperty = function (element, listElement, isHeader) {\n        var _this = this;\n        var regex = new RegExp('\\\\${([^}]*)}', 'g');\n        var resultantOutput = [];\n        var regexMatch;\n        while (regexMatch !== null) {\n            var match = regex.exec(element.innerText);\n            resultantOutput.push(match);\n            regexMatch = match;\n            if (regexMatch === null) {\n                resultantOutput.pop();\n            }\n        }\n        var isChildHasTextContent = Array.prototype.some.call(element.children, function (element) {\n            if (new RegExp('\\\\${([^}]*)}', 'g').exec(element.innerText)) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        });\n        if (resultantOutput && resultantOutput.length && !isChildHasTextContent) {\n            resultantOutput.forEach(function (textPropertyMatch) {\n                var subNode = {};\n                var textFunction;\n                if (textPropertyMatch[1].indexOf('?') !== -1 && textPropertyMatch[1].indexOf(':') !== -1) {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    textFunction = new Function('data', 'return ' + textPropertyMatch[1].replace(/\\$/g, 'data.'));\n                }\n                else {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    textFunction = new Function('data', 'return ' + 'data.' + textPropertyMatch[1]);\n                }\n                if (isHeader) {\n                    subNode.bindedvalue = textFunction(_this.headerData);\n                }\n                else {\n                    subNode.bindedvalue = textFunction(_this.templateData);\n                }\n                subNode.onChange = function (value) {\n                    element.innerText = element.innerText.replace(subNode.bindedvalue, textFunction(value));\n                    subNode.bindedvalue = textFunction(value);\n                };\n                element.innerText = element.innerText.replace(textPropertyMatch[0], subNode.bindedvalue);\n                _this.updateContextData(listElement, subNode, isHeader);\n            });\n        }\n    };\n    Virtualization.prototype.reRenderUiVirtualization = function () {\n        this.wireScrollEvent(true);\n        if (this.listViewInstance.contentContainer) {\n            detach(this.listViewInstance.contentContainer);\n        }\n        this.listViewInstance.preRender();\n        this.listViewInstance.localData = this.listViewInstance.dataSource;\n        this.listViewInstance.renderList();\n    };\n    Virtualization.prototype.updateUI = function (element, index, targetElement) {\n        if (this.listViewInstance.template || this.listViewInstance.groupTemplate) {\n            var curViewDS = this.listViewInstance.curViewDS[index];\n            element.dataset.uid = curViewDS[this.listViewInstance.fields.id] ?\n                curViewDS[this.listViewInstance.fields.id].toString() : ListBase.generateId();\n            this.onChange(curViewDS, element);\n        }\n        else {\n            this.updateUiContent(element, index);\n        }\n        this.changeElementAttributes(element, index);\n        if (targetElement) {\n            this.listViewInstance.ulElement.insertBefore(element, targetElement);\n        }\n    };\n    Virtualization.prototype.getModuleName = function () {\n        return 'virtualization';\n    };\n    Virtualization.prototype.destroy = function () {\n        this.wireScrollEvent(true);\n    };\n    return Virtualization;\n}());\nexport { Virtualization };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents, Touch } from '@syncfusion/ej2-base';\nimport { attributes, Animation } from '@syncfusion/ej2-base';\nimport { Browser, Collection, setValue, getValue, getUniqueID, getInstance } from '@syncfusion/ej2-base';\nimport { select, selectAll, closest, detach, append, rippleEffect, isVisible } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { calculatePosition, isCollide, fit, getScrollableParent, getZindexPartial } from '@syncfusion/ej2-popups';\nvar DOWNARROW = 'downarrow';\nvar ENTER = 'enter';\nvar ESCAPE = 'escape';\nvar FOCUSED = 'e-focused';\nvar HEADER = 'e-menu-header';\nvar LEFTARROW = 'leftarrow';\nvar RIGHTARROW = 'rightarrow';\nvar RTL = 'e-rtl';\nvar SELECTED = 'e-selected';\nvar SEPARATOR = 'e-separator';\nvar UPARROW = 'uparrow';\nvar WRAPPER = 'e-contextmenu-wrapper';\nvar CARET = 'e-caret';\nvar ITEM = 'e-menu-item';\nvar DISABLED = 'e-disabled';\nvar HIDE = 'e-menu-hide';\nvar ICONS = 'e-icons';\n/**\n * Specifies context menu items.\n */\nvar MenuItem = /** @class */ (function (_super) {\n    __extends(MenuItem, _super);\n    function MenuItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuItem.prototype, \"separator\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], MenuItem.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"url\", void 0);\n    return MenuItem;\n}(ChildProperty));\nexport { MenuItem };\n/**\n * The ContextMenu is a graphical user interface that appears on the user right click/touch hold operation.\n * ```html\n * <div id = 'target'></div>\n * <ul id = 'contextmenu'></ul>\n * ```\n * ```typescript\n * <script>\n * var contextMenuObj = new ContextMenu({items: [{ text: 'Cut' }, { text: 'Copy' },{ text: 'Paste' }], target: '#target'});\n * </script>\n * ```\n */\nvar ContextMenu = /** @class */ (function (_super) {\n    __extends(ContextMenu, _super);\n    /**\n     * Constructor for creating the widget.\n     * @private\n     */\n    function ContextMenu(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.animation = new Animation({});\n        _this.navIdx = [];\n        _this.isTapHold = false;\n        return _this;\n    }\n    /**\n     * Initialized animation with parent menu animation settings.\n     * @private\n     */\n    ContextMenu.prototype.preRender = function () {\n        if (this.element.tagName === 'EJS-CONTEXTMENU') {\n            this.element.style.display = 'none';\n            this.element.classList.remove('e-' + this.getModuleName());\n            this.element.classList.remove('e-control');\n            var ejInst = getValue('ej2_instances', this.element);\n            var ul = this.createElement('ul');\n            this.ngElement = this.element;\n            this.element = ul;\n            this.element.classList.add('e-control');\n            this.element.classList.add('e-' + this.getModuleName());\n            setValue('ej2_instances', ejInst, this.element);\n            if (!this.element.id) {\n                this.element.id = getUniqueID(this.getModuleName());\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    ContextMenu.prototype.render = function () {\n        this.initWrapper();\n        this.renderItems();\n        this.wireEvents();\n    };\n    ContextMenu.prototype.initWrapper = function () {\n        var wrapper = this.getWrapper();\n        if (!wrapper) {\n            wrapper = this.createElement('div', { className: WRAPPER });\n            document.body.appendChild(wrapper);\n        }\n        if (this.cssClass) {\n            wrapper.classList.add(this.cssClass);\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        attributes(this.element, { 'role': 'menu', 'tabindex': '0' });\n        wrapper.appendChild(this.element);\n    };\n    ContextMenu.prototype.renderItems = function () {\n        if (!this.items.length) {\n            this.items = ListBase.createJsonFromElement(this.element);\n            this.element.innerHTML = '';\n        }\n        var ul = this.createItems(this.items);\n        append(Array.prototype.slice.call(ul.children), this.element);\n        this.element.classList.add('e-menu-parent');\n    };\n    ContextMenu.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (Browser.isIos) {\n                    new Touch(target, { tapHold: this.touchHandler.bind(this) });\n                }\n                else {\n                    EventHandler.add(target, 'contextmenu', this.cmenuHandler, this);\n                }\n            }\n            this.targetElement = target;\n            for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollHandler, this);\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.add(wrapper, 'mouseover', this.moverHandler, this);\n            EventHandler.add(document, 'mousedown', this.mouseDownHandler, this);\n        }\n        this.delegateClickHandler = this.clickHandler.bind(this);\n        EventHandler.add(document, 'click', this.delegateClickHandler, this);\n        new KeyboardEvents(wrapper, {\n            keyAction: this.keyBoardHandler.bind(this),\n            keyConfigs: {\n                downarrow: DOWNARROW,\n                uparrow: UPARROW,\n                enter: ENTER,\n                leftarrow: LEFTARROW,\n                rightarrow: RIGHTARROW,\n                escape: ESCAPE\n            }\n        });\n        rippleEffect(wrapper, { selector: '.' + ITEM });\n    };\n    ContextMenu.prototype.mouseDownHandler = function (e) {\n        if (closest(e.target, '.' + WRAPPER) !== this.getWrapper()) {\n            this.closeMenu(this.navIdx.length, e);\n        }\n    };\n    ContextMenu.prototype.keyBoardHandler = function (e) {\n        e.preventDefault();\n        switch (e.action) {\n            case DOWNARROW:\n            case UPARROW:\n                this.upDownKeyHandler(e);\n                break;\n            case RIGHTARROW:\n                this.rightEnterKeyHandler(e);\n                break;\n            case LEFTARROW:\n                this.leftEscKeyHandler(e);\n                break;\n            case ENTER:\n                this.rightEnterKeyHandler(e);\n                break;\n            case ESCAPE:\n                this.leftEscKeyHandler(e);\n                break;\n        }\n    };\n    ContextMenu.prototype.upDownKeyHandler = function (e) {\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        var defaultIdx = e.action === DOWNARROW ? 0 : cul.childElementCount - 1;\n        var fliIdx = defaultIdx;\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            fliIdx = this.getIdx(cul, fli);\n            fli.classList.remove(FOCUSED);\n            e.action === DOWNARROW ? fliIdx++ : fliIdx--;\n            if (fliIdx === (e.action === DOWNARROW ? cul.childElementCount : -1)) {\n                fliIdx = defaultIdx;\n            }\n        }\n        var cli = cul.children[fliIdx];\n        fliIdx = this.isValidLI(cli, fliIdx, e.action);\n        cul.children[fliIdx].classList.add(FOCUSED);\n        cul.children[fliIdx].focus();\n    };\n    ContextMenu.prototype.isValidLI = function (cli, index, action) {\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            ((action === DOWNARROW) || (action === RIGHTARROW)) ? index++ : index--;\n        }\n        cli = cul.children[index];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            index = this.isValidLI(cli, index, action);\n        }\n        return index;\n    };\n    ContextMenu.prototype.rightEnterKeyHandler = function (e) {\n        var eventArgs;\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            var fliIdx = this.getIdx(cul, fli);\n            var navIdx = this.navIdx.concat(fliIdx);\n            var index = void 0;\n            var item = this.getItem(navIdx);\n            if (item.items.length) {\n                this.navIdx.push(fliIdx);\n                this.openMenu(fli, item, null, null, e);\n                fli.classList.remove(FOCUSED);\n                fli.classList.add(SELECTED);\n                if (e.action === ENTER) {\n                    eventArgs = { element: fli, item: item };\n                    this.trigger('select', eventArgs);\n                }\n                fli.focus();\n                cul = wrapper.children[this.navIdx.length];\n                index = this.isValidLI(cul.children[0], 0, e.action);\n                cul.children[index].classList.add(FOCUSED);\n                cul.children[index].focus();\n            }\n            else {\n                if (e.action === ENTER) {\n                    fli.classList.remove(FOCUSED);\n                    fli.classList.add(SELECTED);\n                    eventArgs = { element: fli, item: item };\n                    this.trigger('select', eventArgs);\n                    this.closeMenu(null, e);\n                }\n            }\n        }\n    };\n    ContextMenu.prototype.leftEscKeyHandler = function (e) {\n        if (this.navIdx.length) {\n            var wrapper = this.getWrapper();\n            this.closeMenu(this.navIdx.length, e);\n            var cul = wrapper.children[this.navIdx.length];\n            var sli = this.getLIByClass(cul, SELECTED);\n            if (sli) {\n                sli.setAttribute('aria-expanded', 'false');\n                sli.classList.remove(SELECTED);\n                sli.classList.add(FOCUSED);\n                sli.focus();\n            }\n        }\n        else {\n            if (e.action === ESCAPE) {\n                this.closeMenu(null, e);\n            }\n        }\n    };\n    ContextMenu.prototype.scrollHandler = function (e) {\n        this.closeMenu(null, e);\n    };\n    ContextMenu.prototype.touchHandler = function (e) {\n        this.isTapHold = true;\n        this.cmenuHandler(e.originalEvent);\n    };\n    ContextMenu.prototype.cmenuHandler = function (e) {\n        e.preventDefault();\n        this.closeMenu(null, e);\n        if (this.canOpen(e.target)) {\n            if (e.changedTouches) {\n                this.openMenu(null, null, e.changedTouches[0].pageY + 1, e.changedTouches[0].pageX + 1, e);\n            }\n            else {\n                this.openMenu(null, null, e.pageY + 1, e.pageX + 1, e);\n            }\n        }\n    };\n    /**\n     * Closes the ContextMenu if it is opened.\n     */\n    ContextMenu.prototype.close = function () {\n        this.closeMenu();\n    };\n    ContextMenu.prototype.closeMenu = function (ulIndex, e) {\n        if (ulIndex === void 0) { ulIndex = 0; }\n        if (e === void 0) { e = null; }\n        if (this.isMenuVisible()) {\n            var ul = void 0;\n            var item = void 0;\n            var items = void 0;\n            var closeArgs = void 0;\n            var beforeCloseArgs = void 0;\n            var wrapper = this.getWrapper();\n            for (var cnt = wrapper.childElementCount; cnt > ulIndex; cnt--) {\n                item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n                items = item ? item.items : this.items;\n                ul = wrapper.children[cnt - 1];\n                beforeCloseArgs = { element: ul, parentItem: item, items: items, event: e, cancel: false };\n                this.trigger('beforeClose', beforeCloseArgs);\n                if (!beforeCloseArgs.cancel) {\n                    this.toggleAnimation(ul, false);\n                    this.navIdx.length = ulIndex ? ulIndex - 1 : ulIndex;\n                    closeArgs = { element: ul, parentItem: item, items: items };\n                    this.trigger('onClose', closeArgs);\n                }\n            }\n        }\n    };\n    ContextMenu.prototype.isMenuVisible = function () {\n        return (this.navIdx.length > 0 || (this.element.classList.contains('e-contextmenu') && isVisible(this.element).valueOf()));\n    };\n    ContextMenu.prototype.canOpen = function (target) {\n        var canOpen = true;\n        if (this.filter) {\n            canOpen = false;\n            var filter = this.filter.split(' ');\n            for (var i = 0, len = target.classList.length; i < len; i++) {\n                if (filter.indexOf(target.classList[i]) > -1) {\n                    canOpen = true;\n                    break;\n                }\n            }\n        }\n        return canOpen;\n    };\n    /**\n     * This method is used to open the ContextMenu in specified position.\n     * @param top - To specify ContextMenu vertical positioning.\n     * @param left - To specify ContextMenu horizontal positioning.\n     * @param target - To calculate z-index for ContextMenu based upon the specified target.\n     * @method open\n     * @returns void\n     */\n    ContextMenu.prototype.open = function (top, left, target) {\n        this.openMenu(null, null, top, left, null, target);\n    };\n    ContextMenu.prototype.openMenu = function (li, item, top, left, e, target) {\n        if (top === void 0) { top = 0; }\n        if (left === void 0) { left = 0; }\n        if (e === void 0) { e = null; }\n        if (target === void 0) { target = this.targetElement; }\n        var ul;\n        var navIdx;\n        var wrapper = this.getWrapper();\n        if (li) {\n            ul = this.createItems(item.items);\n            if (Browser.isDevice) {\n                wrapper.lastChild.style.display = 'none';\n                var data = { text: item.text, iconCss: ICONS + ' e-previous' };\n                var hdata = new MenuItem(this.items[0], null, data, true);\n                var hli = this.createItems([hdata]).children[0];\n                hli.classList.add(HEADER);\n                ul.insertBefore(hli, ul.children[0]);\n            }\n            ul.style.zIndex = this.element.style.zIndex;\n            wrapper.appendChild(ul);\n        }\n        else {\n            ul = this.element;\n            ul.style.zIndex = getZindexPartial(target ? target : this.element).toString();\n        }\n        navIdx = this.getIndex(li ? li.id : null, true);\n        var items = li ? item.items : this.items;\n        var eventArgs = { element: ul, items: items, parentItem: item, event: e, cancel: false };\n        this.trigger('beforeOpen', eventArgs);\n        if (eventArgs.cancel) {\n            this.navIdx.pop();\n        }\n        else {\n            this.setPosition(li, ul, top, left);\n            this.toggleAnimation(ul);\n        }\n    };\n    ContextMenu.prototype.setPosition = function (li, ul, top, left) {\n        var px = 'px';\n        this.toggleVisiblity(ul);\n        if (ul === this.element) {\n            var collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('right') > -1) {\n                left = left - ul.offsetWidth;\n            }\n            if (collide.indexOf('bottom') > -1) {\n                var offset = fit(ul, null, { X: false, Y: true }, { top: top, left: left });\n                top = offset.top - 20;\n            }\n            collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('left') > -1) {\n                var offset = fit(ul, null, { X: true, Y: false }, { top: top, left: left });\n                left = offset.left;\n            }\n        }\n        else {\n            if (Browser.isDevice) {\n                top = Number(this.element.style.top.replace(px, ''));\n                left = Number(this.element.style.left.replace(px, ''));\n            }\n            else {\n                var x = this.enableRtl ? 'left' : 'right';\n                var offset = calculatePosition(li, x, 'top');\n                top = offset.top;\n                left = offset.left;\n                var collide = isCollide(ul, null, this.enableRtl ? left - ul.offsetWidth : left, top);\n                var xCollision = collide.indexOf('left') > -1 || collide.indexOf('right') > -1;\n                if (xCollision) {\n                    offset = calculatePosition(li, this.enableRtl ? 'right' : 'left', 'top');\n                    left = offset.left;\n                }\n                if (this.enableRtl || xCollision) {\n                    left = (this.enableRtl && xCollision) ? left : left - ul.offsetWidth;\n                }\n                if (collide.indexOf('bottom') > -1) {\n                    offset = fit(ul, null, { X: false, Y: true }, { top: top, left: left });\n                    top = offset.top;\n                }\n            }\n        }\n        this.toggleVisiblity(ul, false);\n        ul.style.top = top + px;\n        ul.style.left = left + px;\n    };\n    ContextMenu.prototype.toggleVisiblity = function (ul, isVisible) {\n        if (isVisible === void 0) { isVisible = true; }\n        ul.style.visibility = isVisible ? 'hidden' : '';\n        ul.style.display = isVisible ? 'block' : 'none';\n    };\n    ContextMenu.prototype.createItems = function (items) {\n        var _this = this;\n        var showIcon = this.hasField(items, 'iconCss');\n        var listBaseOptions = {\n            showIcon: showIcon,\n            moduleName: 'menu',\n            itemCreating: function (args) {\n                if (!args.curData.id) {\n                    args.curData.id = getUniqueID('menuitem');\n                }\n                args.curData.htmlAttributes = {\n                    role: 'menuitem',\n                    tabindex: '-1'\n                };\n            },\n            itemCreated: function (args) {\n                if (args.curData.separator) {\n                    args.item.classList.add(SEPARATOR);\n                    args.item.removeAttribute('role');\n                }\n                if (showIcon && !args.curData.iconCss && !args.curData.separator) {\n                    args.item.classList.add('e-blankicon');\n                }\n                if (args.curData.items && args.curData.items.length) {\n                    var span = _this.createElement('span', { className: ICONS + ' ' + CARET });\n                    args.item.appendChild(span);\n                    args.item.setAttribute('aria-haspopup', 'true');\n                    args.item.setAttribute('aria-expanded', 'false');\n                    args.item.removeAttribute('role');\n                    args.item.classList.add('e-menu-caret-icon');\n                }\n                var eventArgs = { item: args.curData, element: args.item };\n                _this.trigger('beforeItemRender', eventArgs);\n            }\n        };\n        var ul = ListBase.createList(this.createElement, this.toRawObject(items.slice()), listBaseOptions, true);\n        ul.setAttribute('tabindex', '0');\n        return ul;\n    };\n    ContextMenu.prototype.toRawObject = function (items) {\n        var item;\n        var menuItems = [];\n        for (var i = 0, len = items.length; i < len; i++) {\n            item = items[i].properties;\n            menuItems.push(item);\n        }\n        return menuItems;\n    };\n    ContextMenu.prototype.moverHandler = function (e) {\n        var wrapper = this.getWrapper();\n        var trgt = e.target;\n        var cli = this.getLI(trgt);\n        if (cli && closest(cli, '.' + WRAPPER)) {\n            var fli = select('.' + FOCUSED, wrapper);\n            if (fli) {\n                fli.classList.remove(FOCUSED);\n            }\n            cli.classList.add(FOCUSED);\n            if (!this.showItemOnClick) {\n                this.clickHandler(e);\n            }\n        }\n    };\n    ContextMenu.prototype.hasField = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    ContextMenu.prototype.getWrapper = function () {\n        return closest(this.element, '.' + WRAPPER);\n    };\n    ContextMenu.prototype.clickHandler = function (e) {\n        if (this.isTapHold) {\n            this.isTapHold = false;\n        }\n        else {\n            var wrapper = this.getWrapper();\n            var trgt = e.target;\n            var cli = this.getLI(trgt);\n            var cliWrapper = cli ? closest(cli, '.' + WRAPPER) : null;\n            var isInstLI = cli && cliWrapper && wrapper.firstElementChild.id === cliWrapper.firstElementChild.id;\n            if (isInstLI && e.type === 'click' && !cli.classList.contains(HEADER)) {\n                this.setLISelected(cli);\n                var navIdx = this.getIndex(cli.id, true);\n                var item = this.getItem(navIdx);\n                var eventArgs = { element: cli, item: item };\n                this.trigger('select', eventArgs);\n            }\n            if (isInstLI && (e.type === 'mouseover' || Browser.isDevice || this.showItemOnClick)) {\n                var ul = void 0;\n                if (cli.classList.contains(HEADER)) {\n                    ul = wrapper.children[this.navIdx.length - 1];\n                    this.toggleAnimation(ul);\n                    var sli = this.getLIByClass(ul, SELECTED);\n                    if (sli) {\n                        sli.classList.remove(SELECTED);\n                    }\n                    detach(cli.parentNode);\n                    this.navIdx.pop();\n                }\n                else {\n                    if (!cli.classList.contains(SEPARATOR)) {\n                        var showSubMenu = true;\n                        var cul = cli.parentNode;\n                        var cliIdx = this.getIdx(cul, cli);\n                        if (!Browser.isDevice) {\n                            var culIdx = this.getIdx(wrapper, cul);\n                            if (this.navIdx[culIdx] === cliIdx) {\n                                showSubMenu = false;\n                            }\n                            if (culIdx !== this.navIdx.length && (e.type !== 'mouseover' || showSubMenu)) {\n                                var sli = this.getLIByClass(cul, SELECTED);\n                                if (sli) {\n                                    sli.classList.remove(SELECTED);\n                                }\n                                this.closeMenu(culIdx + 1, e);\n                            }\n                        }\n                        if (showSubMenu) {\n                            var idx = this.navIdx.concat(cliIdx);\n                            var item = this.getItem(idx);\n                            if (item.items.length) {\n                                if (e.type === 'mouseover') {\n                                    this.setLISelected(cli);\n                                }\n                                cli.setAttribute('aria-expanded', 'true');\n                                this.navIdx.push(cliIdx);\n                                this.openMenu(cli, item, null, null, e);\n                            }\n                            else {\n                                if (e.type !== 'mouseover') {\n                                    this.closeMenu(null, e);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (trgt.tagName !== 'UL' || trgt.parentElement !== wrapper) {\n                    if (!cli || !cli.querySelector('.' + CARET)) {\n                        this.closeMenu(null, e);\n                    }\n                }\n            }\n        }\n    };\n    ContextMenu.prototype.setLISelected = function (li) {\n        var sli = this.getLIByClass(li.parentElement, SELECTED);\n        if (sli) {\n            sli.classList.remove(SELECTED);\n        }\n        li.classList.remove(FOCUSED);\n        li.classList.add(SELECTED);\n    };\n    ContextMenu.prototype.getLIByClass = function (ul, classname) {\n        for (var i = 0, len = ul.children.length; i < len; i++) {\n            if (ul.children[i].classList.contains(classname)) {\n                return ul.children[i];\n            }\n        }\n        return null;\n    };\n    ContextMenu.prototype.getItem = function (navIdx) {\n        navIdx = navIdx.slice();\n        var idx = navIdx.pop();\n        var items = this.getItems(navIdx);\n        return items[idx];\n    };\n    ContextMenu.prototype.getItems = function (navIdx) {\n        var items = this.items;\n        for (var i = 0; i < navIdx.length; i++) {\n            items = items[navIdx[i]].items;\n        }\n        return items;\n    };\n    ContextMenu.prototype.getIdx = function (ul, li, skipHdr) {\n        if (skipHdr === void 0) { skipHdr = true; }\n        var idx = Array.prototype.indexOf.call(ul.children, li);\n        if (skipHdr && ul.children[0].classList.contains(HEADER)) {\n            idx--;\n        }\n        return idx;\n    };\n    ContextMenu.prototype.getLI = function (elem) {\n        if (elem.tagName === 'LI') {\n            return elem;\n        }\n        return closest(elem, 'li');\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     * @param {ContextMenuModel} newProp\n     * @param {ContextMenuModel} oldProp\n     * @returns void\n     */\n    ContextMenu.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        wrapper.classList.remove(oldProp.cssClass);\n                    }\n                    if (newProp.cssClass) {\n                        wrapper.classList.add(newProp.cssClass);\n                    }\n                    break;\n                case 'enableRtl':\n                    wrapper.classList.toggle(RTL);\n                    break;\n                case 'filter':\n                    this.closeMenu();\n                    this.filter = newProp.filter;\n                    break;\n                case 'showItemOnClick':\n                    this.unWireEvents();\n                    this.showItemOnClick = newProp.showItemOnClick;\n                    this.wireEvents();\n                    break;\n                case 'target':\n                    this.unWireEvents();\n                    this.target = newProp.target;\n                    this.wireEvents();\n                    break;\n                case 'items':\n                    var idx = void 0;\n                    var navIdx = void 0;\n                    var item = void 0;\n                    var keys = Object.keys(newProp.items);\n                    for (var i = 0; i < keys.length; i++) {\n                        navIdx = this.getChangedItemIndex(newProp, [], Number(keys[i]));\n                        if (navIdx.length <= this.getWrapper().children.length) {\n                            idx = navIdx.pop();\n                            item = this.getItems(navIdx);\n                            this.insertAfter([item[idx]], item[idx].text);\n                            this.removeItem(item, navIdx, idx);\n                        }\n                        navIdx.length = 0;\n                    }\n                    break;\n            }\n        }\n    };\n    ContextMenu.prototype.getChangedItemIndex = function (newProp, index, idx) {\n        index.push(idx);\n        var key = Object.keys(newProp.items[idx]).pop();\n        if (key === 'items') {\n            var item = newProp.items[idx];\n            this.getChangedItemIndex(item, index, Number(Object.keys(item.items).pop()));\n        }\n        else {\n            if (key === 'isParentArray' && index.length > 1) {\n                index.pop();\n            }\n        }\n        return index;\n    };\n    ContextMenu.prototype.removeItem = function (item, navIdx, idx) {\n        item.splice(idx, 1);\n        var uls = this.getWrapper().children;\n        if (navIdx.length < uls.length) {\n            detach(uls[navIdx.length].children[idx]);\n        }\n    };\n    /**\n     * Used to unwire the bind events.\n     * @private\n     */\n    ContextMenu.prototype.unWireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var touchModule = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (Browser.isIos) {\n                    touchModule = getInstance(target, Touch);\n                    if (touchModule) {\n                        touchModule.destroy();\n                    }\n                }\n                else {\n                    EventHandler.remove(target, 'contextmenu', this.cmenuHandler);\n                }\n            }\n            for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollHandler);\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.remove(wrapper, 'mouseover', this.moverHandler);\n            EventHandler.remove(document, 'mousedown', this.mouseDownHandler);\n        }\n        EventHandler.remove(document, 'click', this.delegateClickHandler);\n        var keyboardModule = getInstance(wrapper, KeyboardEvents);\n        if (keyboardModule) {\n            keyboardModule.destroy();\n        }\n    };\n    ContextMenu.prototype.toggleAnimation = function (ul, isMenuOpen) {\n        var _this = this;\n        if (isMenuOpen === void 0) { isMenuOpen = true; }\n        if (this.animationSettings.effect === 'None' || !isMenuOpen) {\n            this.end(ul, isMenuOpen);\n        }\n        else {\n            this.animation.animate(ul, {\n                name: this.animationSettings.effect,\n                duration: this.animationSettings.duration,\n                timingFunction: this.animationSettings.easing,\n                begin: function (options) {\n                    options.element.style.display = 'block';\n                    options.element.style.maxHeight = options.element.getBoundingClientRect().height + 'px';\n                },\n                end: function (options) {\n                    _this.end(options.element, isMenuOpen);\n                }\n            });\n        }\n    };\n    ContextMenu.prototype.end = function (ul, isMenuOpen) {\n        if (isMenuOpen) {\n            ul.style.display = 'block';\n            ul.style.maxHeight = '';\n            var item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n            var eventArgs = { element: ul, parentItem: item, items: item ? item.items : this.items };\n            this.trigger('onOpen', eventArgs);\n            if (ul.querySelector('.' + FOCUSED)) {\n                ul.querySelector('.' + FOCUSED).focus();\n            }\n            else {\n                var ele = void 0;\n                ele = this.getWrapper().children[this.getIdx(this.getWrapper(), ul) - 1];\n                if (ele) {\n                    ele.querySelector('.' + SELECTED).focus();\n                }\n                else {\n                    this.element.focus();\n                }\n            }\n        }\n        else {\n            if (ul === this.element) {\n                var fli = this.getLIByClass(this.element, FOCUSED);\n                if (fli) {\n                    fli.classList.remove(FOCUSED);\n                }\n                var sli = this.getLIByClass(this.element, SELECTED);\n                if (sli) {\n                    sli.classList.remove(SELECTED);\n                }\n                ul.style.display = 'none';\n            }\n            else {\n                detach(ul);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    ContextMenu.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextmenu';\n    };\n    ContextMenu.prototype.getIndex = function (data, isUniqueId, items, navIdx, isCallBack) {\n        if (items === void 0) { items = this.items; }\n        if (navIdx === void 0) { navIdx = []; }\n        if (isCallBack === void 0) { isCallBack = false; }\n        var item;\n        for (var i = 0, len = items.length; i < len; i++) {\n            item = items[i];\n            if ((isUniqueId ? item.id : item.text) === data) {\n                navIdx.push(i);\n                break;\n            }\n            else if (item.items.length) {\n                navIdx = this.getIndex(data, isUniqueId, item.items, navIdx, true);\n                if (navIdx[navIdx.length - 1] === -1) {\n                    if (i !== len - 1) {\n                        navIdx.pop();\n                    }\n                }\n                else {\n                    navIdx.unshift(i);\n                    break;\n                }\n            }\n            else {\n                if (i === len - 1) {\n                    navIdx.push(-1);\n                }\n            }\n        }\n        return (!isCallBack && navIdx[0] === -1) ? [] : navIdx;\n    };\n    /**\n     * This method is used to enable or disable the menu items in the ContextMenu based on the items and enable argument.\n     * @param items - Text items that needs to be enabled/disabled.\n     * @param enable - Set `true`/`false` to enable/disable the list items.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    ContextMenu.prototype.enableItems = function (items, enable, isUniqueId) {\n        if (enable === void 0) { enable = true; }\n        var ul;\n        var idx;\n        var navIdx;\n        var disabled = DISABLED;\n        var wrapper = this.getWrapper();\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            idx = navIdx.pop();\n            ul = wrapper.children[navIdx.length];\n            if (ul) {\n                if (enable) {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[idx + 1].classList.remove(disabled);\n                    }\n                    else {\n                        ul.children[idx].classList.remove(disabled);\n                    }\n                }\n                else {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[idx + 1].classList.add(disabled);\n                    }\n                    else {\n                        ul.children[idx].classList.add(disabled);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * This method is used to show the menu items in the ContextMenu based on the items text.\n     * @param items - Text items that needs to be shown.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    ContextMenu.prototype.showItems = function (items, isUniqueId) {\n        this.showHideItems(items, false, isUniqueId);\n    };\n    /**\n     * This method is used to hide the menu items in the ContextMenu based on the items text.\n     * @param items - Text items that needs to be hidden.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    ContextMenu.prototype.hideItems = function (items, isUniqueId) {\n        this.showHideItems(items, true, isUniqueId);\n    };\n    ContextMenu.prototype.showHideItems = function (items, ishide, isUniqueId) {\n        var ul;\n        var index;\n        var navIdx;\n        var wrapper = this.getWrapper();\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            index = navIdx.pop();\n            ul = wrapper.children[navIdx.length];\n            if (ul) {\n                if (ishide) {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[index + 1].classList.add(HIDE);\n                    }\n                    else {\n                        ul.children[index].classList.add(HIDE);\n                    }\n                }\n                else {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[index + 1].classList.remove(HIDE);\n                    }\n                    else {\n                        ul.children[index].classList.remove(HIDE);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * It is used to remove the menu items from the ContextMenu based on the items text.\n     * @param items - Text items that needs to be removed.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    ContextMenu.prototype.removeItems = function (items, isUniqueId) {\n        var idx;\n        var navIdx;\n        var iitems;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            this.removeItem(iitems, navIdx, idx);\n        }\n    };\n    /**\n     * It is used to insert the menu items after the specified menu item text.\n     * @param items - Items that needs to be inserted.\n     * @param text - Text item after that the element to be inserted.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    ContextMenu.prototype.insertAfter = function (items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId);\n    };\n    /**\n     * It is used to insert the menu items before the specified menu item text.\n     * @param items - Items that needs to be inserted.\n     * @param text - Text item before that the element to be inserted.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    ContextMenu.prototype.insertBefore = function (items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId, false);\n    };\n    ContextMenu.prototype.insertItems = function (items, text, isUniqueId, isAfter) {\n        if (isAfter === void 0) { isAfter = true; }\n        var li;\n        var idx;\n        var navIdx;\n        var iitems;\n        var menuitem;\n        var showIcon;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(text, isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            menuitem = new MenuItem(iitems[0], 'items', items[i], true);\n            iitems.splice(isAfter ? idx + 1 : idx, 0, menuitem);\n            var uls = this.getWrapper().children;\n            if (navIdx.length < uls.length) {\n                idx = isAfter ? idx + 1 : idx;\n                showIcon = this.hasField(iitems, 'iconCss');\n                li = this.createItems(iitems).children[idx];\n                uls[navIdx.length].insertBefore(li, uls[navIdx.length].children[idx]);\n            }\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    ContextMenu.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        if (wrapper) {\n            _super.prototype.destroy.call(this);\n            this.unWireEvents();\n            if (this.ngElement) {\n                this.ngElement.style.display = 'block';\n            }\n            else {\n                this.closeMenu();\n                this.element.innerHTML = '';\n                ['top', 'left', 'display', 'z-index'].forEach(function (key) {\n                    _this.element.style.removeProperty(key);\n                });\n                ['role', 'tabindex', 'class', 'style'].forEach(function (key) {\n                    if (['class', 'style'].indexOf(key) === -1 || !_this.element.getAttribute(key)) {\n                        _this.element.removeAttribute(key);\n                    }\n                });\n                wrapper.parentNode.insertBefore(this.element, wrapper);\n            }\n            detach(wrapper);\n        }\n    };\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"filter\", void 0);\n    __decorate([\n        Property(false)\n    ], ContextMenu.prototype, \"showItemOnClick\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], ContextMenu.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"target\", void 0);\n    __decorate([\n        Property({ duration: 400, easing: 'ease', effect: 'SlideDown' })\n    ], ContextMenu.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"onOpen\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"onClose\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"select\", void 0);\n    ContextMenu = __decorate([\n        NotifyPropertyChanges\n    ], ContextMenu);\n    return ContextMenu;\n}(Component));\nexport { ContextMenu };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, closest, Collection, Complex, attributes, detach } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, select, isVisible } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Browser, formatUnit, L10n } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, isNullOrUndefined as isNOU, selectAll } from '@syncfusion/ej2-base';\nimport { EventHandler, rippleEffect, Touch, compile, Animation } from '@syncfusion/ej2-base';\nimport { Toolbar } from '../toolbar/toolbar';\nvar CLS_TAB = 'e-tab';\nvar CLS_HEADER = 'e-tab-header';\nvar CLS_CONTENT = 'e-content';\nvar CLS_NEST = 'e-nested';\nvar CLS_ITEMS = 'e-items';\nvar CLS_ITEM = 'e-item';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_RTL = 'e-rtl';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_DISABLE = 'e-disable';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_FOCUS = 'e-focused';\nvar CLS_ICONS = 'e-icons';\nvar CLS_ICON = 'e-icon';\nvar CLS_ICON_CLOSE = 'e-close-icon';\nvar CLS_CLOSE_SHOW = 'e-close-show';\nvar CLS_TEXT = 'e-tab-text';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_WRAP = 'e-tab-wrap';\nvar CLS_TEXT_WRAP = 'e-text-wrap';\nvar CLS_TAB_ICON = 'e-tab-icon';\nvar CLS_TB_ITEMS = 'e-toolbar-items';\nvar CLS_TB_ITEM = 'e-toolbar-item';\nvar CLS_TB_POP = 'e-toolbar-pop';\nvar CLS_TB_POPUP = 'e-toolbar-popup';\nvar CLS_POPUP_OPEN = 'e-popup-open';\nvar CLS_POPUP_CLOSE = 'e-popup-close';\nvar CLS_PROGRESS = 'e-progress';\nvar CLS_IGNORE = 'e-ignore';\nvar CLS_OVERLAY = 'e-overlay';\nvar TabActionSettings = /** @class */ (function (_super) {\n    __extends(TabActionSettings, _super);\n    function TabActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideLeftIn')\n    ], TabActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(600)\n    ], TabActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], TabActionSettings.prototype, \"easing\", void 0);\n    return TabActionSettings;\n}(ChildProperty));\nexport { TabActionSettings };\nvar TabAnimationSettings = /** @class */ (function (_super) {\n    __extends(TabAnimationSettings, _super);\n    function TabAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideLeftIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"previous\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideRightIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"next\", void 0);\n    return TabAnimationSettings;\n}(ChildProperty));\nexport { TabAnimationSettings };\n/**\n * Objects used for configuring the Tab item header properties.\n */\nvar Header = /** @class */ (function (_super) {\n    __extends(Header, _super);\n    function Header() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Header.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], Header.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('left')\n    ], Header.prototype, \"iconPosition\", void 0);\n    return Header;\n}(ChildProperty));\nexport { Header };\n/**\n * An array of object that is used to configure the Tab.\n */\nvar TabItem = /** @class */ (function (_super) {\n    __extends(TabItem, _super);\n    function TabItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({}, Header)\n    ], TabItem.prototype, \"header\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TabItem.prototype, \"disabled\", void 0);\n    return TabItem;\n}(ChildProperty));\nexport { TabItem };\n/**\n * Tab is a content panel to show multiple contents in a single space, one at a time.\n * Each Tab item has an associated content, that will be displayed based on the active Tab header item.\n * ```html\n * <div id=\"tab\"></div>\n * <script>\n *   var tabObj = new Tab();\n *   tab.appendTo(\"#tab\");\n * </script>\n * ```\n */\nvar Tab = /** @class */ (function (_super) {\n    __extends(Tab, _super);\n    /**\n     * Initializes a new instance of the Tab class.\n     * @param options  - Specifies Tab model properties as options.\n     * @param element  - Specifies the element that is rendered as a Tab.\n     */\n    function Tab(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.show = { name: 'SlideDown', duration: 100 };\n        _this.hide = { name: 'SlideUp', duration: 100 };\n        _this.animateOptions = {};\n        _this.animObj = new Animation(_this.animateOptions);\n        _this.maxHeight = 0;\n        _this.title = 'Close';\n        _this.lastIndex = 0;\n        /**\n         * Contains the keyboard configuration of the Tab.\n         */\n        _this.keyConfigs = {\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n            enter: 'enter',\n            space: 'space',\n            delete: 'delete',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow'\n        };\n        return _this;\n    }\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers, attributes and classes.\n     * @returns void\n     */\n    Tab.prototype.destroy = function () {\n        var _this = this;\n        if (!isNOU(this.tbObj)) {\n            this.tbObj.destroy();\n        }\n        this.unWireEvents();\n        ['role', 'aria-disabled', 'aria-activedescendant', 'tabindex', 'aria-orientation'].forEach(function (val) {\n            _this.element.removeAttribute(val);\n        });\n        this.expTemplateContent();\n        if (!this.isTemplate) {\n            this.element.innerHTML = '';\n        }\n        else {\n            var cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            this.element.classList.remove(CLS_TEMPLATE);\n            if (!isNOU(cntEle)) {\n                cntEle.innerHTML = this.cnt;\n            }\n        }\n        _super.prototype.destroy.call(this);\n        this.trigger('destroyed');\n    };\n    /**\n     * Initialize component\n     * @private\n     */\n    Tab.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.prevIndex = 0;\n        this.isNested = false;\n        this.isPopup = false;\n        this.initRender = true;\n        this.isSwipeed = false;\n        this.itemIndexArray = [];\n        this.templateEle = [];\n        if (!isNOU(nested)) {\n            nested.parentElement.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        var name = Browser.info.name;\n        var css = (name === 'msie') ? 'e-ie' : (name === 'edge') ? 'e-edge' : (name === 'safari') ? 'e-safari' : '';\n        setStyle(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        this.setCssClass(this.element, this.cssClass, true);\n        attributes(this.element, { role: 'tablist', 'aria-disabled': 'false', 'aria-activedescendant': '' });\n        this.setCssClass(this.element, css, true);\n    };\n    /**\n     * Initialize the component rendering\n     * @private\n     */\n    Tab.prototype.render = function () {\n        this.btnCls = this.createElement('span', { className: CLS_ICONS + ' ' + CLS_ICON_CLOSE, attrs: { title: this.title } });\n        this.renderContainer();\n        this.wireEvents();\n        this.initRender = false;\n    };\n    Tab.prototype.renderContainer = function () {\n        var ele = this.element;\n        if (this.items.length > 0 && ele.children.length === 0) {\n            ele.appendChild(this.createElement('div', { className: CLS_CONTENT }));\n            this.setOrientation(this.headerPlacement, this.createElement('div', { className: CLS_HEADER }));\n            this.isTemplate = false;\n        }\n        else if (this.element.children.length > 0) {\n            this.isTemplate = true;\n            ele.classList.add(CLS_TEMPLATE);\n            var header = ele.querySelector('.' + CLS_HEADER);\n            if (header && this.headerPlacement === 'Bottom') {\n                this.setOrientation(this.headerPlacement, header);\n            }\n        }\n        if (!isNOU(select('.' + CLS_HEADER, this.element)) && !isNOU(select('.' + CLS_CONTENT, this.element))) {\n            this.renderHeader();\n            this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n            if (!isNOU(this.tbItems)) {\n                rippleEffect(this.tbItems, { selector: '.e-tab-wrap' });\n            }\n            this.renderContent();\n            if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n                this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n                this.bdrLine = this.createElement('div', { className: CLS_INDICATOR + ' ' + CLS_HIDDEN + ' ' + CLS_IGNORE });\n                var scrCnt = select('.e-hscroll-content', this.tbItems);\n                if (!isNOU(scrCnt)) {\n                    scrCnt.insertBefore(this.bdrLine, scrCnt.firstChild);\n                }\n                else {\n                    this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstChild);\n                }\n                this.setContentHeight(true);\n                this.select(this.selectedItem);\n            }\n            this.setRTL(this.enableRtl);\n        }\n    };\n    Tab.prototype.renderHeader = function () {\n        var _this = this;\n        var tabItems = [];\n        this.hdrEle = select('.' + CLS_HEADER, this.element);\n        if (!this.isTemplate) {\n            tabItems = this.parseObject(this.items, 0);\n        }\n        else {\n            var count = this.hdrEle.children.length;\n            var hdrItems = [];\n            for (var i = 0; i < count; i++) {\n                hdrItems.push(this.hdrEle.children.item(i).innerHTML);\n            }\n            if (count > 0) {\n                this.hdrEle.innerHTML = '';\n                this.hdrEle.appendChild(this.createElement('div', { className: CLS_ITEMS }));\n                hdrItems.forEach(function (item, index) {\n                    _this.lastIndex = index;\n                    var attr = {\n                        className: CLS_ITEM, id: CLS_ITEM + '_' + index,\n                        attrs: { role: 'tab', 'aria-controls': CLS_CONTENT + '_' + index, 'aria-selected': 'false' }\n                    };\n                    var txt = _this.createElement('span', {\n                        className: CLS_TEXT, innerHTML: item, attrs: { 'role': 'presentation' }\n                    }).outerHTML;\n                    var cont = _this.createElement('div', {\n                        className: CLS_TEXT_WRAP, innerHTML: txt + _this.btnCls.outerHTML\n                    }).outerHTML;\n                    var wrap = _this.createElement('div', { className: CLS_WRAP, innerHTML: cont, attrs: { tabIndex: '-1' } });\n                    select('.' + CLS_ITEMS, _this.element).appendChild(_this.createElement('div', attr));\n                    selectAll('.' + CLS_ITEM, _this.element)[index].appendChild(wrap);\n                });\n            }\n        }\n        this.tbObj = new Toolbar({\n            width: '100%',\n            overflowMode: this.overflowMode,\n            items: (tabItems.length !== 0) ? tabItems : [],\n            clicked: this.clickHandler.bind(this)\n        });\n        this.tbObj.createElement = this.createElement;\n        this.tbObj.appendTo(this.hdrEle);\n        attributes(this.element, { 'aria-orientation': 'horizontal' });\n        this.setCloseButton(this.showCloseButton);\n        this.setProperties({ headerPlacement: (this.element.children.item(0).classList.contains(CLS_HEADER)) ? 'Top' : 'Bottom' }, true);\n    };\n    Tab.prototype.renderContent = function () {\n        this.cntEle = select('.' + CLS_CONTENT, this.element);\n        var hdrItem = selectAll('.' + CLS_TB_ITEM, this.element);\n        if (this.isTemplate) {\n            this.cnt = (this.cntEle.children.length > 0) ? this.cntEle.innerHTML : '';\n            var contents = this.cntEle.children;\n            for (var i = 0; i < hdrItem.length; i++) {\n                if (contents.length - 1 >= i) {\n                    contents.item(i).className += CLS_ITEM;\n                    attributes(contents.item(i), { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + i });\n                    contents.item(i).id = CLS_CONTENT + '_' + i;\n                }\n            }\n        }\n    };\n    Tab.prototype.reRenderItems = function () {\n        this.renderContainer();\n        if (!isNOU(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n    };\n    Tab.prototype.parseObject = function (items, index) {\n        var _this = this;\n        var tbCount = selectAll('.' + CLS_TB_ITEM, this.element).length;\n        var tItems = [];\n        var txtWrapEle;\n        items.forEach(function (item, i) {\n            if (isNOU(item.header) || isNOU(item.header.text)) {\n                _this.items.splice(i, 0);\n                return;\n            }\n            var pos = (isNOU(item.header.iconPosition)) ? '' : item.header.iconPosition;\n            var css = (isNOU(item.header.iconCss)) ? '' : item.header.iconCss;\n            var txt = item.header.text;\n            _this.lastIndex = ((tbCount === 0) ? i : ((_this.isReplace) ? (index + i) : (_this.lastIndex + 1)));\n            var disabled = (item.disabled) ? ' ' + CLS_DISABLE + ' ' + CLS_OVERLAY : '';\n            txtWrapEle = _this.createElement('div', { className: CLS_TEXT, attrs: { 'role': 'presentation' } });\n            var tHtml = ((txt instanceof Object) ? txt.outerHTML : txt);\n            var txtEmpty = (!isNOU(tHtml) && tHtml !== '');\n            if (!isNOU(txt.tagName)) {\n                txtWrapEle.appendChild(txt);\n            }\n            else {\n                _this.headerTextCompile(txtWrapEle, txt);\n            }\n            var tEle;\n            var icon = _this.createElement('span', {\n                className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n            });\n            var tCont = _this.createElement('div', { className: CLS_TEXT_WRAP });\n            tCont.appendChild(txtWrapEle);\n            if ((txt === '' || txt === undefined) && css === '') {\n                return;\n            }\n            else {\n                if ((txt !== '' && txt !== undefined) && css !== '') {\n                    if ((pos === 'left' || pos === 'top')) {\n                        tCont.insertBefore(icon, tCont.firstElementChild);\n                    }\n                    else {\n                        tCont.appendChild(icon);\n                    }\n                    tEle = txtWrapEle;\n                }\n                else {\n                    tEle = ((css === '') ? txtWrapEle : icon);\n                    if (tEle === icon) {\n                        detach(txtWrapEle);\n                        tCont.appendChild(icon);\n                    }\n                }\n            }\n            var wrapAttrs = (item.disabled) ? {} : { tabIndex: '-1' };\n            tCont.appendChild(_this.btnCls.cloneNode(true));\n            var wrap = _this.createElement('div', { className: CLS_WRAP, attrs: wrapAttrs });\n            wrap.appendChild(tCont);\n            if (_this.itemIndexArray === []) {\n                _this.itemIndexArray.push(CLS_ITEM + '_' + _this.lastIndex);\n            }\n            else {\n                _this.itemIndexArray.splice((index + i), 0, CLS_ITEM + '_' + _this.lastIndex);\n            }\n            var attrObj = {\n                id: CLS_ITEM + '_' + _this.lastIndex, role: 'tab', 'aria-selected': 'false'\n            };\n            var tItem = { htmlAttributes: attrObj, template: wrap };\n            tItem.cssClass = item.cssClass + ' ' + disabled + ' ' + ((css !== '') ? 'e-i' + pos : '') + ' ' + ((!txtEmpty) ? CLS_ICON : '');\n            if (pos === 'top' || pos === 'bottom') {\n                _this.element.classList.add('e-vertical-icon');\n            }\n            tItems.push(tItem);\n        });\n        return tItems;\n    };\n    Tab.prototype.removeActiveClass = function (id) {\n        var hdrActEle = selectAll(':root .' + CLS_HEADER + ' .' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element)[0];\n        if (this.headerPlacement === 'Bottom') {\n            hdrActEle = selectAll(':root .' + CLS_HEADER + ' .' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element.children[1])[0];\n        }\n        if (!isNOU(hdrActEle)) {\n            hdrActEle.classList.remove(CLS_ACTIVE);\n            var no = this.extIndex(hdrActEle.id);\n            var trg = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + '_' + no);\n        }\n    };\n    Tab.prototype.checkPopupOverflow = function (ele) {\n        this.tbPop = select('.' + CLS_TB_POP, this.element);\n        var popIcon = select('.e-hor-nav', this.element);\n        var tbrItems = select('.' + CLS_TB_ITEMS, this.element);\n        if ((this.enableRtl && ((popIcon.offsetLeft + popIcon.offsetWidth) > tbrItems.offsetLeft))\n            || (!this.enableRtl && popIcon.offsetLeft < tbrItems.offsetWidth)) {\n            ele.classList.add(CLS_TB_POPUP);\n            this.tbPop.insertBefore(ele.cloneNode(true), selectAll('.' + CLS_TB_POPUP, this.tbPop)[0]);\n            ele.outerHTML = '';\n        }\n        return true;\n    };\n    Tab.prototype.popupHandler = function (target) {\n        var ripEle = target.querySelector('.e-ripple-element');\n        if (!isNOU(ripEle)) {\n            ripEle.outerHTML = '';\n            target.querySelector('.' + CLS_WRAP).classList.remove('e-ripple');\n        }\n        this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n        var lastChild = this.tbItem[this.tbItem.length - 1];\n        if (this.tbItem.length !== 0) {\n            target.classList.remove(CLS_TB_POPUP);\n            this.tbItems.appendChild(target.cloneNode(true));\n            this.actEleId = target.id;\n            target.outerHTML = '';\n            if (this.checkPopupOverflow(lastChild)) {\n                var prevEle = this.tbItems.lastChild.previousElementSibling;\n                this.checkPopupOverflow(prevEle);\n            }\n            this.isPopup = true;\n        }\n        return selectAll('.' + CLS_TB_ITEM, this.tbItems).length - 1;\n    };\n    Tab.prototype.setCloseButton = function (val) {\n        var trg = select('.' + CLS_HEADER, this.element);\n        (val === true) ? trg.classList.add(CLS_CLOSE_SHOW) : trg.classList.remove(CLS_CLOSE_SHOW);\n        this.tbObj.refreshOverflow();\n        this.refreshActElePosition();\n    };\n    Tab.prototype.prevCtnAnimation = function (prev, current) {\n        var animation;\n        var checkRTL = this.enableRtl || this.element.classList.contains(CLS_RTL);\n        if (this.isPopup || prev <= current) {\n            if (this.animation.previous.effect === 'SlideLeftIn') {\n                animation = { name: 'SlideLeftOut',\n                    duration: this.animation.previous.duration, timingFunction: this.animation.previous.easing };\n            }\n            else {\n                animation = null;\n            }\n        }\n        else {\n            if (this.animation.next.effect === 'SlideRightIn') {\n                animation = { name: 'SlideRightOut',\n                    duration: this.animation.next.duration, timingFunction: this.animation.next.easing };\n            }\n            else {\n                animation = null;\n            }\n        }\n        return animation;\n    };\n    Tab.prototype.triggerPrevAnimation = function (oldCnt, prevIndex) {\n        var _this = this;\n        var animateObj = this.prevCtnAnimation(prevIndex, this.selectedItem);\n        if (!isNOU(animateObj)) {\n            animateObj.begin = function () {\n                setStyle(oldCnt, { 'position': 'absolute' });\n                oldCnt.classList.add(CLS_PROGRESS);\n                oldCnt.classList.add('e-view');\n            };\n            animateObj.end = function () {\n                oldCnt.style.display = 'none';\n                oldCnt.classList.remove(CLS_ACTIVE);\n                oldCnt.classList.remove(CLS_PROGRESS);\n                oldCnt.classList.remove('e-view');\n                setStyle(oldCnt, { 'display': '', 'position': '' });\n                if (oldCnt.childNodes.length === 0 && !_this.isTemplate) {\n                    detach(oldCnt);\n                }\n            };\n            new Animation(animateObj).animate(oldCnt);\n        }\n        else {\n            oldCnt.classList.remove(CLS_ACTIVE);\n        }\n    };\n    Tab.prototype.triggerAnimation = function (id, value) {\n        var _this = this;\n        var prevIndex = this.prevIndex;\n        var itemCollection = [].slice.call(this.element.querySelector('.' + CLS_CONTENT).children);\n        var oldCnt;\n        itemCollection.forEach(function (item) {\n            if (item.id === _this.prevActiveEle) {\n                oldCnt = item;\n            }\n        });\n        var prevEle = this.tbItem[prevIndex];\n        var no = this.extIndex(this.tbItem[this.selectedItem].id);\n        var newCnt = this.getTrgContent(this.cntEle, no);\n        if (isNOU(oldCnt) && !isNOU(prevEle)) {\n            var idNo = this.extIndex(prevEle.id);\n            oldCnt = this.getTrgContent(this.cntEle, idNo);\n        }\n        this.prevActiveEle = newCnt.id;\n        if (this.initRender || value === false || this.animation === {} || isNOU(this.animation)) {\n            if (oldCnt && oldCnt !== newCnt) {\n                oldCnt.classList.remove(CLS_ACTIVE);\n            }\n            return;\n        }\n        var cnt = select('.' + CLS_CONTENT, this.element);\n        var animateObj;\n        if (this.prevIndex > this.selectedItem && !this.isPopup) {\n            var openEff = this.animation.previous.effect;\n            animateObj = {\n                name: ((openEff === 'None') ? '' : ((openEff !== 'SlideLeftIn') ? openEff : 'SlideLeftIn')),\n                duration: this.animation.previous.duration,\n                timingFunction: this.animation.previous.easing\n            };\n        }\n        else if (this.isPopup || this.prevIndex < this.selectedItem || this.prevIndex === this.selectedItem) {\n            var clsEff = this.animation.next.effect;\n            animateObj = {\n                name: ((clsEff === 'None') ? '' : ((clsEff !== 'SlideRightIn') ? clsEff : 'SlideRightIn')),\n                duration: this.animation.next.duration,\n                timingFunction: this.animation.next.easing\n            };\n        }\n        animateObj.progress = function () {\n            cnt.classList.add(CLS_PROGRESS);\n            _this.setActiveBorder();\n        };\n        animateObj.end = function () {\n            cnt.classList.remove(CLS_PROGRESS);\n            newCnt.classList.add(CLS_ACTIVE);\n        };\n        if (!this.initRender && !isNOU(oldCnt)) {\n            this.triggerPrevAnimation(oldCnt, prevIndex);\n        }\n        this.isPopup = false;\n        if (animateObj.name === '') {\n            newCnt.classList.add(CLS_ACTIVE);\n        }\n        else {\n            new Animation(animateObj).animate(newCnt);\n        }\n    };\n    Tab.prototype.keyPressed = function (trg) {\n        var trgParent = closest(trg, '.' + CLS_HEADER + ' .' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (!isNOU(this.popEle) && trg.classList.contains('e-hor-nav')) {\n            (this.popEle.classList.contains(CLS_POPUP_OPEN)) ? this.popObj.hide(this.hide) : this.popObj.show(this.show);\n        }\n        else if (trg.classList.contains('e-scroll-nav')) {\n            trg.click();\n        }\n        else {\n            if (!isNOU(trgParent) && trgParent.classList.contains(CLS_ACTIVE) === false) {\n                this.select(trgIndex);\n                if (!isNOU(this.popEle)) {\n                    this.popObj.hide(this.hide);\n                }\n            }\n        }\n    };\n    Tab.prototype.getEleIndex = function (item) {\n        return Array.prototype.indexOf.call(selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element), item);\n    };\n    Tab.prototype.extIndex = function (id) {\n        return id.replace(CLS_ITEM + '_', '');\n    };\n    Tab.prototype.expTemplateContent = function () {\n        var _this = this;\n        this.templateEle.forEach(function (eleStr) {\n            if (!isNOU(_this.element.querySelector(eleStr))) {\n                document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n    };\n    Tab.prototype.templateCompile = function (ele, cnt) {\n        var tempEle = this.createElement('div');\n        this.compileElement(tempEle, cnt, 'content');\n        if (tempEle.childNodes.length !== 0) {\n            ele.appendChild(tempEle);\n        }\n    };\n    Tab.prototype.compileElement = function (ele, val, prop) {\n        if (typeof val === 'string') {\n            val = val.trim();\n        }\n        var templateFn = compile(val);\n        var templateFUN;\n        if (!isNOU(templateFn)) {\n            templateFUN = templateFn({}, this, prop);\n        }\n        if (!isNOU(templateFn) && templateFUN.length > 0) {\n            [].slice.call(templateFUN).forEach(function (el) {\n                ele.appendChild(el);\n            });\n        }\n    };\n    Tab.prototype.headerTextCompile = function (element, text) {\n        this.compileElement(element, text, 'headerText');\n    };\n    Tab.prototype.getContent = function (ele, cnt, callType) {\n        var eleStr;\n        if (typeof cnt === 'string' || isNOU(cnt.innerHTML)) {\n            if (cnt[0] === '.' || cnt[0] === '#') {\n                if (document.querySelectorAll(cnt).length) {\n                    var eleVal = document.querySelector(cnt);\n                    eleStr = eleVal.outerHTML.trim();\n                    if (callType === 'clone') {\n                        ele.appendChild(eleVal.cloneNode(true));\n                    }\n                    else {\n                        ele.appendChild(eleVal);\n                        eleVal.style.display = '';\n                    }\n                }\n                else {\n                    this.templateCompile(ele, cnt);\n                }\n            }\n            else {\n                this.templateCompile(ele, cnt);\n            }\n        }\n        else {\n            ele.appendChild(cnt);\n        }\n        if (!isNOU(eleStr)) {\n            if (this.templateEle.indexOf(cnt.toString()) === -1) {\n                this.templateEle.push(cnt.toString());\n            }\n        }\n    };\n    Tab.prototype.getTrgContent = function (cntEle, no) {\n        var ele;\n        if (this.element.classList.contains(CLS_NEST)) {\n            ele = select('.' + CLS_NEST + '> .' + CLS_CONTENT + ' > #' + CLS_CONTENT + '_' + no, this.element);\n        }\n        else {\n            ele = this.findEle(cntEle.children, CLS_CONTENT + '_' + no);\n        }\n        return ele;\n    };\n    Tab.prototype.findEle = function (items, key) {\n        var ele;\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].id === key) {\n                ele = items[i];\n                break;\n            }\n        }\n        return ele;\n    };\n    Tab.prototype.setOrientation = function (place, ele) {\n        (place === 'Bottom') ? this.element.appendChild(ele) : this.element.insertBefore(ele, select('.' + CLS_CONTENT, this.element));\n    };\n    Tab.prototype.setCssClass = function (ele, cls, val) {\n        if (cls === '') {\n            return;\n        }\n        var list = cls.split(' ');\n        for (var i = 0; i < list.length; i++) {\n            if (val) {\n                ele.classList.add(list[i]);\n            }\n            else {\n                ele.classList.remove(list[i]);\n            }\n        }\n    };\n    Tab.prototype.setContentHeight = function (val) {\n        if (isNOU(this.cntEle)) {\n            return;\n        }\n        var height;\n        var hdrEle = select('.' + CLS_HEADER, this.element);\n        if (this.heightAdjustMode === 'None') {\n            if (this.height === 'auto') {\n                return;\n            }\n            else {\n                setStyle(this.cntEle, { 'height': (this.element.offsetHeight - hdrEle.offsetHeight) + 'px' });\n            }\n        }\n        else if (this.heightAdjustMode === 'Fill') {\n            setStyle(this.element, { 'height': '100%' });\n            setStyle(this.cntEle, { 'height': 'auto' });\n        }\n        else if (this.heightAdjustMode === 'Auto') {\n            var cnt = selectAll('.' + CLS_CONTENT + ' > .' + CLS_ITEM, this.element);\n            if (this.isTemplate === true) {\n                for (var i = 0; i < cnt.length; i++) {\n                    cnt[i].setAttribute('style', 'display:block; visibility: visible');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(cnt[i]));\n                    cnt[i].style.removeProperty('display');\n                    cnt[i].style.removeProperty('visibility');\n                }\n            }\n            else {\n                this.cntEle = select('.' + CLS_CONTENT, this.element);\n                if (val === true) {\n                    this.cntEle.appendChild(this.createElement('div', {\n                        id: (CLS_CONTENT + '_' + 0), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                        attrs: { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + 0 }\n                    }));\n                }\n                var ele = this.cntEle.children.item(0);\n                for (var i = 0; i < this.items.length; i++) {\n                    this.getContent(ele, this.items[i].content, 'clone');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(ele));\n                    ele.innerHTML = '';\n                }\n                this.templateEle = [];\n                this.getContent(ele, this.items[0].content, 'render');\n                ele.classList.remove(CLS_ACTIVE);\n            }\n            setStyle(this.cntEle, { 'height': this.maxHeight + 'px' });\n        }\n        else {\n            setStyle(this.cntEle, { 'height': 'auto' });\n        }\n    };\n    Tab.prototype.getHeight = function (ele) {\n        var cs = window.getComputedStyle(ele);\n        return ele.offsetHeight + parseFloat(cs.getPropertyValue('padding-top')) + parseFloat(cs.getPropertyValue('padding-bottom')) +\n            parseFloat(cs.getPropertyValue('margin-top')) + parseFloat(cs.getPropertyValue('margin-bottom'));\n    };\n    Tab.prototype.setActiveBorder = function () {\n        var trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element);\n        if (this.headerPlacement === 'Bottom') {\n            trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element.children[1]);\n        }\n        if (trg === null) {\n            return;\n        }\n        var root = closest(trg, '.' + CLS_TAB);\n        if (this.element !== root) {\n            return;\n        }\n        var hsCnt = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS + ' .e-hscroll-content', this.element.children[0]);\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        var bar = select('.' + CLS_HEADER + ' .' + CLS_INDICATOR, this.element);\n        if (this.headerPlacement === 'Bottom') {\n            hsCnt = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS + ' .e-hscroll-content', this.element.children[1]);\n        }\n        var tbWidth = (isNOU(hsCnt)) ? this.tbItems.offsetWidth : hsCnt.offsetWidth;\n        if (tbWidth !== 0) {\n            setStyle(bar, { 'left': trg.offsetLeft + 'px', 'right': tbWidth - (trg.offsetLeft + trg.offsetWidth) + 'px' });\n        }\n        else {\n            setStyle(bar, { 'left': 'auto', 'right': 'auto' });\n        }\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.remove(CLS_HIDDEN);\n        }\n    };\n    Tab.prototype.setActive = function (value) {\n        this.tbItem = selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element);\n        var trg = this.tbItem[value];\n        if (value >= 0) {\n            this.setProperties({ selectedItem: value }, true);\n        }\n        if (value < 0 || isNaN(value) || this.tbItem.length === 0) {\n            return;\n        }\n        if (trg.classList.contains(CLS_ACTIVE)) {\n            this.setActiveBorder();\n            return;\n        }\n        if (!this.isTemplate) {\n            var prev = this.tbItem[this.prevIndex];\n            if (!isNOU(prev)) {\n                prev.removeAttribute('aria-controls');\n            }\n            attributes(trg, { 'aria-controls': CLS_CONTENT + '_' + value });\n        }\n        var id = trg.id;\n        this.removeActiveClass(id);\n        trg.classList.add(CLS_ACTIVE);\n        trg.setAttribute('aria-selected', 'true');\n        var no = Number(this.extIndex(id));\n        if (isNOU(this.prevActiveEle)) {\n            this.prevActiveEle = CLS_CONTENT + '_' + no;\n        }\n        attributes(this.element, { 'aria-activedescendant': id });\n        if (this.isTemplate) {\n            if (select('.' + CLS_CONTENT, this.element).children.length > 0) {\n                var trg_1 = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + '_' + no);\n                if (!isNOU(trg_1)) {\n                    trg_1.classList.add(CLS_ACTIVE);\n                }\n                this.triggerAnimation(id, this.enableAnimation);\n            }\n        }\n        else {\n            this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n            if (isNOU(item)) {\n                this.cntEle.appendChild(this.createElement('div', {\n                    id: CLS_CONTENT + '_' + this.extIndex(id), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                    attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + this.extIndex(id) }\n                }));\n                var eleTrg = this.getTrgContent(this.cntEle, this.extIndex(id));\n                var itemIndex = Array.prototype.indexOf.call(this.itemIndexArray, trg.id);\n                this.getContent(eleTrg, this.items[itemIndex].content, 'render');\n            }\n            else {\n                item.classList.add(CLS_ACTIVE);\n            }\n            this.triggerAnimation(id, this.enableAnimation);\n        }\n        this.setActiveBorder();\n        var curActItem = select('.' + CLS_HEADER + ' #' + id, this.element);\n        this.refreshItemVisibility(curActItem);\n        curActItem.firstChild.focus();\n        var eventArg = {\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: trg,\n            selectedIndex: value,\n            isSwiped: this.isSwipeed\n        };\n        if (!this.initRender || this.selectedItem !== 0) {\n            this.trigger('selected', eventArg);\n        }\n    };\n    Tab.prototype.setItems = function (items) {\n        this.isReplace = true;\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        this.tbObj.items = this.parseObject(items, 0);\n        this.tbObj.dataBind();\n        this.isReplace = false;\n    };\n    Tab.prototype.setRTL = function (value) {\n        this.tbObj.enableRtl = value;\n        this.tbObj.dataBind();\n        this.setCssClass(this.element, CLS_RTL, value);\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshActiveBorder = function () {\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.add(CLS_HIDDEN);\n        }\n        this.setActiveBorder();\n    };\n    Tab.prototype.wireEvents = function () {\n        window.addEventListener('resize', this.refreshActElePosition.bind(this));\n        EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n        EventHandler.add(this.element, 'keydown', this.spaceKeyDown, this);\n        if (!isNOU(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n        this.keyModule = new KeyboardEvents(this.element, { keyAction: this.keyHandler.bind(this), keyConfigs: this.keyConfigs });\n        this.tabKeyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyHandler.bind(this),\n            keyConfigs: { openPopup: 'shift+f10', tab: 'tab', shiftTab: 'shift+tab' },\n            eventName: 'keydown'\n        });\n    };\n    Tab.prototype.unWireEvents = function () {\n        this.keyModule.destroy();\n        this.tabKeyModule.destroy();\n        if (!isNOU(this.cntEle)) {\n            this.touchModule.destroy();\n        }\n        window.removeEventListener('resize', this.refreshActElePosition.bind(this));\n        this.element.removeEventListener('mouseover', this.hoverHandler.bind(this));\n    };\n    Tab.prototype.clickHandler = function (args) {\n        this.element.classList.remove(CLS_FOCUS);\n        var trg = args.originalEvent.target;\n        var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (trg.classList.contains(CLS_ICON_CLOSE)) {\n            this.removeTab(trgIndex);\n        }\n        else {\n            this.isPopup = false;\n            if (!isNOU(trgParent) && trgIndex !== this.selectedItem) {\n                this.select(trgIndex);\n            }\n        }\n    };\n    Tab.prototype.swipeHandler = function (e) {\n        if (e.velocity < 3 && isNOU(e.originalEvent.changedTouches)) {\n            return;\n        }\n        this.isSwipeed = true;\n        if (e.swipeDirection === 'Right' && this.selectedItem !== 0) {\n            for (var k = this.selectedItem - 1; k >= 0; k--) {\n                if (!this.tbItem[k].classList.contains('e-hidden')) {\n                    this.select(k);\n                    break;\n                }\n            }\n        }\n        else if (e.swipeDirection === 'Left' && (this.selectedItem !== selectAll('.' + CLS_TB_ITEM, this.element).length - 1)) {\n            for (var i = this.selectedItem + 1; i < this.tbItem.length; i++) {\n                if (!this.tbItem[i].classList.contains('e-hidden')) {\n                    this.select(i);\n                    break;\n                }\n            }\n        }\n        this.isSwipeed = false;\n    };\n    Tab.prototype.spaceKeyDown = function (e) {\n        if ((e.keyCode === 32 && e.which === 32) || (e.keyCode === 35 && e.which === 35)) {\n            var clstHead = closest(e.target, '.' + CLS_HEADER);\n            if (!isNOU(clstHead)) {\n                e.preventDefault();\n            }\n        }\n    };\n    Tab.prototype.keyHandler = function (e) {\n        if (this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        this.element.classList.add(CLS_FOCUS);\n        var trg = e.target;\n        var actEle = select('.' + CLS_HEADER + ' .' + CLS_ACTIVE, this.element);\n        var tabItem = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', this.element);\n        this.popEle = select('.' + CLS_TB_POP, this.element);\n        if (!isNOU(this.popEle)) {\n            this.popObj = this.popEle.ej2_instances[0];\n        }\n        switch (e.action) {\n            case 'space':\n            case 'enter':\n                if (trg.parentElement.classList.contains(CLS_DISABLE)) {\n                    return;\n                }\n                if (e.action === 'enter' && trg.classList.contains('e-hor-nav')) {\n                    break;\n                }\n                this.keyPressed(trg);\n                break;\n            case 'tab':\n            case 'shiftTab':\n                if (trg.classList.contains(CLS_WRAP)\n                    && closest(trg, '.' + CLS_TB_ITEM).classList.contains(CLS_ACTIVE) === false) {\n                    trg.setAttribute('tabindex', '-1');\n                }\n                if (this.popObj && isVisible(this.popObj.element)) {\n                    this.popObj.hide(this.hide);\n                }\n                actEle.children.item(0).setAttribute('tabindex', '0');\n                break;\n            case 'moveLeft':\n            case 'moveRight':\n                var item = closest(document.activeElement, '.' + CLS_TB_ITEM);\n                if (!isNOU(item)) {\n                    this.refreshItemVisibility(item);\n                }\n                break;\n            case 'openPopup':\n                e.preventDefault();\n                if (!isNOU(this.popEle) && this.popEle.classList.contains(CLS_POPUP_CLOSE)) {\n                    this.popObj.show(this.show);\n                }\n                break;\n            case 'delete':\n                var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n                if (this.showCloseButton === true && !isNOU(trgParent)) {\n                    var nxtSib = trgParent.nextSibling;\n                    if (!isNOU(nxtSib) && nxtSib.classList.contains(CLS_TB_ITEM)) {\n                        nxtSib.firstChild.focus();\n                    }\n                    this.removeTab(this.getEleIndex(trgParent));\n                }\n                this.setActiveBorder();\n                break;\n        }\n    };\n    Tab.prototype.refreshActElePosition = function () {\n        var activeEle = select('.' + CLS_TB_ITEM + '.' + CLS_TB_POPUP + '.' + CLS_ACTIVE, this.element);\n        if (!isNOU(activeEle)) {\n            this.select(this.getEleIndex(activeEle));\n        }\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshItemVisibility = function (target) {\n        var scrCnt = select('.e-hscroll-content', this.tbItems);\n        if (!isNOU(scrCnt)) {\n            var scrBar = select('.e-hscroll-bar', this.tbItems);\n            var scrStart = scrBar.scrollLeft;\n            var scrEnd = scrStart + scrBar.offsetWidth;\n            var eleStart = target.offsetLeft;\n            var eleWidth = target.offsetWidth;\n            var eleEnd = target.offsetLeft + target.offsetWidth;\n            if ((scrStart < eleStart) && (scrEnd < eleEnd)) {\n                var eleViewRange = scrEnd - eleStart;\n                scrBar.scrollLeft = scrStart + (eleWidth - eleViewRange);\n            }\n            else {\n                if ((scrStart > eleStart) && (scrEnd > eleEnd)) {\n                    var eleViewRange = eleEnd - scrStart;\n                    scrBar.scrollLeft = scrStart - (eleWidth - eleViewRange);\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    Tab.prototype.hoverHandler = function (e) {\n        var trg = e.target;\n        if (!isNOU(trg.classList) && trg.classList.contains(CLS_ICON_CLOSE)) {\n            trg.setAttribute('title', new L10n('tab', { closeButtonTitle: this.title }, this.locale).getConstant('closeButtonTitle'));\n        }\n    };\n    /**\n     * Enables or disables the specified Tab item. On passing value as `false`, the item will be disabled.\n     * @param  {number} index - Index value of target Tab item.\n     * @param  {boolean} value - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, isEnable is true.\n     * @returns void.\n     */\n    Tab.prototype.enableTab = function (index, value) {\n        var tbItems = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(tbItems)) {\n            return;\n        }\n        if (value === true) {\n            tbItems.classList.remove(CLS_DISABLE, CLS_OVERLAY);\n            tbItems.firstChild.setAttribute('tabindex', '-1');\n        }\n        else {\n            tbItems.classList.add(CLS_DISABLE, CLS_OVERLAY);\n            tbItems.firstChild.removeAttribute('tabindex');\n            if (tbItems.classList.contains(CLS_ACTIVE)) {\n                this.select(index + 1);\n            }\n        }\n        if (!isNOU(this.items[index])) {\n            this.items[index].disabled = !value;\n            this.dataBind();\n        }\n        tbItems.setAttribute('aria-disabled', (value === true) ? 'false' : 'true');\n    };\n    /**\n     * Adds new items to the Tab that accepts an array as Tab items.\n     * @param  {TabItemsModel[]} items - An array of item that is added to the Tab.\n     * @param  {number} index - Number value that determines where the items to be added. By default, index is 0.\n     * @returns void.\n     */\n    Tab.prototype.addTab = function (items, index) {\n        var _this = this;\n        var lastEleIndex = 0;\n        if (!this.isReplace) {\n            this.trigger('adding', { addedItems: items });\n        }\n        this.hdrEle = select('.' + CLS_HEADER, this.element);\n        if (isNOU(this.hdrEle)) {\n            this.items = items;\n            this.reRenderItems();\n            return;\n        }\n        var itemsCount = selectAll('.' + CLS_TB_ITEM, this.element).length;\n        if (itemsCount !== 0) {\n            lastEleIndex = this.lastIndex + 1;\n        }\n        if (isNOU(index)) {\n            index = itemsCount - 1;\n        }\n        if (itemsCount < index || index < 0 || isNaN(index)) {\n            return;\n        }\n        if (itemsCount === 0 && !isNOU(this.hdrEle)) {\n            this.hdrEle.style.display = '';\n        }\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.add(CLS_HIDDEN);\n        }\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        var tabItems = this.parseObject(items, index);\n        items.forEach(function (item, place) {\n            _this.items.splice((index + place), 0, item);\n            if (_this.isTemplate && !isNOU(item.header) && !isNOU(item.header.text)) {\n                var no = lastEleIndex + place;\n                var ele = _this.createElement('div', {\n                    id: CLS_CONTENT + '_' + no, className: CLS_ITEM, attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + no }\n                });\n                _this.cntEle.insertBefore(ele, _this.cntEle.children[(index + place)]);\n                var eleTrg = _this.getTrgContent(_this.cntEle, no.toString());\n                _this.getContent(eleTrg, item.content, 'render');\n            }\n        });\n        this.tbObj.addItems(tabItems, index);\n        if (!this.isReplace) {\n            this.trigger('added', { addedItems: items });\n        }\n        if (this.selectedItem === index) {\n            this.select(index);\n        }\n        else {\n            this.setActiveBorder();\n        }\n    };\n    /**\n     * Removes the items in the Tab from the specified index.\n     * @param  {number} index - Index of target item that is going to be removed.\n     * @returns void.\n     */\n    Tab.prototype.removeTab = function (index) {\n        var trg = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        var removeArgs = { removedItem: trg, removedIndex: index };\n        this.trigger('removing', removeArgs);\n        if (isNOU(trg)) {\n            return;\n        }\n        this.tbObj.removeItems(index);\n        this.items.splice(index, 1);\n        this.itemIndexArray.splice(index, 1);\n        this.refreshActiveBorder();\n        var cntTrg = select('#' + CLS_CONTENT + '_' + this.extIndex(trg.id), select('.' + CLS_CONTENT, this.element));\n        if (!isNOU(cntTrg)) {\n            detach(cntTrg);\n        }\n        this.trigger('removed', removeArgs);\n        if (trg.classList.contains(CLS_ACTIVE)) {\n            index = (index > selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', this.element).length - 1) ? index - 1 : index;\n            this.enableAnimation = false;\n            this.selectedItem = index;\n            this.select(index);\n        }\n        if (selectAll('.' + CLS_TB_ITEM, this.element).length === 0) {\n            this.hdrEle.style.display = 'none';\n        }\n        this.enableAnimation = true;\n    };\n    /**\n     * Shows or hides the Tab that is in the specified index.\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (false) or show (true). By default, value is true.\n     * @returns void.\n     */\n    Tab.prototype.hideTab = function (index, value) {\n        var item = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(item)) {\n            return;\n        }\n        if (isNOU(value)) {\n            value = true;\n        }\n        this.bdrLine.classList.add(CLS_HIDDEN);\n        if (value === true) {\n            item.classList.add(CLS_HIDDEN);\n            if (item.classList.contains(CLS_ACTIVE)) {\n                if (index !== 0) {\n                    for (var i = index - 1; i >= 0; i--) {\n                        if (!this.tbItem[i].classList.contains('e-hidden')) {\n                            this.select(i);\n                            break;\n                        }\n                        else if (i === 0) {\n                            for (var k = index + 1; k < this.tbItem.length; k++) {\n                                if (!this.tbItem[k].classList.contains('e-hidden')) {\n                                    this.select(k);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    for (var k = index + 1; k < this.tbItem.length; k++) {\n                        if (!this.tbItem[k].classList.contains('e-hidden')) {\n                            this.select(k);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            item.classList.remove(CLS_HIDDEN);\n        }\n        this.setActiveBorder();\n        item.setAttribute('aria-hidden', '' + value);\n    };\n    /**\n     * Specifies the index or HTMLElement to select an item from the Tab.\n     * @param  {number | HTMLElement} args - Index or DOM element is used for selecting an item from the Tab.\n     * @returns void.\n     */\n    Tab.prototype.select = function (args) {\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        this.tbItem = selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element);\n        this.prevItem = this.tbItem[this.prevIndex];\n        var trg = this.tbItem[args];\n        if (!isNOU(this.prevItem) && !this.prevItem.classList.contains(CLS_DISABLE)) {\n            this.prevItem.children.item(0).setAttribute('tabindex', '-1');\n        }\n        var eventArg = {\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: this.tbItem[this.selectedItem],\n            selectedIndex: this.selectedItem,\n            selectingItem: trg,\n            selectingIndex: args,\n            isSwiped: this.isSwipeed\n        };\n        if (!this.initRender || this.selectedItem !== 0) {\n            this.trigger('selecting', eventArg);\n        }\n        if (eventArg.cancel) {\n            return;\n        }\n        if (typeof args === 'number') {\n            if (!isNOU(this.tbItem[args]) && this.tbItem[args].classList.contains(CLS_DISABLE)) {\n                for (var i = args + 1; i < this.items.length; i++) {\n                    if (this.items[i].disabled === false) {\n                        args = i;\n                        break;\n                    }\n                    else {\n                        args = 0;\n                    }\n                }\n            }\n            if (this.tbItem.length > args && args >= 0 && !isNaN(args)) {\n                if (!this.tbItem[this.selectedItem].classList.contains('e-hidden')) {\n                    this.prevIndex = this.selectedItem;\n                }\n                else {\n                    for (var i = this.selectedItem; i >= 0; i--) {\n                        if (!this.tbItem[i].classList.contains('e-hidden')) {\n                            this.prevIndex = i;\n                            break;\n                        }\n                    }\n                }\n                if (this.tbItem[args].classList.contains(CLS_TB_POPUP)) {\n                    this.setActive(this.popupHandler(this.tbItem[args]));\n                }\n                else {\n                    this.setActive(args);\n                }\n            }\n            else {\n                this.setActive(0);\n            }\n        }\n        else if (args instanceof (HTMLElement)) {\n            this.setActive(this.getEleIndex(args));\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Tab component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, Tab will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    Tab.prototype.disable = function (value) {\n        this.setCssClass(this.element, CLS_DISABLE, value);\n        this.element.setAttribute('aria-disabled', '' + value);\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    Tab.prototype.getPersistData = function () {\n        return this.addOnPersist(['selectedItem', 'actEleId']);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Tab.prototype.getModuleName = function () {\n        return 'tab';\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {TabModel} newProp\n     * @param  {TabModel} oldProp\n     * @returns void\n     * @private\n     */\n    Tab.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyle(this.element, { width: formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyle(this.element, { height: formatUnit(newProp.height) });\n                    this.setContentHeight(false);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(this.element, newProp.cssClass, true);\n                    break;\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProp.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var oldVal = Object(oldProp.items[index])[property];\n                            var newVal = Object(newProp.items[index])[property];\n                            var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM + '_' + index, this.element);\n                            var cntItem = select('.' + CLS_CONTENT + ' #' + CLS_CONTENT + '_' + index, this.element);\n                            if (property === 'header') {\n                                var arr = [];\n                                arr.push(this.items[index]);\n                                this.items.splice(index, 1);\n                                this.itemIndexArray.splice(index, 1);\n                                this.tbObj.items.splice(index, 1);\n                                var isHiddenEle = hdrItem.classList.contains(CLS_HIDDEN);\n                                detach(hdrItem);\n                                this.isReplace = true;\n                                this.addTab(arr, index);\n                                if (isHiddenEle) {\n                                    this.hideTab(index);\n                                }\n                                this.isReplace = false;\n                            }\n                            if (property === 'content' && !isNOU(cntItem)) {\n                                var strVal = typeof newVal === 'string' || isNOU(newVal.innerHTML);\n                                if (strVal && (newVal[0] === '.' || newVal[0] === '#') && newVal.length) {\n                                    var eleVal = document.querySelector(newVal);\n                                    cntItem.appendChild(eleVal);\n                                    eleVal.style.display = '';\n                                }\n                                else if (newVal === '' && oldVal[0] === '#') {\n                                    document.body.appendChild(this.element.querySelector(oldVal)).style.display = 'none';\n                                    cntItem.innerHTML = newVal;\n                                }\n                                else {\n                                    cntItem.innerHTML = newVal;\n                                }\n                            }\n                            if (property === 'cssClass') {\n                                if (!isNOU(hdrItem)) {\n                                    hdrItem.classList.remove(oldVal);\n                                    hdrItem.classList.add(newVal);\n                                }\n                                if (!isNOU(cntItem)) {\n                                    cntItem.classList.remove(oldVal);\n                                    cntItem.classList.add(newVal);\n                                }\n                            }\n                            if (property === 'disabled') {\n                                this.enableTab(index, ((newVal === true) ? false : true));\n                            }\n                        }\n                    }\n                    else {\n                        this.lastIndex = 0;\n                        if (isNOU(this.tbObj)) {\n                            this.reRenderItems();\n                        }\n                        else {\n                            this.setItems(newProp.items);\n                            if (this.templateEle.length > 0) {\n                                this.expTemplateContent();\n                            }\n                            this.templateEle = [];\n                            select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element).innerHTML = '';\n                            this.select(this.selectedItem);\n                        }\n                    }\n                    break;\n                case 'showCloseButton':\n                    this.setCloseButton(newProp.showCloseButton);\n                    break;\n                case 'selectedItem':\n                    this.selectedItem = oldProp.selectedItem;\n                    this.select(newProp.selectedItem);\n                    break;\n                case 'headerPlacement':\n                    var tempHdrEle = select('.' + CLS_HEADER, this.element);\n                    this.setOrientation(newProp.headerPlacement, tempHdrEle);\n                    this.select(this.selectedItem);\n                    break;\n                case 'enableRtl':\n                    this.setRTL(newProp.enableRtl);\n                    break;\n                case 'overflowMode':\n                    this.tbObj.overflowMode = newProp.overflowMode;\n                    this.tbObj.dataBind();\n                    this.refreshActElePosition();\n                    break;\n                case 'heightAdjustMode':\n                    this.setContentHeight(false);\n                    this.select(this.selectedItem);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Collection([], TabItem)\n    ], Tab.prototype, \"items\", void 0);\n    __decorate([\n        Property('100%')\n    ], Tab.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tab.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Tab.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(0)\n    ], Tab.prototype, \"selectedItem\", void 0);\n    __decorate([\n        Property('Top')\n    ], Tab.prototype, \"headerPlacement\", void 0);\n    __decorate([\n        Property('Content')\n    ], Tab.prototype, \"heightAdjustMode\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Tab.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"showCloseButton\", void 0);\n    __decorate([\n        Complex({}, TabAnimationSettings)\n    ], Tab.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"adding\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"added\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selecting\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selected\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removed\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"destroyed\", void 0);\n    Tab = __decorate([\n        NotifyPropertyChanges\n    ], Tab);\n    return Tab;\n}(Component));\nexport { Tab };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, Browser, L10n } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, setStyleAttribute, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getValue, formatUnit, setValue, merge } from '@syncfusion/ej2-base';\nimport { Internationalization, getNumericObject } from '@syncfusion/ej2-base';\nimport { Input } from '../input/input';\nvar ROOT = 'e-control-wrapper e-numeric';\nvar SPINICON = 'e-input-group-icon';\nvar SPINUP = 'e-spin-up';\nvar SPINDOWN = 'e-spin-down';\nvar ERROR = 'e-error';\nvar INCREMENT = 'increment';\nvar DECREMENT = 'decrement';\nvar INTREGEXP = new RegExp('^(-)?(\\\\d*)$');\nvar DECIMALSEPARATOR = '.';\nvar COMPONENT = 'e-numerictextbox';\nvar CONTROL = 'e-control';\n/**\n * Represents the NumericTextBox component that allows the user to enter only numeric values.\n * ```html\n * <input type='text' id=\"numeric\"/>\n * ```\n * ```typescript\n * <script>\n *   var numericObj = new NumericTextBox({ value: 10 });\n *   numericObj.appendTo(\"#numeric\");\n * </script>\n * ```\n */\nvar NumericTextBox = /** @class */ (function (_super) {\n    __extends(NumericTextBox, _super);\n    function NumericTextBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    NumericTextBox.prototype.preRender = function () {\n        this.isPrevFocused = false;\n        this.decimalSeparator = '.';\n        this.intRegExp = new RegExp('/^(-)?(\\d*)$/');\n        this.isCalled = false;\n        var ejInstance = getValue('ej2_instances', this.element);\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [CONTROL, COMPONENT]);\n        this.angularTagName = null;\n        if (this.element.tagName === 'EJS-NUMERICTEXTBOX') {\n            this.angularTagName = this.element.tagName;\n            var input = this.createElement('input');\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                input.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n                input.innerHTML = this.element.innerHTML;\n            }\n            if (this.element.hasAttribute('id')) {\n                this.element.removeAttribute('id');\n            }\n            this.element.classList.remove('e-control', 'e-numerictextbox');\n            this.element.appendChild(input);\n            this.element = input;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        attributes(this.element, { 'role': 'spinbutton', 'tabindex': '0', 'autocomplete': 'off', 'aria-live': 'assertive' });\n        var localeText = { incrementTitle: 'Increment value', decrementTitle: 'Decrement value', placeholder: '' };\n        this.l10n = new L10n('numerictextbox', localeText, this.locale);\n        this.isValidState = true;\n        this.inputStyle = null;\n        this.inputName = null;\n        this.cultureInfo = {};\n        this.initCultureInfo();\n        this.initCultureFunc();\n        this.checkAttributes();\n        this.prevValue = this.value;\n        this.validateMinMax();\n        this.validateStep();\n        if (this.placeholder === null) {\n            this.updatePlaceholder();\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    NumericTextBox.prototype.render = function () {\n        if (this.element.tagName.toLowerCase() === 'input') {\n            this.createWrapper();\n            if (this.showSpinButton) {\n                this.spinBtnCreation();\n            }\n            if (!isNullOrUndefined(this.width)) {\n                setStyleAttribute(this.container, { 'width': formatUnit(this.width) });\n            }\n            if (!this.container.classList.contains('e-input-group')) {\n                this.container.classList.add('e-input-group');\n            }\n            this.changeValue(this.value === null || isNaN(this.value) ? null : this.strictMode ? this.trimValue(this.value) : this.value);\n            this.wireEvents();\n            if (this.value !== null && !isNaN(this.value)) {\n                if (this.decimals) {\n                    this.setProperties({ value: this.roundNumber(this.value, this.decimals) }, true);\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.checkAttributes = function () {\n        var attributes = ['value', 'min', 'max', 'step', 'disabled', 'readonly', 'style', 'name'];\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.element.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        var enabled = this.element.getAttribute(prop) === 'disabled' ||\n                            this.element.getAttribute(prop) === 'true' ? false : true;\n                        this.setProperties({ enabled: enabled }, true);\n                        break;\n                    case 'readonly':\n                        var readonly = this.element.getAttribute(prop) === 'readonly'\n                            || this.element.getAttribute(prop) === 'true' ? true : false;\n                        this.setProperties({ readonly: readonly }, true);\n                        break;\n                    case 'style':\n                        this.inputStyle = this.element.getAttribute(prop);\n                        break;\n                    case 'name':\n                        this.inputName = this.element.getAttribute(prop);\n                        break;\n                    default:\n                        var value = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                        if ((value !== null && !isNaN(value)) || (prop === 'value')) {\n                            this.setProperties(setValue(prop, value, {}), true);\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.updatePlaceholder = function () {\n        this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n    };\n    NumericTextBox.prototype.initCultureFunc = function () {\n        this.instance = new Internationalization(this.locale);\n    };\n    NumericTextBox.prototype.initCultureInfo = function () {\n        this.cultureInfo.format = this.format;\n        if (getValue('currency', this) !== null) {\n            setValue('currency', this.currency, this.cultureInfo);\n            this.setProperties({ currencyCode: this.currency }, true);\n        }\n    };\n    /* Wrapper creation */\n    NumericTextBox.prototype.createWrapper = function () {\n        var inputObj = Input.createInput({\n            element: this.element,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: this.cssClass,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton,\n                enabled: this.enabled\n            }\n        }, this.createElement);\n        this.inputWrapper = inputObj;\n        this.container = inputObj.container;\n        this.container.setAttribute('class', ROOT + ' ' + this.container.getAttribute('class'));\n        if (this.readonly) {\n            attributes(this.element, { 'aria-readonly': 'true' });\n        }\n        this.hiddenInput = (this.createElement('input', { attrs: { type: 'hidden', 'validateHidden': 'true' } }));\n        this.inputName = this.inputName !== null ? this.inputName : this.element.id;\n        this.element.removeAttribute('name');\n        attributes(this.hiddenInput, { 'name': this.inputName });\n        this.container.insertBefore(this.hiddenInput, this.container.childNodes[1]);\n        if (this.inputStyle !== null) {\n            attributes(this.container, { 'style': this.inputStyle });\n        }\n    };\n    /* Spinner creation */\n    NumericTextBox.prototype.spinBtnCreation = function () {\n        this.spinDown = Input.appendSpan(SPINICON + ' ' + SPINDOWN, this.container, this.createElement);\n        attributes(this.spinDown, {\n            'title': this.l10n.getConstant('decrementTitle'),\n            'aria-label': this.l10n.getConstant('decrementTitle')\n        });\n        this.spinUp = Input.appendSpan(SPINICON + ' ' + SPINUP, this.container, this.createElement);\n        attributes(this.spinUp, {\n            'title': this.l10n.getConstant('incrementTitle'),\n            'aria-label': this.l10n.getConstant('incrementTitle')\n        });\n        this.wireSpinBtnEvents();\n    };\n    NumericTextBox.prototype.validateMinMax = function () {\n        if (!(typeof (this.min) === 'number' && !isNaN(this.min))) {\n            this.setProperties({ min: -(Number.MAX_VALUE) }, true);\n        }\n        if (!(typeof (this.max) === 'number' && !isNaN(this.max))) {\n            this.setProperties({ max: Number.MAX_VALUE }, true);\n        }\n        if (this.decimals !== null) {\n            if (this.min !== -(Number.MAX_VALUE)) {\n                this.setProperties({ min: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.min)) }, true);\n            }\n            if (this.max !== (Number.MAX_VALUE)) {\n                this.setProperties({ max: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.max)) }, true);\n            }\n        }\n        this.setProperties({ min: this.min > this.max ? this.max : this.min }, true);\n        attributes(this.element, { 'aria-valuemin': this.min.toString(), 'aria-valuemax': this.max.toString() });\n    };\n    NumericTextBox.prototype.formattedValue = function (decimals, value) {\n        return this.instance.getNumberFormat({\n            maximumFractionDigits: decimals,\n            minimumFractionDigits: decimals, useGrouping: false\n        })(value);\n    };\n    NumericTextBox.prototype.validateStep = function () {\n        if (this.decimals !== null) {\n            this.setProperties({ step: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.step)) }, true);\n        }\n    };\n    NumericTextBox.prototype.action = function (operation, event) {\n        this.isInteract = true;\n        var value = this.isFocused ? this.instance.getNumberParser({ format: 'n' })(this.element.value) : this.value;\n        this.changeValue(this.performAction(value, this.step, operation));\n        this.raiseChangeEvent(event);\n    };\n    NumericTextBox.prototype.checkErrorClass = function () {\n        if (this.isValidState) {\n            removeClass([this.container], ERROR);\n        }\n        else {\n            addClass([this.container], ERROR);\n        }\n        attributes(this.element, { 'aria-invalid': this.isValidState ? 'false' : 'true' });\n    };\n    NumericTextBox.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n    };\n    NumericTextBox.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        if (!(this.inputWrapper.clearButton.classList.contains('e-clear-icon-hide'))) {\n            this.clear(e);\n        }\n    };\n    NumericTextBox.prototype.clear = function (event) {\n        this.setProperties({ value: null }, true);\n        this.setElementValue('');\n    };\n    NumericTextBox.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'focus', this.focusIn, this);\n        EventHandler.add(this.element, 'blur', this.focusOut, this);\n        EventHandler.add(this.element, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(this.element, 'keyup', this.keyUpHandler, this);\n        EventHandler.add(this.element, 'input', this.inputHandler, this);\n        EventHandler.add(this.element, 'keypress', this.keyPressHandler, this);\n        EventHandler.add(this.element, 'change', this.changeHandler, this);\n        EventHandler.add(this.element, 'paste', this.pasteHandler, this);\n        if (this.enabled) {\n            this.bindClearEvent();\n        }\n    };\n    NumericTextBox.prototype.wireSpinBtnEvents = function () {\n        /* bind spin button events */\n        EventHandler.add(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\n        EventHandler.add(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\n        EventHandler.add(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\n    };\n    NumericTextBox.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'focus', this.focusIn);\n        EventHandler.remove(this.element, 'blur', this.focusOut);\n        EventHandler.remove(this.element, 'keyup', this.keyUpHandler);\n        EventHandler.remove(this.element, 'input', this.inputHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyDownHandler);\n        EventHandler.remove(this.element, 'keypress', this.keyPressHandler);\n        EventHandler.remove(this.element, 'change', this.changeHandler);\n        EventHandler.remove(this.element, 'paste', this.pasteHandler);\n    };\n    NumericTextBox.prototype.unwireSpinBtnEvents = function () {\n        /* unbind spin button events */\n        EventHandler.remove(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner);\n        EventHandler.remove(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner);\n        EventHandler.remove(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner);\n    };\n    NumericTextBox.prototype.changeHandler = function (event) {\n        if (!this.element.value.length) {\n            this.setProperties({ value: null }, true);\n        }\n        var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n        this.updateValue(parsedInput, event);\n    };\n    NumericTextBox.prototype.raiseChangeEvent = function (event) {\n        if (this.prevValue !== this.value) {\n            var eventArgs = {};\n            this.changeEventArgs = { value: this.value, previousValue: this.prevValue, isInteraction: this.isInteract, event: event };\n            if (event) {\n                this.changeEventArgs.event = event;\n            }\n            merge(eventArgs, this.changeEventArgs);\n            this.prevValue = this.value;\n            this.isInteract = false;\n            this.trigger('change', eventArgs);\n        }\n    };\n    NumericTextBox.prototype.pasteHandler = function () {\n        var _this = this;\n        var beforeUpdate = this.element.value;\n        setTimeout(function () {\n            if (!_this.numericRegex().test(_this.element.value)) {\n                _this.setElementValue(beforeUpdate);\n            }\n        });\n    };\n    NumericTextBox.prototype.preventHandler = function () {\n        var _this = this;\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        setTimeout(function () {\n            if (_this.element.selectionStart > 0) {\n                var currentPos = _this.element.selectionStart;\n                var prevPos = _this.element.selectionStart - 1;\n                var start = 0;\n                var ignoreKeyCode = void 0;\n                var valArray = _this.element.value.split('');\n                var numericObject = getNumericObject(_this.locale);\n                var decimalSeparator = getValue('decimal', numericObject);\n                ignoreKeyCode = decimalSeparator.charCodeAt(0);\n                if (_this.element.value[prevPos] === ' ' && _this.element.selectionStart > 0 && !iOS) {\n                    if (isNullOrUndefined(_this.prevVal)) {\n                        _this.element.value = _this.element.value.trim();\n                    }\n                    else if (prevPos !== 0) {\n                        _this.element.value = _this.prevVal;\n                    }\n                    else if (prevPos === 0) {\n                        _this.element.value = _this.element.value.trim();\n                    }\n                    _this.element.setSelectionRange(prevPos, prevPos);\n                }\n                else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) &&\n                    _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== 45) {\n                    if ((valArray.indexOf(_this.element.value[_this.element.selectionStart - 1]) !==\n                        valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 1]) &&\n                        _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === ignoreKeyCode) ||\n                        _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== ignoreKeyCode) {\n                        _this.element.value = _this.element.value.substring(0, prevPos) +\n                            _this.element.value.substring(currentPos, _this.element.value.length);\n                        _this.element.setSelectionRange(prevPos, prevPos);\n                        if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) && _this.element.selectionStart > 0\n                            && _this.element.value.length) {\n                            _this.preventHandler();\n                        }\n                    }\n                }\n                else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 2])) && _this.element.selectionStart > 1 &&\n                    _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== 45) {\n                    if ((valArray.indexOf(_this.element.value[_this.element.selectionStart - 2]) !==\n                        valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 2]) &&\n                        _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) === ignoreKeyCode) ||\n                        _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== ignoreKeyCode) {\n                        _this.element.setSelectionRange(prevPos, prevPos);\n                        _this.nextEle = _this.element.value[_this.element.selectionStart];\n                        _this.cursorPosChanged = true;\n                        _this.preventHandler();\n                    }\n                }\n                if (_this.cursorPosChanged === true && _this.element.value[_this.element.selectionStart] === _this.nextEle &&\n                    isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1]))) {\n                    _this.element.setSelectionRange(_this.element.selectionStart + 1, _this.element.selectionStart + 1);\n                    _this.cursorPosChanged = false;\n                    _this.nextEle = null;\n                }\n                if (_this.element.value.trim() === '') {\n                    _this.element.setSelectionRange(start, start);\n                }\n                if (_this.element.selectionStart > 0) {\n                    if ((_this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === 45) && _this.element.selectionStart > 1) {\n                        if (isNullOrUndefined(_this.prevVal)) {\n                            _this.element.value = _this.element.value;\n                        }\n                        else {\n                            _this.element.value = _this.prevVal;\n                        }\n                        _this.element.setSelectionRange(_this.element.selectionStart, _this.element.selectionStart);\n                    }\n                }\n                _this.prevVal = _this.element.value;\n            }\n        });\n    };\n    NumericTextBox.prototype.keyUpHandler = function (event) {\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        if (!iOS && Browser.isDevice) {\n            this.preventHandler();\n        }\n    };\n    ;\n    NumericTextBox.prototype.inputHandler = function (event) {\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        var fireFox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n        if ((fireFox || iOS) && Browser.isDevice) {\n            this.preventHandler();\n        }\n    };\n    ;\n    NumericTextBox.prototype.keyDownHandler = function (event) {\n        if (!this.readonly) {\n            switch (event.keyCode) {\n                case 38:\n                    event.preventDefault();\n                    this.action(INCREMENT, event);\n                    break;\n                case 40:\n                    event.preventDefault();\n                    this.action(DECREMENT, event);\n                    break;\n                default: break;\n            }\n        }\n    };\n    ;\n    NumericTextBox.prototype.performAction = function (value, step, operation) {\n        if (value === null || isNaN(value)) {\n            value = 0;\n        }\n        var updatedValue = operation === INCREMENT ? value + step : value - step;\n        updatedValue = this.correctRounding(value, step, updatedValue);\n        return this.strictMode ? this.trimValue(updatedValue) : updatedValue;\n    };\n    ;\n    NumericTextBox.prototype.correctRounding = function (value, step, result) {\n        var floatExp = new RegExp('[,.](.*)');\n        var valueText = value.toString();\n        var stepText = step.toString();\n        var floatValue = floatExp.test(value.toString());\n        var floatStep = floatExp.test(step.toString());\n        if (floatValue || floatStep) {\n            var valueCount = floatValue ? floatExp.exec(value.toString())[0].length : 0;\n            var stepCount = floatStep ? floatExp.exec(step.toString())[0].length : 0;\n            var max = Math.max(valueCount, stepCount);\n            return value = this.roundValue(result, max);\n        }\n        return result;\n    };\n    ;\n    NumericTextBox.prototype.roundValue = function (result, precision) {\n        precision = precision || 0;\n        var divide = Math.pow(10, precision);\n        return result *= divide, result = Math.round(result) / divide;\n    };\n    ;\n    NumericTextBox.prototype.updateValue = function (value, event) {\n        if (event) {\n            this.isInteract = true;\n        }\n        if (value !== null && !isNaN(value)) {\n            if (this.decimals) {\n                value = this.roundNumber(value, this.decimals);\n            }\n        }\n        this.changeValue(value === null || isNaN(value) ? null : this.strictMode ? this.trimValue(value) : value);\n        this.raiseChangeEvent(event);\n    };\n    NumericTextBox.prototype.updateCurrency = function (prop, propVal) {\n        setValue(prop, propVal, this.cultureInfo);\n        this.updateValue(this.value);\n    };\n    NumericTextBox.prototype.changeValue = function (value) {\n        if (!(value || value === 0)) {\n            value = null;\n            this.setProperties({ value: value }, true);\n        }\n        else {\n            var numberOfDecimals = void 0;\n            var decimalPart = value.toString().split('.')[1];\n            numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n            if (this.decimals !== null) {\n                numberOfDecimals = numberOfDecimals < this.decimals ? numberOfDecimals : this.decimals;\n            }\n            this.setProperties({ value: this.roundNumber(value, numberOfDecimals) }, true);\n        }\n        this.modifyText();\n        if (!this.strictMode) {\n            this.validateState();\n        }\n    };\n    ;\n    NumericTextBox.prototype.modifyText = function () {\n        if (this.value || this.value === 0) {\n            var value = this.formatNumber();\n            var elementValue = this.isFocused ? value : this.instance.getNumberFormat(this.cultureInfo)(this.value);\n            this.setElementValue(elementValue);\n            attributes(this.element, { 'aria-valuenow': value });\n            this.hiddenInput.value = value;\n        }\n        else {\n            this.setElementValue('');\n            this.element.removeAttribute('aria-valuenow');\n            this.hiddenInput.value = null;\n        }\n    };\n    ;\n    NumericTextBox.prototype.setElementValue = function (val, element) {\n        Input.setValue(val, (element ? element : this.element), this.floatLabelType, this.showClearButton);\n    };\n    NumericTextBox.prototype.validateState = function () {\n        this.isValidState = true;\n        if (this.value || this.value === 0) {\n            this.isValidState = !(this.value > this.max || this.value < this.min);\n        }\n        this.checkErrorClass();\n    };\n    NumericTextBox.prototype.formatNumber = function () {\n        var numberOfDecimals;\n        var currentValue = this.value;\n        var decimalPart = currentValue.toString().split('.')[1];\n        numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n        if (this.decimals !== null) {\n            numberOfDecimals = numberOfDecimals < this.decimals ? numberOfDecimals : this.decimals;\n        }\n        return this.instance.getNumberFormat({\n            maximumFractionDigits: numberOfDecimals,\n            minimumFractionDigits: numberOfDecimals, useGrouping: false\n        })(this.value);\n    };\n    ;\n    NumericTextBox.prototype.trimValue = function (value) {\n        if (value > this.max) {\n            return this.max;\n        }\n        if (value < this.min) {\n            return this.min;\n        }\n        return value;\n    };\n    ;\n    NumericTextBox.prototype.roundNumber = function (value, precision) {\n        var result = value;\n        var decimals = precision || 0;\n        var result1 = result.toString().split('e');\n        result = Math.round(Number(result1[0] + 'e' + (result1[1] ? (Number(result1[1]) + decimals) : decimals)));\n        var result2 = result.toString().split('e');\n        result = Number(result2[0] + 'e' + (result2[1] ? (Number(result2[1]) - decimals) : -decimals));\n        return Number(result.toFixed(decimals));\n    };\n    ;\n    NumericTextBox.prototype.cancelEvent = function (event) {\n        event.preventDefault();\n        return false;\n    };\n    NumericTextBox.prototype.keyPressHandler = function (event) {\n        if (!Browser.isDevice && Browser.info.version === '11.0' && event.keyCode === 13) {\n            var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            this.updateValue(parsedInput, event);\n            return true;\n        }\n        if (event.which === 0 || event.metaKey || event.ctrlKey || event.keyCode === 8 || event.keyCode === 13) {\n            return true;\n        }\n        var currentChar = String.fromCharCode(event.which);\n        var text = this.element.value;\n        text = text.substring(0, this.element.selectionStart) + currentChar + text.substring(this.element.selectionEnd);\n        if (!this.numericRegex().test(text)) {\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n        }\n        else {\n            return true;\n        }\n    };\n    ;\n    NumericTextBox.prototype.numericRegex = function () {\n        var numericObject = getNumericObject(this.locale);\n        var decimalSeparator = getValue('decimal', numericObject);\n        var fractionRule = '*';\n        if (decimalSeparator === DECIMALSEPARATOR) {\n            decimalSeparator = '\\\\' + decimalSeparator;\n        }\n        if (this.decimals === 0 && this.validateDecimalOnType) {\n            return INTREGEXP;\n        }\n        if (this.decimals && this.validateDecimalOnType) {\n            fractionRule = '{0,' + this.decimals + '}';\n        }\n        return new RegExp('^(-)?(((\\\\d+(' + decimalSeparator + '\\\\d' + fractionRule +\n            ')?)|(' + decimalSeparator + '\\\\d' + fractionRule + ')))?$');\n    };\n    ;\n    NumericTextBox.prototype.mouseWheel = function (event) {\n        event.preventDefault();\n        var delta;\n        var rawEvent = event;\n        if (rawEvent.wheelDelta) {\n            delta = rawEvent.wheelDelta / 120;\n        }\n        else if (rawEvent.detail) {\n            delta = -rawEvent.detail / 3;\n        }\n        if (delta > 0) {\n            this.action(INCREMENT, event);\n        }\n        else if (delta < 0) {\n            this.action(DECREMENT, event);\n        }\n        this.cancelEvent(event);\n    };\n    NumericTextBox.prototype.focusIn = function (event) {\n        var _this = this;\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        this.isFocused = true;\n        removeClass([this.container], ERROR);\n        this.prevValue = this.value;\n        if ((this.value || this.value === 0)) {\n            var formatValue_1 = this.formatNumber();\n            this.setElementValue(formatValue_1);\n            if (!this.isPrevFocused) {\n                var delay = (Browser.isDevice && Browser.isIos) ? 600 : 0;\n                setTimeout(function () {\n                    _this.element.setSelectionRange(0, formatValue_1.length);\n                }, delay);\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.add(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel, this);\n        }\n    };\n    ;\n    NumericTextBox.prototype.focusOut = function (event) {\n        var _this = this;\n        if (this.isPrevFocused) {\n            event.preventDefault();\n            if (Browser.isDevice) {\n                var value_1 = this.element.value;\n                this.element.focus();\n                this.isPrevFocused = false;\n                var ele_1 = this.element;\n                setTimeout(function () {\n                    _this.setElementValue(value_1, ele_1);\n                }, 200);\n            }\n        }\n        else {\n            this.isFocused = false;\n            if (!this.element.value.length) {\n                this.setProperties({ value: null }, true);\n            }\n            var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            this.updateValue(parsedInput);\n            if (!Browser.isDevice) {\n                EventHandler.remove(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel);\n            }\n        }\n    };\n    ;\n    NumericTextBox.prototype.mouseDownOnSpinner = function (event) {\n        var _this = this;\n        if (this.isFocused) {\n            this.isPrevFocused = true;\n            event.preventDefault();\n        }\n        if (!this.getElementData(event)) {\n            return;\n        }\n        var result = this.getElementData(event);\n        var target = event.currentTarget;\n        var action = (target.classList.contains(SPINUP)) ? INCREMENT : DECREMENT;\n        EventHandler.add(target, 'mouseleave', this.mouseUpClick, this);\n        this.timeOut = setInterval(function () { _this.isCalled = true; _this.action(action, event); }, 150);\n        EventHandler.add(document, 'mouseup', this.mouseUpClick, this);\n    };\n    NumericTextBox.prototype.touchMoveOnSpinner = function (event) {\n        var target = document.elementFromPoint(event.clientX, event.clientY);\n        if (!(target.classList.contains(SPINICON))) {\n            clearInterval(this.timeOut);\n        }\n    };\n    NumericTextBox.prototype.mouseUpOnSpinner = function (event) {\n        if (this.isPrevFocused) {\n            this.element.focus();\n            if (!Browser.isDevice) {\n                this.isPrevFocused = false;\n            }\n        }\n        if (!Browser.isDevice) {\n            event.preventDefault();\n        }\n        if (!this.getElementData(event)) {\n            return;\n        }\n        var target = event.currentTarget;\n        var action = (target.classList.contains(SPINUP)) ? INCREMENT : DECREMENT;\n        EventHandler.remove(target, 'mouseleave', this.mouseUpClick);\n        if (!this.isCalled) {\n            this.action(action, event);\n        }\n        this.isCalled = false;\n        EventHandler.remove(document, 'mouseup', this.mouseUpClick);\n    };\n    NumericTextBox.prototype.getElementData = function (event) {\n        if ((event.which && event.which === 3) || (event.button && event.button === 2)\n            || !this.enabled || this.readonly) {\n            return false;\n        }\n        clearInterval(this.timeOut);\n        return true;\n    };\n    NumericTextBox.prototype.floatLabelTypeUpdate = function () {\n        Input.removeFloating(this.inputWrapper);\n        var hiddenInput = this.hiddenInput;\n        this.hiddenInput.remove();\n        Input.addFloating(this.element, this.floatLabelType, this.placeholder, this.createElement);\n        this.container.insertBefore(hiddenInput, this.container.childNodes[1]);\n    };\n    NumericTextBox.prototype.mouseUpClick = function (event) {\n        event.stopPropagation();\n        clearInterval(this.timeOut);\n        this.isCalled = false;\n        EventHandler.remove(this.spinUp, 'mouseleave', this.mouseUpClick);\n        EventHandler.remove(this.spinDown, 'mouseleave', this.mouseUpClick);\n    };\n    /**\n     * Increments the NumericTextBox value with the specified step value.\n     * @param  {number} step - Specifies the value used to increment the NumericTextBox value.\n     * if its not given then numeric value will be incremented based on the step property value.\n     */\n    NumericTextBox.prototype.increment = function (step) {\n        if (step === void 0) { step = this.step; }\n        this.isInteract = false;\n        this.changeValue(this.performAction(this.value, step, INCREMENT));\n        this.raiseChangeEvent();\n    };\n    /**\n     * Decrements the NumericTextBox value with specified step value.\n     * @param  {number} step - Specifies the value used to decrement the NumericTextBox value.\n     * if its not given then numeric value will be decremented based on the step property value.\n     */\n    NumericTextBox.prototype.decrement = function (step) {\n        if (step === void 0) { step = this.step; }\n        this.isInteract = false;\n        this.changeValue(this.performAction(this.value, step, DECREMENT));\n        this.raiseChangeEvent();\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     * @method destroy\n     * @return {void}\n     */\n    NumericTextBox.prototype.destroy = function () {\n        this.unwireEvents();\n        detach(this.hiddenInput);\n        if (this.showSpinButton) {\n            this.unwireSpinBtnEvents();\n            detach(this.spinUp);\n            detach(this.spinDown);\n        }\n        this.container.parentElement.appendChild(this.cloneElement);\n        detach(this.container);\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Returns the value of NumericTextBox with the format applied to the NumericTextBox.\n     */\n    NumericTextBox.prototype.getText = function () {\n        return this.element.value;\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     * @return {string}\n     */\n    NumericTextBox.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    NumericTextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var elementVal;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.container, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'cssClass':\n                    Input.setCssClass(newProp.cssClass, [this.container], oldProp.cssClass);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(newProp.enabled, this.element);\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(newProp.enableRtl, [this.container]);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(newProp.readonly, this.element);\n                    if (this.readonly) {\n                        attributes(this.element, { 'aria-readonly': 'true' });\n                    }\n                    else {\n                        this.element.removeAttribute('aria-readonly');\n                    }\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.element);\n                    break;\n                case 'step':\n                    this.step = newProp.step;\n                    this.validateStep();\n                    break;\n                case 'showSpinButton':\n                    if (newProp.showSpinButton) {\n                        this.spinBtnCreation();\n                    }\n                    else {\n                        detach(this.spinUp);\n                        detach(this.spinDown);\n                    }\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(newProp.showClearButton, this.element, this.inputWrapper, undefined, this.createElement);\n                    this.bindClearEvent();\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    this.floatLabelTypeUpdate();\n                    break;\n                case 'value':\n                    this.updateValue(newProp.value);\n                    break;\n                case 'min':\n                case 'max':\n                    setValue(prop, getValue(prop, newProp), this);\n                    this.validateMinMax();\n                    this.updateValue(this.value);\n                    break;\n                case 'strictMode':\n                    this.strictMode = newProp.strictMode;\n                    this.updateValue(this.value);\n                    this.validateState();\n                    break;\n                case 'locale':\n                    this.initCultureFunc();\n                    this.l10n.setLocale(this.locale);\n                    if (!isNullOrUndefined(this.spinDown)) {\n                        attributes(this.spinDown, {\n                            'title': this.l10n.getConstant('decrementTitle'),\n                            'aria-label': this.l10n.getConstant('decrementTitle')\n                        });\n                    }\n                    if (!isNullOrUndefined(this.spinUp)) {\n                        attributes(this.spinUp, {\n                            'title': this.l10n.getConstant('incrementTitle'),\n                            'aria-label': this.l10n.getConstant('incrementTitle')\n                        });\n                    }\n                    this.updatePlaceholder();\n                    Input.setPlaceholder(this.placeholder, this.element);\n                    this.updateValue(this.value);\n                    break;\n                case 'currency':\n                    var propVal = getValue(prop, newProp);\n                    this.setProperties({ currencyCode: propVal }, true);\n                    this.updateCurrency(prop, propVal);\n                    break;\n                case 'currencyCode':\n                    var propValue = getValue(prop, newProp);\n                    this.setProperties({ currency: propValue }, true);\n                    this.updateCurrency('currency', propValue);\n                    break;\n                case 'format':\n                    setValue(prop, getValue(prop, newProp), this);\n                    this.initCultureInfo();\n                    this.updateValue(this.value);\n                    break;\n                case 'decimals':\n                    this.decimals = newProp.decimals;\n                    this.updateValue(this.value);\n            }\n        }\n    };\n    /**\n     * Gets the component name\n     * @private\n     */\n    NumericTextBox.prototype.getModuleName = function () {\n        return 'numerictextbox';\n    };\n    __decorate([\n        Property('')\n    ], NumericTextBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(-(Number.MAX_VALUE))\n    ], NumericTextBox.prototype, \"min\", void 0);\n    __decorate([\n        Property(Number.MAX_VALUE)\n    ], NumericTextBox.prototype, \"max\", void 0);\n    __decorate([\n        Property(1)\n    ], NumericTextBox.prototype, \"step\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"showSpinButton\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property('n2')\n    ], NumericTextBox.prototype, \"format\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"decimals\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"currency\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"currencyCode\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"strictMode\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"validateDecimalOnType\", void 0);\n    __decorate([\n        Property('Never')\n    ], NumericTextBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"change\", void 0);\n    NumericTextBox = __decorate([\n        NotifyPropertyChanges\n    ], NumericTextBox);\n    return NumericTextBox;\n}(Component));\nexport { NumericTextBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { selectAll, select, createElement, Base } from '@syncfusion/ej2-base';\nimport { extend, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, Event } from '@syncfusion/ej2-base';\n/**\n * global declarations\n */\nvar VALIDATE_EMAIL = new RegExp('^[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,5}' +\n    '|[.]{1}[a-zA-Z]{2,4}[.]{1}[a-zA-Z]{2,4})$');\nvar VALIDATE_URL = new RegExp('^((ftp|http|https):\\/\\/)?www\\.([A-z]{2,})\\.([A-z]{2,})$');\nvar VALIDATE_DATE_ISO = new RegExp('^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$');\nvar VALIDATE_DIGITS = new RegExp('^[0-9]*$');\nvar VALIDATE_PHONE = new RegExp('^[+]?[0-9]{9,13}$');\nvar VALIDATE_CREDITCARD = new RegExp('^\\\\d{13,16}$');\n/**\n * ErrorOption values\n * @private\n */\nexport var ErrorOption;\n(function (ErrorOption) {\n    ErrorOption[ErrorOption[\"Message\"] = 0] = \"Message\";\n    ErrorOption[ErrorOption[\"Label\"] = 1] = \"Label\";\n})(ErrorOption || (ErrorOption = {}));\n/**\n * FormValidator class enables you to validate the form fields based on your defined rules\n * ```html\n * <form id='formId'>\n *  <input type='text' name='Name' />\n *  <input type='text' name='Age' />\n * </form>\n * <script>\n *   let formObject = new FormValidator('#formId', {\n *      rules: { Name: { required: true }, Age: { range: [18, 30] } };\n *   });\n *   formObject.validate();\n * </script>\n * ```\n */\nvar FormValidator = /** @class */ (function (_super) {\n    __extends(FormValidator, _super);\n    // Initializes the FormValidator \n    function FormValidator(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.validated = [];\n        _this.errorRules = [];\n        _this.allowSubmit = false;\n        _this.required = 'required';\n        _this.infoElement = null;\n        _this.inputElement = null;\n        _this.selectQuery = 'input:not([type=reset]):not([type=button]), select, textarea';\n        /**\n         * Specifies the default messages for validation rules.\n         * @default : { List of validation message };\n         */\n        _this.defaultMessages = {\n            required: 'This field is required.',\n            email: 'Please enter a valid email address.',\n            url: 'Please enter a valid URL.',\n            date: 'Please enter a valid date.',\n            dateIso: 'Please enter a valid date ( ISO ).',\n            creditcard: 'Please enter valid card number',\n            number: 'Please enter a valid number.',\n            digits: 'Please enter only digits.',\n            maxLength: 'Please enter no more than {0} characters.',\n            minLength: 'Please enter at least {0} characters.',\n            rangeLength: 'Please enter a value between {0} and {1} characters long.',\n            range: 'Please enter a value between {0} and {1}.',\n            max: 'Please enter a value less than or equal to {0}.',\n            min: 'Please enter a value greater than or equal to {0}.',\n            regex: 'Please enter a correct value.',\n            tel: 'Please enter a valid phone number.',\n            pattern: 'Please enter a correct pattern value.',\n            equalTo: 'Please enter the valid match text',\n        };\n        if (typeof _this.rules === 'undefined') {\n            _this.rules = {};\n        }\n        element = typeof element === 'string' ? select(element, document) : element;\n        // Set novalidate to prevent default HTML5 form validation\n        if (_this.element != null) {\n            _this.element.setAttribute('novalidate', '');\n            _this.inputElements = selectAll(_this.selectQuery, _this.element);\n            _this.createHTML5Rules();\n            _this.wireEvents();\n        }\n        else {\n            return undefined;\n        }\n        return _this;\n    }\n    FormValidator_1 = FormValidator;\n    /**\n     * Add validation rules to the corresponding input element based on `name` attribute.\n     * @param {string} name `name` of form field.\n     * @param {Object} rules Validation rules for the corresponding element.\n     * @return {void}\n     */\n    FormValidator.prototype.addRules = function (name, rules) {\n        if (name) {\n            if (this.rules.hasOwnProperty(name)) {\n                extend(this.rules[name], rules, {});\n            }\n            else {\n                this.rules[name] = rules;\n            }\n        }\n    };\n    /**\n     * Remove validation to the corresponding field based on name attribute.\n     * When no parameter is passed, remove all the validations in the form.\n     * @param {string} name Input name attribute value.\n     * @param {string[]} rules List of validation rules need to be remove from the corresponding element.\n     * @return {void}\n     */\n    FormValidator.prototype.removeRules = function (name, rules) {\n        if (!name && !rules) {\n            this.rules = {};\n        }\n        else if (this.rules[name] && !rules) {\n            delete this.rules[name];\n        }\n        else if (!isNullOrUndefined(this.rules[name] && rules)) {\n            for (var i = 0; i < rules.length; i++) {\n                delete this.rules[name][rules[i]];\n            }\n        }\n        else {\n            return;\n        }\n    };\n    /**\n     * Validate the current form values using defined rules.\n     * Returns `true` when the form is valid otherwise `false`\n     * @param {string} selected - Optional parameter to validate specified element.\n     * @return {boolean}\n     */\n    FormValidator.prototype.validate = function (selected) {\n        var rules = Object.keys(this.rules);\n        if (selected && rules.length) {\n            this.validateRules(selected);\n            //filter the selected element it don't have any valid input element\n            return rules.indexOf(selected) !== -1 && this.errorRules.filter(function (data) {\n                return data.name === selected;\n            }).length === 0;\n        }\n        else {\n            for (var _i = 0, rules_1 = rules; _i < rules_1.length; _i++) {\n                var name_1 = rules_1[_i];\n                this.validateRules(name_1);\n            }\n            return this.errorRules.length === 0;\n        }\n    };\n    /**\n     * Reset the value of all the fields in form.\n     * @return {void}\n     */\n    FormValidator.prototype.reset = function () {\n        this.element.reset();\n        this.clearForm();\n    };\n    /**\n     * Get input element by name.\n     * @param {string} name - Input element name attribute value.\n     * @return {HTMLInputElement}\n     */\n    FormValidator.prototype.getInputElement = function (name) {\n        this.inputElement = (select('[name=' + name + ']', this.element));\n        return this.inputElement;\n    };\n    /**\n     * Destroy the form validator object and error elements.\n     * @return {void}\n     */\n    FormValidator.prototype.destroy = function () {\n        this.reset();\n        this.unwireEvents();\n        this.rules = {};\n        var elements = selectAll('.' + this.errorClass + ', .' + this.validClass, this.element);\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            element.remove();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * @private\n     */\n    FormValidator.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // No code are needed\n    };\n    ;\n    /**\n     * @private\n     */\n    FormValidator.prototype.getModuleName = function () {\n        return 'formValidator';\n    };\n    FormValidator.prototype.clearForm = function () {\n        this.errorRules = [];\n        this.validated = [];\n        var elements = selectAll(this.selectQuery, this.element);\n        for (var _i = 0, elements_2 = elements; _i < elements_2.length; _i++) {\n            var element = elements_2[_i];\n            var input = element;\n            input.removeAttribute('aria-invalid');\n            input.classList.remove(this.errorClass);\n            if (input.name.length > 0) {\n                this.getInputElement(input.name);\n                this.getErrorElement(input.name);\n                this.hideMessage(input.name);\n            }\n            input.classList.remove(this.validClass);\n        }\n    };\n    FormValidator.prototype.createHTML5Rules = function () {\n        var defRules = ['required', 'validateHidden', 'regex', 'rangeLength', 'maxLength', 'minLength', 'dateIso', 'digits',\n            'pattern', 'data-val-required', 'type', 'data-validation', 'min', 'max', 'range', 'equalTo', 'data-val-minlength-min',\n            'data-val-equalto-other', 'data-val-maxlength-max', 'data-val-range-min', 'data-val-regex-pattern', 'data-val-length-max',\n            'data-val-creditcard', 'data-val-phone'];\n        var acceptedTypes = ['hidden', 'email', 'url', 'date', 'number', 'tel'];\n        for (var _i = 0, _a = (this.inputElements); _i < _a.length; _i++) {\n            var input = _a[_i];\n            // Default attribute rules \n            var allRule = {};\n            for (var _b = 0, defRules_1 = defRules; _b < defRules_1.length; _b++) {\n                var rule = defRules_1[_b];\n                if (input.getAttribute(rule) !== null) {\n                    switch (rule) {\n                        case 'required':\n                            this.defRule(input, allRule, rule, input.required);\n                            break;\n                        case 'data-validation':\n                            rule = input.getAttribute(rule);\n                            this.defRule(input, allRule, rule, true);\n                            break;\n                        case 'type':\n                            if (acceptedTypes.indexOf(input.type) !== -1) {\n                                this.defRule(input, allRule, input.type, true);\n                            }\n                            break;\n                        case 'rangeLength':\n                        case 'range':\n                            this.defRule(input, allRule, rule, JSON.parse(input.getAttribute(rule)));\n                            break;\n                        case 'equalTo':\n                            var id = input.getAttribute(rule);\n                            this.defRule(input, allRule, rule, id);\n                            break;\n                        default:\n                            if (input.getAttribute('data-val') === 'true') {\n                                this.annotationRule(input, allRule, rule, input.getAttribute(rule));\n                            }\n                            else {\n                                this.defRule(input, allRule, rule, input.getAttribute(rule));\n                            }\n                    }\n                }\n            }\n            //adding pattern type validation\n            if (Object.keys(allRule).length !== 0) {\n                this.addRules(input.name, allRule);\n            }\n        }\n    };\n    FormValidator.prototype.annotationRule = function (input, ruleCon, ruleName, value) {\n        var annotationRule = ruleName.split('-');\n        var rulesList = ['required', 'creditcard', 'phone', 'maxlength', 'minlength', 'range', 'regex', 'equalto'];\n        var ruleFirstName = annotationRule[annotationRule.length - 1];\n        var ruleSecondName = annotationRule[annotationRule.length - 2];\n        if (rulesList.indexOf(ruleFirstName) !== -1) {\n            switch (ruleFirstName) {\n                case 'required':\n                    this.defRule(input, ruleCon, 'required', value);\n                    break;\n                case 'creditcard':\n                    this.defRule(input, ruleCon, 'creditcard', value);\n                    break;\n                case 'phone':\n                    this.defRule(input, ruleCon, 'tel', value);\n                    break;\n            }\n        }\n        else if (rulesList.indexOf(ruleSecondName) !== -1) {\n            switch (ruleSecondName) {\n                case 'maxlength':\n                    this.defRule(input, ruleCon, 'maxLength', value);\n                    break;\n                case 'minlength':\n                    this.defRule(input, ruleCon, 'minLength', value);\n                    break;\n                case 'range':\n                    var minvalue = input.getAttribute('data-val-range-min');\n                    var maxvalue = input.getAttribute('data-val-range-max');\n                    this.defRule(input, ruleCon, 'range', [minvalue, maxvalue]);\n                    break;\n                case 'equalto':\n                    var id = input.getAttribute(ruleName).split('.');\n                    this.defRule(input, ruleCon, 'equalTo', id[id.length - 1]);\n                    break;\n                case 'regex':\n                    this.defRule(input, ruleCon, 'regex', value);\n                    break;\n            }\n        }\n    };\n    FormValidator.prototype.defRule = function (input, ruleCon, ruleName, value) {\n        var message = input.getAttribute('data-' + ruleName + '-message');\n        var annotationMessage = input.getAttribute('data-val-' + ruleName);\n        if (message) {\n            value = [value, message];\n        }\n        else if (annotationMessage) {\n            value = [value, annotationMessage];\n        }\n        ruleCon[ruleName] = value;\n    };\n    // Wire events to the form elements\n    FormValidator.prototype.wireEvents = function () {\n        for (var _i = 0, _a = (this.inputElements); _i < _a.length; _i++) {\n            var input = _a[_i];\n            if (FormValidator_1.isCheckable(input)) {\n                EventHandler.add(input, 'click', this.clickHandler, this);\n            }\n            else if (input.tagName === 'SELECT') {\n                EventHandler.add(input, 'change', this.changeHandler, this);\n            }\n            else {\n                EventHandler.add(input, 'focusout', this.focusOutHandler, this);\n                EventHandler.add(input, 'keyup', this.keyUpHandler, this);\n            }\n        }\n        EventHandler.add(this.element, 'submit', this.submitHandler, this);\n        EventHandler.add(this.element, 'reset', this.resetHandler, this);\n    };\n    // UnWire events to the form elements\n    FormValidator.prototype.unwireEvents = function () {\n        for (var _i = 0, _a = (this.inputElements); _i < _a.length; _i++) {\n            var input = _a[_i];\n            EventHandler.clearEvents(input);\n        }\n        EventHandler.remove(this.element, 'submit', this.submitHandler);\n        EventHandler.remove(this.element, 'reset', this.resetHandler);\n    };\n    // Handle input element focusout event\n    FormValidator.prototype.focusOutHandler = function (e) {\n        this.trigger('focusout', e);\n        //FormValidator.triggerCallback(this.focusout, e);\n        var element = e.target;\n        if (this.rules[element.name]) {\n            if (this.rules[element.name][this.required] || element.value.length > 0) {\n                this.validate(element.name);\n            }\n            else if (this.validated.indexOf(element.name) === -1) {\n                this.validated.push(element.name);\n            }\n        }\n    };\n    // Handle input element keyup event\n    FormValidator.prototype.keyUpHandler = function (e) {\n        this.trigger('keyup', e);\n        var element = e.target;\n        // List of keys need to prevent while validation\n        var excludeKeys = [16, 17, 18, 20, 35, 36, 37, 38, 39, 40, 45, 144, 225];\n        if (e.which === 9 && (!this.rules[element.name] || (this.rules[element.name] && !this.rules[element.name][this.required]))) {\n            return;\n        }\n        if (this.validated.indexOf(element.name) !== -1 && this.rules[element.name] && excludeKeys.indexOf(e.which) === -1) {\n            this.validate(element.name);\n        }\n    };\n    // Handle input click event\n    FormValidator.prototype.clickHandler = function (e) {\n        this.trigger('click', e);\n        var element = e.target;\n        // If element type is not submit allow validation\n        if (element.type !== 'submit') {\n            this.validate(element.name);\n        }\n        else if (element.getAttribute('formnovalidate') !== null) {\n            // Prevent form validation, if submit button has formnovalidate attribute\n            this.allowSubmit = true;\n        }\n    };\n    // Handle input change event\n    FormValidator.prototype.changeHandler = function (e) {\n        this.trigger('change', e);\n        var element = e.target;\n        this.validate(element.name);\n    };\n    // Handle form submit event\n    FormValidator.prototype.submitHandler = function (e) {\n        this.trigger('submit', e);\n        //FormValidator.triggerCallback(this.submit, e);\n        // Prevent form submit if validation failed\n        if (!this.allowSubmit && !this.validate()) {\n            e.preventDefault();\n        }\n        else {\n            this.allowSubmit = false;\n        }\n    };\n    // Handle form reset\n    FormValidator.prototype.resetHandler = function () {\n        this.clearForm();\n    };\n    // Validate each rule based on input element name\n    FormValidator.prototype.validateRules = function (name) {\n        if (!this.rules[name]) {\n            return;\n        }\n        var rules = Object.keys(this.rules[name]);\n        var hiddenType = false;\n        var validateHiddenType = false;\n        var vhPos = rules.indexOf('validateHidden');\n        var hPos = rules.indexOf('hidden');\n        this.getInputElement(name);\n        if (hPos !== -1) {\n            hiddenType = true;\n        }\n        if (vhPos !== -1) {\n            validateHiddenType = true;\n        }\n        if (!hiddenType || (hiddenType && validateHiddenType)) {\n            if (vhPos !== -1) {\n                rules.splice(vhPos, 1);\n            }\n            if (hPos !== -1) {\n                rules.splice((hPos - 1), 1);\n            }\n            this.getErrorElement(name);\n            for (var _i = 0, rules_2 = rules; _i < rules_2.length; _i++) {\n                var rule = rules_2[_i];\n                var errorMessage = this.getErrorMessage(this.rules[name][rule], rule);\n                var errorRule = { name: name, message: errorMessage };\n                var eventArgs = {\n                    inputName: name,\n                    element: this.inputElement,\n                    message: errorMessage\n                };\n                if (!this.isValid(name, rule) && !this.inputElement.classList.contains(this.ignore)) {\n                    this.removeErrorRules(name);\n                    this.errorRules.push(errorRule);\n                    // Set aria attributes to invalid elements\n                    this.inputElement.setAttribute('aria-invalid', 'true');\n                    this.inputElement.setAttribute('aria-describedby', this.inputElement.id + '-info');\n                    this.inputElement.classList.add(this.errorClass);\n                    this.inputElement.classList.remove(this.validClass);\n                    if (!this.infoElement) {\n                        this.createErrorElement(name, errorRule.message, this.inputElement);\n                    }\n                    else {\n                        this.showMessage(errorRule);\n                    }\n                    eventArgs.errorElement = this.infoElement;\n                    eventArgs.status = 'failure';\n                    this.inputElement.classList.add(this.errorClass);\n                    this.inputElement.classList.remove(this.validClass);\n                    this.optionalValidationStatus(name, eventArgs);\n                    this.trigger('validationComplete', eventArgs);\n                    // Set aria-required to required rule elements\n                    if (rule === 'required') {\n                        this.inputElement.setAttribute('aria-required', 'true');\n                    }\n                    break;\n                }\n                else {\n                    this.hideMessage(name);\n                    eventArgs.status = 'success';\n                    this.trigger('validationComplete', eventArgs);\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    // Update the optional validation status\n    FormValidator.prototype.optionalValidationStatus = function (name, refer) {\n        if (!this.rules[name][this.required] && !this.inputElement.value.length) {\n            this.infoElement.innerHTML = this.inputElement.value;\n            this.infoElement.setAttribute('aria-invalid', 'false');\n            refer.status = '';\n            this.hideMessage(name);\n        }\n    };\n    // Check the input element whether it's value satisfy the validation rule or not\n    FormValidator.prototype.isValid = function (name, rule) {\n        var params = this.rules[name][rule];\n        var param = (params instanceof Array && typeof params[1] === 'string') ? params[0] : params;\n        var currentRule = this.rules[name][rule];\n        var args = { value: this.inputElement.value, param: param, element: this.inputElement, formElement: this.element };\n        this.trigger('validationBegin', args);\n        if (currentRule && typeof currentRule[0] === 'function') {\n            var fn = currentRule[0];\n            return fn.call(this, { element: this.inputElement, value: this.inputElement.value });\n        }\n        else if (FormValidator_1.isCheckable(this.inputElement)) {\n            if (rule !== 'required') {\n                return true;\n            }\n            return selectAll('input[name=' + name + ']:checked', this.element).length > 0;\n        }\n        else {\n            return FormValidator_1.checkValidator[rule](args);\n        }\n    };\n    // Return default error message or custom error message \n    FormValidator.prototype.getErrorMessage = function (ruleValue, rule) {\n        var message = (ruleValue instanceof Array && typeof ruleValue[1] === 'string') ? ruleValue[1] : this.defaultMessages[rule];\n        var formats = message.match(/{(\\d)}/g);\n        if (!isNullOrUndefined(formats)) {\n            for (var i = 0; i < formats.length; i++) {\n                var value = ruleValue instanceof Array ? ruleValue[i] : ruleValue;\n                message = message.replace(formats[i], value);\n            }\n        }\n        return message;\n    };\n    // Create error element based on name and error message\n    FormValidator.prototype.createErrorElement = function (name, message, input) {\n        var errorElement = createElement(this.errorElement, {\n            className: this.errorClass,\n            innerHTML: message,\n            attrs: { for: name }\n        });\n        // Create message design if errorOption is message\n        if (this.errorOption === ErrorOption.Message) {\n            errorElement.classList.remove(this.errorClass);\n            errorElement.classList.add('e-message');\n            errorElement = createElement(this.errorContainer, { className: this.errorClass, innerHTML: errorElement.outerHTML });\n        }\n        errorElement.id = this.inputElement.name + '-info';\n        // Append error message into MVC error message element\n        if (this.element.querySelector('[data-valmsg-for=\"' + input.id + '\"]')) {\n            this.element.querySelector('[data-valmsg-for=\"' + input.id + '\"]').appendChild(errorElement);\n        }\n        else if (input.hasAttribute('data-msg-containerid') === true) {\n            // Append error message into custom div element\n            var containerId = input.getAttribute('data-msg-containerid');\n            var divElement = this.element.querySelector('#' + containerId);\n            divElement.appendChild(errorElement);\n        }\n        else if (this.customPlacement != null) {\n            // Call custom placement function if customPlacement is not null\n            this.customPlacement.call(this, this.inputElement, errorElement);\n        }\n        else {\n            this.inputElement.parentNode.insertBefore(errorElement, this.inputElement.nextSibling);\n        }\n        errorElement.style.display = 'block';\n        this.getErrorElement(name);\n        this.validated.push(name);\n        this.checkRequired(name);\n    };\n    // Get error element by name\n    FormValidator.prototype.getErrorElement = function (name) {\n        this.infoElement = select(this.errorElement + '.' + this.errorClass, this.inputElement.parentElement);\n        if (!this.infoElement) {\n            this.infoElement = select(this.errorElement + '.' + this.errorClass + '[for=\"' + name + '\"]');\n        }\n        return this.infoElement;\n    };\n    // Remove existing rule from errorRules object\n    FormValidator.prototype.removeErrorRules = function (name) {\n        for (var i = 0; i < this.errorRules.length; i++) {\n            var rule = this.errorRules[i];\n            if (rule.name === name) {\n                this.errorRules.splice(i, 1);\n            }\n        }\n    };\n    // Show error message to the input element\n    FormValidator.prototype.showMessage = function (errorRule) {\n        this.infoElement.style.display = 'block';\n        this.infoElement.innerHTML = errorRule.message;\n        this.checkRequired(errorRule.name);\n    };\n    // Hide error message based on input name\n    FormValidator.prototype.hideMessage = function (name) {\n        if (this.infoElement) {\n            this.infoElement.style.display = 'none';\n            this.removeErrorRules(name);\n            this.inputElement.classList.add(this.validClass);\n            this.inputElement.classList.remove(this.errorClass);\n            this.inputElement.setAttribute('aria-invalid', 'false');\n        }\n    };\n    // Check whether the input element have required rule and its value is not empty\n    FormValidator.prototype.checkRequired = function (name) {\n        if (!this.rules[name][this.required] && !this.inputElement.value.length) {\n            this.infoElement.innerHTML = this.inputElement.value;\n            this.infoElement.setAttribute('aria-invalid', 'false');\n            this.hideMessage(name);\n        }\n    };\n    // Return boolean result if the input have chekcable or submit types\n    FormValidator.isCheckable = function (input) {\n        var inputType = input.getAttribute('type');\n        return inputType && (inputType === 'checkbox' || inputType === 'radio' || inputType === 'submit');\n    };\n    // List of function to validate the rules\n    FormValidator.checkValidator = {\n        required: function (option) {\n            return option.value.length > 0;\n        },\n        email: function (option) {\n            return VALIDATE_EMAIL.test(option.value);\n        },\n        url: function (option) {\n            return VALIDATE_URL.test(option.value);\n        },\n        dateIso: function (option) {\n            return VALIDATE_DATE_ISO.test(option.value);\n        },\n        tel: function (option) {\n            return VALIDATE_PHONE.test(option.value);\n        },\n        creditcard: function (option) {\n            return VALIDATE_CREDITCARD.test(option.value);\n        },\n        number: function (option) {\n            return !isNaN(Number(option.value)) && option.value.indexOf(' ') === -1;\n        },\n        digits: function (option) {\n            return VALIDATE_DIGITS.test(option.value);\n        },\n        maxLength: function (option) {\n            return option.value.length <= option.param;\n        },\n        minLength: function (option) {\n            return option.value.length >= option.param;\n        },\n        rangeLength: function (option) {\n            var param = option.param;\n            return option.value.length >= param[0] && option.value.length <= param[1];\n        },\n        range: function (option) {\n            var param = option.param;\n            return !isNaN(Number(option.value)) && Number(option.value) >= param[0] && Number(option.value) <= param[1];\n        },\n        date: function (option) {\n            return !isNaN(new Date(option.value).getTime());\n        },\n        max: function (option) {\n            if (!isNaN(Number(option.value))) {\n                // Maximum rule validation for number\n                return +option.value <= option.param;\n            }\n            // Maximum rule validation for date\n            return new Date(option.value).getTime() <= new Date(JSON.parse(JSON.stringify(option.param))).getTime();\n        },\n        min: function (option) {\n            if (!isNaN(Number(option.value))) {\n                // Minimum rule validation for number\n                return +option.value >= option.param;\n            }\n            // Minimum rule validation for date\n            return new Date(option.value).getTime() >= new Date(JSON.parse(JSON.stringify(option.param))).getTime();\n        },\n        regex: function (option) {\n            return new RegExp(option.param).test(option.value);\n        },\n        equalTo: function (option) {\n            var compareTo = option.formElement.querySelector('#' + option.param);\n            option.param = compareTo.value;\n            return option.param === option.value;\n        },\n    };\n    __decorate([\n        Property('e-hidden')\n    ], FormValidator.prototype, \"ignore\", void 0);\n    __decorate([\n        Property()\n    ], FormValidator.prototype, \"rules\", void 0);\n    __decorate([\n        Property('e-error')\n    ], FormValidator.prototype, \"errorClass\", void 0);\n    __decorate([\n        Property('e-valid')\n    ], FormValidator.prototype, \"validClass\", void 0);\n    __decorate([\n        Property('label')\n    ], FormValidator.prototype, \"errorElement\", void 0);\n    __decorate([\n        Property('div')\n    ], FormValidator.prototype, \"errorContainer\", void 0);\n    __decorate([\n        Property(ErrorOption.Label)\n    ], FormValidator.prototype, \"errorOption\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"focusout\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"keyup\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"submit\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"validationBegin\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"validationComplete\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"customPlacement\", void 0);\n    FormValidator = FormValidator_1 = __decorate([\n        NotifyPropertyChanges\n    ], FormValidator);\n    return FormValidator;\n    var FormValidator_1;\n}(Base));\nexport { FormValidator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Event, Property, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, getValue, setValue, addClass, detach } from '@syncfusion/ej2-base';\nimport { removeClass } from '@syncfusion/ej2-base';\nimport { Input } from '../../input/input';\nimport { regularExpressions, createMask, applyMask, wireEvents, unwireEvents, unstrippedValue, strippedValue } from '../base/index';\nimport { setMaskValue, setElementValue, bindClearEvent } from '../base/index';\nimport { maskInputBlurHandler } from '../base/mask-base';\nvar ROOT = 'e-widget e-control-wrapper e-mask';\nvar INPUT = 'e-input';\nvar COMPONENT = 'e-maskedtextbox';\nvar CONTROL = 'e-control';\n/**\n * The MaskedTextBox allows the user to enter the valid input only based on the provided mask.\n * ```html\n * <input id=\"mask\" type=\"text\" />\n * ```\n * ```typescript\n * <script>\n * var maskObj = new MaskedTextBox({ mask: \"(999) 9999-999\" });\n * maskObj.appendTo('#mask');\n * </script>\n * ```\n */\nvar MaskedTextBox = /** @class */ (function (_super) {\n    __extends(MaskedTextBox, _super);\n    function MaskedTextBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Gets the component name\n     * @private\n     */\n    MaskedTextBox.prototype.getModuleName = function () {\n        return 'maskedtextbox';\n    };\n    /**\n     * Initializes the event handler\n     * @private\n     */\n    MaskedTextBox.prototype.preRender = function () {\n        this.promptMask = '';\n        this.hiddenMask = '';\n        this.escapeMaskValue = '';\n        this.regExpCollec = regularExpressions;\n        this.customRegExpCollec = [];\n        this.undoCollec = [];\n        this.redoCollec = [];\n        this.changeEventArgs = {};\n        this.focusEventArgs = {};\n        this.maskKeyPress = false;\n        this.isFocus = false;\n        this.isInitial = false;\n        this.isIosInvalid = false;\n        var ejInstance = getValue('ej2_instances', this.element);\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [CONTROL, COMPONENT]);\n        this.angularTagName = null;\n        if (this.element.tagName === 'EJS-MASKEDTEXTBOX') {\n            this.angularTagName = this.element.tagName;\n            var input = this.createElement('input');\n            for (var i = 0; i < this.element.attributes.length; i++) {\n                input.setAttribute(this.element.attributes[i].nodeName, this.element.attributes[i].nodeValue);\n                input.innerHTML = this.element.innerHTML;\n            }\n            if (this.element.hasAttribute('id')) {\n                this.element.removeAttribute('id');\n            }\n            this.element.classList.remove('e-control', 'e-maskedtextbox');\n            this.element.classList.add('e-mask-container');\n            this.element.appendChild(input);\n            this.element = input;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     * @return {string}\n     */\n    MaskedTextBox.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Initializes the component rendering.\n     * @private\n     */\n    MaskedTextBox.prototype.render = function () {\n        if (this.element.tagName.toLowerCase() === 'input') {\n            if (this.floatLabelType === 'Never') {\n                addClass([this.element], INPUT);\n            }\n            this.createWrapper();\n            if (this.element.name === '') {\n                this.element.setAttribute('name', this.element.id);\n            }\n            this.isInitial = true;\n            this.resetMaskedTextBox();\n            this.isInitial = false;\n            this.setMaskPlaceholder(true, false);\n            this.setWidth(this.width);\n            this.preEleVal = this.element.value;\n        }\n    };\n    MaskedTextBox.prototype.resetMaskedTextBox = function () {\n        this.promptMask = '';\n        this.hiddenMask = '';\n        this.escapeMaskValue = '';\n        this.customRegExpCollec = [];\n        this.undoCollec = [];\n        this.redoCollec = [];\n        if (this.promptChar.length > 1) {\n            this.promptChar = this.promptChar[0];\n        }\n        createMask.call(this);\n        applyMask.call(this);\n        if (this.mask === null || this.mask === '' && this.value !== undefined) {\n            setElementValue.call(this, this.value);\n        }\n        var val = strippedValue.call(this, this.element);\n        this.prevValue = val;\n        this.value = val;\n        if (!this.isInitial) {\n            unwireEvents.call(this);\n        }\n        wireEvents.call(this);\n    };\n    MaskedTextBox.prototype.setMaskPlaceholder = function (setVal, dynamicPlaceholder) {\n        if (dynamicPlaceholder || this.placeholder) {\n            Input.setPlaceholder(this.placeholder, this.element);\n            if (this.element.value === this.promptMask && setVal && this.floatLabelType !== 'Always') {\n                setElementValue.call(this, '');\n            }\n            if (this.floatLabelType === 'Never') {\n                maskInputBlurHandler.call(this);\n            }\n        }\n    };\n    MaskedTextBox.prototype.setCssClass = function (cssClass, element) {\n        if (cssClass) {\n            addClass(element, cssClass);\n        }\n    };\n    MaskedTextBox.prototype.setWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            this.element.style.width = formatUnit(width);\n            this.inputObj.container.style.width = formatUnit(width);\n        }\n    };\n    MaskedTextBox.prototype.createWrapper = function () {\n        this.inputObj = Input.createInput({\n            element: this.element,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                enableRtl: this.enableRtl,\n                cssClass: this.cssClass,\n                enabled: this.enabled,\n                placeholder: this.placeholder,\n                showClearButton: this.showClearButton\n            }\n        }, this.createElement);\n        this.inputObj.container.setAttribute('class', ROOT + ' ' + this.inputObj.container.getAttribute('class'));\n    };\n    /**\n     * Calls internally if any of the property value is changed.\n     * @hidden\n     */\n    MaskedTextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    setMaskValue.call(this, this.value);\n                    if (this.placeholder) {\n                        this.setMaskPlaceholder(false, false);\n                    }\n                    break;\n                case 'placeholder':\n                    this.setMaskPlaceholder(true, true);\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(newProp.cssClass, [this.inputObj.container]);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(newProp.enabled, this.element);\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(newProp.enableRtl, [this.inputObj.container]);\n                    break;\n                case 'customCharacters':\n                    this.customCharacters = newProp.customCharacters;\n                    this.resetMaskedTextBox();\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(newProp.showClearButton, this.element, this.inputObj, undefined, this.createElement);\n                    bindClearEvent.call(this);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputObj);\n                    Input.addFloating(this.element, this.floatLabelType, this.placeholder, this.createElement);\n                    break;\n                case 'mask':\n                    var strippedValue_1 = this.value;\n                    this.mask = newProp.mask;\n                    this.updateValue(strippedValue_1);\n                    break;\n                case 'promptChar':\n                    if (newProp.promptChar.length > 1) {\n                        newProp.promptChar = newProp.promptChar[0];\n                    }\n                    if (newProp.promptChar) {\n                        this.promptChar = newProp.promptChar;\n                    }\n                    else {\n                        this.promptChar = '_';\n                    }\n                    var value = this.element.value.replace(new RegExp('[' + oldProp.promptChar + ']', 'g'), this.promptChar);\n                    if (this.promptMask === this.element.value) {\n                        value = this.promptMask.replace(new RegExp('[' + oldProp.promptChar + ']', 'g'), this.promptChar);\n                    }\n                    this.promptMask = this.promptMask.replace(new RegExp('[' + oldProp.promptChar + ']', 'g'), this.promptChar);\n                    this.undoCollec = this.redoCollec = [];\n                    setElementValue.call(this, value);\n                    break;\n            }\n        }\n    };\n    MaskedTextBox.prototype.updateValue = function (strippedVal) {\n        this.resetMaskedTextBox();\n        setMaskValue.call(this, strippedVal);\n    };\n    /**\n     * Gets the value of the MaskedTextBox with the masked format.\n     * By using `value` property, you can get the raw value of maskedtextbox without literals and prompt characters.\n     * @return {string}\n     */\n    MaskedTextBox.prototype.getMaskedValue = function () {\n        return unstrippedValue.call(this, this.element);\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     * @method destroy\n     * @return {void}\n     */\n    MaskedTextBox.prototype.destroy = function () {\n        unwireEvents.call(this);\n        this.inputObj.container.parentElement.appendChild(this.cloneElement);\n        detach(this.inputObj.container);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('Never')\n    ], MaskedTextBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(true)\n    ], MaskedTextBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], MaskedTextBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], MaskedTextBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], MaskedTextBox.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"mask\", void 0);\n    __decorate([\n        Property('_')\n    ], MaskedTextBox.prototype, \"promptChar\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"customCharacters\", void 0);\n    __decorate([\n        Event()\n    ], MaskedTextBox.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], MaskedTextBox.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], MaskedTextBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], MaskedTextBox.prototype, \"focus\", void 0);\n    MaskedTextBox = __decorate([\n        NotifyPropertyChanges\n    ], MaskedTextBox);\n    return MaskedTextBox;\n}(Component));\nexport { MaskedTextBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, Complex } from '@syncfusion/ej2-base';\nimport { L10n, Internationalization } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, setStyleAttribute, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, Browser } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\n/**\n * Configures the ticks data of the Slider.\n */\nvar TicksData = /** @class */ (function (_super) {\n    __extends(TicksData, _super);\n    function TicksData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('None')\n    ], TicksData.prototype, \"placement\", void 0);\n    __decorate([\n        Property(10)\n    ], TicksData.prototype, \"largeStep\", void 0);\n    __decorate([\n        Property(1)\n    ], TicksData.prototype, \"smallStep\", void 0);\n    __decorate([\n        Property(false)\n    ], TicksData.prototype, \"showSmallTicks\", void 0);\n    __decorate([\n        Property(null)\n    ], TicksData.prototype, \"format\", void 0);\n    return TicksData;\n}(ChildProperty));\nexport { TicksData };\n/**\n * It illustrates the limit data in slider.\n */\nvar LimitData = /** @class */ (function (_super) {\n    __extends(LimitData, _super);\n    function LimitData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"minStart\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"minEnd\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"maxStart\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"maxEnd\", void 0);\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"startHandleFixed\", void 0);\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"endHandleFixed\", void 0);\n    return LimitData;\n}(ChildProperty));\nexport { LimitData };\n/**\n * It illustrates the tooltip data in slider.\n */\nvar TooltipData = /** @class */ (function (_super) {\n    __extends(TooltipData, _super);\n    function TooltipData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipData.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('Before')\n    ], TooltipData.prototype, \"placement\", void 0);\n    __decorate([\n        Property('Focus')\n    ], TooltipData.prototype, \"showOn\", void 0);\n    __decorate([\n        Property(false)\n    ], TooltipData.prototype, \"isVisible\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipData.prototype, \"format\", void 0);\n    return TooltipData;\n}(ChildProperty));\nexport { TooltipData };\nvar bootstrapTooltipOffset = 6;\nvar classNames = {\n    root: 'e-slider',\n    rtl: 'e-rtl',\n    sliderHiddenInput: 'e-slider-input',\n    controlWrapper: 'e-control-wrapper',\n    sliderHandle: 'e-handle',\n    rangeBar: 'e-range',\n    sliderButton: 'e-slider-button',\n    firstButton: 'e-first-button',\n    secondButton: 'e-second-button',\n    scale: 'e-scale',\n    tick: 'e-tick',\n    large: 'e-large',\n    tickValue: 'e-tick-value',\n    sliderTooltip: 'e-slider-tooltip',\n    sliderHover: 'e-slider-hover',\n    sliderFirstHandle: 'e-handle-first',\n    sliderSecondHandle: 'e-handle-second',\n    sliderDisabled: 'e-disabled',\n    sliderContainer: 'e-slider-container',\n    horizontalTooltipBefore: 'e-slider-horizontal-before',\n    horizontalTooltipAfter: 'e-slider-horizontal-after',\n    verticalTooltipBefore: 'e-slider-vertical-before',\n    verticalTooltipAfter: 'e-slider-vertical-after',\n    materialTooltip: 'e-material-tooltip',\n    materialTooltipOpen: 'e-material-tooltip-open',\n    materialTooltipActive: 'e-tooltip-active',\n    materialSlider: 'e-material-slider',\n    sliderTrack: 'e-slider-track',\n    sliderHandleFocused: 'e-handle-focused',\n    verticalSlider: 'e-vertical',\n    horizontalSlider: 'e-horizontal',\n    sliderHandleStart: 'e-handle-start',\n    sliderTooltipStart: 'e-material-tooltip-start',\n    sliderTabHandle: 'e-tab-handle',\n    sliderButtonIcon: 'e-button-icon',\n    sliderSmallSize: 'e-small-size',\n    sliderTickPosition: 'e-tick-pos',\n    sliderFirstTick: 'e-first-tick',\n    sliderLastTick: 'e-last-tick',\n    sliderButtonClass: 'e-slider-btn',\n    sliderTooltipWrapper: 'e-tooltip-wrap',\n    sliderTabTrack: 'e-tab-track',\n    sliderTabRange: 'e-tab-range',\n    sliderActiveHandle: 'e-handle-active',\n    sliderMaterialHandle: 'e-material-handle',\n    sliderMaterialRange: 'e-material-range',\n    sliderMaterialDefault: 'e-material-default',\n    materialTooltipShow: 'e-material-tooltip-show',\n    materialTooltipHide: 'e-material-tooltip-hide',\n    readonly: 'e-read-only',\n    limits: 'e-limits',\n    limitBarDefault: 'e-limit-bar',\n    limitBarFirst: 'e-limit-first',\n    limitBarSecond: 'e-limit-second',\n    dragHorizontal: 'e-drag-horizontal',\n    dragVertical: 'e-drag-vertical'\n};\n/**\n * The Slider component allows the user to select a value or range\n * of values in-between a min and max range, by dragging the handle over the slider bar.\n * ```html\n * <div id='slider'></div>\n * ```\n * ```typescript\n * <script>\n *   var sliderObj = new Slider({ value: 10 });\n *   sliderObj.appendTo('#slider');\n * </script>\n * ```\n */\nvar Slider = /** @class */ (function (_super) {\n    __extends(Slider, _super);\n    function Slider(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.horDir = 'left';\n        _this.verDir = 'bottom';\n        _this.transition = {\n            handle: 'left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), ' +\n                'top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)',\n            rangeBar: 'all .4s cubic-bezier(.25, .8, .25, 1)'\n        };\n        _this.transitionOnMaterialTooltip = {\n            handle: 'left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out',\n            rangeBar: 'left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out'\n        };\n        _this.scaleTransform = 'transform .4s cubic-bezier(.25, .8, .25, 1)';\n        _this.customAriaText = null;\n        _this.drag = true;\n        return _this;\n    }\n    Slider.prototype.preRender = function () {\n        var localeText = { incrementTitle: 'Increase', decrementTitle: 'Decrease' };\n        this.l10n = new L10n('slider', localeText, this.locale);\n        this.isElementFocused = false;\n        this.tickElementCollection = [];\n        this.tooltipFormatInfo = {};\n        this.ticksFormatInfo = {};\n        this.initCultureInfo();\n        this.initCultureFunc();\n    };\n    Slider.prototype.initCultureFunc = function () {\n        this.internationalization = new Internationalization(this.locale);\n    };\n    Slider.prototype.initCultureInfo = function () {\n        this.tooltipFormatInfo.format = (!isNullOrUndefined(this.tooltip.format)) ? this.tooltip.format : null;\n        this.ticksFormatInfo.format = (!isNullOrUndefined(this.ticks.format)) ? this.ticks.format : null;\n    };\n    Slider.prototype.formatString = function (value, formatInfo) {\n        var formatValue = null;\n        var formatString = null;\n        if ((value || value === 0)) {\n            formatValue = this.formatNumber(value);\n            var numberOfDecimals = this.numberOfDecimals(value);\n            formatString = this.internationalization.getNumberFormat(formatInfo)(this.makeRoundNumber(value, numberOfDecimals));\n        }\n        return { elementVal: formatValue, formatString: formatString };\n    };\n    ;\n    Slider.prototype.formatNumber = function (value) {\n        var numberOfDecimals = this.numberOfDecimals(value);\n        return this.internationalization.getNumberFormat({\n            maximumFractionDigits: numberOfDecimals,\n            minimumFractionDigits: numberOfDecimals, useGrouping: false\n        })(value);\n    };\n    ;\n    Slider.prototype.numberOfDecimals = function (value) {\n        var decimalPart = value.toString().split('.')[1];\n        var numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n        return numberOfDecimals;\n    };\n    Slider.prototype.makeRoundNumber = function (value, precision) {\n        var decimals = precision || 0;\n        return Number(value.toFixed(decimals));\n    };\n    ;\n    Slider.prototype.fractionalToInteger = function (value) {\n        value = (this.numberOfDecimals(value) === 0) ? Number(value).toFixed(this.noOfDecimals) : value;\n        var tens = 1;\n        for (var i = 0; i < this.noOfDecimals; i++) {\n            tens *= 10;\n        }\n        value = Number((value * tens).toFixed(0));\n        return value;\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Slider.prototype.render = function () {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n        this.setZindex();\n    };\n    Slider.prototype.initialize = function () {\n        addClass([this.element], classNames.root);\n        this.setCSSClass();\n    };\n    Slider.prototype.setCSSClass = function (oldCSSClass) {\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n    };\n    Slider.prototype.setEnabled = function () {\n        var tooltipElement = this.type !== 'Range' ? [this.firstTooltipElement] :\n            [this.firstTooltipElement, this.secondTooltipElement];\n        if (!this.enabled) {\n            addClass([this.sliderContainer], [classNames.sliderDisabled]);\n            if (this.tooltip.isVisible && this.tooltip.showOn === 'Always') {\n                tooltipElement.forEach(function (tooltipElement) {\n                    tooltipElement.classList.add(classNames.sliderDisabled);\n                });\n            }\n            this.unwireEvents();\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n            if (this.tooltip.isVisible && this.tooltip.showOn === 'Always') {\n                tooltipElement.forEach(function (tooltipElement) {\n                    tooltipElement.classList.remove(classNames.sliderDisabled);\n                });\n            }\n            this.wireEvents();\n        }\n    };\n    Slider.prototype.getTheme = function (container) {\n        var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n        return theme.replace(/['\"]+/g, '');\n    };\n    /**\n     * Initialize the rendering\n     * @private\n     */\n    Slider.prototype.initRender = function () {\n        this.sliderContainer = this.createElement('div', { className: classNames.sliderContainer + ' ' + classNames.controlWrapper });\n        this.element.parentNode.insertBefore(this.sliderContainer, this.element);\n        this.sliderContainer.appendChild(this.element);\n        this.sliderTrack = this.createElement('div', { className: classNames.sliderTrack });\n        this.element.appendChild(this.sliderTrack);\n        this.element.tabIndex = -1;\n        this.isMaterial = this.getTheme(this.sliderContainer) === 'material';\n        this.isBootstrap = this.getTheme(this.sliderContainer) === 'bootstrap';\n        this.setHandler();\n        this.createRangeBar();\n        if (this.limits.enabled) {\n            this.createLimitBar();\n        }\n        this.setOrientClass();\n        this.hiddenInput = (this.createElement('input', {\n            attrs: {\n                type: 'hidden', value: (isNullOrUndefined(this.value) ? this.min.toString() : this.value.toString()),\n                name: this.element.getAttribute('name') || this.element.getAttribute('id') ||\n                    '_' + (Math.random() * 1000).toFixed(0) + 'slider', class: classNames.sliderHiddenInput\n            }\n        }));\n        this.hiddenInput.tabIndex = -1;\n        this.sliderContainer.appendChild(this.hiddenInput);\n        if (this.showButtons) {\n            this.setButtons();\n        }\n        this.setEnableRTL();\n        if (this.type === 'Range') {\n            this.rangeValueUpdate();\n        }\n        else {\n            this.value = isNullOrUndefined(this.value) ? parseFloat(formatUnit(this.min.toString())) : this.value;\n        }\n        this.previousVal = this.type !== 'Range' ? this.checkHandleValue(parseFloat(formatUnit(this.value.toString()))) :\n            [this.checkHandleValue(parseFloat(formatUnit(this.value[0].toString()))),\n                this.checkHandleValue(parseFloat(formatUnit(this.value[1].toString())))];\n        this.previousChanged = this.previousVal;\n        if (!isNullOrUndefined(this.element.hasAttribute('name'))) {\n            this.element.removeAttribute('name');\n        }\n        this.setValue();\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n        if (this.ticks.placement !== 'None') {\n            this.renderScale();\n        }\n        if (this.tooltip.isVisible) {\n            this.renderTooltip();\n        }\n        if (!this.enabled) {\n            addClass([this.sliderContainer], [classNames.sliderDisabled]);\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n        }\n        if (this.readonly) {\n            addClass([this.sliderContainer], [classNames.readonly]);\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.readonly]);\n        }\n    };\n    Slider.prototype.createRangeBar = function () {\n        if (this.type !== 'Default') {\n            this.rangeBar = (this.createElement('div', { attrs: { class: classNames.rangeBar } }));\n            this.element.appendChild(this.rangeBar);\n            if (this.drag && this.type === 'Range') {\n                if (this.orientation === 'Horizontal') {\n                    this.rangeBar.classList.add(classNames.dragHorizontal);\n                }\n                else {\n                    this.rangeBar.classList.add(classNames.dragVertical);\n                }\n            }\n        }\n    };\n    Slider.prototype.createLimitBar = function () {\n        var firstElementClassName = this.type !== 'Range' ? classNames.limitBarDefault :\n            classNames.limitBarFirst;\n        firstElementClassName += ' ' + classNames.limits;\n        this.limitBarFirst = (this.createElement('div', {\n            attrs: { class: firstElementClassName }\n        }));\n        this.element.appendChild(this.limitBarFirst);\n        if (this.type === 'Range') {\n            this.limitBarSecond = (this.createElement('div', {\n                attrs: {\n                    class: classNames.limitBarSecond + ' ' + classNames.limits\n                }\n            }));\n            this.element.appendChild(this.limitBarSecond);\n        }\n    };\n    Slider.prototype.setOrientClass = function () {\n        if (this.orientation !== 'Vertical') {\n            this.sliderContainer.classList.remove(classNames.verticalSlider);\n            this.sliderContainer.classList.add(classNames.horizontalSlider);\n            this.firstHandle.setAttribute('aria-orientation', 'horizontal');\n            if (this.type === 'Range') {\n                this.secondHandle.setAttribute('aria-orientation', 'horizontal');\n            }\n        }\n        else {\n            this.sliderContainer.classList.remove(classNames.horizontalSlider);\n            this.sliderContainer.classList.add(classNames.verticalSlider);\n            this.firstHandle.setAttribute('aria-orientation', 'vertical');\n            if (this.type === 'Range') {\n                this.secondHandle.setAttribute('aria-orientation', 'vertical');\n            }\n        }\n    };\n    Slider.prototype.setAriaAttributes = function (element) {\n        var _this = this;\n        var min = this.min;\n        var max = this.max;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            min = this.customValues[0];\n            max = this.customValues[this.customValues.length - 1];\n        }\n        if (this.type !== 'Range') {\n            attributes(element, {\n                'aria-valuemin': min.toString(), 'aria-valuemax': max.toString()\n            });\n        }\n        else {\n            var range = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n                [[min.toString(), (this.customValues[this.value[1]]).toString()],\n                    [(this.customValues[this.value[0]]).toString(), max.toString()]] :\n                [[min.toString(), this.value[1].toString()], [this.value[0].toString(), max.toString()]];\n            range.forEach(function (range, index) {\n                var element = index === 0 ? _this.firstHandle : _this.secondHandle;\n                if (element) {\n                    attributes(element, {\n                        'aria-valuemin': range[0], 'aria-valuemax': range[1]\n                    });\n                }\n            });\n        }\n    };\n    Slider.prototype.createSecondHandle = function () {\n        this.secondHandle = this.createElement('div', {\n            attrs: {\n                class: classNames.sliderHandle, 'role': 'slider', 'aria-labelledby': this.element.id + '_title', tabIndex: '0'\n            }\n        });\n        this.secondHandle.classList.add(classNames.sliderSecondHandle);\n        this.element.appendChild(this.secondHandle);\n        if (this.isMaterial && this.tooltip.isVisible) {\n            this.secondMaterialHandle = this.createElement('div', {\n                attrs: {\n                    class: classNames.sliderHandle + ' ' +\n                        classNames.sliderMaterialHandle\n                }\n            });\n            this.element.appendChild(this.secondMaterialHandle);\n        }\n    };\n    Slider.prototype.createFirstHandle = function () {\n        this.firstHandle = this.createElement('div', {\n            attrs: {\n                class: classNames.sliderHandle, 'role': 'slider', 'aria-labelledby': this.element.id + '_title', tabIndex: '0'\n            }\n        });\n        this.firstHandle.classList.add(classNames.sliderFirstHandle);\n        this.element.appendChild(this.firstHandle);\n        if (this.isMaterial && this.tooltip.isVisible) {\n            this.firstMaterialHandle = this.createElement('div', {\n                attrs: {\n                    class: classNames.sliderHandle + ' ' +\n                        classNames.sliderMaterialHandle\n                }\n            });\n            this.element.appendChild(this.firstMaterialHandle);\n        }\n    };\n    Slider.prototype.wireFirstHandleEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.firstHandle, 'mousedown touchstart', this.handleFocus, this);\n            EventHandler.add(this.firstHandle, 'transitionend', this.transitionEnd, this);\n            EventHandler.add(this.firstHandle, 'mouseenter touchenter', this.handleOver, this);\n            EventHandler.add(this.firstHandle, 'mouseleave touchend', this.handleLeave, this);\n        }\n        else {\n            EventHandler.remove(this.firstHandle, 'mousedown touchstart', this.handleFocus);\n            EventHandler.remove(this.firstHandle, 'transitionend', this.transitionEnd);\n            EventHandler.remove(this.firstHandle, 'mouseenter touchenter', this.handleOver);\n            EventHandler.remove(this.firstHandle, 'mouseleave touchend', this.handleLeave);\n        }\n    };\n    Slider.prototype.wireSecondHandleEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.secondHandle, 'mousedown touchstart', this.handleFocus, this);\n            EventHandler.add(this.secondHandle, 'transitionend', this.transitionEnd, this);\n            EventHandler.add(this.secondHandle, 'mouseenter touchenter', this.handleOver, this);\n            EventHandler.add(this.secondHandle, 'mouseleave touchend', this.handleLeave, this);\n        }\n        else {\n            EventHandler.remove(this.secondHandle, 'mousedown touchstart', this.handleFocus);\n            EventHandler.remove(this.secondHandle, 'transitionend', this.transitionEnd);\n            EventHandler.remove(this.secondHandle, 'mouseenter touchenter', this.handleOver);\n            EventHandler.remove(this.secondHandle, 'mouseleave touchend', this.handleLeave);\n        }\n    };\n    Slider.prototype.handleStart = function () {\n        var pos = (this.activeHandle === 1) ? this.handlePos1 : this.handlePos2;\n        var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n        if (pos === 0 && this.type !== 'Range') {\n            this.getHandle().classList.add(classNames.sliderHandleStart);\n            if (this.isMaterial && this.tooltip.isVisible) {\n                this.firstMaterialHandle.classList.add(classNames.sliderHandleStart);\n                if (tooltipElement) {\n                    tooltipElement.classList.add(classNames.sliderTooltipStart);\n                }\n            }\n        }\n    };\n    Slider.prototype.transitionEnd = function (e) {\n        this.handleStart();\n        this.getHandle().style.transition = 'none';\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        if (this.tooltip.isVisible) {\n            var tooltipObj = this.activeHandle === 1 ? this.firstTooltipObj : this.secondTooltipObj;\n            var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n            if (!this.isMaterial) {\n                tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n                this.tooltipAnimation();\n            }\n            else {\n                if (!tooltipElement.classList.contains(classNames.materialTooltipOpen) && e.propertyName !== 'transform') {\n                    this.openMaterialTooltip();\n                }\n                else {\n                    if (this.type === 'Default') {\n                        tooltipElement.style.transition = this.transition.handle;\n                    }\n                    this.refreshTooltip();\n                }\n            }\n        }\n        if (this.tooltip.showOn !== 'Always') {\n            this.closeTooltip();\n        }\n    };\n    Slider.prototype.handleFocusOut = function () {\n        if (this.firstHandle.classList.contains(classNames.sliderHandleFocused)) {\n            this.firstHandle.classList.remove(classNames.sliderHandleFocused);\n        }\n        if (this.type === 'Range') {\n            if (this.secondHandle.classList.contains(classNames.sliderHandleFocused)) {\n                this.secondHandle.classList.remove(classNames.sliderHandleFocused);\n            }\n        }\n    };\n    Slider.prototype.handleFocus = function (e) {\n        if (e.currentTarget === this.firstHandle) {\n            this.firstHandle.classList.add(classNames.sliderHandleFocused);\n        }\n        else {\n            this.secondHandle.classList.add(classNames.sliderHandleFocused);\n        }\n    };\n    Slider.prototype.handleOver = function (e) {\n        if (this.tooltip.isVisible && this.tooltip.showOn === 'Hover') {\n            this.tooltipValue();\n            var tooltipObj = e.currentTarget === this.firstHandle ? this.firstTooltipObj : this.secondTooltipObj;\n            tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n            if (e.currentTarget === this.firstHandle) {\n                this.firstTooltipObj.open(this.firstHandle);\n            }\n            else {\n                this.secondTooltipObj.open(this.secondHandle);\n            }\n        }\n    };\n    Slider.prototype.handleLeave = function (e) {\n        if (this.tooltip.isVisible && this.tooltip.showOn === 'Hover' &&\n            !e.currentTarget.classList.contains(classNames.sliderHandleFocused) &&\n            !e.currentTarget.classList.contains(classNames.sliderTabHandle)) {\n            this.tooltipValue();\n            var tooltipObj = e.currentTarget === this.firstHandle ? this.firstTooltipObj : this.secondTooltipObj;\n            if (e.currentTarget === this.firstHandle) {\n                this.firstTooltipObj.close();\n            }\n            else {\n                this.secondTooltipObj.close();\n            }\n            tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n        }\n    };\n    Slider.prototype.setHandler = function () {\n        if (this.min > this.max) {\n            this.min = this.max;\n        }\n        this.createFirstHandle();\n        if (this.type === 'Range') {\n            this.createSecondHandle();\n        }\n    };\n    Slider.prototype.setEnableRTL = function () {\n        this.enableRtl && this.orientation !== 'Vertical' ? addClass([this.sliderContainer], classNames.rtl) :\n            removeClass([this.sliderContainer], classNames.rtl);\n        var preDir = (this.orientation !== 'Vertical') ? this.horDir : this.verDir;\n        if (this.enableRtl) {\n            this.horDir = 'right';\n            this.verDir = 'bottom';\n        }\n        else {\n            this.horDir = 'left';\n            this.verDir = 'bottom';\n        }\n        var currDir = (this.orientation !== 'Vertical') ? this.horDir : this.verDir;\n        if (preDir !== currDir) {\n            if (this.orientation === 'Horizontal') {\n                setStyleAttribute(this.firstHandle, { 'right': '', 'left': 'auto' });\n                if (this.type === 'Range') {\n                    setStyleAttribute(this.secondHandle, { 'top': '', 'left': 'auto' });\n                }\n            }\n        }\n    };\n    Slider.prototype.tooltipValue = function () {\n        var text;\n        var value1;\n        var value2;\n        var args = {\n            value: this.value,\n            text: ''\n        };\n        this.setTooltipContent();\n        args.text = text = this.firstTooltipObj.content;\n        this.trigger('tooltipChange', args);\n        this.addTooltipClass(args.text);\n        if (text !== args.text) {\n            this.customAriaText = args.text;\n            this.firstTooltipObj.content = args.text;\n            this.setAriaAttrValue(this.firstHandle);\n            if (this.type === 'Range') {\n                this.secondTooltipObj.content = args.text;\n                this.setAriaAttrValue(this.secondHandle);\n            }\n        }\n    };\n    Slider.prototype.setTooltipContent = function () {\n        var content;\n        if (this.type === 'Range') {\n            content = this.formatContent(this.tooltipFormatInfo, false);\n            this.firstTooltipObj.content = content;\n            this.secondTooltipObj.content = content;\n        }\n        else {\n            if (!isNullOrUndefined(this.handleVal1)) {\n                content = this.formatContent(this.tooltipFormatInfo, false);\n                this.firstTooltipObj.content = content;\n            }\n        }\n    };\n    Slider.prototype.formatContent = function (formatInfo, ariaContent) {\n        var content = '';\n        var handle1 = this.handleVal1;\n        var handle2 = this.handleVal2;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            handle1 = this.customValues[this.handleVal1];\n            handle2 = this.customValues[this.handleVal2];\n        }\n        if (!ariaContent) {\n            if (this.type === 'Range') {\n                if (this.enableRtl && this.orientation !== 'Vertical') {\n                    content = (!isNullOrUndefined(formatInfo.format)) ? (this.formatString(handle2, formatInfo)\n                        .formatString + ' - ' + this.formatString(handle1, formatInfo).formatString) :\n                        (handle2.toString() + ' - ' + handle1.toString());\n                }\n                else {\n                    content = (!isNullOrUndefined(formatInfo.format)) ? (this.formatString(handle1, formatInfo)\n                        .formatString + ' - ' + this.formatString(handle2, formatInfo).formatString) :\n                        (handle1.toString() + ' - ' + handle2.toString());\n                }\n            }\n            else {\n                if (!isNullOrUndefined(handle1)) {\n                    content = (!isNullOrUndefined(formatInfo.format)) ?\n                        this.formatString(handle1, formatInfo).formatString : handle1.toString();\n                }\n            }\n            return content;\n        }\n        else {\n            if (this.type === 'Range') {\n                if (this.enableRtl && this.orientation !== 'Vertical') {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        (this.formatString(handle2, formatInfo).elementVal + ' - ' +\n                            this.formatString(handle1, formatInfo).elementVal) :\n                        (handle2.toString() + ' - ' + handle1.toString());\n                }\n                else {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        (this.formatString(handle1, formatInfo).elementVal + ' - ' +\n                            this.formatString(handle2, formatInfo).elementVal) :\n                        (handle1.toString() + ' - ' + handle2.toString());\n                }\n            }\n            else {\n                if (!isNullOrUndefined(handle1)) {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        this.formatString(handle1, formatInfo).elementVal : handle1.toString();\n                }\n            }\n            return content;\n        }\n    };\n    Slider.prototype.addTooltipClass = function (content) {\n        var _this = this;\n        if (this.isMaterial && this.tooltip.isVisible) {\n            var count_1 = content.toString().length;\n            var tooltipElement = this.type !== 'Range' ? [this.firstTooltipElement] :\n                [this.firstTooltipElement, this.secondTooltipElement];\n            tooltipElement.forEach(function (element, index) {\n                if (!element) {\n                    var cssClass = count_1 > 4 ? classNames.sliderMaterialRange : classNames.sliderMaterialDefault;\n                    !index ? _this.firstTooltipObj.cssClass = classNames.sliderTooltip + ' ' + cssClass :\n                        _this.secondTooltipObj.cssClass = classNames.sliderTooltip + ' ' + cssClass;\n                }\n                else {\n                    if (count_1 > 4) {\n                        element.classList.remove(classNames.sliderMaterialDefault);\n                        if (!element.classList.contains(classNames.sliderMaterialRange)) {\n                            element.classList.add(classNames.sliderMaterialRange);\n                            element.style.transform = 'scale(1)';\n                        }\n                    }\n                    else {\n                        element.classList.remove(classNames.sliderMaterialRange);\n                        if (!element.classList.contains(classNames.sliderMaterialDefault)) {\n                            element.classList.add(classNames.sliderMaterialDefault);\n                            element.style.transform = _this.getTooltipTransformProperties(_this.previousTooltipClass).rotate;\n                        }\n                    }\n                }\n            });\n        }\n    };\n    Slider.prototype.tooltipPlacement = function () {\n        var tooltipPosition;\n        if (this.orientation === 'Horizontal') {\n            this.tooltip.placement === 'Before' ? tooltipPosition = 'TopCenter' : tooltipPosition = 'BottomCenter';\n        }\n        else {\n            this.tooltip.placement === 'Before' ? tooltipPosition = 'LeftCenter' : tooltipPosition = 'RightCenter';\n        }\n        this.firstTooltipObj.position = tooltipPosition;\n        if (this.type === 'Range') {\n            this.secondTooltipObj.position = tooltipPosition;\n        }\n        if (this.isMaterial) {\n            this.firstTooltipObj.showTipPointer = true;\n            this.setProperties({ tooltip: { showOn: 'Always' } }, true);\n            this.firstTooltipObj.height = 30;\n            if (this.type === 'Range') {\n                this.secondTooltipObj.showTipPointer = true;\n                this.secondTooltipObj.height = 30;\n            }\n        }\n    };\n    Slider.prototype.tooltipBeforeOpen = function (args) {\n        var tooltipElement = args.target === this.firstHandle ? this.firstTooltipElement = args.element :\n            this.secondTooltipElement = args.element;\n        if (this.tooltip.cssClass !== '') {\n            addClass([tooltipElement], this.tooltip.cssClass.split(' '));\n        }\n        args.target.removeAttribute('aria-describedby');\n        if (this.isMaterial && this.tooltip.isVisible) {\n            var transformProperties = this.getTooltipTransformProperties(this.previousTooltipClass);\n            tooltipElement.firstChild.classList.add(classNames.materialTooltipHide);\n            this.handleStart();\n            if (tooltipElement.firstElementChild.innerText.length > 4) {\n                tooltipElement.style.transform = transformProperties.translate + \" scale(0.01)\";\n            }\n            else {\n                tooltipElement.style.transform = transformProperties.translate + \" \" + transformProperties.rotate + \" scale(0.01)\";\n            }\n        }\n        if (this.isBootstrap) {\n            switch (this.bootstrapCollisionArgs.collidedPosition) {\n                case 'TopCenter':\n                    this.firstTooltipObj.setProperties({ 'offsetY': -(bootstrapTooltipOffset) }, false);\n                    if (this.type === 'Range') {\n                        this.secondTooltipObj.setProperties({ 'offsetY': -(bootstrapTooltipOffset) }, false);\n                    }\n                    break;\n                case 'BottomCenter':\n                    this.firstTooltipObj.setProperties({ 'offsetY': bootstrapTooltipOffset }, false);\n                    if (this.type === 'Range') {\n                        this.secondTooltipObj.setProperties({ 'offsetY': bootstrapTooltipOffset }, false);\n                    }\n                    break;\n                case 'LeftCenter':\n                    this.firstTooltipObj.setProperties({ 'offsetX': -(bootstrapTooltipOffset) }, false);\n                    if (this.type === 'Range') {\n                        this.secondTooltipObj.setProperties({ 'offsetX': -(bootstrapTooltipOffset) }, false);\n                    }\n                    break;\n                case 'RightCenter':\n                    this.firstTooltipObj.setProperties({ 'offsetX': bootstrapTooltipOffset }, false);\n                    if (this.type === 'Range') {\n                        this.secondTooltipObj.setProperties({ 'offsetX': bootstrapTooltipOffset }, false);\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n    };\n    Slider.prototype.wireMaterialTooltipEvent = function (destroy) {\n        if (this.isMaterial && this.tooltip.isVisible) {\n            if (!destroy) {\n                EventHandler.add(this.firstTooltipElement, 'mousedown touchstart', this.sliderDown, this);\n                if (this.type === 'Range') {\n                    EventHandler.add(this.secondTooltipElement, 'mousedown touchstart', this.sliderDown, this);\n                }\n            }\n            else {\n                EventHandler.remove(this.firstTooltipElement, 'mousedown touchstart', this.sliderDown);\n                if (this.type === 'Range') {\n                    EventHandler.remove(this.secondTooltipElement, 'mousedown touchstart', this.sliderDown);\n                }\n            }\n        }\n    };\n    Slider.prototype.tooltipPositionCalculation = function (position) {\n        var cssClass;\n        switch (position) {\n            case 'TopCenter':\n                cssClass = classNames.horizontalTooltipBefore;\n                break;\n            case 'BottomCenter':\n                cssClass = classNames.horizontalTooltipAfter;\n                break;\n            case 'LeftCenter':\n                cssClass = classNames.verticalTooltipBefore;\n                break;\n            case 'RightCenter':\n                cssClass = classNames.verticalTooltipAfter;\n                break;\n        }\n        return cssClass;\n    };\n    Slider.prototype.getTooltipTransformProperties = function (className) {\n        if (this.firstTooltipElement) {\n            var position = void 0;\n            if (this.orientation === 'Horizontal') {\n                position = (this.firstTooltipElement.clientHeight + 14) - (this.firstTooltipElement.clientHeight / 2);\n            }\n            else {\n                position = (this.firstTooltipElement.clientWidth + 14) - (this.firstTooltipElement.clientWidth / 2);\n            }\n            var transformProperties = this.orientation === 'Horizontal' ?\n                (className === classNames.horizontalTooltipBefore ? { rotate: 'rotate(45deg)', translate: \"translateY(\" + position + \"px)\" } :\n                    { rotate: 'rotate(225deg)', translate: \"translateY(\" + -(position) + \"px)\" }) :\n                (className === classNames.verticalTooltipBefore ? { rotate: 'rotate(-45deg)', translate: \"translateX(\" + position + \"px)\" } :\n                    { rotate: 'rotate(-225deg)', translate: \"translateX(\" + (-position) + \"px)\" });\n            return transformProperties;\n        }\n        return undefined;\n    };\n    Slider.prototype.openMaterialTooltip = function () {\n        var _this = this;\n        this.refreshTooltip();\n        var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n        var handle = this.activeHandle === 1 ? this.firstMaterialHandle : this.secondMaterialHandle;\n        if (tooltipElement.firstChild.classList.contains(classNames.materialTooltipHide)) {\n            tooltipElement.firstChild.classList.remove(classNames.materialTooltipHide);\n        }\n        tooltipElement.firstChild.classList.add(classNames.materialTooltipShow);\n        this.getHandle().style.cursor = 'default';\n        tooltipElement.style.transition = this.scaleTransform;\n        tooltipElement.classList.add(classNames.materialTooltipOpen);\n        handle.style.transform = 'scale(0)';\n        if (tooltipElement.firstElementChild.innerText.length > 4) {\n            tooltipElement.style.transform = 'scale(1)';\n        }\n        else {\n            tooltipElement.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n        }\n        if (this.type === 'Default') {\n            setTimeout(function () { tooltipElement.style.transition = _this.transition.handle; }, 2500);\n        }\n        else {\n            setTimeout(function () { tooltipElement.style.transition = 'none'; }, 2500);\n        }\n    };\n    Slider.prototype.checkTooltipPosition = function (args) {\n        var tooltipPosition = args.target === this.firstHandle ? this.firstHandleTooltipPosition :\n            this.secondHandleTooltipPosition;\n        if (this.isMaterial && (tooltipPosition === undefined || tooltipPosition !== args.collidedPosition)) {\n            var tooltipClass = this.tooltipPositionCalculation(args.collidedPosition);\n            args.element.classList.remove(this.previousTooltipClass);\n            args.element.classList.add(tooltipClass);\n            this.previousTooltipClass = tooltipClass;\n            if (args.element.style.transform && args.element.classList.contains(classNames.materialTooltipOpen) &&\n                args.element.firstElementChild.innerText.length < 4) {\n                args.element.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n            }\n            if (args.target === this.firstHandle) {\n                this.firstHandleTooltipPosition = args.collidedPosition;\n            }\n            else {\n                this.secondHandleTooltipPosition = args.collidedPosition;\n            }\n        }\n        this.bootstrapCollisionArgs = args;\n    };\n    Slider.prototype.renderTooltip = function () {\n        if (this.tooltip.showOn === 'Auto') {\n            this.setProperties({ tooltip: { showOn: 'Hover' } }, true);\n        }\n        var tooltipPointer = this.isBootstrap ? true : false;\n        this.firstTooltipObj = new Tooltip({\n            showTipPointer: tooltipPointer,\n            cssClass: classNames.sliderTooltip,\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } },\n            opensOn: 'Custom',\n            beforeOpen: this.tooltipBeforeOpen.bind(this),\n            beforeCollision: this.checkTooltipPosition.bind(this),\n            afterClose: this.tooltipAfterClose.bind(this)\n        });\n        this.firstTooltipObj.appendTo(this.firstHandle);\n        if (this.type === 'Range') {\n            this.secondTooltipObj = new Tooltip({\n                showTipPointer: tooltipPointer,\n                cssClass: classNames.sliderTooltip,\n                animation: { open: { effect: 'None' }, close: { effect: 'None' } },\n                opensOn: 'Custom',\n                beforeOpen: this.tooltipBeforeOpen.bind(this),\n                beforeCollision: this.checkTooltipPosition.bind(this),\n                afterClose: this.tooltipAfterClose.bind(this)\n            });\n            this.secondTooltipObj.appendTo(this.secondHandle);\n        }\n        this.tooltipPlacement();\n        this.firstHandle.style.transition = 'none';\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        if (this.type === 'Range') {\n            this.secondHandle.style.transition = 'none';\n        }\n        if (this.isMaterial) {\n            this.sliderContainer.classList.add(classNames.materialSlider);\n            this.tooltipValue();\n            this.firstTooltipObj.open(this.firstHandle);\n            if (this.type === 'Range') {\n                this.secondTooltipObj.open(this.secondHandle);\n            }\n        }\n    };\n    Slider.prototype.tooltipAfterClose = function (args) {\n        if (args.element === this.firstTooltipElement) {\n            this.firstTooltipElement = undefined;\n        }\n        else {\n            this.secondTooltipElement = undefined;\n        }\n    };\n    Slider.prototype.setButtons = function () {\n        this.firstBtn = this.createElement('div', { className: classNames.sliderButton + ' ' + classNames.firstButton });\n        this.firstBtn.appendChild(this.createElement('span', { className: classNames.sliderButtonIcon }));\n        this.firstBtn.tabIndex = -1;\n        this.secondBtn = this.createElement('div', { className: classNames.sliderButton + ' ' + classNames.secondButton });\n        this.secondBtn.appendChild(this.createElement('span', { className: classNames.sliderButtonIcon }));\n        this.secondBtn.tabIndex = -1;\n        this.sliderContainer.classList.add(classNames.sliderButtonClass);\n        this.sliderContainer.appendChild(this.firstBtn);\n        this.sliderContainer.appendChild(this.secondBtn);\n        this.sliderContainer.appendChild(this.element);\n        this.buttonTitle();\n    };\n    Slider.prototype.buttonTitle = function () {\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        this.l10n.setLocale(this.locale);\n        var decrementTitle = this.l10n.getConstant('decrementTitle');\n        var incrementTitle = this.l10n.getConstant('incrementTitle');\n        attributes(enabledRTL ? this.secondBtn : this.firstBtn, { 'aria-label': decrementTitle, title: decrementTitle });\n        attributes(enabledRTL ? this.firstBtn : this.secondBtn, { 'aria-label': incrementTitle, title: incrementTitle });\n    };\n    Slider.prototype.buttonFocusOut = function () {\n        if (this.isMaterial) {\n            this.getHandle().classList.remove('e-large-thumb-size');\n        }\n    };\n    Slider.prototype.repeatButton = function (args) {\n        var buttonElement = args.target.parentElement;\n        var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n        if (!tooltipElement && this.tooltip.isVisible) {\n            this.openTooltip();\n        }\n        var hVal = this.handleValueUpdate();\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        var value;\n        if (args.target.parentElement.classList.contains(classNames.firstButton)\n            || args.target.classList.contains(classNames.firstButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), false));\n        }\n        else if (args.target.parentElement.classList.contains(classNames.secondButton)\n            || (args.target.classList.contains(classNames.secondButton))) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), true));\n        }\n        if (this.limits.enabled) {\n            value = this.getLimitCorrectedValues(value);\n        }\n        if (value >= this.min && value <= this.max) {\n            this.changeHandleValue(value);\n            this.refreshTooltipOnMove();\n        }\n    };\n    Slider.prototype.repeatHandlerMouse = function (args) {\n        args.preventDefault();\n        if (args.type === ('mousedown') || args.type === ('touchstart')) {\n            this.buttonClick(args);\n            this.repeatInterval = setInterval(this.repeatButton.bind(this), 180, args);\n        }\n    };\n    Slider.prototype.materialChange = function () {\n        if (!this.getHandle().classList.contains('e-large-thumb-size')) {\n            this.getHandle().classList.add('e-large-thumb-size');\n        }\n    };\n    Slider.prototype.repeatHandlerUp = function (e) {\n        this.changeEvent('changed');\n        if (this.tooltip.isVisible && this.tooltip.showOn !== 'Always' && !this.isMaterial) {\n            this.closeTooltip();\n        }\n        clearInterval(this.repeatInterval);\n        this.getHandle().focus();\n    };\n    Slider.prototype.customTickCounter = function (bigNum) {\n        var tickCount = 4;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            if (bigNum > 4) {\n                tickCount = 3;\n            }\n            if (bigNum > 7) {\n                tickCount = 2;\n            }\n            if (bigNum > 14) {\n                tickCount = 1;\n            }\n            if (bigNum > 28) {\n                tickCount = 0;\n            }\n        }\n        return tickCount;\n    };\n    Slider.prototype.renderScale = function () {\n        var orien = this.orientation === 'Vertical' ? 'v' : 'h';\n        var spanText;\n        this.noOfDecimals = this.numberOfDecimals(this.step);\n        this.ul = this.createElement('ul', {\n            className: classNames.scale + ' ' + 'e-' + orien + '-scale ' + classNames.tick + '-' + this.ticks.placement.toLowerCase(),\n            attrs: { role: 'presentation', tabIndex: '-1', 'aria-hidden': 'true' }\n        });\n        this.ul.style.zIndex = '-1';\n        if (Browser.isAndroid && orien === 'h') {\n            this.ul.classList.add(classNames.sliderTickPosition);\n        }\n        var smallStep = this.ticks.smallStep;\n        if (!this.ticks.showSmallTicks) {\n            this.ticks.largeStep > 0 ? (smallStep = this.ticks.largeStep) :\n                (smallStep = (parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min))));\n        }\n        else if (smallStep <= 0) {\n            smallStep = parseFloat(formatUnit(this.step));\n        }\n        var min = this.fractionalToInteger(this.min);\n        var max = this.fractionalToInteger(this.max);\n        var steps = this.fractionalToInteger(smallStep);\n        var bigNum = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 && this.customValues.length - 1;\n        var customStep = this.customTickCounter(bigNum);\n        var count = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n            (bigNum * customStep) + bigNum : Math.abs((max - min) / steps);\n        this.element.appendChild(this.ul);\n        var li;\n        var start = parseFloat(this.min.toString());\n        if (orien === 'v') {\n            start = parseFloat(this.max.toString());\n        }\n        var left = 0;\n        var islargeTick;\n        var tickWidth = 100 / count;\n        if (tickWidth === Infinity) {\n            tickWidth = 5;\n        }\n        for (var i = 0, y = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n            this.customValues.length - 1 : 0, k = 0; i <= count; i++) {\n            li = (this.createElement('li', {\n                attrs: {\n                    class: classNames.tick, role: 'presentation', tabIndex: '-1',\n                    'aria-hidden': 'true'\n                }\n            }));\n            if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n                islargeTick = i % (customStep + 1) === 0;\n                if (islargeTick) {\n                    if (orien === 'h') {\n                        start = this.customValues[k];\n                        k++;\n                    }\n                    else {\n                        start = this.customValues[y];\n                        y--;\n                    }\n                    li.setAttribute('title', start.toString());\n                }\n            }\n            else {\n                li.setAttribute('title', start.toString());\n                if (this.numberOfDecimals(this.max) === 0 && this.numberOfDecimals(this.min) === 0 &&\n                    this.numberOfDecimals(this.step) === 0) {\n                    if (orien === 'h') {\n                        islargeTick = ((start - parseFloat(this.min.toString())) % this.ticks.largeStep === 0) ? true : false;\n                    }\n                    else {\n                        islargeTick = (Math.abs(start - parseFloat(this.max.toString())) % this.ticks.largeStep === 0) ? true : false;\n                    }\n                }\n                else {\n                    var largestep = this.fractionalToInteger(this.ticks.largeStep);\n                    var startValue = this.fractionalToInteger(start);\n                    islargeTick = ((startValue - min) % largestep === 0) ? true : false;\n                }\n            }\n            if (islargeTick) {\n                li.classList.add(classNames.large);\n            }\n            (orien === 'h') ? (li.style.width = tickWidth + '%') : (li.style.height = tickWidth + '%');\n            var repeat = islargeTick ? (this.ticks.placement === 'Both' ? 2 : 1) : 0;\n            if (islargeTick) {\n                for (var j = 0; j < repeat; j++) {\n                    this.createTick(li, start);\n                }\n            }\n            else if (isNullOrUndefined(this.customValues)) {\n                this.formatTicksValue(li, start);\n            }\n            this.ul.appendChild(li);\n            this.tickElementCollection.push(li);\n            var decimalPoints = void 0;\n            if (isNullOrUndefined(this.customValues)) {\n                if (this.numberOfDecimals(smallStep) > this.numberOfDecimals(start)) {\n                    decimalPoints = this.numberOfDecimals(smallStep);\n                }\n                else {\n                    decimalPoints = this.numberOfDecimals(start);\n                }\n                if (orien === 'h') {\n                    start = this.makeRoundNumber(start + smallStep, decimalPoints);\n                }\n                else {\n                    start = this.makeRoundNumber(start - smallStep, decimalPoints);\n                }\n                left = this.makeRoundNumber(left + smallStep, decimalPoints);\n            }\n        }\n        this.tickesAlignment(orien, tickWidth);\n    };\n    Slider.prototype.tickesAlignment = function (orien, tickWidth) {\n        this.firstChild = this.ul.firstElementChild;\n        this.lastChild = this.ul.lastElementChild;\n        this.firstChild.classList.add(classNames.sliderFirstTick);\n        this.lastChild.classList.add(classNames.sliderLastTick);\n        this.sliderContainer.classList.add(classNames.scale + '-' + this.ticks.placement.toLowerCase());\n        if (orien === 'h') {\n            this.firstChild.style.width = tickWidth / 2 + '%';\n            this.lastChild.style.width = tickWidth / 2 + '%';\n        }\n        else {\n            this.firstChild.style.height = tickWidth / 2 + '%';\n            this.lastChild.style.height = tickWidth / 2 + '%';\n        }\n        var eventArgs = { ticksWrapper: this.ul, tickElements: this.tickElementCollection };\n        this.trigger('renderedTicks', eventArgs);\n        this.scaleAlignment();\n    };\n    Slider.prototype.createTick = function (li, start) {\n        var span = this.createElement('span', {\n            className: classNames.tickValue + ' ' + classNames.tick + '-' + this.ticks.placement.toLowerCase(),\n            attrs: { role: 'presentation', tabIndex: '-1', 'aria-hidden': 'true' }\n        });\n        li.appendChild(span);\n        span.innerHTML = isNullOrUndefined(this.customValues) ? this.formatTicksValue(li, start) : start;\n    };\n    Slider.prototype.formatTicksValue = function (li, start) {\n        var tickText = this.formatNumber(start);\n        var text = !isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format) ?\n            this.formatString(start, this.ticksFormatInfo).formatString : tickText;\n        var eventArgs = { value: start, text: text, tickElement: li };\n        this.trigger('renderingTicks', eventArgs);\n        li.setAttribute('title', eventArgs.text.toString());\n        return eventArgs.text.toString();\n    };\n    Slider.prototype.scaleAlignment = function () {\n        this.tickValuePosition();\n        var smallTick = 12;\n        var largeTick = 20;\n        var half = largeTick / 2;\n        var orien = this.orientation === 'Vertical' ? 'v' : 'h';\n        if (this.orientation === 'Vertical') {\n            (this.element.getBoundingClientRect().width <= 15) ?\n                this.sliderContainer.classList.add(classNames.sliderSmallSize) :\n                this.sliderContainer.classList.remove(classNames.sliderSmallSize);\n        }\n        else {\n            (this.element.getBoundingClientRect().height <= 15) ?\n                this.sliderContainer.classList.add(classNames.sliderSmallSize) :\n                this.sliderContainer.classList.remove(classNames.sliderSmallSize);\n        }\n    };\n    Slider.prototype.tickValuePosition = function () {\n        var first = this.firstChild.getBoundingClientRect();\n        var firstChild;\n        var smallStep = this.ticks.smallStep;\n        var count = Math.abs((parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min)))) / smallStep;\n        if (this.firstChild.children.length > 0) {\n            firstChild = this.firstChild.children[0].getBoundingClientRect();\n        }\n        var tickElements = [this.sliderContainer.querySelectorAll('.' + classNames.tick + '.' +\n                classNames.large + ' .' + classNames.tickValue)];\n        var other;\n        if (this.ticks.placement === 'Both') {\n            other = [].slice.call(tickElements[0], 2);\n        }\n        else {\n            other = [].slice.call(tickElements[0], 1);\n        }\n        var tickWidth = this.orientation === 'Vertical' ?\n            (first.height * 2) : (first.width * 2);\n        for (var i = 0; i < this.firstChild.children.length; i++) {\n            if (this.orientation === 'Vertical') {\n                this.firstChild.children[i].style.top = -(firstChild.height / 2) + 'px';\n            }\n            else {\n                if (!this.enableRtl) {\n                    this.firstChild.children[i].style.left = -(firstChild.width / 2) + 'px';\n                }\n                else {\n                    this.firstChild.children[i].style.left = (tickWidth -\n                        this.firstChild.children[i].getBoundingClientRect().width) / 2 + 'px';\n                }\n            }\n        }\n        for (var i = 0; i < other.length; i++) {\n            var otherChild = other[i].getBoundingClientRect();\n            if (this.orientation === 'Vertical') {\n                setStyleAttribute(other[i], { top: (tickWidth - otherChild.height) / 2 + 'px' });\n            }\n            else {\n                setStyleAttribute(other[i], { left: (tickWidth - otherChild.width) / 2 + 'px' });\n            }\n        }\n        if (this.enableRtl && this.lastChild.children.length && count !== 0) {\n            this.lastChild.children[0].style.left = -(this.lastChild.getBoundingClientRect().width / 2) + 'px';\n            if (this.ticks.placement === 'Both') {\n                this.lastChild.children[1].style.left = -(this.lastChild.getBoundingClientRect().width / 2) + 'px';\n            }\n        }\n        if (count === 0) {\n            if (this.orientation === 'Horizontal') {\n                if (!this.enableRtl) {\n                    this.firstChild.classList.remove(classNames.sliderLastTick);\n                    this.firstChild.style.left = this.firstHandle.style.left;\n                }\n                else {\n                    this.firstChild.classList.remove(classNames.sliderLastTick);\n                    this.firstChild.style.right = this.firstHandle.style.right;\n                    this.firstChild.children[0].style.left =\n                        (this.firstChild.getBoundingClientRect().width / 2) + 2 + 'px';\n                    if (this.ticks.placement === 'Both') {\n                        this.firstChild.children[1].style.left =\n                            (this.firstChild.getBoundingClientRect().width / 2) + 2 + 'px';\n                    }\n                }\n            }\n            if (this.orientation === 'Vertical') {\n                this.firstChild.classList.remove(classNames.sliderLastTick);\n            }\n        }\n    };\n    Slider.prototype.setAriaAttrValue = function (element) {\n        var ariaValueText;\n        var isTickFormatted = ((!isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format))) ? true : false;\n        var text = !isTickFormatted ?\n            this.formatContent(this.ticksFormatInfo, false) : this.formatContent(this.tooltipFormatInfo, false);\n        var valuenow = isTickFormatted ? this.formatContent(this.ticksFormatInfo, true) :\n            this.formatContent(this.tooltipFormatInfo, true);\n        text = (!this.customAriaText) ? (text) : (this.customAriaText);\n        if (text.split(' - ').length === 2) {\n            ariaValueText = text.split(' - ');\n        }\n        else {\n            ariaValueText = [text, text];\n        }\n        this.setAriaAttributes(element);\n        if (this.type !== 'Range') {\n            attributes(element, { 'aria-valuenow': valuenow, 'aria-valuetext': text });\n        }\n        else {\n            (!this.enableRtl) ? ((element === this.firstHandle) ?\n                attributes(element, { 'aria-valuenow': valuenow.split(' - ')[0], 'aria-valuetext': ariaValueText[0] }) :\n                attributes(element, { 'aria-valuenow': valuenow.split(' - ')[1], 'aria-valuetext': ariaValueText[1] })) :\n                ((element === this.firstHandle) ?\n                    attributes(element, { 'aria-valuenow': valuenow.split(' - ')[1], 'aria-valuetext': ariaValueText[1] }) :\n                    attributes(element, { 'aria-valuenow': valuenow.split(' - ')[0], 'aria-valuetext': ariaValueText[0] }));\n        }\n    };\n    Slider.prototype.handleValueUpdate = function () {\n        var hVal;\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                hVal = this.handleVal1;\n            }\n            else {\n                hVal = this.handleVal2;\n            }\n        }\n        else {\n            hVal = this.handleVal1;\n        }\n        return hVal;\n    };\n    Slider.prototype.getLimitCorrectedValues = function (value) {\n        if (this.type === 'MinRange' || this.type === 'Default') {\n            value = (this.getLimitValueAndPosition(value, this.limits.minStart, this.limits.minEnd))[0];\n        }\n        else {\n            if (this.activeHandle === 1) {\n                value = (this.getLimitValueAndPosition(value, this.limits.minStart, this.limits.minEnd))[0];\n            }\n            else {\n                value = (this.getLimitValueAndPosition(value, this.limits.maxStart, this.limits.maxEnd))[0];\n            }\n        }\n        return value;\n    };\n    Slider.prototype.focusSliderElement = function () {\n        if (!this.isElementFocused) {\n            this.element.focus();\n            this.isElementFocused = true;\n        }\n    };\n    Slider.prototype.buttonClick = function (args) {\n        this.focusSliderElement();\n        var value;\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        var hVal = this.handleValueUpdate();\n        if ((args.keyCode === 40) || (args.keyCode === 37)\n            || args.currentTarget.classList.contains(classNames.firstButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), false));\n        }\n        else if ((args.keyCode === 38) || (args.keyCode === 39) ||\n            args.currentTarget.classList.contains(classNames.secondButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), true));\n        }\n        else if ((args.keyCode === 33\n            || args.currentTarget.classList.contains(classNames.firstButton))) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), true));\n        }\n        else if ((args.keyCode === 34) ||\n            args.currentTarget.classList.contains(classNames.secondButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), false));\n        }\n        else if ((args.keyCode === 36)) {\n            value = parseFloat(this.min.toString());\n        }\n        else if ((args.keyCode === 35)) {\n            value = parseFloat(this.max.toString());\n        }\n        if (this.limits.enabled) {\n            value = this.getLimitCorrectedValues(value);\n        }\n        this.changeHandleValue(value);\n        if (this.isMaterial && !this.tooltip.isVisible &&\n            !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n            this.materialChange();\n        }\n        this.tooltipAnimation();\n        this.getHandle().focus();\n        if (args.currentTarget.classList.contains(classNames.firstButton)) {\n            EventHandler.add(this.firstBtn, 'mouseup touchend', this.buttonUp, this);\n        }\n        if (args.currentTarget.classList.contains(classNames.secondButton)) {\n            EventHandler.add(this.secondBtn, 'mouseup touchend', this.buttonUp, this);\n        }\n    };\n    Slider.prototype.tooltipAnimation = function () {\n        if (this.tooltip.isVisible) {\n            var tooltipObj = this.activeHandle === 1 ? this.firstTooltipObj : this.secondTooltipObj;\n            var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n            if (this.isMaterial) {\n                !tooltipElement.classList.contains(classNames.materialTooltipOpen) ? this.openMaterialTooltip() : this.refreshTooltip();\n            }\n            else {\n                tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n                this.openTooltip();\n            }\n        }\n    };\n    Slider.prototype.buttonUp = function (args) {\n        if (this.tooltip.isVisible) {\n            if (!this.isMaterial) {\n                var tooltipObj = this.activeHandle === 1 ? this.firstTooltipObj : this.secondTooltipObj;\n                tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'None' } };\n            }\n        }\n        if (args.currentTarget.classList.contains(classNames.firstButton)) {\n            EventHandler.remove(this.firstBtn, 'mouseup touchend', this.buttonUp);\n        }\n        if (args.currentTarget.classList.contains(classNames.secondButton)) {\n            EventHandler.remove(this.secondBtn, 'mouseup touchend', this.buttonUp);\n        }\n    };\n    Slider.prototype.setRangeBar = function () {\n        if (this.orientation === 'Horizontal') {\n            if (this.type === 'MinRange') {\n                this.enableRtl ? (this.rangeBar.style.right = '0px') : (this.rangeBar.style.left = '0px');\n                setStyleAttribute(this.rangeBar, { 'width': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else {\n                this.enableRtl ? (this.rangeBar.style.right =\n                    this.handlePos1 + 'px') : (this.rangeBar.style.left = this.handlePos1 + 'px');\n                setStyleAttribute(this.rangeBar, { 'width': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        else {\n            if (this.type === 'MinRange') {\n                this.rangeBar.style.bottom = '0px';\n                setStyleAttribute(this.rangeBar, { 'height': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else {\n                this.rangeBar.style.bottom = this.handlePos1 + 'px';\n                setStyleAttribute(this.rangeBar, { 'height': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n    };\n    Slider.prototype.checkValidValueAndPos = function (value) {\n        value = this.checkHandleValue(value);\n        value = this.checkHandlePosition(value);\n        return value;\n    };\n    Slider.prototype.setLimitBarPositions = function (fromMinPostion, fromMaxpostion, toMinPostion, toMaxpostion) {\n        if (this.orientation === 'Horizontal') {\n            if (!this.enableRtl) {\n                this.limitBarFirst.style.left = fromMinPostion + 'px';\n                this.limitBarFirst.style.width = (fromMaxpostion - fromMinPostion) + 'px';\n            }\n            else {\n                this.limitBarFirst.style.right = fromMinPostion + 'px';\n                this.limitBarFirst.style.width = (fromMaxpostion - fromMinPostion) + 'px';\n            }\n        }\n        else {\n            this.limitBarFirst.style.bottom = fromMinPostion + 'px';\n            this.limitBarFirst.style.height = (fromMaxpostion - fromMinPostion) + 'px';\n        }\n        if (this.type === 'Range') {\n            if (this.orientation === 'Horizontal') {\n                if (!this.enableRtl) {\n                    this.limitBarSecond.style.left = toMinPostion + 'px';\n                    this.limitBarSecond.style.width = (toMaxpostion - toMinPostion) + 'px';\n                }\n                else {\n                    this.limitBarSecond.style.right = toMinPostion + 'px';\n                    this.limitBarSecond.style.width = (toMaxpostion - toMinPostion) + 'px';\n                }\n            }\n            else {\n                this.limitBarSecond.style.bottom = toMinPostion + 'px';\n                this.limitBarSecond.style.height = (toMaxpostion - toMinPostion) + 'px';\n            }\n        }\n    };\n    Slider.prototype.setLimitBar = function () {\n        if (this.type === 'Default' || this.type === 'MinRange') {\n            var fromPosition = (this.getLimitValueAndPosition(this.limits.minStart, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromPosition = this.checkValidValueAndPos(fromPosition);\n            var toPosition = (this.getLimitValueAndPosition(this.limits.minEnd, this.limits.minStart, this.limits.minEnd, true))[0];\n            toPosition = this.checkValidValueAndPos(toPosition);\n            this.setLimitBarPositions(fromPosition, toPosition);\n        }\n        else if (this.type === 'Range') {\n            var fromMinPostion = (this.getLimitValueAndPosition(this.limits.minStart, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromMinPostion = this.checkValidValueAndPos(fromMinPostion);\n            var fromMaxpostion = (this.getLimitValueAndPosition(this.limits.minEnd, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromMaxpostion = this.checkValidValueAndPos(fromMaxpostion);\n            var toMinPostion = (this.getLimitValueAndPosition(this.limits.maxStart, this.limits.maxStart, this.limits.maxEnd, true))[0];\n            toMinPostion = this.checkValidValueAndPos(toMinPostion);\n            var toMaxpostion = (this.getLimitValueAndPosition(this.limits.maxEnd, this.limits.maxStart, this.limits.maxEnd, true))[0];\n            toMaxpostion = this.checkValidValueAndPos(toMaxpostion);\n            this.setLimitBarPositions(fromMinPostion, fromMaxpostion, toMinPostion, toMaxpostion);\n        }\n    };\n    Slider.prototype.getLimitValueAndPosition = function (currentValue, minValue, maxValue, limitBar) {\n        if (isNullOrUndefined(minValue)) {\n            minValue = this.min;\n            if (isNullOrUndefined(currentValue) && limitBar) {\n                currentValue = minValue;\n            }\n        }\n        if (isNullOrUndefined(maxValue)) {\n            maxValue = this.max;\n            if (isNullOrUndefined(currentValue) && limitBar) {\n                currentValue = maxValue;\n            }\n        }\n        if (currentValue < minValue) {\n            currentValue = minValue;\n        }\n        if (currentValue > maxValue) {\n            currentValue = maxValue;\n        }\n        return [currentValue, this.checkHandlePosition(currentValue)];\n    };\n    Slider.prototype.setValue = function () {\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            this.min = 0;\n            this.max = this.customValues.length - 1;\n        }\n        this.setAriaAttributes(this.firstHandle);\n        this.handleVal1 = isNullOrUndefined(this.value) ? this.checkHandleValue(parseFloat(this.min.toString())) :\n            this.checkHandleValue(parseFloat(this.value.toString()));\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.preHandlePos1 = this.handlePos1;\n        isNullOrUndefined(this.activeHandle) ? (this.type === 'Range' ? this.activeHandle = 2 : this.activeHandle = 1) :\n            this.activeHandle = this.activeHandle;\n        if (this.type === 'Default' || this.type === 'MinRange') {\n            if (this.limits.enabled) {\n                var values = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n                this.handleVal1 = values[0];\n                this.handlePos1 = values[1];\n                this.preHandlePos1 = this.handlePos1;\n            }\n            this.setHandlePosition();\n            this.handleStart();\n            this.value = this.handleVal1;\n            this.setAriaAttrValue(this.firstHandle);\n            this.changeEvent('changed');\n        }\n        else {\n            this.validateRangeValue();\n        }\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n    };\n    Slider.prototype.rangeValueUpdate = function () {\n        if (this.value === null || typeof (this.value) !== 'object') {\n            this.value = [parseFloat(formatUnit(this.min)), parseFloat(formatUnit(this.max))];\n        }\n    };\n    Slider.prototype.validateRangeValue = function () {\n        this.rangeValueUpdate();\n        this.setRangeValue();\n    };\n    Slider.prototype.modifyZindex = function () {\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                this.firstHandle.style.zIndex = (this.zIndex + 4) + '';\n                this.secondHandle.style.zIndex = (this.zIndex + 3) + '';\n                if (this.isMaterial && this.tooltip.isVisible && this.firstTooltipElement && this.secondTooltipElement) {\n                    this.firstTooltipElement.style.zIndex = (this.zIndex + 4) + '';\n                    this.secondTooltipElement.style.zIndex = (this.zIndex + 3) + '';\n                }\n            }\n            else {\n                this.firstHandle.style.zIndex = (this.zIndex + 3) + '';\n                this.secondHandle.style.zIndex = (this.zIndex + 4) + '';\n                if (this.isMaterial && this.tooltip.isVisible && this.firstTooltipElement && this.secondTooltipElement) {\n                    this.firstTooltipElement.style.zIndex = (this.zIndex + 3) + '';\n                    this.secondTooltipElement.style.zIndex = (this.zIndex + 4) + '';\n                }\n            }\n        }\n        else if (this.isMaterial && this.tooltip.isVisible && this.firstTooltipElement) {\n            this.firstTooltipElement.style.zIndex = (this.zIndex + 4) + '';\n        }\n    };\n    Slider.prototype.setHandlePosition = function () {\n        var _this = this;\n        var pos = (this.activeHandle === 1) ? this.handlePos1 : this.handlePos2;\n        var val = (this.activeHandle === 1) ? this.handleVal1 : this.handleVal2;\n        var handle;\n        var tooltipElement;\n        if (this.isMaterial && this.tooltip.isVisible) {\n            tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n            handle = [this.getHandle(), (this.activeHandle === 1 ? this.firstMaterialHandle : this.secondMaterialHandle)];\n        }\n        else {\n            handle = [this.getHandle()];\n        }\n        if (this.tooltip.isVisible && pos === 0 && this.type !== 'Range') {\n            handle[0].classList.add(classNames.sliderHandleStart);\n            if (this.isMaterial) {\n                handle[1].classList.add(classNames.sliderHandleStart);\n                if (tooltipElement) {\n                    tooltipElement.classList.add(classNames.sliderTooltipStart);\n                }\n            }\n        }\n        else {\n            handle[0].classList.remove(classNames.sliderHandleStart);\n            if (this.tooltip.isVisible && this.isMaterial) {\n                handle[1].classList.remove(classNames.sliderHandleStart);\n                if (tooltipElement) {\n                    tooltipElement.classList.remove(classNames.sliderTooltipStart);\n                }\n            }\n        }\n        handle.forEach(function (handle) {\n            if (_this.orientation === 'Horizontal') {\n                _this.enableRtl ? (handle.style.right =\n                    pos + \"px\") : (handle.style.left = pos + \"px\");\n            }\n            else {\n                handle.style.bottom = pos + \"px\";\n            }\n        });\n        this.changeEvent('change');\n    };\n    Slider.prototype.getHandle = function () {\n        return (this.activeHandle === 1) ? this.firstHandle : this.secondHandle;\n    };\n    Slider.prototype.setRangeValue = function () {\n        var temp = this.activeHandle;\n        this.updateRangeValue();\n        this.activeHandle = 1;\n        this.setHandlePosition();\n        this.activeHandle = 2;\n        this.setHandlePosition();\n        this.activeHandle = 1;\n    };\n    Slider.prototype.changeEvent = function (eventName) {\n        var previous = eventName === 'change' ? this.previousVal : this.previousChanged;\n        if (this.type !== 'Range') {\n            this.setProperties({ 'value': this.handleVal1 }, true);\n            if (previous !== this.value) {\n                this.trigger(eventName, this.changeEventArgs(eventName));\n                this.setPreviousVal(eventName, this.value);\n            }\n            this.setAriaAttrValue(this.firstHandle);\n        }\n        else {\n            var value = this.value = [this.handleVal1, this.handleVal2];\n            this.setProperties({ 'value': value }, true);\n            if (previous.length === this.value.length\n                && this.value[0] !== previous[0] || this.value[1] !== previous[1]) {\n                this.trigger(eventName, this.changeEventArgs(eventName));\n                this.setPreviousVal(eventName, this.value);\n            }\n            this.setAriaAttrValue(this.getHandle());\n        }\n        this.hiddenInput.value = this.value.toString();\n    };\n    Slider.prototype.changeEventArgs = function (eventName) {\n        var eventArgs;\n        if (this.tooltip.isVisible && this.firstTooltipObj) {\n            this.tooltipValue();\n            eventArgs = {\n                value: this.value,\n                previousValue: eventName === 'change' ? this.previousVal : this.previousChanged,\n                action: eventName, text: this.firstTooltipObj.content\n            };\n        }\n        else {\n            eventArgs = {\n                value: this.value,\n                previousValue: eventName === 'change' ? this.previousVal : this.previousChanged,\n                action: eventName, text: isNullOrUndefined(this.ticksFormatInfo.format) ? this.value.toString() :\n                    (this.type !== 'Range' ? this.formatString(this.value, this.ticksFormatInfo).formatString :\n                        (this.formatString(this.value[0], this.ticksFormatInfo).formatString + ' - ' +\n                            this.formatString(this.value[1], this.ticksFormatInfo).formatString))\n            };\n        }\n        return eventArgs;\n    };\n    Slider.prototype.setPreviousVal = function (eventName, value) {\n        if (eventName === 'change') {\n            this.previousVal = value;\n        }\n        else {\n            this.previousChanged = value;\n        }\n    };\n    Slider.prototype.updateRangeValue = function () {\n        var values = this.value.toString().split(',').map(Number);\n        if ((this.enableRtl && this.orientation !== 'Vertical') || this.rtl) {\n            this.value = [values[1], values[0]];\n        }\n        else {\n            this.value = [values[0], values[1]];\n        }\n        if (this.enableRtl && this.orientation !== 'Vertical') {\n            this.handleVal1 = this.checkHandleValue(this.value[1]);\n            this.handleVal2 = this.checkHandleValue(this.value[0]);\n        }\n        else {\n            this.handleVal1 = this.checkHandleValue(this.value[0]);\n            this.handleVal2 = this.checkHandleValue(this.value[1]);\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n        if (this.handlePos1 > this.handlePos2) {\n            this.handlePos1 = this.handlePos2;\n            this.handleVal1 = this.handleVal2;\n        }\n        this.preHandlePos1 = this.handlePos1;\n        this.preHandlePos2 = this.handlePos2;\n        if (this.limits.enabled) {\n            this.activeHandle = 1;\n            var values_1 = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n            this.handleVal1 = values_1[0];\n            this.handlePos1 = values_1[1];\n            this.preHandlePos1 = this.handlePos1;\n            this.activeHandle = 2;\n            values_1 = this.getLimitValueAndPosition(this.handleVal2, this.limits.maxStart, this.limits.maxEnd);\n            this.handleVal2 = values_1[0];\n            this.handlePos2 = values_1[1];\n            this.preHandlePos2 = this.handlePos2;\n        }\n    };\n    Slider.prototype.checkHandlePosition = function (value) {\n        var pos;\n        value = (100 *\n            (value - (parseFloat(formatUnit(this.min))))) / ((parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min))));\n        if (this.orientation === 'Horizontal') {\n            pos = this.element.getBoundingClientRect().width * (value / 100);\n        }\n        else {\n            pos = this.element.getBoundingClientRect().height * (value / 100);\n        }\n        if (((parseFloat(formatUnit(this.max))) === (parseFloat(formatUnit(this.min))))) {\n            if (this.orientation === 'Horizontal') {\n                pos = this.element.getBoundingClientRect().width;\n            }\n            else {\n                pos = this.element.getBoundingClientRect().height;\n            }\n        }\n        return pos;\n    };\n    Slider.prototype.checkHandleValue = function (value) {\n        if (this.min > this.max) {\n            this.min = this.max;\n        }\n        if (this.min === this.max) {\n            return (parseFloat(formatUnit(this.max)));\n        }\n        var handle = this.tempStartEnd();\n        if (value < handle.start) {\n            value = handle.start;\n        }\n        else if (value > handle.end) {\n            value = handle.end;\n        }\n        return value;\n    };\n    Slider.prototype.onResize = function () {\n        var _this = this;\n        this.firstHandle.style.transition = 'none';\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        if (this.type === 'Range') {\n            this.secondHandle.style.transition = 'none';\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        if (this.handleVal2) {\n            this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n        }\n        if (this.orientation === 'Horizontal') {\n            this.enableRtl ? this.firstHandle.style.right =\n                this.handlePos1 + \"px\" : this.firstHandle.style.left = this.handlePos1 + \"px\";\n            if (this.isMaterial && this.tooltip.isVisible && this.firstMaterialHandle) {\n                this.enableRtl ? this.firstMaterialHandle.style.right =\n                    this.handlePos1 + \"px\" : this.firstMaterialHandle.style.left = this.handlePos1 + \"px\";\n            }\n            if (this.type === 'MinRange') {\n                this.enableRtl ? (this.rangeBar.style.right = '0px') : (this.rangeBar.style.left = '0px');\n                setStyleAttribute(this.rangeBar, { 'width': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else if (this.type === 'Range') {\n                this.enableRtl ? this.secondHandle.style.right =\n                    this.handlePos2 + \"px\" : this.secondHandle.style.left = this.handlePos2 + \"px\";\n                if (this.isMaterial && this.tooltip.isVisible && this.secondMaterialHandle) {\n                    this.enableRtl ? this.secondMaterialHandle.style.right =\n                        this.handlePos2 + \"px\" : this.secondMaterialHandle.style.left = this.handlePos2 + \"px\";\n                }\n                this.enableRtl ? (this.rangeBar.style.right =\n                    this.handlePos1 + 'px') : (this.rangeBar.style.left = this.handlePos1 + 'px');\n                setStyleAttribute(this.rangeBar, { 'width': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        else {\n            this.firstHandle.style.bottom = this.handlePos1 + \"px\";\n            if (this.isMaterial && this.tooltip.isVisible && this.firstMaterialHandle) {\n                this.firstMaterialHandle.style.bottom = this.handlePos1 + \"px\";\n            }\n            if (this.type === 'MinRange') {\n                this.rangeBar.style.bottom = '0px';\n                setStyleAttribute(this.rangeBar, { 'height': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else if (this.type === 'Range') {\n                this.secondHandle.style.bottom = this.handlePos2 + \"px\";\n                if (this.isMaterial && this.tooltip.isVisible && this.secondMaterialHandle) {\n                    this.secondMaterialHandle.style.bottom = this.handlePos2 + \"px\";\n                }\n                this.rangeBar.style.bottom = this.handlePos1 + 'px';\n                setStyleAttribute(this.rangeBar, { 'height': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n        if (this.ticks.placement !== 'None' && this.ul) {\n            this.removeElement(this.ul);\n            this.renderScale();\n        }\n        if (!this.tooltip.isVisible) {\n            setTimeout(function () {\n                _this.firstHandle.style.transition = _this.scaleTransform;\n                if (_this.type === 'Range') {\n                    _this.secondHandle.style.transition = _this.scaleTransform;\n                }\n            });\n        }\n        this.refreshTooltip();\n    };\n    Slider.prototype.changeHandleValue = function (value) {\n        var position = null;\n        if (this.activeHandle === 1) {\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                this.handleVal1 = this.checkHandleValue(value);\n                this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n                if (this.type === 'Range' && this.handlePos1 > this.handlePos2) {\n                    this.handlePos1 = this.handlePos2;\n                    this.handleVal1 = this.handleVal2;\n                }\n                if (this.handlePos1 !== this.preHandlePos1) {\n                    position = this.preHandlePos1 = this.handlePos1;\n                }\n            }\n            this.modifyZindex();\n        }\n        else {\n            if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                this.handleVal2 = this.checkHandleValue(value);\n                this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n                if (this.type === 'Range' && this.handlePos2 < this.handlePos1) {\n                    this.handlePos2 = this.handlePos1;\n                    this.handleVal2 = this.handleVal1;\n                }\n                if (this.handlePos2 !== this.preHandlePos2) {\n                    position = this.preHandlePos2 = this.handlePos2;\n                }\n            }\n            this.modifyZindex();\n        }\n        if (position !== null) {\n            if (this.type !== 'Default') {\n                this.setRangeBar();\n            }\n            this.setHandlePosition();\n        }\n    };\n    Slider.prototype.tempStartEnd = function () {\n        if (this.min > this.max) {\n            return {\n                start: this.max,\n                end: this.min\n            };\n        }\n        else {\n            return {\n                start: this.min,\n                end: this.max\n            };\n        }\n    };\n    Slider.prototype.xyToPosition = function (position) {\n        var pos;\n        if (this.min === this.max) {\n            return 100;\n        }\n        if (this.orientation === 'Horizontal') {\n            var left = position.x - this.element.getBoundingClientRect().left;\n            var num = this.element.offsetWidth / 100;\n            this.val = (left / num);\n        }\n        else {\n            var top_1 = position.y - this.element.getBoundingClientRect().top;\n            var num = this.element.offsetHeight / 100;\n            this.val = 100 - (top_1 / num);\n        }\n        var val = this.stepValueCalculation(this.val);\n        if (val < 0) {\n            val = 0;\n        }\n        else if (val > 100) {\n            val = 100;\n        }\n        if (this.enableRtl && this.orientation !== 'Vertical') {\n            val = 100 - val;\n        }\n        if (this.orientation === 'Horizontal') {\n            pos = this.element.getBoundingClientRect().width * (val / 100);\n        }\n        else {\n            pos = this.element.getBoundingClientRect().height * (val / 100);\n        }\n        return pos;\n    };\n    Slider.prototype.stepValueCalculation = function (value) {\n        if (this.step === 0) {\n            this.step = 1;\n        }\n        var percentStep = (parseFloat(formatUnit(this.step))) / ((parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min))) / 100);\n        var remain = value % Math.abs(percentStep);\n        if (remain !== 0) {\n            if ((percentStep / 2) > remain) {\n                value -= remain;\n            }\n            else {\n                value += Math.abs(percentStep) - remain;\n            }\n        }\n        return value;\n    };\n    Slider.prototype.add = function (a, b, addition) {\n        var precision;\n        var x = Math.pow(10, precision || 3);\n        var val;\n        if (addition) {\n            val = (Math.round(a * x) + Math.round(b * x)) / x;\n        }\n        else {\n            val = (Math.round(a * x) - Math.round(b * x)) / x;\n        }\n        return val;\n    };\n    Slider.prototype.round = function (a) {\n        var f = this.step.toString().split('.');\n        return f[1] ? parseFloat(a.toFixed(f[1].length)) : Math.round(a);\n    };\n    Slider.prototype.positionToValue = function (pos) {\n        var val;\n        var diff = parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min));\n        if (this.orientation === 'Horizontal') {\n            val = (pos / this.element.getBoundingClientRect().width) * diff;\n        }\n        else {\n            val = (pos / this.element.getBoundingClientRect().height) * diff;\n        }\n        var total = this.add(val, parseFloat(this.min.toString()), true);\n        return (total);\n    };\n    Slider.prototype.sliderBarClick = function (evt) {\n        evt.preventDefault();\n        var pos;\n        if (evt.type === 'mousedown' || evt.type === 'click') {\n            pos = { x: evt.clientX, y: evt.clientY };\n        }\n        else if (evt.type === 'touchstart') {\n            pos = { x: evt.changedTouches[0].clientX, y: evt.changedTouches[0].clientY };\n        }\n        var handlepos = this.xyToPosition(pos);\n        var handleVal = this.positionToValue(handlepos);\n        if (this.type === 'Range' && (this.handlePos2 - handlepos) < (handlepos - this.handlePos1)) {\n            this.activeHandle = 2;\n            if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                if (this.limits.enabled) {\n                    var value = this.getLimitValueAndPosition(handleVal, this.limits.maxStart, this.limits.maxEnd);\n                    handleVal = value[0];\n                    handlepos = value[1];\n                }\n                this.secondHandle.classList.add(classNames.sliderActiveHandle);\n                this.handlePos2 = this.preHandlePos2 = handlepos;\n                this.handleVal2 = handleVal;\n            }\n            this.modifyZindex();\n            this.secondHandle.focus();\n        }\n        else {\n            this.activeHandle = 1;\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                if (this.limits.enabled) {\n                    var value = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                    handleVal = value[0];\n                    handlepos = value[1];\n                }\n                this.firstHandle.classList.add(classNames.sliderActiveHandle);\n                this.handlePos1 = this.preHandlePos1 = handlepos;\n                this.handleVal1 = handleVal;\n            }\n            this.modifyZindex();\n            this.firstHandle.focus();\n        }\n        if (this.isMaterial && this.tooltip.isVisible) {\n            var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n            tooltipElement.classList.add(classNames.materialTooltipActive);\n        }\n        var focusedElement = this.element.querySelector('.' + classNames.sliderTabHandle);\n        if (focusedElement && this.getHandle() !== focusedElement) {\n            focusedElement.classList.remove(classNames.sliderTabHandle);\n        }\n        var handle = this.activeHandle === 1 ? this.firstHandle : this.secondHandle;\n        if (evt.target === handle) {\n            if (this.isMaterial && !this.tooltip.isVisible &&\n                !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n                this.materialChange();\n            }\n            this.tooltipAnimation();\n            return;\n        }\n        if (!this.checkRepeatedValue(handleVal)) {\n            return;\n        }\n        var transition = this.isMaterial && this.tooltip.isVisible ?\n            this.transitionOnMaterialTooltip : this.transition;\n        this.getHandle().style.transition = transition.handle;\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = transition.rangeBar;\n        }\n        this.setHandlePosition();\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n    };\n    Slider.prototype.refreshTooltipOnMove = function () {\n        if (this.tooltip.isVisible) {\n            this.tooltipValue();\n            this.activeHandle === 1 ? this.firstTooltipObj.refresh(this.firstHandle) :\n                this.secondTooltipObj.refresh(this.secondHandle);\n        }\n    };\n    Slider.prototype.sliderDown = function (event) {\n        event.preventDefault();\n        this.focusSliderElement();\n        if (this.type === 'Range' && this.drag && event.target === this.rangeBar) {\n            var xPostion = void 0;\n            var yPostion = void 0;\n            if (event.type === 'mousedown') {\n                _a = [event.clientX, event.clientY], xPostion = _a[0], yPostion = _a[1];\n            }\n            else if (event.type === 'touchstart') {\n                _b = [event.changedTouches[0].clientX, event.changedTouches[0].clientY], xPostion = _b[0], yPostion = _b[1];\n            }\n            if (this.orientation === 'Horizontal') {\n                this.firstPartRemain = xPostion - this.rangeBar.getBoundingClientRect().left;\n                this.secondPartRemain = this.rangeBar.getBoundingClientRect().right - xPostion;\n            }\n            else {\n                this.firstPartRemain = yPostion - this.rangeBar.getBoundingClientRect().top;\n                this.secondPartRemain = this.rangeBar.getBoundingClientRect().bottom - yPostion;\n            }\n            this.minDiff = this.handleVal2 - this.handleVal1;\n            this.getHandle().focus();\n            EventHandler.add(document, 'mousemove touchmove', this.dragRangeBarMove, this);\n            EventHandler.add(document, 'mouseup touchend', this.dragRangeBarUp, this);\n        }\n        else {\n            this.sliderBarClick(event);\n            EventHandler.add(document, 'mousemove touchmove', this.sliderBarMove, this);\n            EventHandler.add(document, 'mouseup touchend', this.sliderBarUp, this);\n        }\n        var _a, _b;\n    };\n    Slider.prototype.handleValueAdjust = function (handleValue, assignValue, handleNumber) {\n        if (handleNumber === 1) {\n            this.handleVal1 = assignValue;\n            this.handleVal2 = this.handleVal1 + this.minDiff;\n        }\n        else if (handleNumber === 2) {\n            this.handleVal2 = assignValue;\n            this.handleVal1 = this.handleVal2 - this.minDiff;\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n    };\n    Slider.prototype.dragRangeBarMove = function (event) {\n        if (event.type !== 'touchmove') {\n            event.preventDefault();\n        }\n        var pos;\n        this.rangeBar.style.transition = 'none';\n        this.firstHandle.style.transition = 'none';\n        this.secondHandle.style.transition = 'none';\n        var xPostion;\n        var yPostion;\n        if (event.type === 'mousemove') {\n            _a = [event.clientX, event.clientY], xPostion = _a[0], yPostion = _a[1];\n        }\n        else {\n            _b = [event.changedTouches[0].clientX, event.changedTouches[0].clientY], xPostion = _b[0], yPostion = _b[1];\n        }\n        if (!(this.limits.enabled && this.limits.startHandleFixed) && !(this.limits.enabled && this.limits.endHandleFixed)) {\n            if (!this.enableRtl) {\n                pos = { x: xPostion - this.firstPartRemain, y: yPostion + this.secondPartRemain };\n            }\n            else {\n                pos = { x: xPostion + this.secondPartRemain, y: yPostion + this.secondPartRemain };\n            }\n            this.handlePos1 = this.xyToPosition(pos);\n            this.handleVal1 = this.positionToValue(this.handlePos1);\n            if (!this.enableRtl) {\n                pos = { x: xPostion + this.secondPartRemain, y: yPostion - this.firstPartRemain };\n            }\n            else {\n                pos = { x: xPostion - this.firstPartRemain, y: yPostion - this.firstPartRemain };\n            }\n            this.handlePos2 = this.xyToPosition(pos);\n            this.handleVal2 = this.positionToValue(this.handlePos2);\n            if (this.limits.enabled) {\n                var value = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n                this.handleVal1 = value[0];\n                this.handlePos1 = value[1];\n                if (this.handleVal1 === this.limits.minEnd) {\n                    this.handleValueAdjust(this.handleVal1, this.limits.minEnd, 1);\n                }\n                if (this.handleVal1 === this.limits.minStart) {\n                    this.handleValueAdjust(this.handleVal1, this.limits.minStart, 1);\n                }\n                value = this.getLimitValueAndPosition(this.handleVal2, this.limits.maxStart, this.limits.maxEnd);\n                this.handleVal2 = value[0];\n                this.handlePos2 = value[1];\n                if (this.handleVal2 === this.limits.maxStart) {\n                    this.handleValueAdjust(this.handleVal2, this.limits.maxStart, 2);\n                }\n                if (this.handleVal2 === this.limits.maxEnd) {\n                    this.handleValueAdjust(this.handleVal2, this.limits.maxEnd, 2);\n                }\n            }\n            if (this.handleVal2 === this.max) {\n                this.handleValueAdjust(this.handleVal2, this.max, 2);\n            }\n            if (this.handleVal1 === this.min) {\n                this.handleValueAdjust(this.handleVal1, this.min, 1);\n            }\n        }\n        this.activeHandle = 1;\n        this.setHandlePosition();\n        if (this.tooltip.isVisible) {\n            if (this.isMaterial) {\n                !this.firstTooltipElement.classList.contains(classNames.materialTooltipOpen) ? this.openMaterialTooltip() :\n                    this.refreshTooltipOnMove();\n            }\n            else {\n                !this.firstTooltipElement ? this.openTooltip() : this.refreshTooltipOnMove();\n            }\n        }\n        this.activeHandle = 2;\n        this.setHandlePosition();\n        if (this.tooltip.isVisible) {\n            if (this.isMaterial) {\n                !this.secondTooltipElement.classList.contains(classNames.materialTooltipOpen) ? this.openMaterialTooltip() :\n                    this.refreshTooltipOnMove();\n            }\n            else {\n                !this.secondTooltipElement ? this.openTooltip() : this.refreshTooltipOnMove();\n            }\n        }\n        this.setRangeBar();\n        var _a, _b;\n    };\n    Slider.prototype.sliderBarUp = function () {\n        this.changeEvent('changed');\n        this.handleFocusOut();\n        this.firstHandle.classList.remove(classNames.sliderActiveHandle);\n        if (this.type === 'Range') {\n            this.secondHandle.classList.remove(classNames.sliderActiveHandle);\n        }\n        if (this.tooltip.isVisible) {\n            if (this.tooltip.showOn !== 'Always') {\n                this.closeTooltip();\n            }\n            if (!this.isMaterial) {\n                var tooltipObj = this.activeHandle === 1 ? this.firstTooltipObj : this.secondTooltipObj;\n                tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'None' } };\n            }\n        }\n        if (this.isMaterial) {\n            this.getHandle().classList.remove('e-large-thumb-size');\n            if (this.tooltip.isVisible) {\n                var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n                tooltipElement.classList.remove(classNames.materialTooltipActive);\n            }\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.sliderBarMove);\n        EventHandler.remove(document, 'mouseup touchend', this.sliderBarUp);\n    };\n    Slider.prototype.sliderBarMove = function (evt) {\n        if (evt.type !== 'touchmove') {\n            evt.preventDefault();\n        }\n        var pos;\n        if (evt.type === 'mousemove') {\n            pos = { x: evt.clientX, y: evt.clientY };\n        }\n        else {\n            pos = { x: evt.changedTouches[0].clientX, y: evt.changedTouches[0].clientY };\n        }\n        var handlepos = this.xyToPosition(pos);\n        var handleVal = this.positionToValue(handlepos);\n        handlepos = Math.round(handlepos);\n        if (this.type !== 'Range' && this.activeHandle === 1) {\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                if (this.limits.enabled) {\n                    var valueAndPostion = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                    handlepos = valueAndPostion[1];\n                    handleVal = valueAndPostion[0];\n                }\n                this.handlePos1 = handlepos;\n                this.handleVal1 = handleVal;\n            }\n            this.firstHandle.classList.add(classNames.sliderActiveHandle);\n        }\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                this.firstHandle.classList.add(classNames.sliderActiveHandle);\n                if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                    if (handlepos > this.handlePos2) {\n                        handlepos = this.handlePos2;\n                        handleVal = this.handleVal2;\n                    }\n                    if (handlepos !== this.preHandlePos1) {\n                        if (this.limits.enabled) {\n                            var value = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                            handleVal = value[0];\n                            handlepos = value[1];\n                        }\n                        this.handlePos1 = this.preHandlePos1 = handlepos;\n                        this.handleVal1 = handleVal;\n                        this.activeHandle = 1;\n                    }\n                }\n            }\n            else if (this.activeHandle === 2) {\n                this.secondHandle.classList.add(classNames.sliderActiveHandle);\n                if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                    if (handlepos < this.handlePos1) {\n                        handlepos = this.handlePos1;\n                        handleVal = this.handleVal1;\n                    }\n                    if (handlepos !== this.preHandlePos2) {\n                        if (this.limits.enabled) {\n                            var value = this.getLimitValueAndPosition(handleVal, this.limits.maxStart, this.limits.maxEnd);\n                            handleVal = value[0];\n                            handlepos = value[1];\n                        }\n                        this.handlePos2 = this.preHandlePos2 = handlepos;\n                        this.handleVal2 = handleVal;\n                        this.activeHandle = 2;\n                    }\n                }\n            }\n        }\n        if (!this.checkRepeatedValue(handleVal)) {\n            return;\n        }\n        this.getHandle().style.transition = this.scaleTransform;\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        this.setHandlePosition();\n        if (this.isMaterial && !this.tooltip.isVisible &&\n            !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n            this.materialChange();\n        }\n        var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n        if (this.tooltip.isVisible) {\n            if (this.isMaterial) {\n                !tooltipElement.classList.contains(classNames.materialTooltipOpen) ? this.openMaterialTooltip() :\n                    this.refreshTooltipOnMove();\n            }\n            else {\n                !tooltipElement ? this.openTooltip() : this.refreshTooltipOnMove();\n            }\n        }\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n    };\n    Slider.prototype.dragRangeBarUp = function (event) {\n        this.changeEvent('changed');\n        if (this.tooltip.isVisible) {\n            if (this.tooltip.showOn !== 'Always' && !this.isMaterial) {\n                this.activeHandle = 1;\n                this.firstTooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n                this.closeTooltip();\n                this.activeHandle = 2;\n                this.secondTooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n                this.closeTooltip();\n            }\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.dragRangeBarMove);\n        EventHandler.remove(document, 'mouseup touchend', this.dragRangeBarUp);\n    };\n    Slider.prototype.checkRepeatedValue = function (currentValue) {\n        if (this.type === 'Range') {\n            var previousVal = this.enableRtl && this.orientation !== 'Vertical' ? (this.activeHandle === 1 ?\n                this.previousVal[1] : this.previousVal[0]) :\n                (this.activeHandle === 1 ? this.previousVal[0] : this.previousVal[1]);\n            if (currentValue === previousVal) {\n                return 0;\n            }\n        }\n        else {\n            if (currentValue === this.previousVal) {\n                return 0;\n            }\n        }\n        return 1;\n    };\n    Slider.prototype.refreshTooltip = function () {\n        if (this.tooltip.isVisible && this.firstTooltipObj) {\n            this.tooltipValue();\n            this.firstTooltipObj.refresh(this.firstHandle);\n            if (this.type === 'Range') {\n                this.secondTooltipObj.refresh(this.secondHandle);\n            }\n        }\n    };\n    Slider.prototype.openTooltip = function () {\n        if (this.tooltip.isVisible && this.firstTooltipObj) {\n            this.tooltipValue();\n            if (this.isMaterial) {\n                this.openMaterialTooltip();\n            }\n            else {\n                if (this.activeHandle === 1) {\n                    this.firstTooltipObj.open(this.firstHandle);\n                }\n                else {\n                    this.secondTooltipObj.open(this.secondHandle);\n                }\n            }\n        }\n    };\n    Slider.prototype.keyDown = function (event) {\n        switch (event.keyCode) {\n            case 37:\n            case 38:\n            case 39:\n            case 40:\n            case 33:\n            case 34:\n            case 36:\n            case 35:\n                event.preventDefault();\n                this.buttonClick(event);\n                if (this.tooltip.isVisible && this.tooltip.showOn !== 'Always' && !this.isMaterial) {\n                    this.closeTooltip();\n                }\n                break;\n        }\n    };\n    Slider.prototype.wireButtonEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.firstBtn, 'mouseleave touchleave', this.buttonFocusOut, this);\n            EventHandler.add(this.secondBtn, 'mouseleave touchleave', this.buttonFocusOut, this);\n            EventHandler.add(this.firstBtn, 'mousedown touchstart', this.repeatHandlerMouse, this);\n            EventHandler.add(this.firstBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp, this);\n            EventHandler.add(this.secondBtn, 'mousedown touchstart', this.repeatHandlerMouse, this);\n            EventHandler.add(this.secondBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp, this);\n            EventHandler.add(this.firstBtn, 'focusout', this.sliderFocusOut, this);\n            EventHandler.add(this.secondBtn, 'focusout', this.sliderFocusOut, this);\n        }\n        else {\n            EventHandler.remove(this.firstBtn, 'mouseleave touchleave', this.buttonFocusOut);\n            EventHandler.remove(this.secondBtn, 'mouseleave touchleave', this.buttonFocusOut);\n            EventHandler.remove(this.firstBtn, 'mousedown touchstart', this.repeatHandlerMouse);\n            EventHandler.remove(this.firstBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp);\n            EventHandler.remove(this.secondBtn, 'mousedown touchstart', this.repeatHandlerMouse);\n            EventHandler.remove(this.secondBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp);\n            EventHandler.remove(this.firstBtn, 'focusout', this.sliderFocusOut);\n            EventHandler.remove(this.secondBtn, 'focusout', this.sliderFocusOut);\n        }\n    };\n    Slider.prototype.wireEvents = function () {\n        this.onresize = this.onResize.bind(this);\n        window.addEventListener('resize', this.onresize);\n        if (this.enabled && !this.readonly) {\n            EventHandler.add(this.element, 'mousedown touchstart', this.sliderDown, this);\n            EventHandler.add(this.sliderContainer, 'keydown', this.keyDown, this);\n            EventHandler.add(this.sliderContainer, 'keyup', this.keyUp, this);\n            EventHandler.add(this.element, 'focusout', this.sliderFocusOut, this);\n            EventHandler.add(this.sliderContainer, 'mouseover mouseout touchstart touchend', this.hover, this);\n            this.wireFirstHandleEvt(false);\n            if (this.type === 'Range') {\n                this.wireSecondHandleEvt(false);\n            }\n            if (this.showButtons) {\n                this.wireButtonEvt(false);\n            }\n            this.wireMaterialTooltipEvent(false);\n        }\n    };\n    Slider.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'mousedown touchstart', this.sliderDown);\n        EventHandler.remove(this.sliderContainer, 'keydown', this.keyDown);\n        EventHandler.remove(this.sliderContainer, 'keyup', this.keyUp);\n        EventHandler.remove(this.element, 'focusout', this.sliderFocusOut);\n        EventHandler.remove(this.sliderContainer, 'mouseover mouseout touchstart touchend', this.hover);\n        this.wireFirstHandleEvt(true);\n        if (this.type === 'Range') {\n            this.wireSecondHandleEvt(true);\n        }\n        if (this.showButtons) {\n            this.wireButtonEvt(true);\n        }\n        this.wireMaterialTooltipEvent(true);\n    };\n    Slider.prototype.keyUp = function (event) {\n        if (event.keyCode === 9 && event.target.classList.contains(classNames.sliderHandle)) {\n            this.focusSliderElement();\n            if (!event.target.classList.contains(classNames.sliderTabHandle)) {\n                if (this.element.querySelector('.' + classNames.sliderTabHandle)) {\n                    this.element.querySelector('.' + classNames.sliderTabHandle).classList.remove(classNames.sliderTabHandle);\n                }\n                event.target.classList.add(classNames.sliderTabHandle);\n                var parentElement = event.target.parentElement;\n                if (parentElement === this.element) {\n                    parentElement.querySelector('.' + classNames.sliderTrack).classList.add(classNames.sliderTabTrack);\n                    if (this.type === 'Range' || this.type === 'MinRange') {\n                        parentElement.querySelector('.' + classNames.rangeBar).classList.add(classNames.sliderTabRange);\n                    }\n                }\n                if (this.type === 'Range') {\n                    (event.target.previousSibling).classList.contains(classNames.sliderHandle) ?\n                        this.activeHandle = 2 : this.activeHandle = 1;\n                }\n                this.getHandle().focus();\n                this.tooltipAnimation();\n                if (this.tooltip.isVisible && this.tooltip.showOn !== 'Always' && !this.isMaterial) {\n                    this.closeTooltip();\n                }\n            }\n        }\n        this.changeEvent('changed');\n    };\n    Slider.prototype.hover = function (event) {\n        if (!isNullOrUndefined(event)) {\n            if (event.type === 'mouseover' || event.type === 'touchmove' || event.type === 'mousemove' ||\n                event.type === 'pointermove' || event.type === 'touchstart') {\n                this.sliderContainer.classList.add(classNames.sliderHover);\n            }\n            else {\n                this.sliderContainer.classList.remove(classNames.sliderHover);\n            }\n        }\n    };\n    Slider.prototype.sliderFocusOut = function (event) {\n        var _this = this;\n        if (event.relatedTarget !== this.secondHandle && event.relatedTarget !== this.firstHandle &&\n            event.relatedTarget !== this.element && event.relatedTarget !== this.firstBtn && event.relatedTarget !== this.secondBtn) {\n            if (this.isMaterial && this.tooltip.isVisible) {\n                var transformProperties_1 = this.getTooltipTransformProperties(this.previousTooltipClass);\n                var tooltipElement = this.type !== 'Range' ? [this.firstTooltipElement] :\n                    [this.firstTooltipElement, this.secondTooltipElement];\n                var hiddenHandle_1 = this.type !== 'Range' ? [this.firstHandle] : [this.firstHandle, this.secondHandle];\n                var handle_1 = this.type !== 'Range' ? [this.firstMaterialHandle] :\n                    [this.firstMaterialHandle, this.secondMaterialHandle];\n                tooltipElement.forEach(function (tooltipElement, index) {\n                    if (tooltipElement) {\n                        tooltipElement.style.transition = _this.scaleTransform;\n                        tooltipElement.firstChild.classList.remove(classNames.materialTooltipShow);\n                        tooltipElement.firstChild.classList.add(classNames.materialTooltipHide);\n                        hiddenHandle_1[index].style.cursor = '-webkit-grab';\n                        hiddenHandle_1[index].style.cursor = 'grab';\n                        handle_1[index].style.transform = 'scale(1)';\n                        tooltipElement.classList.remove(classNames.materialTooltipOpen);\n                        if (tooltipElement.firstElementChild.innerText.length > 4) {\n                            tooltipElement.style.transform = transformProperties_1.translate + ' ' + 'scale(0.01)';\n                        }\n                        else {\n                            tooltipElement.style.transform = transformProperties_1.translate + ' ' +\n                                transformProperties_1.rotate + ' ' + 'scale(0.01)';\n                        }\n                        setTimeout(function () { tooltipElement.style.transition = 'none'; }, 2500);\n                    }\n                });\n            }\n            if (this.element.querySelector('.' + classNames.sliderTabHandle)) {\n                this.element.querySelector('.' + classNames.sliderTabHandle).classList.remove(classNames.sliderTabHandle);\n            }\n            if (this.element.querySelector('.' + classNames.sliderTabTrack)) {\n                this.element.querySelector('.' + classNames.sliderTabTrack).classList.remove(classNames.sliderTabTrack);\n                if ((this.type === 'Range' || this.type === 'MinRange') &&\n                    this.element.querySelector('.' + classNames.sliderTabRange)) {\n                    this.element.querySelector('.' + classNames.sliderTabRange).classList.remove(classNames.sliderTabRange);\n                }\n            }\n            this.hiddenInput.focus();\n            this.hiddenInput.blur();\n            this.isElementFocused = false;\n        }\n    };\n    Slider.prototype.closeTooltip = function () {\n        if (this.tooltip.isVisible) {\n            this.tooltipValue();\n            if (this.activeHandle === 1) {\n                this.firstTooltipObj.close();\n            }\n            else {\n                this.secondTooltipObj.close();\n            }\n        }\n    };\n    Slider.prototype.removeElement = function (element) {\n        if (element.parentNode) {\n            element.parentNode.removeChild(element);\n        }\n    };\n    Slider.prototype.changeSliderType = function (type) {\n        if (this.isMaterial && this.firstMaterialHandle) {\n            this.sliderContainer.classList.remove(classNames.materialSlider);\n            this.removeElement(this.firstMaterialHandle);\n            this.firstTooltipElement = undefined;\n            this.firstHandleTooltipPosition = undefined;\n            if (this.secondMaterialHandle) {\n                this.removeElement(this.secondMaterialHandle);\n                this.secondTooltipElement = undefined;\n                this.secondHandleTooltipPosition = undefined;\n            }\n        }\n        if (this.tooltip.isVisible && this.isMaterial) {\n            this.sliderContainer.classList.add(classNames.materialSlider);\n        }\n        this.removeElement(this.firstHandle);\n        if (type !== 'Default') {\n            if (type === 'Range') {\n                this.removeElement(this.secondHandle);\n            }\n            this.removeElement(this.rangeBar);\n        }\n        if (this.tooltip.isVisible && !isNullOrUndefined(this.firstTooltipObj)) {\n            this.firstTooltipObj.destroy();\n            if (type === 'Range' && !isNullOrUndefined(this.secondTooltipObj)) {\n                this.secondTooltipObj.destroy();\n            }\n        }\n        if (this.limits.enabled && type === 'MinRange' || type === 'Default') {\n            if (!isNullOrUndefined(this.limitBarFirst)) {\n                this.removeElement(this.limitBarFirst);\n            }\n        }\n        if (type === 'Range') {\n            if (this.limits.enabled) {\n                if (!isNullOrUndefined(this.limitBarFirst) && !isNullOrUndefined(this.limitBarSecond)) {\n                    this.removeElement(this.limitBarFirst);\n                    this.removeElement(this.limitBarSecond);\n                }\n            }\n        }\n        this.createRangeBar();\n        if (this.limits.enabled) {\n            this.createLimitBar();\n        }\n        this.setHandler();\n        this.setOrientClass();\n        this.wireFirstHandleEvt(false);\n        if (this.type === 'Range') {\n            this.wireSecondHandleEvt(false);\n        }\n        this.setValue();\n        if (this.tooltip.isVisible) {\n            this.renderTooltip();\n            this.wireMaterialTooltipEvent(false);\n        }\n        this.updateConfig();\n    };\n    Slider.prototype.changeRtl = function () {\n        if (!this.enableRtl && this.type === 'Range') {\n            this.value = [this.handleVal2, this.handleVal1];\n        }\n        this.updateConfig();\n        if (this.tooltip.isVisible) {\n            this.firstTooltipObj.refresh(this.firstHandle);\n            if (this.type === 'Range') {\n                this.secondTooltipObj.refresh(this.secondHandle);\n            }\n        }\n        if (this.showButtons) {\n            var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n            attributes(enabledRTL ? this.secondBtn : this.firstBtn, { 'aria-label': 'Decrease', title: 'Decrease' });\n            attributes(enabledRTL ? this.firstBtn : this.secondBtn, { 'aria-label': 'Increase', title: 'Increase' });\n        }\n    };\n    Slider.prototype.changeOrientation = function () {\n        this.changeSliderType(this.type);\n    };\n    Slider.prototype.updateConfig = function () {\n        this.setEnableRTL();\n        this.setValue();\n        if (this.tooltip.isVisible) {\n            this.refreshTooltip();\n        }\n        if (this.ticks.placement !== 'None') {\n            if (this.ul) {\n                this.removeElement(this.ul);\n                this.renderScale();\n            }\n        }\n        this.limitsPropertyChange();\n    };\n    Slider.prototype.limitsPropertyChange = function () {\n        if (this.limits.enabled) {\n            if (isNullOrUndefined(this.limitBarFirst) && this.type !== 'Range') {\n                this.createLimitBar();\n            }\n            if (isNullOrUndefined(this.limitBarFirst) && isNullOrUndefined(this.limitBarSecond) && this.type === 'Range') {\n                this.createLimitBar();\n            }\n            this.setLimitBar();\n            this.setValue();\n        }\n        else {\n            if (!isNullOrUndefined(this.limitBarFirst)) {\n                detach(this.limitBarFirst);\n            }\n            if (!isNullOrUndefined(this.limitBarSecond)) {\n                detach(this.limitBarSecond);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Slider.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Prepares the slider for safe removal from the DOM.\n     * Detaches all event handlers, attributes, and classes to avoid memory leaks.\n     * @method destroy\n     * @return {void}\n     */\n    Slider.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        window.removeEventListener('resize', this.onresize);\n        removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n        this.firstHandle.removeAttribute('aria-orientation');\n        if (this.type === 'Range') {\n            this.secondHandle.removeAttribute('aria-orientation');\n        }\n        this.sliderContainer.parentNode.insertBefore(this.element, this.sliderContainer);\n        detach(this.sliderContainer);\n        if (this.tooltip.isVisible) {\n            this.firstTooltipObj.destroy();\n            if (this.type === 'Range' && !isNullOrUndefined(this.secondTooltipObj)) {\n                this.secondTooltipObj.destroy();\n            }\n        }\n        this.element.innerHTML = '';\n    };\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    Slider.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'value':\n                    if (!isNullOrUndefined(oldProp.value) && !isNullOrUndefined(newProp.value)) {\n                        if (oldProp.value.toString() !== newProp.value.toString()) {\n                            this.setValue();\n                            this.refreshTooltip();\n                            if (this.type === 'Range') {\n                                if (oldProp.value[0] === newProp.value[0]) {\n                                    this.activeHandle = 2;\n                                }\n                                else {\n                                    this.activeHandle = 1;\n                                }\n                            }\n                        }\n                    }\n                    break;\n                case 'min':\n                case 'step':\n                case 'max':\n                    this.setMinMaxValue();\n                    break;\n                case 'tooltip':\n                    if (!isNullOrUndefined(newProp.tooltip) && !isNullOrUndefined(oldProp.tooltip)) {\n                        this.setTooltip();\n                    }\n                    break;\n                case 'type':\n                    this.changeSliderType(oldProp.type);\n                    this.setZindex();\n                    break;\n                case 'enableRtl':\n                    if (oldProp.enableRtl !== newProp.enableRtl && this.orientation !== 'Vertical') {\n                        this.rtl = oldProp.enableRtl;\n                        this.changeRtl();\n                    }\n                    break;\n                case 'limits':\n                    this.limitsPropertyChange();\n                    break;\n                case 'orientation':\n                    this.changeOrientation();\n                    break;\n                case 'ticks':\n                    if (!isNullOrUndefined(this.sliderContainer.querySelector('.' + classNames.scale))) {\n                        detach(this.ul);\n                        Array.prototype.forEach.call(this.sliderContainer.classList, function (className) {\n                            if (className.match(/e-scale-/)) {\n                                _this.sliderContainer.classList.remove(className);\n                            }\n                        });\n                    }\n                    if (this.ticks.placement !== 'None') {\n                        this.renderScale();\n                        this.setZindex();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showButtons) {\n                        this.buttonTitle();\n                    }\n                    break;\n                case 'showButtons':\n                    if (newProp.showButtons) {\n                        this.setButtons();\n                        this.onResize();\n                        if (this.enabled && !this.readonly) {\n                            this.wireButtonEvt(false);\n                        }\n                    }\n                    else {\n                        if (this.firstBtn && this.secondBtn) {\n                            this.sliderContainer.removeChild(this.firstBtn);\n                            this.sliderContainer.removeChild(this.secondBtn);\n                            this.firstBtn = undefined;\n                            this.secondBtn = undefined;\n                        }\n                    }\n                    break;\n                case 'enabled':\n                    this.setEnabled();\n                    break;\n                case 'readonly':\n                    this.setReadOnly();\n                    break;\n                case 'customValue':\n                    this.setValue();\n                    this.onResize();\n                    break;\n            }\n        }\n    };\n    Slider.prototype.setReadOnly = function () {\n        if (this.readonly) {\n            this.unwireEvents();\n            this.sliderContainer.classList.add(classNames.readonly);\n        }\n        else {\n            this.wireEvents();\n            this.sliderContainer.classList.remove(classNames.readonly);\n        }\n    };\n    Slider.prototype.setMinMaxValue = function () {\n        var _this = this;\n        this.setValue();\n        this.refreshTooltip();\n        if (!isNullOrUndefined(this.sliderContainer.querySelector('.' + classNames.scale))) {\n            if (this.ul) {\n                detach(this.ul);\n                Array.prototype.forEach.call(this.sliderContainer.classList, function (className) {\n                    if (className.match(/e-scale-/)) {\n                        _this.sliderContainer.classList.remove(className);\n                    }\n                });\n            }\n        }\n        if (this.ticks.placement !== 'None') {\n            this.renderScale();\n            this.setZindex();\n        }\n    };\n    Slider.prototype.setZindex = function () {\n        this.zIndex = 6;\n        if (!isNullOrUndefined(this.ticks) && this.ticks.placement !== 'None') {\n            this.ul.style.zIndex = (this.zIndex + -7) + '';\n            this.element.style.zIndex = (this.zIndex + 2) + '';\n        }\n        if (!this.isMaterial && !isNullOrUndefined(this.ticks) && this.ticks.placement === 'Both') {\n            this.element.style.zIndex = (this.zIndex + 2) + '';\n        }\n        this.firstHandle.style.zIndex = (this.zIndex + 3) + '';\n        if (this.type === 'Range') {\n            this.secondHandle.style.zIndex = (this.zIndex + 4) + '';\n        }\n    };\n    Slider.prototype.setTooltip = function () {\n        this.changeSliderType(this.type);\n    };\n    /**\n     * Gets the component name\n     * @private\n     */\n    Slider.prototype.getModuleName = function () {\n        return 'slider';\n    };\n    __decorate([\n        Property(null)\n    ], Slider.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], Slider.prototype, \"customValues\", void 0);\n    __decorate([\n        Property(1)\n    ], Slider.prototype, \"step\", void 0);\n    __decorate([\n        Property(0)\n    ], Slider.prototype, \"min\", void 0);\n    __decorate([\n        Property(100)\n    ], Slider.prototype, \"max\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"readonly\", void 0);\n    __decorate([\n        Property('Default')\n    ], Slider.prototype, \"type\", void 0);\n    __decorate([\n        Complex({}, TicksData)\n    ], Slider.prototype, \"ticks\", void 0);\n    __decorate([\n        Complex({}, LimitData)\n    ], Slider.prototype, \"limits\", void 0);\n    __decorate([\n        Property(true)\n    ], Slider.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Complex({}, TooltipData)\n    ], Slider.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property(true)\n    ], Slider.prototype, \"enableAnimation\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Slider.prototype, \"orientation\", void 0);\n    __decorate([\n        Property('')\n    ], Slider.prototype, \"cssClass\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"changed\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"renderingTicks\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"renderedTicks\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"tooltipChange\", void 0);\n    Slider = __decorate([\n        NotifyPropertyChanges\n    ], Slider);\n    return Slider;\n}(Component));\nexport { Slider };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, EventHandler, L10n, compile, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, detach, append, Animation } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, KeyboardEvents, setValue, getValue, ChildProperty } from '@syncfusion/ej2-base';\nimport { Collection, Complex, Browser, Ajax } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nvar ROOT = 'e-uploader';\nvar CONTROL_WRAPPER = 'e-upload';\nvar INPUT_WRAPPER = 'e-file-select';\nvar DROP_AREA = 'e-file-drop';\nvar DROP_WRAPPER = 'e-file-select-wrap';\nvar LIST_PARENT = 'e-upload-files';\nvar FILE = 'e-upload-file-list';\nvar STATUS = 'e-file-status';\nvar ACTION_BUTTONS = 'e-upload-actions';\nvar UPLOAD_BUTTONS = 'e-file-upload-btn e-css e-btn e-flat e-primary';\nvar CLEAR_BUTTONS = 'e-file-clear-btn e-css e-btn e-flat';\nvar FILE_NAME = 'e-file-name';\nvar FILE_TYPE = 'e-file-type';\nvar FILE_SIZE = 'e-file-size';\nvar CLEAR_ICON = 'e-file-remove-btn';\nvar REMOVE_ICON = 'e-file-delete-btn';\nvar ABORT_ICON = 'e-file-abort-btn';\nvar RETRY_ICON = 'e-file-reload-btn';\nvar DRAG_HOVER = 'e-upload-drag-hover';\nvar PROGRESS_WRAPPER = 'e-upload-progress-wrap';\nvar PROGRESSBAR = 'e-upload-progress-bar';\nvar PROGRESSBAR_TEXT = 'e-progress-bar-text';\nvar UPLOAD_INPROGRESS = 'e-upload-progress';\nvar UPLOAD_SUCCESS = 'e-upload-success';\nvar UPLOAD_FAILED = 'e-upload-fails';\nvar TEXT_CONTAINER = 'e-file-container';\nvar VALIDATION_FAILS = 'e-validation-fails';\nvar RTL = 'e-rtl';\nvar DISABLED = 'e-disabled';\nvar RTL_CONTAINER = 'e-rtl-container';\nvar ICON_FOCUSED = 'e-clear-icon-focus';\nvar PROGRESS_INNER_WRAPPER = 'e-progress-inner-wrap';\nvar PAUSE_UPLOAD = 'e-file-pause-btn';\nvar RESUME_UPLOAD = 'e-file-play-btn';\nvar FilesProp = /** @class */ (function (_super) {\n    __extends(FilesProp, _super);\n    function FilesProp() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], FilesProp.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], FilesProp.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], FilesProp.prototype, \"type\", void 0);\n    return FilesProp;\n}(ChildProperty));\nexport { FilesProp };\nvar ButtonsProps = /** @class */ (function (_super) {\n    __extends(ButtonsProps, _super);\n    function ButtonsProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Browse...')\n    ], ButtonsProps.prototype, \"browse\", void 0);\n    __decorate([\n        Property('Upload')\n    ], ButtonsProps.prototype, \"upload\", void 0);\n    __decorate([\n        Property('Clear')\n    ], ButtonsProps.prototype, \"clear\", void 0);\n    return ButtonsProps;\n}(ChildProperty));\nexport { ButtonsProps };\nvar AsyncSettings = /** @class */ (function (_super) {\n    __extends(AsyncSettings, _super);\n    function AsyncSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], AsyncSettings.prototype, \"saveUrl\", void 0);\n    __decorate([\n        Property('')\n    ], AsyncSettings.prototype, \"removeUrl\", void 0);\n    __decorate([\n        Property(0)\n    ], AsyncSettings.prototype, \"chunkSize\", void 0);\n    __decorate([\n        Property(3)\n    ], AsyncSettings.prototype, \"retryCount\", void 0);\n    __decorate([\n        Property(500)\n    ], AsyncSettings.prototype, \"retryAfterDelay\", void 0);\n    return AsyncSettings;\n}(ChildProperty));\nexport { AsyncSettings };\n/**\n * The uploader component allows to upload images, documents, and other files from local to server.\n * ```html\n * <input type='file' name='images[]' id='upload'/>\n * ```\n * ```typescript\n * <script>\n *   var uploadObj = new Uploader();\n *   uploadObj.appendTo('#upload');\n * </script>\n * ```\n */\nvar Uploader = /** @class */ (function (_super) {\n    __extends(Uploader, _super);\n    /**\n     * Triggers when change the Uploader value.\n     */\n    function Uploader(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.initialAttr = { accept: null, multiple: false, disabled: false };\n        _this.fileList = [];\n        _this.filesData = [];\n        _this.uploadedFilesData = [];\n        _this.isForm = false;\n        _this.allTypes = false;\n        _this.pausedData = [];\n        _this.uploadMetaData = [];\n        return _this;\n    }\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    Uploader.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowedExtensions':\n                    this.setExtensions(this.allowedExtensions);\n                    this.clearAll();\n                    break;\n                case 'enabled':\n                    this.setControlStatus();\n                    break;\n                case 'multiple':\n                    this.setMultipleSelection();\n                    break;\n                case 'enableRtl':\n                    this.setRTL();\n                    this.reRenderFileList();\n                    break;\n                case 'buttons':\n                    this.buttons.browse = isNullOrUndefined(this.buttons.browse) ? '' : this.buttons.browse;\n                    this.buttons.clear = isNullOrUndefined(this.buttons.clear) ? '' : this.buttons.clear;\n                    this.buttons.upload = isNullOrUndefined(this.buttons.upload) ? '' : this.buttons.upload;\n                    this.renderButtonTemplates();\n                    break;\n                case 'dropArea':\n                    this.unBindDropEvents();\n                    this.setDropArea();\n                    break;\n                case 'files':\n                    this.renderPreLoadFiles();\n                    break;\n                case 'minFileSize':\n                case 'maxFileSize':\n                case 'template':\n                case 'autoUpload':\n                    this.clearAll();\n                    break;\n                case 'locale':\n                    this.l10n.setLocale(this.locale);\n                    this.setLocalizedTexts();\n                    this.preLocaleObj = getValue('currentLocale', this.l10n);\n                    break;\n            }\n        }\n    };\n    Uploader.prototype.setLocalizedTexts = function () {\n        if (isNullOrUndefined(this.template)) {\n            if (typeof (this.buttons.browse) === 'string') {\n                this.browseButton.innerText = (this.buttons.browse === 'Browse...') ?\n                    this.localizedTexts('Browse') : this.buttons.browse;\n                this.browseButton.setAttribute('title', this.browseButton.innerText);\n                this.uploadWrapper.querySelector('.' + DROP_AREA).innerHTML = this.localizedTexts('dropFilesHint');\n            }\n            this.updateFileList();\n        }\n    };\n    Uploader.prototype.getKeyValue = function (val) {\n        var keyValue;\n        for (var _i = 0, _a = Object.keys(this.preLocaleObj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.preLocaleObj[key] === val) {\n                keyValue = key;\n            }\n        }\n        return keyValue;\n    };\n    Uploader.prototype.updateFileList = function () {\n        var element;\n        if (this.fileList.length > 0 && !isNullOrUndefined(this.uploadWrapper.querySelector('.' + LIST_PARENT))) {\n            for (var i = 0; i < this.fileList.length; i++) {\n                element = this.fileList[i].querySelector('.e-file-status');\n                element.innerHTML = this.localizedTexts(this.getKeyValue(this.filesData[i].status));\n                this.filesData[i].status = this.localizedTexts(this.getKeyValue(this.filesData[i].status));\n                /* istanbul ignore next */\n                if (this.fileList[i].classList.contains(UPLOAD_SUCCESS)) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('remove'));\n                }\n                else {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('delete'));\n                }\n                if (!this.autoUpload) {\n                    this.uploadButton.innerText = (this.buttons.upload === 'Upload') ?\n                        this.localizedTexts('Upload') : this.buttons.upload;\n                    this.clearButton.innerText = (this.buttons.clear === 'Clear') ?\n                        this.localizedTexts('Clear') : this.buttons.clear;\n                }\n            }\n        }\n    };\n    Uploader.prototype.reRenderFileList = function () {\n        if (this.listParent) {\n            detach(this.listParent);\n            this.listParent = null;\n            this.fileList = [];\n            this.createFileList(this.filesData);\n            if (this.actionButtons) {\n                this.removeActionButtons();\n                this.renderActionButtons();\n                this.checkActionButtonStatus();\n            }\n        }\n    };\n    Uploader.prototype.preRender = function () {\n        this.cloneElement = this.element.cloneNode(true);\n        this.localeText = { Browse: 'Browse...', Clear: 'Clear', Upload: 'Upload',\n            dropFilesHint: 'Or drop files here', invalidMaxFileSize: 'File size is too large',\n            invalidMinFileSize: 'File size is too small', invalidFileType: 'File type is not allowed',\n            uploadFailedMessage: 'File failed to upload', uploadSuccessMessage: 'File uploaded successfully',\n            removedSuccessMessage: 'File removed successfully', removedFailedMessage: 'Unable to remove file', inProgress: 'Uploading',\n            readyToUploadMessage: 'Ready to upload', abort: 'Abort', remove: 'Remove', cancel: 'Cancel', delete: 'Delete file',\n            pauseUpload: 'File upload paused', pause: 'Pause', resume: 'Resume', retry: 'Retry',\n            fileUploadCancel: 'File upload canceled'\n        };\n        this.l10n = new L10n('uploader', this.localeText, this.locale);\n        this.preLocaleObj = getValue('currentLocale', this.l10n);\n        this.checkHTMLAttributes();\n        if (this.asyncSettings.saveUrl === '' && this.asyncSettings.removeUrl === '' && !this.autoUpload) {\n            var parentEle = this.element.parentElement;\n            for (; parentEle && parentEle !== document.documentElement; parentEle = parentEle.parentElement) {\n                if (parentEle.tagName === 'FORM') {\n                    this.isForm = true;\n                    this.formElement = parentEle;\n                    parentEle.setAttribute('enctype', 'multipart/form-data');\n                    parentEle.setAttribute('encoding', 'multipart/form-data');\n                }\n            }\n        }\n        // tslint:disable-next-line\n        var ejInstance = getValue('ej2_instances', this.element);\n        /* istanbul ignore next */\n        if (this.element.tagName === 'EJS-UPLOADER') {\n            var inputElement = this.createElement('input', { attrs: { type: 'file' } });\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                inputElement.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n                inputElement.innerHTML = this.element.innerHTML;\n            }\n            if (!inputElement.hasAttribute('name')) {\n                inputElement.setAttribute('name', 'UploadFiles');\n            }\n            this.element.appendChild(inputElement);\n            this.element = inputElement;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        /* istanbul ignore next */\n        if (ejInstance[0].isPureReactComponent) {\n            if (!isNullOrUndefined(ejInstance[0].props.name)) {\n                this.element.setAttribute('name', ejInstance[0].props.name);\n            }\n            else if (!isNullOrUndefined(ejInstance[0].props.id) && isNullOrUndefined(ejInstance[0].props.name)) {\n                this.element.setAttribute('name', ejInstance[0].props.id);\n            }\n            else {\n                this.element.setAttribute('name', 'UploadFiles');\n            }\n        }\n        if (isNullOrUndefined(this.element.getAttribute('name'))) {\n            this.element.setAttribute('name', this.element.getAttribute('id'));\n        }\n        if (!this.element.hasAttribute('type')) {\n            this.element.setAttribute('type', 'file');\n        }\n        this.keyConfigs = {\n            previous: 'shift+tab',\n            enter: 'enter',\n            next: 'tab'\n        };\n    };\n    Uploader.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Return the module name of the component.\n     */\n    Uploader.prototype.getModuleName = function () {\n        return 'uploader';\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Uploader.prototype.render = function () {\n        this.renderBrowseButton();\n        this.initializeUpload();\n        this.wireEvents();\n        this.setMultipleSelection();\n        this.setExtensions(this.allowedExtensions);\n        this.setRTL();\n        this.renderPreLoadFiles();\n        this.setControlStatus();\n    };\n    Uploader.prototype.renderBrowseButton = function () {\n        this.browseButton = this.createElement('button', { className: 'e-css e-btn', attrs: { 'type': 'button' } });\n        if (typeof (this.buttons.browse) === 'string') {\n            this.browseButton.innerText = (this.buttons.browse === 'Browse...') ?\n                this.localizedTexts('Browse') : this.buttons.browse;\n            this.browseButton.setAttribute('title', this.browseButton.innerText);\n        }\n        else {\n            this.browseButton.appendChild(this.buttons.browse);\n        }\n        this.element.setAttribute('aria-label', 'Uploader');\n    };\n    Uploader.prototype.renderActionButtons = function () {\n        this.element.setAttribute('tabindex', '-1');\n        this.actionButtons = this.createElement('div', { className: ACTION_BUTTONS });\n        this.uploadButton = this.createElement('button', { className: UPLOAD_BUTTONS, attrs: { 'type': 'button', 'tabindex': '-1' } });\n        this.clearButton = this.createElement('button', { className: CLEAR_BUTTONS, attrs: { 'type': 'button', 'tabindex': '-1' } });\n        this.actionButtons.appendChild(this.clearButton);\n        this.actionButtons.appendChild(this.uploadButton);\n        this.renderButtonTemplates();\n        this.uploadWrapper.appendChild(this.actionButtons);\n        this.browseButton.blur();\n        this.uploadButton.focus();\n        this.wireActionButtonEvents();\n    };\n    Uploader.prototype.wireActionButtonEvents = function () {\n        EventHandler.add(this.uploadButton, 'click', this.uploadButtonClick, this);\n        EventHandler.add(this.clearButton, 'click', this.clearButtonClick, this);\n    };\n    Uploader.prototype.unwireActionButtonEvents = function () {\n        EventHandler.remove(this.uploadButton, 'click', this.uploadButtonClick);\n        EventHandler.remove(this.clearButton, 'click', this.clearButtonClick);\n    };\n    Uploader.prototype.removeActionButtons = function () {\n        if (this.actionButtons) {\n            this.unwireActionButtonEvents();\n            detach(this.actionButtons);\n            this.actionButtons = null;\n        }\n    };\n    Uploader.prototype.renderButtonTemplates = function () {\n        if (typeof (this.buttons.browse) === 'string') {\n            this.browseButton.innerText = (this.buttons.browse === 'Browse...') ?\n                this.localizedTexts('Browse') : this.buttons.browse;\n            this.browseButton.setAttribute('title', this.browseButton.innerText);\n        }\n        else {\n            this.browseButton.innerHTML = '';\n            this.browseButton.appendChild(this.buttons.browse);\n        }\n        if (this.uploadButton) {\n            var uploadText = void 0;\n            uploadText = isNullOrUndefined(this.buttons.upload) ? 'Upload' : this.buttons.upload;\n            this.buttons.upload = uploadText;\n            if (typeof (this.buttons.upload) === 'string') {\n                this.uploadButton.innerText = (this.buttons.upload === 'Upload') ?\n                    this.localizedTexts('Upload') : this.buttons.upload;\n                this.uploadButton.setAttribute('title', this.uploadButton.innerText);\n            }\n            else {\n                this.uploadButton.innerHTML = '';\n                this.uploadButton.appendChild(this.buttons.upload);\n            }\n        }\n        if (this.clearButton) {\n            var clearText = void 0;\n            clearText = isNullOrUndefined(this.buttons.clear) ? 'Clear' : this.buttons.clear;\n            this.buttons.clear = clearText;\n            if (typeof (this.buttons.clear) === 'string') {\n                this.clearButton.innerText = (this.buttons.clear === 'Clear') ?\n                    this.localizedTexts('Clear') : this.buttons.clear;\n                this.clearButton.setAttribute('title', this.clearButton.innerText);\n            }\n            else {\n                this.clearButton.innerHTML = '';\n                this.clearButton.appendChild(this.buttons.clear);\n            }\n        }\n    };\n    Uploader.prototype.initializeUpload = function () {\n        this.element.setAttribute('tabindex', '-1');\n        var inputWrapper = this.createElement('span', { className: INPUT_WRAPPER });\n        this.element.parentElement.insertBefore(inputWrapper, this.element);\n        this.dropAreaWrapper = this.createElement('div', { className: DROP_WRAPPER });\n        this.element.parentElement.insertBefore(this.dropAreaWrapper, this.element);\n        inputWrapper.appendChild(this.element);\n        this.dropAreaWrapper.appendChild(this.browseButton);\n        this.dropAreaWrapper.appendChild(inputWrapper);\n        var fileDropArea = this.createElement('span', { className: DROP_AREA });\n        fileDropArea.innerHTML = this.localizedTexts('dropFilesHint');\n        this.dropAreaWrapper.appendChild(fileDropArea);\n        this.uploadWrapper = this.createElement('div', { className: CONTROL_WRAPPER, attrs: { 'aria-activedescendant': 'li-focused' } });\n        this.dropAreaWrapper.parentElement.insertBefore(this.uploadWrapper, this.dropAreaWrapper);\n        this.uploadWrapper.appendChild(this.dropAreaWrapper);\n        this.setDropArea();\n    };\n    Uploader.prototype.renderPreLoadFiles = function () {\n        if (isNullOrUndefined(this.files[0].size) || !isNullOrUndefined(this.template)) {\n            return;\n        }\n        var files = [].slice.call(this.files);\n        var filesData = [];\n        if (!this.multiple) {\n            this.clearData();\n            files = [files[0]];\n        }\n        for (var _i = 0, files_1 = files; _i < files_1.length; _i++) {\n            var data = files_1[_i];\n            var fileData = {\n                name: data.name + '.' + data.type.split('.')[data.type.split('.').length - 1],\n                rawFile: '',\n                size: data.size,\n                status: this.localizedTexts('uploadSuccessMessage'),\n                type: data.type,\n                validationMessages: { minSize: '', maxSize: '' },\n                statusCode: '2'\n            };\n            filesData.push(fileData);\n            this.filesData.push(fileData);\n        }\n        this.createFileList(filesData);\n        if (!this.autoUpload && this.listParent && !this.actionButtons && !this.isForm && this.showFileList) {\n            this.renderActionButtons();\n        }\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.checkActionButtonStatus = function () {\n        if (this.actionButtons) {\n            var length_1 = this.uploadWrapper.querySelectorAll('.' + VALIDATION_FAILS).length +\n                this.uploadWrapper.querySelectorAll('.e-upload-fails:not(.e-upload-progress)').length +\n                this.uploadWrapper.querySelectorAll('span.' + UPLOAD_SUCCESS).length +\n                this.uploadWrapper.querySelectorAll('span.' + UPLOAD_INPROGRESS).length;\n            if (length_1 > 0 && length_1 === this.uploadWrapper.querySelectorAll('li').length) {\n                this.uploadButton.setAttribute('disabled', 'disabled');\n            }\n            else {\n                this.uploadButton.removeAttribute('disabled');\n            }\n        }\n    };\n    Uploader.prototype.setDropArea = function () {\n        var dropTextArea = this.dropAreaWrapper.querySelector('.e-file-drop');\n        if (this.dropArea) {\n            this.dropZoneElement = (typeof (this.dropArea) !== 'string') ? this.dropArea :\n                document.querySelector(this.dropArea);\n            var element = this.element;\n            var enableDropText = false;\n            while (element.parentNode) {\n                element = element.parentNode;\n                if (element === this.dropZoneElement) {\n                    enableDropText = true;\n                    dropTextArea.textContent = this.localizedTexts('dropFilesHint');\n                }\n            }\n            if (!enableDropText) {\n                dropTextArea.textContent = '';\n            }\n        }\n        else {\n            this.dropZoneElement = this.uploadWrapper;\n            dropTextArea.textContent = this.localizedTexts('dropFilesHint');\n        }\n        this.bindDropEvents();\n    };\n    Uploader.prototype.setMultipleSelection = function () {\n        if (this.multiple && !this.element.hasAttribute('multiple')) {\n            var newAttr = document.createAttribute('multiple');\n            this.element.setAttributeNode(newAttr);\n        }\n        else if (!this.multiple) {\n            this.element.removeAttribute('multiple');\n        }\n    };\n    Uploader.prototype.checkAutoUpload = function (fileData) {\n        if (this.autoUpload) {\n            this.upload(fileData);\n            this.removeActionButtons();\n        }\n        else if (!this.actionButtons) {\n            this.renderActionButtons();\n        }\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.wireEvents = function () {\n        EventHandler.add(this.browseButton, 'click', this.browseButtonClick, this);\n        EventHandler.add(this.element, 'change', this.onSelectFiles, this);\n        EventHandler.add(document, 'click', this.removeFocus, this);\n        this.keyboardModule = new KeyboardEvents(this.uploadWrapper, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown',\n        });\n        if (this.isForm) {\n            EventHandler.add(this.formElement, 'reset', this.resetForm, this);\n        }\n    };\n    Uploader.prototype.unWireEvents = function () {\n        EventHandler.remove(this.browseButton, 'click', this.browseButtonClick);\n        EventHandler.remove(this.element, 'change', this.onSelectFiles);\n        EventHandler.remove(document, 'click', this.removeFocus);\n        this.keyboardModule.destroy();\n    };\n    Uploader.prototype.resetForm = function () {\n        this.clearAll();\n    };\n    Uploader.prototype.keyActionHandler = function (e) {\n        var targetElement = e.target;\n        switch (e.action) {\n            case 'next':\n                if (e.target === this.browseButton && isNullOrUndefined(this.listParent)) {\n                    this.browseButton.blur();\n                }\n                else if (e.target === this.uploadButton) {\n                    this.uploadButton.blur();\n                }\n                else {\n                    this.setTabFocus(e);\n                    e.preventDefault();\n                    e.stopPropagation();\n                    if (e.target === this.clearButton && this.uploadButton.hasAttribute('disabled')) {\n                        this.clearButton.blur();\n                    }\n                }\n                break;\n            case 'previous':\n                if (e.target === this.browseButton) {\n                    this.browseButton.blur();\n                }\n                else {\n                    this.setReverseFocus(e);\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                break;\n            case 'enter':\n                if (e.target === this.clearButton) {\n                    this.clearButtonClick();\n                }\n                else if (e.target === this.uploadButton) {\n                    this.uploadButtonClick();\n                }\n                else if (e.target === this.browseButton) {\n                    this.browseButtonClick();\n                }\n                else if (targetElement.classList.contains(PAUSE_UPLOAD)) {\n                    var metaData = this.getCurrentMetaData(null, e);\n                    metaData.file.statusCode = '4';\n                    metaData.file.status = this.localizedTexts('pauseUpload');\n                    this.abortUpload(metaData, false);\n                }\n                else if (targetElement.classList.contains(RESUME_UPLOAD)) {\n                    this.resumeUpload(this.getCurrentMetaData(null, e), e);\n                }\n                else if (targetElement.classList.contains(RETRY_ICON)) {\n                    var metaData = this.getCurrentMetaData(null, e);\n                    metaData.file.statusCode = '1';\n                    metaData.file.status = this.localizedTexts('readyToUploadMessage');\n                    this.chunkUpload(metaData.file);\n                }\n                else {\n                    this.removeFiles(e);\n                    if (!targetElement.classList.contains(ABORT_ICON)) {\n                        this.browseButton.focus();\n                    }\n                }\n                e.preventDefault();\n                e.stopPropagation();\n                break;\n        }\n    };\n    Uploader.prototype.getCurrentMetaData = function (fileInfo, e) {\n        var fileData;\n        var targetMetaData;\n        if (isNullOrUndefined(fileInfo)) {\n            var target = this.uploadWrapper.querySelector('.' + ICON_FOCUSED).parentElement;\n            fileData = this.filesData[this.fileList.indexOf(target)];\n        }\n        else {\n            fileData = fileInfo;\n        }\n        for (var i = 0; i < this.uploadMetaData.length; i++) {\n            if (this.uploadMetaData[i].file.name === fileData.name) {\n                targetMetaData = this.uploadMetaData[i];\n            }\n        }\n        return targetMetaData;\n    };\n    Uploader.prototype.setReverseFocus = function (e) {\n        var target = e.target;\n        if (target === this.uploadButton) {\n            this.uploadButton.blur();\n            this.clearButton.focus();\n        }\n        else if (target === this.clearButton && this.listParent && this.listParent.querySelector('.e-icons')) {\n            this.clearButton.blur();\n            var items = [].slice.call(this.listParent.querySelectorAll('span.e-icons'));\n            items[items.length - 1].classList.add(ICON_FOCUSED);\n            items[items.length - 1].focus();\n        }\n        else {\n            var iconElements = [].slice.call(this.listParent.querySelectorAll('span.e-icons'));\n            var index = iconElements.indexOf(target);\n            if (index > 0) {\n                this.removeFocus();\n                iconElements[index - 1].classList.add(ICON_FOCUSED);\n                iconElements[index - 1].focus();\n            }\n            else {\n                this.removeFocus();\n                this.browseButton.focus();\n            }\n        }\n    };\n    Uploader.prototype.setTabFocus = function (e) {\n        var target = e.target;\n        if (target === this.clearButton) {\n            this.removeFocus();\n            if (this.uploadButton.hasAttribute('disabled')) {\n                return;\n            }\n            this.uploadButton.focus();\n        }\n        else if (target.classList.contains('e-icons')) {\n            var iconElements = [].slice.call(this.listParent.querySelectorAll('span.e-icons'));\n            var index = iconElements.indexOf(target);\n            if (index < (iconElements.length - 1)) {\n                this.removeFocus();\n                iconElements[index + 1].classList.add(ICON_FOCUSED);\n                iconElements[index + 1].focus();\n            }\n            else {\n                this.removeFocus();\n                this.clearButton.focus();\n            }\n        }\n        else {\n            this.browseButton.blur();\n            var iconElement = this.listParent.querySelectorAll('span.e-icons')[0];\n            iconElement.focus();\n            iconElement.classList.add(ICON_FOCUSED);\n        }\n    };\n    Uploader.prototype.removeFocus = function () {\n        if (this.uploadWrapper && this.listParent && this.listParent.querySelector('.' + ICON_FOCUSED)) {\n            document.activeElement.blur();\n            this.listParent.querySelector('.' + ICON_FOCUSED).classList.remove(ICON_FOCUSED);\n        }\n    };\n    Uploader.prototype.browseButtonClick = function () {\n        this.element.click();\n    };\n    Uploader.prototype.uploadButtonClick = function () {\n        this.upload(this.filesData);\n    };\n    Uploader.prototype.clearButtonClick = function () {\n        this.clearAll();\n    };\n    Uploader.prototype.bindDropEvents = function () {\n        if (this.dropZoneElement) {\n            EventHandler.add(this.dropZoneElement, 'drop', this.dropElement, this);\n            EventHandler.add(this.dropZoneElement, 'dragover', this.dragHover, this);\n            EventHandler.add(this.dropZoneElement, 'dragleave', this.onDragLeave, this);\n        }\n    };\n    Uploader.prototype.unBindDropEvents = function () {\n        if (this.dropZoneElement) {\n            EventHandler.remove(this.dropZoneElement, 'drop', this.dropElement);\n            EventHandler.remove(this.dropZoneElement, 'dragover', this.dragHover);\n            EventHandler.remove(this.dropZoneElement, 'dragleave', this.onDragLeave);\n        }\n    };\n    Uploader.prototype.onDragLeave = function (e) {\n        this.dropZoneElement.classList.remove(DRAG_HOVER);\n    };\n    Uploader.prototype.dragHover = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.dropZoneElement.classList.add(DRAG_HOVER);\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    Uploader.prototype.dropElement = function (e) {\n        this.dropZoneElement.classList.remove(DRAG_HOVER);\n        this.onSelectFiles(e);\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    Uploader.prototype.removeFiles = function (args) {\n        if (!this.enabled) {\n            return;\n        }\n        var selectedElement = args.target.parentElement;\n        var index = this.fileList.indexOf(selectedElement);\n        var liElement = this.fileList[index];\n        var fileData = this.filesData[index];\n        if (args.target.classList.contains(ABORT_ICON)) {\n            if (args.target.classList.contains(DISABLED)) {\n                return;\n            }\n            fileData.statusCode = '5';\n            if (!isNullOrUndefined(liElement)) {\n                var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n                createSpinner({ target: spinnerTarget, width: '20px' });\n                showSpinner(spinnerTarget);\n            }\n        }\n        else {\n            this.remove(fileData, false, false, args);\n        }\n        this.element.value = '';\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.removeFilesData = function (file, customTemplate) {\n        var index;\n        if (customTemplate) {\n            if (!this.showFileList) {\n                index = this.filesData.indexOf(file);\n                this.filesData.splice(index, 1);\n            }\n            return;\n        }\n        var selectedElement = this.getLiElement(file);\n        if (isNullOrUndefined(selectedElement)) {\n            return;\n        }\n        detach(selectedElement);\n        index = this.fileList.indexOf(selectedElement);\n        this.fileList.splice(index, 1);\n        this.filesData.splice(index, 1);\n        if (this.fileList.length === 0 && !isNullOrUndefined(this.listParent)) {\n            detach(this.listParent);\n            this.listParent = null;\n            this.removeActionButtons();\n        }\n    };\n    Uploader.prototype.removeUploadedFile = function (file, eventArgs, removeDirectly, custom) {\n        var _this = this;\n        var selectedFiles = file;\n        var name = this.element.getAttribute('name');\n        var ajax = new Ajax(this.asyncSettings.removeUrl, 'POST', true, null);\n        var formData = new FormData();\n        ajax.beforeSend = function (e) {\n            eventArgs.currentRequest = ajax.httpRequest;\n            if (!removeDirectly) {\n                _this.trigger('removing', eventArgs);\n            }\n            if (eventArgs.cancel) {\n                e.cancel = true;\n            }\n            if (eventArgs.postRawFile && !isNullOrUndefined(selectedFiles.rawFile) && selectedFiles.rawFile !== '') {\n                formData.append(name, selectedFiles.rawFile);\n            }\n            else {\n                formData.append(name, selectedFiles.name);\n            }\n            _this.updateFormData(formData, eventArgs.customFormData);\n        };\n        var liElement = this.getLiElement(file);\n        ajax.onLoad = function (e) { _this.removeCompleted(e, selectedFiles, custom); return {}; };\n        /* istanbul ignore next */\n        ajax.onError = function (e) { _this.removeFailed(e, selectedFiles, custom); return {}; };\n        ajax.send(formData);\n        if (!isNullOrUndefined(liElement) && !isNullOrUndefined(liElement.querySelector('.' + REMOVE_ICON))) {\n            var spinnerTarget = liElement.querySelector('.' + REMOVE_ICON);\n            createSpinner({ target: spinnerTarget, width: '20px' });\n            showSpinner(spinnerTarget);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.updateFormData = function (formData, customData) {\n        if (customData.length > 0 && customData[0]) {\n            var _loop_1 = function (i) {\n                var data = customData[i];\n                // tslint:disable-next-line\n                var value = Object.keys(data).map(function (e) {\n                    return data[e];\n                });\n                formData.append(Object.keys(data)[0], value);\n            };\n            for (var i = 0; i < customData.length; i++) {\n                _loop_1(i);\n            }\n        }\n    };\n    Uploader.prototype.removeCompleted = function (e, files, customTemplate) {\n        var args = {\n            e: e, operation: 'remove', file: this.updateStatus(files, this.localizedTexts('removedSuccessMessage'), '2')\n        };\n        this.trigger('success', args);\n        this.removeFilesData(files, customTemplate);\n        var index = this.uploadedFilesData.indexOf(files);\n        this.uploadedFilesData.splice(index, 1);\n        this.trigger('change', { files: this.uploadedFilesData });\n    };\n    Uploader.prototype.removeFailed = function (e, files, customTemplate) {\n        var args = {\n            e: e, operation: 'remove', file: this.updateStatus(files, this.localizedTexts('removedFailedMessage'), '0')\n        };\n        if (!customTemplate) {\n            var index = this.filesData.indexOf(files);\n            var rootElement = this.fileList[index];\n            if (rootElement) {\n                var statusElement = rootElement.querySelector('.' + STATUS);\n                rootElement.classList.remove(UPLOAD_SUCCESS);\n                statusElement.classList.remove(UPLOAD_SUCCESS);\n                rootElement.classList.add(UPLOAD_FAILED);\n                statusElement.classList.add(UPLOAD_FAILED);\n            }\n            this.checkActionButtonStatus();\n        }\n        this.trigger('failure', args);\n        var liElement = this.getLiElement(files);\n        if (!isNullOrUndefined(liElement) && !isNullOrUndefined(liElement.querySelector('.' + REMOVE_ICON))) {\n            var spinnerTarget = liElement.querySelector('.' + REMOVE_ICON);\n            hideSpinner(spinnerTarget);\n            detach(liElement.querySelector('.e-spinner-pane'));\n        }\n    };\n    Uploader.prototype.onSelectFiles = function (args) {\n        if (!this.enabled) {\n            return;\n        }\n        var fileData = [];\n        var targetFiles;\n        if (args.type === 'drop') {\n            var files = args.dataTransfer.files;\n            targetFiles = this.multiple ? this.sortFileList(files) : [files[0]];\n        }\n        else {\n            targetFiles = [].slice.call(args.target.files);\n        }\n        if (!this.multiple) {\n            this.clearData(true);\n            targetFiles = [targetFiles[0]];\n        }\n        for (var i = 0; i < targetFiles.length; i++) {\n            var file = targetFiles[i];\n            var eventArgs_1 = {\n                name: file.name,\n                rawFile: file,\n                size: file.size,\n                status: this.localizedTexts('readyToUploadMessage'),\n                type: this.getFileType(file.name),\n                validationMessages: this.validatedFileSize(file.size),\n                statusCode: '1'\n            };\n            eventArgs_1.status = eventArgs_1.validationMessages.minSize !== '' ? this.localizedTexts('invalidMinFileSize') :\n                eventArgs_1.validationMessages.maxSize !== '' ? this.localizedTexts('invalidMaxFileSize') : eventArgs_1.status;\n            if (eventArgs_1.validationMessages.minSize !== '' || eventArgs_1.validationMessages.maxSize !== '') {\n                eventArgs_1.statusCode = '0';\n            }\n            fileData.push(eventArgs_1);\n        }\n        var eventArgs = {\n            event: args,\n            cancel: false,\n            filesData: fileData,\n            isModified: false,\n            modifiedFilesData: [],\n            progressInterval: ''\n        };\n        if (this.allowedExtensions.indexOf('*') > -1) {\n            this.allTypes = true;\n        }\n        if (!this.allTypes) {\n            fileData = this.checkExtension(fileData);\n        }\n        this.trigger('selected', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        if (this.showFileList) {\n            if (eventArgs.isModified && eventArgs.modifiedFilesData.length > 0) {\n                var dataFiles = this.allTypes ? eventArgs.modifiedFilesData :\n                    this.checkExtension(eventArgs.modifiedFilesData);\n                this.updateSortedFileList(dataFiles);\n                this.filesData = dataFiles;\n                if (!this.isForm) {\n                    this.checkAutoUpload(dataFiles);\n                }\n            }\n            else {\n                this.createFileList(fileData);\n                this.filesData = this.filesData.concat(fileData);\n                if (!this.isForm) {\n                    this.checkAutoUpload(fileData);\n                }\n            }\n            if (!isNullOrUndefined(eventArgs.progressInterval) && eventArgs.progressInterval !== '') {\n                this.progressInterval = eventArgs.progressInterval;\n            }\n        }\n        else {\n            this.filesData = this.filesData.concat(fileData);\n            if (this.autoUpload) {\n                this.upload(this.filesData, true);\n            }\n        }\n    };\n    Uploader.prototype.clearData = function (singleUpload) {\n        if (!isNullOrUndefined(this.listParent)) {\n            detach(this.listParent);\n            this.listParent = null;\n        }\n        if (Browser.info.name !== 'msie' && !singleUpload) {\n            this.element.value = '';\n        }\n        this.fileList = [];\n        this.filesData = [];\n        this.removeActionButtons();\n    };\n    Uploader.prototype.updateSortedFileList = function (filesData) {\n        var previousListClone = this.createElement('div', { id: 'clonewrapper' });\n        var added = -1;\n        var removedList;\n        if (this.listParent) {\n            for (var i = 0; i < this.listParent.querySelectorAll('li').length; i++) {\n                var liElement = this.listParent.querySelectorAll('li')[i];\n                previousListClone.appendChild(liElement.cloneNode(true));\n            }\n            removedList = this.listParent.querySelectorAll('li');\n            for (var _i = 0, removedList_1 = removedList; _i < removedList_1.length; _i++) {\n                var item = removedList_1[_i];\n                detach(item);\n            }\n            this.removeActionButtons();\n            var oldList = [].slice.call(previousListClone.childNodes);\n            detach(this.listParent);\n            this.listParent = null;\n            this.fileList = [];\n            this.createParentUL();\n            for (var index = 0; index < filesData.length; index++) {\n                for (var j = 0; j < this.filesData.length; j++) {\n                    if (this.filesData[j].name === filesData[index].name) {\n                        this.listParent.appendChild(oldList[j]);\n                        EventHandler.add(oldList[j].querySelector('.e-icons'), 'click', this.removeFiles, this);\n                        this.fileList.push(oldList[j]);\n                        added = index;\n                    }\n                }\n                if (added !== index) {\n                    this.createFileList([filesData[index]]);\n                }\n            }\n        }\n        else {\n            this.createFileList(filesData);\n        }\n    };\n    Uploader.prototype.checkExtension = function (files) {\n        var dropFiles = files;\n        if (this.allowedExtensions !== '') {\n            var allowedExtensions = [];\n            var extensions = this.allowedExtensions.split(',');\n            for (var _i = 0, extensions_1 = extensions; _i < extensions_1.length; _i++) {\n                var extension = extensions_1[_i];\n                allowedExtensions.push(extension.trim().toLocaleLowerCase());\n            }\n            for (var i = 0; i < files.length; i++) {\n                if (allowedExtensions.indexOf(('.' + files[i].type).toLocaleLowerCase()) === -1) {\n                    files[i].status = this.localizedTexts('invalidFileType');\n                    files[i].statusCode = '0';\n                }\n            }\n        }\n        return dropFiles;\n    };\n    Uploader.prototype.validatedFileSize = function (fileSize) {\n        var minSizeError = '';\n        var maxSizeError = '';\n        if (fileSize < this.minFileSize) {\n            minSizeError = this.localizedTexts('invalidMinFileSize');\n        }\n        else if (fileSize > this.maxFileSize) {\n            maxSizeError = this.localizedTexts('invalidMaxFileSize');\n        }\n        else {\n            minSizeError = '';\n            maxSizeError = '';\n        }\n        var errorMessage = { minSize: minSizeError, maxSize: maxSizeError };\n        return errorMessage;\n    };\n    Uploader.prototype.createCustomfileList = function (fileData) {\n        this.createParentUL();\n        for (var _i = 0, fileData_1 = fileData; _i < fileData_1.length; _i++) {\n            var listItem = fileData_1[_i];\n            var liElement = this.createElement('li', { className: FILE, attrs: { 'data-file-name': listItem.name } });\n            this.uploadTemplateFn = this.templateComplier(this.template);\n            this.listParent.appendChild(liElement);\n            var fromElements = [].slice.call(this.uploadTemplateFn(listItem));\n            append(fromElements, liElement);\n            this.fileList.push(liElement);\n        }\n    };\n    Uploader.prototype.createParentUL = function () {\n        if (isNullOrUndefined(this.listParent)) {\n            this.listParent = this.createElement('ul', { className: LIST_PARENT });\n            this.uploadWrapper.appendChild(this.listParent);\n        }\n    };\n    Uploader.prototype.createFileList = function (fileData) {\n        this.createParentUL();\n        if (this.template !== '' && !isNullOrUndefined(this.template)) {\n            this.createCustomfileList(fileData);\n        }\n        else {\n            for (var _i = 0, fileData_2 = fileData; _i < fileData_2.length; _i++) {\n                var listItem = fileData_2[_i];\n                var liElement = this.createElement('li', { className: FILE, attrs: { 'data-file-name': listItem.name } });\n                var textContainer = this.createElement('span', { className: TEXT_CONTAINER });\n                var textElement = this.createElement('span', { className: FILE_NAME, attrs: { 'title': listItem.name } });\n                textElement.innerHTML = this.getFileNameOnly(listItem.name);\n                var fileExtension = this.createElement('span', { className: FILE_TYPE });\n                fileExtension.innerHTML = '.' + this.getFileType(listItem.name);\n                if (!this.enableRtl) {\n                    textContainer.appendChild(textElement);\n                    textContainer.appendChild(fileExtension);\n                }\n                else {\n                    var rtlContainer = this.createElement('span', { className: RTL_CONTAINER });\n                    rtlContainer.appendChild(fileExtension);\n                    rtlContainer.appendChild(textElement);\n                    textContainer.appendChild(rtlContainer);\n                }\n                var fileSize = this.createElement('span', { className: FILE_SIZE });\n                fileSize.innerHTML = this.bytesToSize(listItem.size);\n                textContainer.appendChild(fileSize);\n                var statusElement = this.createElement('span', { className: STATUS });\n                textContainer.appendChild(statusElement);\n                statusElement.innerHTML = listItem.status;\n                liElement.appendChild(textContainer);\n                var iconElement = this.createElement('span', { className: ' e-icons', attrs: { 'tabindex': '-1' } });\n                /* istanbul ignore next */\n                if (Browser.info.name === 'msie') {\n                    iconElement.classList.add('e-msie');\n                }\n                iconElement.setAttribute('title', this.localizedTexts('remove'));\n                liElement.appendChild(iconElement);\n                EventHandler.add(iconElement, 'click', this.removeFiles, this);\n                if (listItem.statusCode === '2') {\n                    statusElement.classList.add(UPLOAD_SUCCESS);\n                    iconElement.classList.add(REMOVE_ICON);\n                    iconElement.setAttribute('title', this.localizedTexts('delete'));\n                }\n                else if (listItem.statusCode !== '1') {\n                    statusElement.classList.remove(UPLOAD_SUCCESS);\n                    statusElement.classList.add(VALIDATION_FAILS);\n                }\n                if (this.autoUpload && listItem.statusCode === '1' && this.asyncSettings.saveUrl !== '') {\n                    statusElement.innerHTML = '';\n                }\n                if (!iconElement.classList.contains(REMOVE_ICON)) {\n                    iconElement.classList.add(CLEAR_ICON);\n                }\n                this.listParent.appendChild(liElement);\n                this.fileList.push(liElement);\n                this.truncateName(textElement);\n            }\n        }\n    };\n    Uploader.prototype.truncateName = function (name) {\n        var nameElement = name;\n        var text;\n        if (nameElement.offsetWidth < nameElement.scrollWidth) {\n            text = nameElement.textContent;\n            nameElement.dataset.tail = text.slice(text.length - 10);\n        }\n    };\n    Uploader.prototype.getFileType = function (name) {\n        var extension;\n        var index = name.lastIndexOf('.');\n        if (index >= 0) {\n            extension = name.substring(index + 1);\n        }\n        return extension ? extension : '';\n    };\n    Uploader.prototype.getFileNameOnly = function (name) {\n        var type = this.getFileType(name);\n        var names = name.split('.' + type);\n        return type = names[0];\n    };\n    Uploader.prototype.setInitialAttributes = function () {\n        if (this.initialAttr.accept) {\n            this.element.setAttribute('accept', this.initialAttr.accept);\n        }\n        if (this.initialAttr.disabled) {\n            this.element.setAttribute('disabled', 'disabled');\n        }\n        if (this.initialAttr.multiple) {\n            var newAttr = document.createAttribute('multiple');\n            this.element.setAttributeNode(newAttr);\n        }\n    };\n    Uploader.prototype.filterfileList = function (files) {\n        var filterFiles = [];\n        var li;\n        for (var i = 0; i < files.length; i++) {\n            li = this.getLiElement(files[i]);\n            if (!li.classList.contains(UPLOAD_SUCCESS)) {\n                filterFiles.push(files[i]);\n            }\n        }\n        return filterFiles;\n    };\n    Uploader.prototype.updateStatus = function (files, status, statusCode) {\n        if (!(status === '' || isNullOrUndefined(status)) && !(statusCode === '' || isNullOrUndefined(statusCode))) {\n            files.status = status;\n            files.statusCode = statusCode;\n        }\n        var li = this.getLiElement(files);\n        if (!isNullOrUndefined(li)) {\n            if (!isNullOrUndefined(li.querySelector('.' + STATUS)) && !((status === '' || isNullOrUndefined(status)))) {\n                li.querySelector('.' + STATUS).textContent = status;\n            }\n        }\n        return files;\n    };\n    Uploader.prototype.getLiElement = function (files) {\n        var index = this.filesData.indexOf(files);\n        return this.fileList[index];\n    };\n    Uploader.prototype.createProgressBar = function (liElement) {\n        var progressbarWrapper = this.createElement('span', { className: PROGRESS_WRAPPER });\n        var progressBar = this.createElement('progressbar', { className: PROGRESSBAR, attrs: { value: '0', max: '100' } });\n        var progressbarInnerWrapper = this.createElement('span', { className: PROGRESS_INNER_WRAPPER });\n        progressBar.setAttribute('style', 'width: 0%');\n        var progressbarText = this.createElement('span', { className: PROGRESSBAR_TEXT });\n        progressbarText.textContent = '0%';\n        progressbarInnerWrapper.appendChild(progressBar);\n        progressbarWrapper.appendChild(progressbarInnerWrapper);\n        progressbarWrapper.appendChild(progressbarText);\n        liElement.querySelector('.' + TEXT_CONTAINER).appendChild(progressbarWrapper);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.updateProgressbar = function (e, li) {\n        if (!isNaN(Math.round((e.loaded / e.total) * 100)) && !isNullOrUndefined(li.querySelector('.' + PROGRESSBAR))) {\n            if (!isNullOrUndefined(this.progressInterval) && this.progressInterval !== '') {\n                var value = (Math.round((e.loaded / e.total) * 100)) % parseInt(this.progressInterval, 10);\n                if (value === 0 || value === 100) {\n                    this.changeProgressValue(li, Math.round((e.loaded / e.total) * 100).toString() + '%');\n                }\n            }\n            else {\n                this.changeProgressValue(li, Math.round((e.loaded / e.total) * 100).toString() + '%');\n            }\n        }\n    };\n    Uploader.prototype.changeProgressValue = function (li, progressValue) {\n        li.querySelector('.' + PROGRESSBAR).setAttribute('style', 'width:' + progressValue);\n        li.querySelector('.' + PROGRESSBAR_TEXT).textContent = progressValue;\n    };\n    Uploader.prototype.uploadInProgress = function (e, files, customUI, request) {\n        var _this = this;\n        var li = this.getLiElement(files);\n        if (isNullOrUndefined(li) && (!customUI || isNullOrUndefined(customUI))) {\n            return;\n        }\n        if (!isNullOrUndefined(li)) {\n            /* istanbul ignore next */\n            if (files.statusCode === '5') {\n                var eventArgs = {\n                    event: e,\n                    fileData: files,\n                    cancel: false\n                };\n                this.trigger('canceling', eventArgs);\n                if (eventArgs.cancel) {\n                    files.statusCode = '3';\n                    var spinnerTarget = li.querySelector('.' + ABORT_ICON);\n                    if (!isNullOrUndefined(li) && !isNullOrUndefined(spinnerTarget)) {\n                        hideSpinner(spinnerTarget);\n                        detach(li.querySelector('.e-spinner-pane'));\n                    }\n                    return;\n                }\n                request.emitError = false;\n                request.httpRequest.abort();\n                var formData = new FormData();\n                if (files.statusCode === '5') {\n                    var name_1 = this.element.getAttribute('name');\n                    formData.append(name_1, files.name);\n                    formData.append('cancel-uploading', files.name);\n                    var ajax = new Ajax(this.asyncSettings.removeUrl, 'POST', true, null);\n                    ajax.onLoad = function (e) { _this.removecanceledFile(e, files); return {}; };\n                    ajax.send(formData);\n                }\n            }\n            if (!(li.querySelectorAll('.' + PROGRESS_WRAPPER).length > 0) && li.querySelector('.' + STATUS)) {\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_INPROGRESS);\n                this.createProgressBar(li);\n                this.updateProgressBarClasses(li, UPLOAD_INPROGRESS);\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_FAILED);\n            }\n            this.updateProgressbar(e, li);\n            var iconEle = li.querySelector('.' + CLEAR_ICON);\n            if (!isNullOrUndefined(iconEle)) {\n                iconEle.classList.add(ABORT_ICON, UPLOAD_INPROGRESS);\n                iconEle.setAttribute('title', this.localizedTexts('abort'));\n                iconEle.classList.remove(CLEAR_ICON);\n            }\n        }\n        var args = { e: e, operation: 'upload', file: this.updateStatus(files, this.localizedTexts('inProgress'), '3') };\n        this.trigger('progress', args);\n    };\n    Uploader.prototype.removecanceledFile = function (e, file) {\n        var liElement = this.getLiElement(file);\n        if (liElement.querySelector('.' + RETRY_ICON) || isNullOrUndefined(liElement.querySelector('.' + ABORT_ICON))) {\n            return;\n        }\n        this.updateStatus(file, this.localizedTexts('fileUploadCancel'), '5');\n        this.renderFailureState(e, file, liElement);\n        var spinnerTarget = liElement.querySelector('.' + CLEAR_ICON);\n        if (!isNullOrUndefined(liElement)) {\n            hideSpinner(spinnerTarget);\n            detach(liElement.querySelector('.e-spinner-pane'));\n        }\n        var args = { event: e, operation: 'cancel', file: file };\n        this.trigger('success', args);\n    };\n    Uploader.prototype.renderFailureState = function (e, file, liElement) {\n        var _this = this;\n        this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n        this.removeProgressbar(liElement, 'failure');\n        if (!isNullOrUndefined(liElement.querySelector('.e-file-status'))) {\n            liElement.querySelector('.e-file-status').classList.add(UPLOAD_FAILED);\n        }\n        var deleteIcon = liElement.querySelector('.' + ABORT_ICON);\n        if (isNullOrUndefined(deleteIcon)) {\n            return;\n        }\n        deleteIcon.classList.remove(ABORT_ICON, UPLOAD_INPROGRESS);\n        deleteIcon.classList.add(CLEAR_ICON);\n        deleteIcon.setAttribute('title', this.localizedTexts('remove'));\n        this.pauseButton = this.createElement('span', { className: 'e-icons e-file-reload-btn', attrs: { 'tabindex': '-1' } });\n        liElement.insertBefore(this.pauseButton, deleteIcon);\n        this.pauseButton.setAttribute('title', this.localizedTexts('retry'));\n        var retryElement = liElement.querySelector('.' + RETRY_ICON);\n        /* istanbul ignore next */\n        retryElement.addEventListener('click', function (e) { _this.reloadcanceledFile(e, file, liElement); }, false);\n    };\n    Uploader.prototype.reloadcanceledFile = function (e, file, liElement) {\n        file.statusCode = '1';\n        file.status = this.localizedTexts('readyToUploadMessage');\n        liElement.querySelector('.' + STATUS).classList.remove(UPLOAD_FAILED);\n        if (!isNullOrUndefined(liElement.querySelector('.' + RETRY_ICON))) {\n            detach(liElement.querySelector('.' + RETRY_ICON));\n        }\n        this.pauseButton = null;\n        this.upload([file]);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.uploadComplete = function (e, file, customUI) {\n        var status = e.target;\n        if (status.readyState === 4 && status.status >= 200 && status.status <= 299) {\n            var li = this.getLiElement(file);\n            if (isNullOrUndefined(li) && (!customUI || isNullOrUndefined(customUI))) {\n                return;\n            }\n            if (!isNullOrUndefined(li)) {\n                this.updateProgressBarClasses(li, UPLOAD_SUCCESS);\n                this.removeProgressbar(li, 'success');\n                var iconEle = li.querySelector('.' + ABORT_ICON);\n                if (!isNullOrUndefined(iconEle)) {\n                    iconEle.classList.add(REMOVE_ICON);\n                    iconEle.setAttribute('title', this.localizedTexts('delete'));\n                    iconEle.classList.remove(ABORT_ICON);\n                    iconEle.classList.remove(UPLOAD_INPROGRESS);\n                }\n            }\n            this.raiseSuccessEvent(e, file);\n        }\n        else {\n            this.uploadFailed(e, file);\n        }\n    };\n    Uploader.prototype.raiseSuccessEvent = function (e, file) {\n        var args = { e: e, operation: 'upload', file: this.updateStatus(file, this.localizedTexts('uploadSuccessMessage'), '2') };\n        this.trigger('success', args);\n        this.uploadedFilesData.push(file);\n        this.trigger('change', { file: this.uploadedFilesData });\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.uploadFailed = function (e, file) {\n        var li = this.getLiElement(file);\n        var args = { e: e, operation: 'upload', file: this.updateStatus(file, this.localizedTexts('uploadFailedMessage'), '0') };\n        if (!isNullOrUndefined(li)) {\n            this.renderFailureState(e, file, li);\n        }\n        this.trigger('failure', args);\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.updateProgressBarClasses = function (li, className) {\n        var progressBar = li.querySelector('.' + PROGRESSBAR);\n        if (!isNullOrUndefined(progressBar)) {\n            progressBar.classList.add(className);\n        }\n    };\n    Uploader.prototype.removeProgressbar = function (li, callType) {\n        var _this = this;\n        if (!isNullOrUndefined(li.querySelector('.' + PROGRESS_WRAPPER))) {\n            this.progressAnimation = new Animation({ duration: 1250 });\n            this.progressAnimation.animate(li.querySelector('.' + PROGRESS_WRAPPER), { name: 'FadeOut' });\n            this.progressAnimation.animate(li.querySelector('.' + PROGRESSBAR_TEXT), { name: 'FadeOut' });\n            setTimeout(function () { _this.animateProgressBar(li, callType); }, 750);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.animateProgressBar = function (li, callType) {\n        if (callType === 'success') {\n            li.classList.add(UPLOAD_SUCCESS);\n            if (!isNullOrUndefined(li.querySelector('.' + STATUS))) {\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_INPROGRESS);\n                this.progressAnimation.animate(li.querySelector('.' + STATUS), { name: 'FadeIn' });\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_SUCCESS);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(li.querySelector('.' + STATUS))) {\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_INPROGRESS);\n                this.progressAnimation.animate(li.querySelector('.' + STATUS), { name: 'FadeIn' });\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_FAILED);\n            }\n        }\n        if (li.querySelector('.' + PROGRESS_WRAPPER)) {\n            detach(li.querySelector('.' + PROGRESS_WRAPPER));\n        }\n    };\n    Uploader.prototype.setExtensions = function (extensions) {\n        this.element.setAttribute('accept', extensions);\n    };\n    Uploader.prototype.templateComplier = function (uploadTemplate) {\n        if (uploadTemplate) {\n            var exception = void 0;\n            try {\n                if (document.querySelectorAll(uploadTemplate).length) {\n                    return compile(document.querySelector(uploadTemplate).innerHTML.trim());\n                }\n            }\n            catch (exception) {\n                return compile(uploadTemplate);\n            }\n        }\n        return undefined;\n    };\n    Uploader.prototype.setRTL = function () {\n        this.enableRtl ? addClass([this.uploadWrapper], RTL) : removeClass([this.uploadWrapper], RTL);\n    };\n    Uploader.prototype.localizedTexts = function (localeText) {\n        this.l10n.setLocale(this.locale);\n        return this.l10n.getConstant(localeText);\n    };\n    Uploader.prototype.setControlStatus = function () {\n        if (!this.enabled) {\n            this.uploadWrapper.classList.add(DISABLED);\n            this.element.setAttribute('disabled', 'disabled');\n            this.browseButton.setAttribute('disabled', 'disabled');\n            if (!isNullOrUndefined(this.clearButton)) {\n                this.clearButton.setAttribute('disabled', 'disabled');\n            }\n            if (!isNullOrUndefined(this.uploadButton)) {\n                this.uploadButton.setAttribute('disabled', 'disabled');\n            }\n        }\n        else {\n            if (this.uploadWrapper.classList.contains(DISABLED)) {\n                this.uploadWrapper.classList.remove(DISABLED);\n            }\n            if (!isNullOrUndefined(this.browseButton) && this.element.hasAttribute('disabled')) {\n                this.element.removeAttribute('disabled');\n                this.browseButton.removeAttribute('disabled');\n            }\n            if (!isNullOrUndefined(this.clearButton) && this.clearButton.hasAttribute('disabled')) {\n                this.clearButton.removeAttribute('disabled');\n            }\n            if (!isNullOrUndefined(this.uploadButton) && this.uploadButton.hasAttribute('disabled')) {\n                this.uploadButton.hasAttribute('disabled');\n            }\n        }\n    };\n    Uploader.prototype.checkHTMLAttributes = function () {\n        if (this.element.hasAttribute('accept')) {\n            this.allowedExtensions = this.element.getAttribute('accept');\n            this.initialAttr.accept = this.allowedExtensions;\n        }\n        if (this.element.hasAttribute('multiple')) {\n            this.multiple = true;\n            this.initialAttr.multiple = true;\n        }\n        if (this.element.hasAttribute('disabled')) {\n            this.enabled = false;\n            this.initialAttr.disabled = true;\n        }\n    };\n    Uploader.prototype.chunkUpload = function (file, custom) {\n        var start = 0;\n        var end = Math.min(this.asyncSettings.chunkSize, file.size);\n        var index = 0;\n        var blob = file.rawFile.slice(start, end);\n        var metaData = { chunkIndex: index, blob: blob, file: file, start: start, end: end, retryCount: 0, request: null };\n        this.sendRequest(file, metaData, custom);\n    };\n    Uploader.prototype.sendRequest = function (file, metaData, custom) {\n        var _this = this;\n        var formData = new FormData();\n        var blob = file.rawFile.slice(metaData.start, metaData.end);\n        formData.append('chunkFile', blob, file.name);\n        formData.append('chunk-index', metaData.chunkIndex.toString());\n        var totalChunk = Math.max(Math.ceil(file.size / this.asyncSettings.chunkSize), 1);\n        formData.append('total-chunk', totalChunk.toString());\n        var ajax = new Ajax({ url: this.asyncSettings.saveUrl, type: 'POST', async: true, contentType: null });\n        ajax.onLoad = function (e) { _this.chunkUploadComplete(e, metaData, custom); return {}; };\n        ajax.onUploadProgress = function (e) {\n            _this.chunkUploadInProgress(e, metaData, custom);\n            return {};\n        };\n        var eventArgs = {\n            fileData: file,\n            customFormData: [],\n            cancel: false,\n            chunkSize: this.asyncSettings.chunkSize === 0 ? null : this.asyncSettings.chunkSize\n        };\n        ajax.beforeSend = function (e) {\n            if (metaData.chunkIndex !== 0) {\n                return;\n            }\n            eventArgs.currentRequest = ajax.httpRequest;\n            _this.trigger('uploading', eventArgs);\n            if (eventArgs.cancel) {\n                _this.eventCancelByArgs(e, eventArgs, file);\n            }\n            else {\n                _this.updateFormData(formData, eventArgs.customFormData);\n            }\n        };\n        /* istanbul ignore next */\n        ajax.onError = function (e) { _this.chunkUploadFailed(e, metaData, custom); return {}; };\n        ajax.send(formData);\n        metaData.request = ajax;\n    };\n    Uploader.prototype.eventCancelByArgs = function (e, eventArgs, file) {\n        var _this = this;\n        e.cancel = true;\n        if (eventArgs.fileData.statusCode === '5') {\n            return;\n        }\n        var liElement = this.getLiElement(eventArgs.fileData);\n        liElement.querySelector('.' + STATUS).innerHTML = this.localizedTexts('fileUploadCancel');\n        liElement.querySelector('.' + STATUS).classList.add(UPLOAD_FAILED);\n        eventArgs.fileData.statusCode = '5';\n        eventArgs.fileData.status = this.localizedTexts('fileUploadCancel');\n        this.pauseButton = this.createElement('span', { className: 'e-icons e-file-reload-btn', attrs: { 'tabindex': '-1' } });\n        liElement.insertBefore(this.pauseButton, liElement.querySelector('.' + CLEAR_ICON));\n        this.pauseButton.setAttribute('title', this.localizedTexts('retry'));\n        /* istanbul ignore next */\n        this.pauseButton.addEventListener('click', function (e) { _this.reloadcanceledFile(e, file, liElement); }, false);\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.checkChunkUpload = function () {\n        return (this.asyncSettings.chunkSize <= 0 || isNullOrUndefined(this.asyncSettings.chunkSize)) ? false : true;\n    };\n    Uploader.prototype.chunkUploadComplete = function (e, metaData, custom) {\n        var _this = this;\n        var response = e.target;\n        var liElement;\n        if (response.readyState === 4 && response.status >= 200 && response.status < 300) {\n            var totalChunk = Math.max(Math.ceil(metaData.file.size / this.asyncSettings.chunkSize), 1);\n            var eventArgs = {\n                event: e,\n                file: metaData.file,\n                chunkIndex: metaData.chunkIndex,\n                totalChunk: totalChunk,\n                chunkSize: this.asyncSettings.chunkSize\n            };\n            this.trigger('chunkSuccess', eventArgs);\n            if (isNullOrUndefined(custom) || !custom) {\n                liElement = this.getLiElement(metaData.file);\n            }\n            this.updateMetaData(metaData);\n            if (metaData.end === metaData.file.size) {\n                metaData.file.statusCode = '3';\n            }\n            if (metaData.file.statusCode === '5') {\n                var eventArgs_2 = { event: e, fileData: metaData.file, cancel: false };\n                this.trigger('canceling', eventArgs_2);\n                if (eventArgs_2.cancel) {\n                    metaData.file.statusCode = '3';\n                    var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n                    if (!isNullOrUndefined(liElement) && !isNullOrUndefined(spinnerTarget)) {\n                        hideSpinner(spinnerTarget);\n                        detach(liElement.querySelector('.e-spinner-pane'));\n                    }\n                    this.sendNextRequest(metaData);\n                    return;\n                }\n                metaData.request.emitError = false;\n                response.abort();\n                var formData = new FormData();\n                var name_2 = this.element.getAttribute('name');\n                formData.append(name_2, metaData.file.name);\n                formData.append('cancel-uploading', metaData.file.name);\n                var ajax = new Ajax(this.asyncSettings.removeUrl, 'POST', true, null);\n                ajax.onLoad = function (e) { _this.removeChunkFile(e, metaData, custom); return {}; };\n                ajax.send(formData);\n            }\n            else {\n                if ((totalChunk - 1) === metaData.chunkIndex && totalChunk > metaData.chunkIndex) {\n                    var index = this.pausedData.indexOf(metaData);\n                    if (index >= 0) {\n                        this.pausedData.splice(index, 1);\n                    }\n                    if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom) && liElement) {\n                        if (liElement) {\n                            detach(liElement.querySelector('.' + PAUSE_UPLOAD));\n                        }\n                        this.removeChunkProgressBar(metaData);\n                    }\n                    this.raiseSuccessEvent(e, metaData.file);\n                    return;\n                }\n                this.sendNextRequest(metaData);\n            }\n        }\n        else {\n            this.chunkUploadFailed(e, metaData);\n        }\n    };\n    Uploader.prototype.sendNextRequest = function (metaData) {\n        metaData.start = metaData.end;\n        metaData.end += this.asyncSettings.chunkSize;\n        metaData.end = Math.min(metaData.end, metaData.file.size);\n        metaData.chunkIndex += 1;\n        this.sendRequest(metaData.file, metaData);\n    };\n    Uploader.prototype.removeChunkFile = function (e, metaData, custom) {\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) && !custom)) {\n            var liElement = this.getLiElement(metaData.file);\n            var deleteIcon = liElement.querySelector('.' + ABORT_ICON);\n            var spinnerTarget = deleteIcon;\n            this.updateStatus(metaData.file, this.localizedTexts('fileUploadCancel'), '5');\n            this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n            this.removeProgressbar(liElement, 'failure');\n            deleteIcon.classList.remove(ABORT_ICON);\n            deleteIcon.classList.add(CLEAR_ICON);\n            deleteIcon.setAttribute('title', this.localizedTexts('remove'));\n            var pauseIcon = liElement.querySelector('.' + PAUSE_UPLOAD);\n            pauseIcon.classList.add(RETRY_ICON);\n            pauseIcon.classList.remove(PAUSE_UPLOAD);\n            pauseIcon.setAttribute('title', this.localizedTexts('retry'));\n            if (!isNullOrUndefined(liElement) && !isNullOrUndefined(deleteIcon)) {\n                hideSpinner(spinnerTarget);\n                detach(liElement.querySelector('.e-spinner-pane'));\n            }\n        }\n    };\n    Uploader.prototype.pauseUpload = function (metaData, e, custom) {\n        metaData.file.statusCode = '4';\n        metaData.file.status = this.localizedTexts('pause');\n        this.updateMetaData(metaData);\n        var eventArgs = {\n            event: e ? e : null,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            chunkCount: Math.round(metaData.file.size / this.asyncSettings.chunkSize),\n            chunkSize: this.asyncSettings.chunkSize\n        };\n        this.abortUpload(metaData, custom, eventArgs);\n    };\n    Uploader.prototype.abortUpload = function (metaData, custom, eventArgs) {\n        metaData.request.emitError = false;\n        metaData.request.httpRequest.abort();\n        var liElement = this.getLiElement(metaData.file);\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom)) {\n            var targetElement = liElement.querySelector('.' + PAUSE_UPLOAD);\n            targetElement.classList.remove(PAUSE_UPLOAD);\n            targetElement.classList.add(RESUME_UPLOAD);\n            targetElement.setAttribute('title', this.localizedTexts('resume'));\n        }\n        for (var i = 0; i < this.pausedData.length; i++) {\n            if (this.pausedData[i].file.name === metaData.file.name) {\n                this.pausedData.splice(i, 1);\n            }\n        }\n        this.pausedData.push(metaData);\n        this.trigger('pausing', eventArgs);\n    };\n    Uploader.prototype.resumeUpload = function (metaData, e, custom) {\n        var liElement = this.getLiElement(metaData.file);\n        var targetElement;\n        if (!isNullOrUndefined(liElement)) {\n            targetElement = liElement.querySelector('.' + RESUME_UPLOAD);\n        }\n        if (!isNullOrUndefined(targetElement) && (isNullOrUndefined(custom) || !custom)) {\n            targetElement.classList.remove(RESUME_UPLOAD);\n            targetElement.classList.add(PAUSE_UPLOAD);\n            targetElement.setAttribute('title', this.localizedTexts('pause'));\n        }\n        metaData.file.status = this.localizedTexts('inProgress');\n        metaData.file.statusCode = '3';\n        this.updateMetaData(metaData);\n        var eventArgs = {\n            event: e ? e : null,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            chunkCount: Math.round(metaData.file.size / this.asyncSettings.chunkSize),\n            chunkSize: this.asyncSettings.chunkSize\n        };\n        this.trigger('resuming', eventArgs);\n        for (var i = 0; i < this.pausedData.length; i++) {\n            if (this.pausedData[i].end === this.pausedData[i].file.size) {\n                this.chunkUploadComplete(e, metaData, custom);\n            }\n            else {\n                if (this.pausedData[i].file.name === metaData.file.name) {\n                    this.pausedData[i].start = this.pausedData[i].end;\n                    this.pausedData[i].end = this.pausedData[i].end + this.asyncSettings.chunkSize;\n                    this.pausedData[i].end = Math.min(this.pausedData[i].end, this.pausedData[i].file.size);\n                    this.pausedData[i].chunkIndex = this.pausedData[i].chunkIndex + 1;\n                    this.sendRequest(this.pausedData[i].file, this.pausedData[i], custom);\n                }\n            }\n        }\n    };\n    Uploader.prototype.updateMetaData = function (metaData) {\n        if (this.uploadMetaData.indexOf(metaData) === -1) {\n            this.uploadMetaData.push(metaData);\n        }\n        else {\n            this.uploadMetaData.splice(this.uploadMetaData.indexOf(metaData), 1);\n            this.uploadMetaData.push(metaData);\n        }\n    };\n    Uploader.prototype.removeChunkProgressBar = function (metaData) {\n        var liElement = this.getLiElement(metaData.file);\n        if (!isNullOrUndefined(liElement)) {\n            this.updateProgressBarClasses(liElement, UPLOAD_SUCCESS);\n            this.removeProgressbar(liElement, 'success');\n            var cancelButton = liElement.querySelector('.' + ABORT_ICON);\n            if (!isNullOrUndefined(cancelButton)) {\n                cancelButton.classList.add(REMOVE_ICON);\n                cancelButton.setAttribute('title', this.localizedTexts('delete'));\n                cancelButton.classList.remove(ABORT_ICON, UPLOAD_INPROGRESS);\n            }\n        }\n    };\n    Uploader.prototype.chunkUploadFailed = function (e, metaData, custom) {\n        var _this = this;\n        var chunkCount = Math.max(Math.ceil(metaData.file.size / this.asyncSettings.chunkSize), 1);\n        var liElement;\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom)) {\n            liElement = this.getLiElement(metaData.file);\n        }\n        var eventArgs = {\n            event: e,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            totalChunk: chunkCount,\n            chunkSize: this.asyncSettings.chunkSize\n        };\n        this.trigger('chunkFailure', eventArgs);\n        if (metaData.retryCount < this.asyncSettings.retryCount) {\n            setTimeout(function () { _this.retryRequest(liElement, metaData, custom); }, this.asyncSettings.retryAfterDelay);\n        }\n        else {\n            if (!isNullOrUndefined(liElement)) {\n                var pauseButton = liElement.querySelector('.' + PAUSE_UPLOAD) ?\n                    liElement.querySelector('.' + PAUSE_UPLOAD) : liElement.querySelector('.' + RESUME_UPLOAD);\n                if (!isNullOrUndefined(pauseButton)) {\n                    pauseButton.classList.add(RETRY_ICON);\n                    pauseButton.classList.remove(PAUSE_UPLOAD, RESUME_UPLOAD);\n                }\n                this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n                this.removeProgressbar(liElement, 'failure');\n                liElement.querySelector('.e-icons').classList.remove(UPLOAD_INPROGRESS);\n                var iconElement = liElement.querySelector('.' + ABORT_ICON);\n                iconElement.classList.remove(ABORT_ICON);\n                if (!isNullOrUndefined(liElement.querySelector('.' + PAUSE_UPLOAD))) {\n                    detach(liElement.querySelector('.' + PAUSE_UPLOAD));\n                }\n                if (metaData.start > 0) {\n                    iconElement.classList.add(REMOVE_ICON);\n                    iconElement.setAttribute('title', this.localizedTexts('delete'));\n                }\n                else {\n                    iconElement.classList.add(CLEAR_ICON);\n                    iconElement.setAttribute('title', this.localizedTexts('remove'));\n                }\n            }\n            metaData.retryCount = 0;\n            var file = metaData.file;\n            var args = { e: e, operation: 'upload', file: this.updateStatus(file, this.localizedTexts('uploadFailedMessage'), '0') };\n            this.trigger('failure', args);\n        }\n    };\n    Uploader.prototype.retryRequest = function (liElement, metaData, custom) {\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom) && liElement) {\n            this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n        }\n        metaData.retryCount += 1;\n        this.sendRequest(metaData.file, metaData);\n    };\n    Uploader.prototype.checkPausePlayAction = function (e) {\n        var targetElement = e.target;\n        var selectedElement = e.target.parentElement;\n        var index = this.fileList.indexOf(selectedElement);\n        var fileData = this.filesData[index];\n        var metaData = this.getCurrentMetaData(fileData);\n        if (targetElement.classList.contains(PAUSE_UPLOAD)) {\n            this.pauseUpload(metaData, e);\n            targetElement.nextElementSibling.classList.add(DISABLED);\n        }\n        else if (targetElement.classList.contains(RESUME_UPLOAD)) {\n            this.resumeUpload(metaData, e);\n            targetElement.nextElementSibling.classList.remove(DISABLED);\n        }\n        else if (targetElement.classList.contains(RETRY_ICON)) {\n            if (metaData.file.status === this.localizedTexts('fileUploadCancel')) {\n                this.retryUpload(metaData, false);\n            }\n            else {\n                this.retryUpload(metaData, true);\n            }\n        }\n    };\n    Uploader.prototype.retryUpload = function (metaData, fromcanceledStage) {\n        if (fromcanceledStage) {\n            metaData.end = metaData.end + this.asyncSettings.chunkSize;\n            metaData.start = metaData.start + this.asyncSettings.chunkSize;\n            this.sendRequest(metaData.file, metaData);\n        }\n        else {\n            metaData.file.statusCode = '1';\n            metaData.file.status = this.localizedTexts('readyToUploadMessage');\n            this.chunkUpload(metaData.file);\n        }\n    };\n    Uploader.prototype.chunkUploadInProgress = function (e, metaData, custom) {\n        var _this = this;\n        if (metaData.file.statusCode === '4') {\n            return;\n        }\n        if (metaData.file.statusCode !== '4' && metaData.file.statusCode !== '5') {\n            metaData.file.statusCode = '3';\n            metaData.file.status = this.localizedTexts('inProgress');\n        }\n        this.updateMetaData(metaData);\n        var liElement = this.getLiElement(metaData.file);\n        if (isNullOrUndefined(liElement)) {\n            return;\n        }\n        var target;\n        var retryElement = liElement.querySelector('.' + RETRY_ICON);\n        if (!isNullOrUndefined(retryElement)) {\n            retryElement.classList.add(PAUSE_UPLOAD);\n            retryElement.setAttribute('title', this.localizedTexts('pause'));\n            retryElement.classList.remove(RETRY_ICON);\n        }\n        if (!isNullOrUndefined(liElement)) {\n            if (!(liElement.querySelectorAll('.' + PROGRESS_WRAPPER).length > 0)) {\n                var statusElement = liElement.querySelector('.' + STATUS);\n                if (isNullOrUndefined(this.template)) {\n                    statusElement.classList.add(UPLOAD_INPROGRESS);\n                    statusElement.classList.remove(UPLOAD_FAILED);\n                    this.createProgressBar(liElement);\n                    this.updateProgressBarClasses(liElement, UPLOAD_INPROGRESS);\n                }\n                var clearIcon = liElement.querySelector('.' + CLEAR_ICON) ? liElement.querySelector('.' + CLEAR_ICON) :\n                    liElement.querySelector('.' + REMOVE_ICON);\n                if (!isNullOrUndefined(clearIcon)) {\n                    clearIcon.classList.add(ABORT_ICON);\n                    clearIcon.setAttribute('title', this.localizedTexts('abort'));\n                    clearIcon.classList.remove(CLEAR_ICON);\n                }\n            }\n            if (!isNaN(Math.round((e.loaded / e.total) * 100)) && isNullOrUndefined(this.template) && metaData.file.statusCode !== '4') {\n                var loadedSize = (metaData.chunkIndex * this.asyncSettings.chunkSize);\n                var value = Math.min((((loadedSize + e.loaded) / metaData.file.size) * 100), 100);\n                this.changeProgressValue(liElement, Math.round(value).toString() + '%');\n            }\n            if (metaData.chunkIndex === 0) {\n                this.checkActionButtonStatus();\n            }\n        }\n        if (isNullOrUndefined(liElement.querySelector('.' + PAUSE_UPLOAD)) && isNullOrUndefined(this.template)) {\n            this.pauseButton = this.createElement('span', { className: 'e-icons e-file-pause-btn', attrs: { 'tabindex': '-1' } });\n            if (Browser.info.name === 'msie') {\n                this.pauseButton.classList.add('e-msie');\n            }\n            liElement.insertBefore(this.pauseButton, liElement.querySelector('.' + ABORT_ICON));\n            this.pauseButton.setAttribute('title', this.localizedTexts('pause'));\n            this.pauseButton.addEventListener('click', function (e) { _this.checkPausePlayAction(e); }, false);\n        }\n    };\n    /**\n     * It is used to convert bytes value into kilobytes or megabytes depending on the size based\n     * on [binary prefix](https://en.wikipedia.org/wiki/Binary_prefix).\n     * @param { number } bytes - specifies the file size in bytes.\n     * @returns string\n     */\n    Uploader.prototype.bytesToSize = function (bytes) {\n        var i = -1;\n        var size;\n        if (!bytes) {\n            return '0.0 KB';\n        }\n        do {\n            bytes = bytes / 1024;\n            i++;\n        } while (bytes > 99);\n        if (i >= 2) {\n            bytes = bytes * 1024;\n            i = 1;\n        }\n        return Math.max(bytes, 0).toFixed(1) + ' ' + ['KB', 'MB'][i];\n    };\n    /**\n     * Allows you to sort the file data alphabetically based on its file name clearly.\n     * @param { FileList } filesData - specifies the files data for upload.\n     * @returns File[]\n     */\n    Uploader.prototype.sortFileList = function (filesData) {\n        var files = filesData;\n        var fileNames = [];\n        for (var i = 0; i < files.length; i++) {\n            fileNames.push(files[i].name);\n        }\n        var sortedFileNames = fileNames.sort();\n        var sortedFilesData = [];\n        var index = 0;\n        for (var _i = 0, sortedFileNames_1 = sortedFileNames; _i < sortedFileNames_1.length; _i++) {\n            var name_3 = sortedFileNames_1[_i];\n            for (var i = 0; i < files.length; i++) {\n                if (name_3 === files[i].name) {\n                    sortedFilesData.push(files[i]);\n                }\n            }\n        }\n        return sortedFilesData;\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     * @method destroy\n     * @return {void}.\n     */\n    Uploader.prototype.destroy = function () {\n        this.element.value = null;\n        this.clearAll();\n        this.unWireEvents();\n        this.unBindDropEvents();\n        if (this.multiple) {\n            this.element.removeAttribute('multiple');\n        }\n        if (!this.enabled) {\n            this.element.removeAttribute('disabled');\n        }\n        this.element.removeAttribute('accept');\n        this.setInitialAttributes();\n        this.uploadWrapper.parentElement.appendChild(this.cloneElement);\n        this.cloneElement.classList.remove('e-control', ROOT);\n        detach(this.uploadWrapper);\n        this.uploadWrapper = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Allows you to call the upload process manually by calling save URL action.\n     * To process the selected files (added in upload queue), pass an empty argument otherwise\n     * upload the specific file based on its argument.\n     * @param { FileInfo | FileInfo[] } files - specifies the files data for upload.\n     * @returns void\n     */\n    Uploader.prototype.upload = function (files, custom) {\n        var uploadFiles = this.validateFileType(files);\n        this.uploadFiles(uploadFiles, custom);\n    };\n    Uploader.prototype.validateFileType = function (files) {\n        var uploadFiles = [];\n        if (files instanceof Array) {\n            uploadFiles = files;\n        }\n        else {\n            uploadFiles.push(files);\n        }\n        return uploadFiles;\n    };\n    Uploader.prototype.uploadFiles = function (files, custom) {\n        var _this = this;\n        var selectedFiles = [];\n        if (this.asyncSettings.saveUrl === '' || isNullOrUndefined(this.asyncSettings.saveUrl)) {\n            return;\n        }\n        if (!custom || isNullOrUndefined(custom)) {\n            if (!this.multiple) {\n                var file = [];\n                file.push(files[0]);\n                selectedFiles = this.filterfileList(file);\n            }\n            else {\n                selectedFiles = this.filterfileList(files);\n            }\n        }\n        else {\n            selectedFiles = files;\n        }\n        var chunkEnabled = this.checkChunkUpload();\n        var _loop_2 = function (i) {\n            var ajax = new Ajax(this_1.asyncSettings.saveUrl, 'POST', true, null);\n            var eventArgs = {\n                fileData: selectedFiles[i],\n                customFormData: [],\n                cancel: false\n            };\n            var formData = new FormData();\n            ajax.beforeSend = function (e) {\n                eventArgs.currentRequest = ajax.httpRequest;\n                _this.trigger('uploading', eventArgs);\n                if (eventArgs.cancel) {\n                    _this.eventCancelByArgs(e, eventArgs, selectedFiles[i]);\n                }\n                _this.updateFormData(formData, eventArgs.customFormData);\n            };\n            if (selectedFiles[i].statusCode === '1') {\n                var name_4 = this_1.element.getAttribute('name');\n                formData.append(name_4, selectedFiles[i].rawFile, selectedFiles[i].name);\n                if (chunkEnabled && selectedFiles[i].size > this_1.asyncSettings.chunkSize) {\n                    this_1.chunkUpload(selectedFiles[i], custom);\n                }\n                else {\n                    ajax.onLoad = function (e) { _this.uploadComplete(e, selectedFiles[i], custom); return {}; };\n                    ajax.onUploadProgress = function (e) {\n                        _this.uploadInProgress(e, selectedFiles[i], custom, ajax);\n                        return {};\n                    };\n                    /* istanbul ignore next */\n                    ajax.onError = function (e) { _this.uploadFailed(e, selectedFiles[i]); return {}; };\n                    ajax.send(formData);\n                }\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < selectedFiles.length; i++) {\n            _loop_2(i);\n        }\n    };\n    /**\n     * Remove the uploaded file from server manually by calling the remove URL action.\n     * If you pass an empty argument to this method, the complete file list can be cleared,\n     * otherwise remove the specific file based on its argument (file_data).\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to remove from file list/server.\n     * @param { boolean } customTemplate - Set true if the component rendering with customize template.\n     * @param { boolean } removeDirectly - Set true if files remove without removing event.\n     * @returns void\n     */\n    Uploader.prototype.remove = function (fileData, customTemplate, removeDirectly, args) {\n        var eventArgs = {\n            event: args,\n            cancel: false,\n            filesData: [],\n            customFormData: [],\n            postRawFile: true\n        };\n        if (this.isForm) {\n            eventArgs.filesData = this.getFilesData();\n            this.trigger('removing', eventArgs);\n            if (!eventArgs.cancel) {\n                this.clearAll();\n            }\n            return;\n        }\n        var removeFiles = [];\n        fileData = !isNullOrUndefined(fileData) ? fileData : this.filesData;\n        if (fileData instanceof Array) {\n            removeFiles = fileData;\n        }\n        else {\n            removeFiles.push(fileData);\n        }\n        eventArgs.filesData = removeFiles;\n        var removeUrl = this.asyncSettings.removeUrl;\n        var validUrl = (removeUrl === '' || isNullOrUndefined(removeUrl)) ? false : true;\n        for (var _i = 0, removeFiles_1 = removeFiles; _i < removeFiles_1.length; _i++) {\n            var files = removeFiles_1[_i];\n            if ((files.statusCode === '2' || files.statusCode === '4') && validUrl) {\n                this.removeUploadedFile(files, eventArgs, removeDirectly, customTemplate);\n            }\n            else {\n                if (!removeDirectly) {\n                    this.trigger('removing', eventArgs);\n                }\n                if (eventArgs.cancel) {\n                    return;\n                }\n                this.removeFilesData(files, customTemplate);\n            }\n        }\n    };\n    /**\n     * Clear all the file entries from list that can be uploaded files or added in upload queue.\n     * @returns void\n     */\n    Uploader.prototype.clearAll = function () {\n        if (isNullOrUndefined(this.listParent)) {\n            if (Browser.info.name !== 'msie') {\n                this.element.value = '';\n            }\n            this.filesData = [];\n            return;\n        }\n        var eventArgs = {\n            cancel: false,\n            filesData: this.filesData\n        };\n        this.trigger('clearing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.clearData();\n    };\n    /**\n     * Get the data of files which are shown in file list.\n     * @returns FileInfo[]\n     */\n    Uploader.prototype.getFilesData = function () {\n        return this.filesData;\n    };\n    /**\n     * Pauses the in-progress chunked upload based on the file data.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to pause from uploading.\n     * @param { boolean } custom - Set true if used custom UI.\n     * @returns void\n     */\n    Uploader.prototype.pause = function (fileData, custom) {\n        var fileDataFiles = this.validateFileType(fileData);\n        this.pauseUploading(fileDataFiles, custom);\n    };\n    Uploader.prototype.pauseUploading = function (fileData, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '3') {\n                this.pauseUpload(this.getCurrentMetaData(files[i], null), null, custom);\n            }\n        }\n    };\n    Uploader.prototype.getFiles = function (fileData) {\n        var files = [];\n        if (!isNullOrUndefined(fileData) && !(fileData instanceof Array)) {\n            files.push(fileData);\n        }\n        else {\n            files = fileData;\n        }\n        return files;\n    };\n    /**\n     * Resumes the chunked upload that is previously paused based on the file data.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to resume the paused file.\n     * @param { boolean } custom - Set true if used custom UI.\n     * @returns void\n     */\n    Uploader.prototype.resume = function (fileData, custom) {\n        var fileDataFiles = this.validateFileType(fileData);\n        this.resumeFiles(fileDataFiles, custom);\n    };\n    Uploader.prototype.resumeFiles = function (fileData, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '4') {\n                this.resumeUpload(this.getCurrentMetaData(files[i], null), null, custom);\n            }\n        }\n    };\n    /**\n     * Retries the canceled or failed file upload based on the file data.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to retry the canceled or failed file.\n     * @param { boolean } fromcanceledStage - Set true to retry from canceled stage and set false to retry from initial stage.\n     * @returns void\n     */\n    Uploader.prototype.retry = function (fileData, fromcanceledStage) {\n        var fileDataFiles = this.validateFileType(fileData);\n        this.retryFailedFiles(fileDataFiles, fromcanceledStage);\n    };\n    Uploader.prototype.retryFailedFiles = function (fileData, fromcanceledStage) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '5' || files[i].statusCode === '0') {\n                if (this.asyncSettings.chunkSize > 0) {\n                    this.retryUpload(this.getCurrentMetaData(files[i], null), fromcanceledStage);\n                }\n                else {\n                    var liElement = this.fileList[this.filesData.indexOf(files[i])];\n                    this.reloadcanceledFile(null, files[i], liElement);\n                }\n            }\n        }\n    };\n    /**\n     * Stops the in-progress chunked upload based on the file data.\n     * When the file upload is canceled, the partially uploaded file is removed from server.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to cancel the progressing file.\n     * @returns void\n     */\n    Uploader.prototype.cancel = function (fileData) {\n        var fileDataFiles = this.validateFileType(fileData);\n        this.cancelUpload(fileDataFiles);\n    };\n    Uploader.prototype.cancelUpload = function (fileData) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '3') {\n                var metaData = this.getCurrentMetaData(files[i], null);\n                metaData.file.statusCode = '5';\n                metaData.file.status = this.localizedTexts('fileUploadCancel');\n                this.updateMetaData(metaData);\n                var liElement = this.getLiElement(files[i]);\n                if (!isNullOrUndefined(liElement) && isNullOrUndefined(this.template)) {\n                    var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n                    createSpinner({ target: spinnerTarget, width: '20px' });\n                    showSpinner(spinnerTarget);\n                }\n            }\n        }\n    };\n    __decorate([\n        Complex({ saveUrl: '', removeUrl: '' }, AsyncSettings)\n    ], Uploader.prototype, \"asyncSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Uploader.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], Uploader.prototype, \"template\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"multiple\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"autoUpload\", void 0);\n    __decorate([\n        Complex({}, ButtonsProps)\n    ], Uploader.prototype, \"buttons\", void 0);\n    __decorate([\n        Property('')\n    ], Uploader.prototype, \"allowedExtensions\", void 0);\n    __decorate([\n        Property(0)\n    ], Uploader.prototype, \"minFileSize\", void 0);\n    __decorate([\n        Property(30000000)\n    ], Uploader.prototype, \"maxFileSize\", void 0);\n    __decorate([\n        Property(null)\n    ], Uploader.prototype, \"dropArea\", void 0);\n    __decorate([\n        Collection([{}], FilesProp)\n    ], Uploader.prototype, \"files\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"showFileList\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"selected\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"uploading\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"success\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"failure\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"clearing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"chunkSuccess\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"chunkFailure\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"canceling\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"pausing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"resuming\", void 0);\n    Uploader = __decorate([\n        NotifyPropertyChanges\n    ], Uploader);\n    return Uploader;\n}(Component));\nexport { Uploader };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Collection, Event, NotifyPropertyChanges, detach, Property, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, getUniqueID, rippleEffect } from '@syncfusion/ej2-base';\nimport { attributes, Component, closest, select } from '@syncfusion/ej2-base';\nimport { classList, removeClass } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { getModel, Item } from './../common/common';\nvar classNames = {\n    DISABLED: 'e-disabled',\n    FOCUS: 'e-focused',\n    ICON: 'e-menu-icon',\n    ITEM: 'e-item',\n    POPUP: 'e-dropdown-popup',\n    RTL: 'e-rtl',\n    SEPARATOR: 'e-separator',\n    VERTICAL: 'e-vertical'\n};\n/**\n * DropDownButton component is used to toggle contextual overlays for displaying list of action items.\n * It can contain both text and images.\n * ``````html\n * <button id=\"element\">DropDownButton</button>\n * ```\n * ```typescript\n * <script>\n * var dropDownButtonObj = new DropDownButton({items: [{ text: 'Action1' }, { text: 'Action2' },{ text: 'Action3' }]);\n * dropDownButtonObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nvar DropDownButton = /** @class */ (function (_super) {\n    __extends(DropDownButton, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {DropDownButtonModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function DropDownButton(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    DropDownButton.prototype.preRender = function () {\n        /** */\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    DropDownButton.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the DropDownButton.\n     * @returns void\n     */\n    DropDownButton.prototype.toggle = function () {\n        this.canOpen() ? this.openPopUp() : this.closePopup();\n    };\n    /**\n     * Initialize the Component rendering\n     * @returns void\n     * @private\n     */\n    DropDownButton.prototype.render = function () {\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n    };\n    DropDownButton.prototype.createPopup = function () {\n        var div = this.createElement('div', {\n            className: classNames.POPUP,\n            id: this.element.id + '-popup'\n        });\n        document.body.appendChild(div);\n        this.dropDown = new Popup(div, {\n            relateTo: this.element,\n            collision: { X: 'fit', Y: 'flip' },\n            position: { X: 'left', Y: 'bottom' },\n            targetType: 'relative',\n            content: this.target ? this.getTargetElement() : '',\n            enableRtl: this.enableRtl\n        });\n        if (this.dropDown.element.style.position === 'fixed') {\n            this.dropDown.refreshPosition(this.element);\n        }\n        this.dropDown.hide();\n        attributes(this.element, (_a = {},\n            _a['role'] = 'menu',\n            _a['aria-haspopup'] = this.items.length || this.target ? 'true' : 'false',\n            _a['aria-expanded'] = 'false',\n            _a['aria-owns'] = this.getPopUpElement().id,\n            _a['type'] = 'button',\n            _a));\n        if (this.cssClass) {\n            addClass([div], this.cssClass.split(' '));\n        }\n        var _a;\n    };\n    DropDownButton.prototype.getTargetElement = function () {\n        return typeof (this.target) === 'string' ? select(this.target) : this.target;\n    };\n    DropDownButton.prototype.createItems = function (items) {\n        var showIcon = this.hasIcon(items, 'iconCss');\n        var span;\n        var item;\n        var li;\n        var eventArgs;\n        var ul = this.createElement('ul', {\n            attrs: { 'tabindex': '0' }\n        });\n        for (var i = 0; i < items.length; i++) {\n            item = items[i];\n            li = this.createElement('li', {\n                innerHTML: item.url ? '' : item.text,\n                className: item.separator ? classNames.ITEM + ' ' + classNames.SEPARATOR : classNames.ITEM,\n                attrs: { 'role': 'menuItem', 'tabindex': '-1' },\n                id: item.id ? item.id : getUniqueID('e-' + this.getModuleName() + '-item')\n            });\n            if (item.iconCss) {\n                span = this.createElement('span', { className: classNames.ICON + ' ' + item.iconCss });\n                li.insertBefore(span, li.childNodes[0]);\n            }\n            else {\n                if (showIcon && !item.separator) {\n                    li.classList.add('e-blank-icon');\n                }\n            }\n            if (item.url) {\n                li.appendChild(this.createAnchor(item));\n            }\n            eventArgs = { item: item, element: li };\n            this.trigger('beforeItemRender', eventArgs);\n            ul.appendChild(li);\n        }\n        return ul;\n    };\n    DropDownButton.prototype.hasIcon = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    DropDownButton.prototype.createAnchor = function (item) {\n        return this.createElement('a', { className: 'e-menu-text e-menu-url', innerHTML: item.text, attrs: { 'href': item.url } });\n    };\n    DropDownButton.prototype.initialize = function () {\n        this.button = new Button({\n            iconCss: this.iconCss, cssClass: this.cssClass, content: this.content,\n            disabled: this.disabled, enableRtl: this.enableRtl, enablePersistence: this.enablePersistence\n        });\n        this.button.appendTo(this.element);\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n        this.setIconPositionTop();\n        this.appendArrowSpan();\n        this.createPopup();\n        this.setActiveElem([this.element]);\n    };\n    DropDownButton.prototype.setIconPositionTop = function () {\n        var iconSpan = this.element.querySelector('.e-icon-left');\n        if (iconSpan && this.iconPosition === 'Top') {\n            addClass([this.element], 'e-top-icon-btn');\n            removeClass([iconSpan], 'e-icon-left');\n            addClass([iconSpan], 'e-icon-top');\n        }\n    };\n    DropDownButton.prototype.appendArrowSpan = function () {\n        this.element.appendChild(this.createElement('span', {\n            className: 'e-btn-icon e-icons ' + 'e-icon-' + (this.cssClass.indexOf(classNames.VERTICAL) > -1\n                ? 'bottom' : 'right') + ' e-caret'\n        }));\n    };\n    DropDownButton.prototype.setActiveElem = function (elem) {\n        this.activeElem = elem;\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    DropDownButton.prototype.getModuleName = function () {\n        return 'dropdown-btn';\n    };\n    DropDownButton.prototype.canOpen = function () {\n        return this.getPopUpElement().classList.contains('e-popup-close');\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    DropDownButton.prototype.destroy = function () {\n        var _this = this;\n        if (this.element.querySelector('span.e-caret')) {\n            detach(this.element.querySelector('span.e-caret'));\n        }\n        _super.prototype.destroy.call(this);\n        this.button.destroy();\n        ['role', 'aria-haspopup', 'aria-expanded', 'aria-owns', 'type'].forEach(function (key) {\n            _this.element.removeAttribute(key);\n        });\n        removeClass([this.element], ['e-btn']);\n        removeClass(this.activeElem, ['e-active']);\n        this.dropDown.destroy();\n        var popupEle = document.getElementById(this.getPopUpElement().id);\n        if (popupEle) {\n            removeClass([popupEle], ['e-popup-open', 'e-popup-close']);\n            detach(popupEle);\n        }\n        if (!this.disabled) {\n            this.unWireEvents();\n        }\n    };\n    DropDownButton.prototype.getPopUpElement = function () {\n        return this.dropDown.element;\n    };\n    DropDownButton.prototype.getULElement = function () {\n        return this.getPopUpElement().children[0];\n    };\n    DropDownButton.prototype.wireEvents = function () {\n        var popupElement = this.getPopUpElement();\n        this.delegateMousedownHandler = this.mousedownHandler.bind(this);\n        EventHandler.add(document, 'mousedown touchstart', this.delegateMousedownHandler, this);\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        EventHandler.add(popupElement, 'click', this.clickHandler, this);\n        EventHandler.add(this.element, 'keydown', this.keyBoardHandler, this);\n        EventHandler.add(popupElement, 'keydown', this.keyBoardHandler, this);\n        this.rippleFn = rippleEffect(popupElement, { selector: '.' + classNames.ITEM });\n    };\n    DropDownButton.prototype.keyBoardHandler = function (e) {\n        if (e.target === this.element && (e.keyCode === 9 || (!e.altKey && e.keyCode === 40) || e.keyCode === 38)) {\n            return;\n        }\n        switch (e.keyCode) {\n            case 38:\n            case 40:\n                if (e.altKey && (e.keyCode === 38 || e.keyCode === 40)) {\n                    this.keyEventHandler(e);\n                }\n                else {\n                    this.upDownKeyHandler(e);\n                }\n                break;\n            case 9:\n            case 13:\n            case 27:\n            case 32:\n                this.keyEventHandler(e);\n                break;\n        }\n    };\n    DropDownButton.prototype.upDownKeyHandler = function (e) {\n        if (this.target && (e.keyCode === 38 || e.keyCode === 40)) {\n            return;\n        }\n        e.preventDefault();\n        var ul = this.getULElement();\n        var defaultIdx = e.keyCode === 40 ? 0 : ul.childElementCount - 1;\n        var liIdx = defaultIdx;\n        var li = null;\n        this.removeCustomSelection();\n        for (var i = 0, len = ul.children.length; i < len; i++) {\n            if (ul.children[i].classList.contains(classNames.FOCUS)) {\n                li = ul.children[i];\n                liIdx = i;\n                li.classList.remove(classNames.FOCUS);\n                e.keyCode === 40 ? liIdx++ : liIdx--;\n                if (liIdx === (e.keyCode === 40 ? ul.childElementCount : -1)) {\n                    liIdx = defaultIdx;\n                }\n            }\n        }\n        li = ul.children[liIdx];\n        liIdx = this.isValidLI(li, liIdx, e.keyCode);\n        if (liIdx !== -1) {\n            addClass([ul.children[liIdx]], classNames.FOCUS);\n            ul.children[liIdx].focus();\n        }\n    };\n    DropDownButton.prototype.removeCustomSelection = function () {\n        var selectedLi = this.getULElement().querySelector('.e-selected');\n        if (selectedLi) {\n            selectedLi.classList.remove('e-selected');\n        }\n    };\n    DropDownButton.prototype.isValidLI = function (li, index, keyCode, count) {\n        if (count === void 0) { count = 0; }\n        if (li.classList.contains(classNames.SEPARATOR) || li.classList.contains(classNames.DISABLED)) {\n            if (index === (keyCode === 40 ? this.items.length - 1 : 0)) {\n                index = keyCode === 40 ? 0 : this.items.length - 1;\n            }\n            else {\n                keyCode === 40 ? index++ : index--;\n            }\n        }\n        li = this.getULElement().children[index];\n        if (li.classList.contains(classNames.SEPARATOR) || li.classList.contains(classNames.DISABLED)) {\n            count++;\n            if (count === this.items.length) {\n                return index = -1;\n            }\n            index = this.isValidLI(li, index, keyCode, count);\n        }\n        return index;\n    };\n    DropDownButton.prototype.keyEventHandler = function (e) {\n        if (this.target && (e.keyCode === 13 || e.keyCode === 9)) {\n            return;\n        }\n        if (e.keyCode !== 9) {\n            e.preventDefault();\n        }\n        if (e.keyCode === 27 || e.keyCode === 38 || e.keyCode === 9) {\n            if (!this.canOpen()) {\n                this.closePopup(e, this.element);\n            }\n        }\n        else {\n            this.clickHandler(e);\n        }\n    };\n    DropDownButton.prototype.getLI = function (elem) {\n        return elem.tagName === 'LI' ? elem : closest(elem, 'li');\n    };\n    DropDownButton.prototype.mousedownHandler = function (e) {\n        var trgt = e.target;\n        if (!this.canOpen() && !(closest(trgt, '#' + this.getPopUpElement().id) || closest(trgt, '#' + this.element.id))) {\n            this.closePopup(e);\n        }\n    };\n    DropDownButton.prototype.clickHandler = function (e) {\n        var trgt = e.target;\n        var canOpen = this.canOpen();\n        if (closest(trgt, '#' + this.element.id)) {\n            if (canOpen) {\n                this.openPopUp(e);\n            }\n            else {\n                this.closePopup(e, this.activeElem[0]);\n            }\n        }\n        else {\n            if (closest(trgt, '#' + this.getPopUpElement().id)) {\n                var eventArgs = void 0;\n                var liIdx = void 0;\n                var item = void 0;\n                var li = this.getLI(trgt);\n                if (li) {\n                    liIdx = Array.prototype.indexOf.call(this.getULElement().children, li);\n                    item = this.items[liIdx];\n                    if (item) {\n                        eventArgs = { element: li, item: item };\n                        this.trigger('select', eventArgs);\n                    }\n                    this.closePopup(e, this.activeElem[0]);\n                }\n            }\n        }\n    };\n    DropDownButton.prototype.openPopUp = function (e) {\n        if (e === void 0) { e = null; }\n        if (!this.target) {\n            this.getPopUpElement().appendChild(this.createItems(this.items));\n        }\n        var ul = this.getULElement();\n        var beforeOpenArgs = { element: ul, items: this.items, event: e, cancel: false };\n        this.trigger('beforeOpen', beforeOpenArgs);\n        if (!beforeOpenArgs.cancel) {\n            this.dropDown.show(null, this.element);\n            addClass([this.element], 'e-active');\n            this.element.setAttribute('aria-expanded', 'true');\n            ul.focus();\n            var openArgs = { element: ul, items: this.items };\n            this.trigger('open', openArgs);\n        }\n    };\n    DropDownButton.prototype.closePopup = function (e, focusEle) {\n        if (e === void 0) { e = null; }\n        var ul = this.getULElement();\n        var beforeCloseArgs = { element: ul, items: this.items, event: e, cancel: false };\n        this.trigger('beforeClose', beforeCloseArgs);\n        if (!beforeCloseArgs.cancel) {\n            this.removeCustomSelection();\n            this.dropDown.hide();\n            removeClass(this.activeElem, 'e-active');\n            this.element.setAttribute('aria-expanded', 'false');\n            if (focusEle) {\n                focusEle.focus();\n            }\n            var closeArgs = { element: ul, items: this.items };\n            this.trigger('close', closeArgs);\n            if (!this.target && ul) {\n                detach(ul);\n            }\n        }\n    };\n    DropDownButton.prototype.unWireEvents = function () {\n        EventHandler.remove(document, 'mousedown touchstart', this.delegateMousedownHandler);\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        EventHandler.remove(this.getPopUpElement(), 'click', this.clickHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyBoardHandler);\n        EventHandler.remove(this.getPopUpElement(), 'keydown', this.keyBoardHandler);\n        this.rippleFn();\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {DropDownButtonModel} newProp\n     * @param  {DropDownButtonModel} oldProp\n     * @returns void\n     * @private\n     */\n    DropDownButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var btnModel = ['content', 'cssClass', 'iconCss', 'disabled', 'enableRtl'];\n        if (newProp.iconPosition === 'Left') {\n            btnModel.push('iconPosition');\n        }\n        this.button.setProperties(getModel(newProp, btnModel));\n        var popupElement = this.getPopUpElement();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!this.element.querySelector('span.e-caret')) {\n                        this.appendArrowSpan();\n                    }\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.unWireEvents();\n                        if (!this.canOpen()) {\n                            this.closePopup();\n                        }\n                    }\n                    else {\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (newProp.cssClass.indexOf(classNames.VERTICAL) > -1) {\n                        var arrowSpan = this.element.querySelector('span.e-caret');\n                        classList(arrowSpan, ['e-icon-bottom'], ['e-icon-right']);\n                    }\n                    if (oldProp.cssClass) {\n                        removeClass([popupElement], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([popupElement], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'iconPosition':\n                    this.setIconPositionTop();\n                    break;\n                case 'enableRtl':\n                    popupElement.classList.toggle(classNames.RTL);\n                    break;\n                case 'target':\n                    this.target = newProp.target;\n                    detach(this.getULElement());\n                    popupElement.appendChild(this.getTargetElement());\n                    this.dropDown.content = this.getTargetElement();\n                    break;\n                case 'items':\n                    this.dropDown.refresh();\n                    if (popupElement.classList.contains('e-popup-open')) {\n                        classList(popupElement, ['e-popup-close'], ['e-popup-open']);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('Left')\n    ], DropDownButton.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], DropDownButton.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"target\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"select\", void 0);\n    DropDownButton = __decorate([\n        NotifyPropertyChanges\n    ], DropDownButton);\n    return DropDownButton;\n}(Component));\nexport { DropDownButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../drop-down-button/drop-down-button-model.d.ts'/>\nimport { Event, remove, addClass, removeClass, detach, getValue, setValue } from '@syncfusion/ej2-base';\nimport { EventHandler, Collection, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { attributes, getUniqueID, getInstance, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { getModel, Item } from './../common/common';\nimport { DropDownButton } from '../drop-down-button/drop-down-button';\nvar RTL = 'e-rtl';\nvar TAGNAME = 'EJS-SPLITBUTTON';\n/**\n * SplitButton component has primary and secondary button. Primary button is used to select\n * default action and secondary button is used to toggle contextual overlays for displaying list of\n * action items. It can contain both text and images.\n * ```html\n * <button id=\"element\"></button>\n * ```\n * ```typescript\n * <script>\n * var splitBtnObj = new SplitButton({content: 'SplitButton'});\n * splitBtnObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nvar SplitButton = /** @class */ (function (_super) {\n    __extends(SplitButton, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {SplitButtonModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function SplitButton(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize Angular support.\n     * @private\n     */\n    SplitButton.prototype.preRender = function () {\n        var ele = this.element;\n        if (ele.tagName === TAGNAME) {\n            var ejInstance = getValue('ej2_instances', ele);\n            var btn = this.createElement('button', { attrs: { 'type': 'button' } });\n            var wrapper = this.createElement(TAGNAME, { className: 'e-' + this.getModuleName() + '-wrapper' });\n            for (var idx = 0, len = ele.attributes.length; idx < len; idx++) {\n                btn.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n            }\n            ele.parentNode.insertBefore(wrapper, ele);\n            detach(ele);\n            ele = btn;\n            wrapper.appendChild(ele);\n            setValue('ej2_instances', ejInstance, ele);\n            this.wrapper = wrapper;\n            this.element = ele;\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    SplitButton.prototype.render = function () {\n        this.initWrapper();\n        this.createPrimaryButton();\n        this.createSecondaryButton();\n        this.setActiveElem([this.element, this.secondaryBtnObj.element]);\n        this.setAria();\n        this.wireEvents();\n    };\n    SplitButton.prototype.initWrapper = function () {\n        if (!this.wrapper) {\n            this.wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            this.element.parentNode.insertBefore(this.wrapper, this.element);\n        }\n        this.element.classList.remove('e-' + this.getModuleName());\n        if (this.enableRtl) {\n            this.wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([this.wrapper], this.cssClass.split(' '));\n        }\n    };\n    SplitButton.prototype.createPrimaryButton = function () {\n        var btnModel = {\n            cssClass: this.cssClass,\n            enableRtl: this.enableRtl,\n            iconCss: this.iconCss,\n            content: this.content,\n            disabled: this.disabled\n        };\n        this.primaryBtnObj = new Button(btnModel, this.element);\n        this.element.classList.add('e-' + this.getModuleName());\n        this.element.type = 'button';\n        this.wrapper.appendChild(this.element);\n        this.setIconPositionTop();\n    };\n    SplitButton.prototype.createSecondaryButton = function () {\n        var _this = this;\n        var btnElem = this.createElement('button', {\n            className: 'e-icon-btn',\n            attrs: { 'tabindex': '-1' },\n            id: this.element.id + '_dropdownbtn'\n        });\n        this.wrapper.appendChild(btnElem);\n        var dropDownBtnModel = {\n            cssClass: this.cssClass,\n            disabled: this.disabled,\n            enableRtl: this.enableRtl,\n            items: this.items,\n            target: this.target,\n            beforeItemRender: function (args) {\n                _this.trigger('beforeItemRender', args);\n            },\n            beforeOpen: function (args) {\n                _this.trigger('beforeOpen', args);\n            },\n            beforeClose: function (args) {\n                _this.trigger('beforeClose', args);\n            },\n            open: function (args) {\n                _this.trigger('open', args);\n            },\n            close: function (args) {\n                _this.trigger('close', args);\n            },\n            select: function (args) {\n                _this.trigger('select', args);\n            }\n        };\n        this.secondaryBtnObj = new DropDownButton(dropDownBtnModel, btnElem);\n        this.secondaryBtnObj.dropDown.relateTo = this.wrapper;\n        this.dropDown = this.secondaryBtnObj.dropDown;\n        this.secondaryBtnObj.activeElem = [this.element, this.secondaryBtnObj.element];\n        EventHandler.remove(this.getPopUpElement(), 'keydown', this.secondaryBtnObj.keyBoardHandler);\n        this.secondaryBtnObj.element.querySelector('.e-btn-icon').classList.remove('e-icon-right');\n    };\n    SplitButton.prototype.setAria = function () {\n        attributes(this.element, {\n            'role': 'listbox', 'aria-expanded': 'false', 'aria-haspopup': 'true',\n            'aria-label': this.element.textContent + ' splitbutton', 'aria-owns': this.secondaryBtnObj.dropDown.element.id\n        });\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    SplitButton.prototype.getModuleName = function () {\n        return 'split-btn';\n    };\n    /**\n     * To open/close SplitButton popup based on current state of the SplitButton.\n     * @returns void\n     */\n    SplitButton.prototype.toggle = function () {\n        this.secondaryBtnObj.toggle();\n    };\n    SplitButton.prototype.destroy = function () {\n        var _this = this;\n        this.primaryBtnObj.destroy();\n        this.secondaryBtnObj.destroy();\n        var element = document.getElementById(this.element.id);\n        if (element && element.parentElement === this.wrapper) {\n            if (this.wrapper.tagName === TAGNAME) {\n                this.wrapper.innerHTML = '';\n                removeClass([this.wrapper], ['e-rtl', 'e-' + this.getModuleName() + '-wrapper']);\n                removeClass([this.wrapper], this.cssClass.split(' '));\n            }\n            else {\n                removeClass([this.element], ['e-' + this.getModuleName(), RTL]);\n                ['role', 'aria-label', 'aria-haspopup', 'aria-expanded', 'aria-owns', 'type'].forEach(function (key) {\n                    _this.element.removeAttribute(key);\n                });\n                this.wrapper.parentNode.insertBefore(this.element, this.wrapper);\n                remove(this.wrapper);\n            }\n            this.unWireEvents();\n        }\n    };\n    SplitButton.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.primaryBtnClickHandler, this);\n        EventHandler.add(this.getPopUpElement(), 'keydown', this.keyBoardHandler, this);\n        new KeyboardEvents(this.element, {\n            keyAction: this.btnKeyBoardHandler.bind(this),\n            keyConfigs: {\n                altdownarrow: 'alt+downarrow'\n            }\n        });\n    };\n    SplitButton.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.primaryBtnClickHandler);\n        getInstance(this.element, KeyboardEvents).destroy();\n    };\n    SplitButton.prototype.primaryBtnClickHandler = function () {\n        this.trigger('click', { element: this.element });\n    };\n    SplitButton.prototype.btnKeyBoardHandler = function (e) {\n        switch (e.action) {\n            case 'altdownarrow':\n                this.clickHandler(e);\n                break;\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {SplitButtonModel} newProp\n     * @param  {SplitButtonModel} oldProp\n     * @returns void\n     */\n    SplitButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var model = ['content', 'iconCss', 'cssClass', 'disabled', 'enableRtl'];\n        if (newProp.iconPosition === 'Left') {\n            model.push('iconPosition');\n        }\n        this.primaryBtnObj.setProperties(getModel(newProp, model));\n        model = ['items', 'beforeOpen', 'beforeItemRender', 'select', 'open',\n            'close', 'cssClass', 'disabled', 'enableRtl'];\n        this.secondaryBtnObj.setProperties(getModel(newProp, model));\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.wrapper], oldProp.cssClass.split(' '));\n                    }\n                    addClass([this.wrapper], newProp.cssClass.split(' '));\n                    break;\n                case 'iconPosition':\n                    this.setIconPositionTop();\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        addClass([this.wrapper], RTL);\n                    }\n                    else {\n                        removeClass([this.wrapper], RTL);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], SplitButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('Left')\n    ], SplitButton.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], SplitButton.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"target\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"select\", void 0);\n    SplitButton = __decorate([\n        NotifyPropertyChanges\n    ], SplitButton);\n    return SplitButton;\n}(DropDownButton));\nexport { SplitButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Event, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Browser, closest, detach, EventHandler, getInstance, select, selectAll, formatUnit } from '@syncfusion/ej2-base';\nimport { addClass, attributes, classList, isNullOrUndefined, L10n } from '@syncfusion/ej2-base';\nimport { remove, removeClass, rippleEffect } from '@syncfusion/ej2-base';\nimport { SplitButton, getModel } from '@syncfusion/ej2-splitbuttons';\nimport { Tooltip, getZindexPartial, Popup } from '@syncfusion/ej2-popups';\nimport { Input } from './../input/index';\nimport { NumericTextBox } from './../numerictextbox/index';\nimport { Slider } from './../slider/slider';\nvar APPLY = 'e-apply';\nvar CANCEL = 'e-cancel';\nvar CURRENT = 'e-current';\nvar CONTAINER = 'e-container';\nvar CTRLBTN = 'e-ctrl-btn';\nvar CTRLSWITCH = 'e-switch-ctrl-btn';\nvar DISABLED = 'e-disabled';\nvar FORMATSWITCH = 'e-value-switch-btn';\nvar HANDLER = 'e-handler';\nvar HEX = 'e-hex';\nvar HSVAREA = 'e-hsv-color';\nvar HSVCONTAINER = 'e-hsv-container';\nvar INPUTWRAPPER = 'e-selected-value';\nvar MODESWITCH = 'e-mode-switch-btn';\nvar NOCOLOR = 'e-nocolor-item';\nvar PALETTES = 'e-palette';\nvar PALETTECONTENT = 'e-color-palette';\nvar PICKERCONTENT = 'e-color-picker';\nvar PREVIEW = 'e-preview-container';\nvar PREVIOUS = 'e-previous';\nvar RTL = 'e-rtl';\nvar SELECT = 'e-selected';\nvar SPLITPREVIEW = 'e-split-preview';\nvar TILE = 'e-tile';\nvar TOHSV = 'e-to-hsv';\nvar presets = {\n    default: ['#000000', '#f44336', '#e91e63', '#9c27b0', '#673ab7', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#ffeb3b',\n        '#ffffff', '#ffebee', '#fce4ec', '#f3e5f5', '#ede7f6', '#e3f2fd', '#e1f5fe', '#e0f7fa', '#e0f2f1', '#fffde7',\n        '#f2f2f2', '#ffcdd2', '#f8bbd0', '#e1bee7', '#d1c4e9', '#bbdefb', '#b3e5fc', '#b2ebf2', '#b2dfdb', '#fff9c4',\n        '#e6e6e6', '#ef9a9a', '#f48fb1', '#ce93d8', '#b39ddb', '#90caf9', '#81d4fa', '#80deea', '#80cbc4', '#fff59d',\n        '#cccccc', '#e57373', '#f06292', '#ba68c8', '#9575cd', '#64b5f6', '#4fc3f7', '#4dd0e1', '#4db6ac', '#fff176',\n        '#b3b3b3', '#ef5350', '#ec407a', '#ab47bc', '#7e57c2', '#42a5f5', '#29b6f6', '#26c6da', '#26a69a', '#ffee58',\n        '#999999', '#e53935', '#d81b60', '#8e24aa', '#5e35b1', '#1e88e5', '#039be5', '#00acc1', '#00897b', '#fdd835',\n        '#808080', '#d32f2f', '#c2185b', '#7b1fa2', '#512da8', '#1976d2', '#0288d1', '#0097a7', '#00796b', '#fbc02d',\n        '#666666', '#c62828', '#ad1457', '#6a1b9a', '#4527a0', '#1565c0', '#0277bd', '#00838f', '#00695c', '#f9a825',\n        '#4d4d4d', '#b71c1c', '#880e4f', '#4a148c', '#311b92', '#0d47a1', '#01579b', '#006064', '#004d40', '#f57f17']\n};\n/**\n * ColorPicker component is a user interface to select and adjust color values. It provides supports for various\n * color specification like Red Green Blue, Hue Saturation Value and Hex codes.\n * ```html\n * <input type=\"color\" id=\"color-picker\">\n * ```\n * ```typescript\n * <script>\n *   let colorPickerObj: ColorPicker = new ColorPicker(null , \"#color-picker\");\n * </script>\n * ```\n */\nvar ColorPicker = /** @class */ (function (_super) {\n    __extends(ColorPicker, _super);\n    function ColorPicker(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    ColorPicker.prototype.preRender = function () {\n        var localeText = { Apply: 'Apply', Cancel: 'Cancel', ModeSwitcher: 'Switch Mode' };\n        this.l10n = new L10n('colorpicker', localeText, this.locale);\n    };\n    /**\n     * To Initialize the component rendering\n     * @private\n     */\n    ColorPicker.prototype.render = function () {\n        this.initWrapper();\n        if (this.inline) {\n            this.createWidget();\n        }\n        else {\n            this.createSplitBtn();\n        }\n    };\n    ColorPicker.prototype.initWrapper = function () {\n        var wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n        this.element.parentNode.insertBefore(wrapper, this.element);\n        wrapper.appendChild(this.element);\n        attributes(this.element, { 'tabindex': '-1', 'spellcheck': 'false' });\n        this.container = this.createElement('div', { className: CONTAINER });\n        this.getWrapper().appendChild(this.container);\n        var value = this.value ? this.value : '#008000';\n        this.element.value = value.slice(0, 7);\n        if (this.mode === 'Picker') {\n            value = this.roundValue(value);\n        }\n        this.setProperties({ 'value': value }, true);\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        this.tileRipple = rippleEffect(this.container, { selector: '.' + TILE });\n        this.ctrlBtnRipple = rippleEffect(this.container, { selector: '.e-btn' });\n    };\n    ColorPicker.prototype.getWrapper = function () {\n        return this.element.parentElement;\n    };\n    ColorPicker.prototype.createWidget = function () {\n        if (this.mode === 'Palette') {\n            this.createPalette();\n            if (!this.inline) {\n                this.firstPaletteFocus();\n            }\n        }\n        else {\n            this.createPicker();\n            if (!this.inline) {\n                this.getDragHandler().focus();\n            }\n        }\n        var wrapper = this.getWrapper();\n        if ((this.isPicker() && !wrapper.classList.contains('e-hide-value')) || wrapper.classList.contains('e-show-value')) {\n            this.createInput();\n        }\n        this.createCtrlBtn();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        if (this.inline && this.disabled) {\n            this.toggleDisabled(true);\n        }\n        if (Browser.isDevice) {\n            this.refreshPopupPos();\n        }\n    };\n    ColorPicker.prototype.createSplitBtn = function () {\n        var _this = this;\n        var splitButton = this.createElement('button', { className: 'e-split-colorpicker' });\n        this.getWrapper().appendChild(splitButton);\n        this.splitBtn = new SplitButton({\n            iconCss: 'e-selected-color',\n            target: this.container,\n            disabled: this.disabled,\n            enableRtl: this.enableRtl,\n            beforeOpen: this.beforeOpenFn.bind(this),\n            open: this.onOpen.bind(this),\n            beforeClose: this.popupClose.bind(this),\n            click: function (args) {\n                _this.trigger('change', {\n                    currentValue: { hex: _this.value.slice(0, 7), rgba: _this.convertToRgbString(_this.hexToRgb(_this.value)) },\n                    previousValue: { hex: null, rgba: null }\n                });\n            }\n        }, splitButton);\n        var preview = this.createElement('span', { className: SPLITPREVIEW });\n        select('.e-selected-color', splitButton).appendChild(preview);\n        preview.style.backgroundColor = this.convertToRgbString(this.hexToRgb(this.value));\n        var popupEle = this.getPopupEle();\n        addClass([popupEle], 'e-colorpicker-popup');\n        if (this.cssClass) {\n            addClass([popupEle], this.cssClass.split(' '));\n        }\n        if (Browser.isDevice) {\n            var popupInst = this.getPopupInst();\n            popupInst.relateTo = document.body;\n            popupInst.position = { X: 'center', Y: 'center' };\n            popupInst.targetType = 'container';\n            popupInst.collision = { X: 'fit', Y: 'fit' };\n            popupInst.offsetY = 4;\n        }\n    };\n    ColorPicker.prototype.onOpen = function (args) {\n        this.trigger('open', { element: this.container });\n    };\n    ColorPicker.prototype.getPopupInst = function () {\n        return getInstance(this.getPopupEle(), Popup);\n    };\n    ColorPicker.prototype.beforeOpenFn = function (args) {\n        var beforeOpenArgs = { element: this.container, event: args.event, cancel: false };\n        this.trigger('beforeOpen', beforeOpenArgs);\n        args.cancel = beforeOpenArgs.cancel;\n        if (!beforeOpenArgs.cancel) {\n            var popupEle = this.getPopupEle();\n            popupEle.style.display = 'block';\n            this.createWidget();\n            popupEle.style.display = '';\n            if (Browser.isDevice) {\n                this.modal = this.createElement('div');\n                this.modal.className = 'e-' + this.getModuleName() + ' e-modal';\n                this.modal.style.display = 'none';\n                document.body.insertBefore(this.modal, popupEle);\n                document.body.className += ' e-colorpicker-overflow';\n                this.modal.style.display = 'block';\n            }\n        }\n    };\n    ColorPicker.prototype.popupClose = function (args) {\n        var beforeCloseArgs = { element: this.container, event: args.event, cancel: false };\n        this.trigger('beforeClose', beforeCloseArgs);\n        args.cancel = beforeCloseArgs.cancel;\n        if (!beforeCloseArgs.cancel) {\n            if (args.event && Browser.isDevice && args.event.target === this.modal) {\n                args.cancel = true;\n            }\n            else {\n                this.unWireEvents();\n                this.destroyOtherComp();\n                this.container.style.width = '';\n                select('.' + SPLITPREVIEW, this.splitBtn.element).style.backgroundColor\n                    = this.convertToRgbString(this.hexToRgb(this.value));\n                this.container.innerHTML = '';\n                removeClass([this.container], [PICKERCONTENT, PALETTECONTENT]);\n                if (Browser.isDevice && this.modal) {\n                    removeClass([document.body], 'e-colorpicker-overflow');\n                    this.modal.style.display = 'none';\n                    this.modal.outerHTML = '';\n                    this.modal = null;\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.createPalette = function () {\n        classList(this.container, [PALETTECONTENT], [PICKERCONTENT]);\n        if (this.presetColors) {\n            var paletteGroup = this.createElement('div', { className: 'e-custom-palette' });\n            this.appendElement(paletteGroup);\n            var keys = Object.keys(this.presetColors);\n            if (keys.length === 1) {\n                this.appendPalette(this.presetColors[keys[0]], keys[0], paletteGroup);\n            }\n            else {\n                for (var i = 0, len = keys.length; i < len; i++) {\n                    this.appendPalette(this.presetColors[keys[i]], keys[i], paletteGroup);\n                }\n            }\n            if (selectAll('.e-row', paletteGroup).length > 10) {\n                addClass([paletteGroup], 'e-palette-group');\n            }\n        }\n        else {\n            this.appendPalette(presets.default, 'default');\n        }\n        if (this.mode === 'Palette' && !this.modeSwitcher && this.noColor) {\n            this.setNoColor();\n        }\n        var width = parseInt(getComputedStyle(this.container).borderBottomWidth, 10);\n        this.container.style.width = formatUnit(this.container.children[0].offsetWidth + width + width);\n        this.rgb = this.hexToRgb(this.roundValue(this.value));\n        this.hsv = this.rgbToHsv.apply(this, this.rgb);\n    };\n    ColorPicker.prototype.firstPaletteFocus = function () {\n        if (!select('.' + SELECT, this.container.children[0])) {\n            selectAll('.' + PALETTES, this.container)[0].focus();\n        }\n    };\n    ColorPicker.prototype.appendPalette = function (colors, key, refEle) {\n        var palette = this.createElement('div', { className: PALETTES, attrs: { 'tabindex': '0' } });\n        if (refEle) {\n            refEle.appendChild(palette);\n        }\n        else {\n            this.appendElement(palette);\n        }\n        var row;\n        var tile;\n        for (var i = 0, len = colors.length; i < len; i++) {\n            if (i === 0 || i % this.columns === 0) {\n                row = this.createElement('div', {\n                    className: 'e-row', attrs: { 'role': 'row' }\n                });\n                palette.appendChild(row);\n            }\n            tile = this.createElement('span', {\n                className: TILE, attrs: { 'role': 'gridcell', 'aria-label': colors[i], 'aria-selected': 'false' }\n            });\n            this.trigger('beforeTileRender', { element: tile, presetName: key, value: colors[i] });\n            row.appendChild(tile);\n            if (this.value.slice(0, colors[i].length).toLowerCase() === colors[i].toLowerCase()) {\n                this.addTileSelection(tile);\n                palette.focus();\n            }\n            tile.style.backgroundColor = colors[i];\n        }\n    };\n    ColorPicker.prototype.setNoColor = function () {\n        var noColorEle = selectAll('.e-row')[0].children[0];\n        noColorEle.classList.add(NOCOLOR);\n        if (!this.value) {\n            noColorEle.classList.add(SELECT);\n            closest(noColorEle, '.' + PALETTES).focus();\n        }\n        ['aria-selected', 'aria-label'].forEach(function (attr) { noColorEle.removeAttribute(attr); });\n        noColorEle.style.backgroundColor = '';\n    };\n    ColorPicker.prototype.appendElement = function (ele, insertPos) {\n        if (insertPos === void 0) { insertPos = 0; }\n        var refEle = this.container.children[insertPos];\n        refEle ? this.container.insertBefore(ele, refEle) : this.container.appendChild(ele);\n    };\n    ColorPicker.prototype.addTileSelection = function (ele) {\n        ele.classList.add(SELECT);\n        ele.setAttribute('aria-selected', 'true');\n    };\n    ColorPicker.prototype.createPicker = function () {\n        classList(this.container, [PICKERCONTENT], [PALETTECONTENT]);\n        var hsvContainer = this.createElement('div', { className: HSVCONTAINER });\n        this.appendElement(hsvContainer);\n        hsvContainer.appendChild(this.createElement('div', { className: HSVAREA }));\n        var dragHandler = this.createElement('span', { className: HANDLER, attrs: { 'tabindex': '0' } });\n        hsvContainer.appendChild(dragHandler);\n        this.rgb = this.hexToRgb(this.value);\n        this.hsv = this.rgbToHsv.apply(this, this.rgb);\n        this.setHsvContainerBg();\n        this.setHandlerPosition();\n        this.createSlider();\n        this.createDragTooltip();\n    };\n    ColorPicker.prototype.setHsvContainerBg = function (h) {\n        if (h === void 0) { h = this.hsv[0]; }\n        this.getHsvContainer().style.backgroundColor = this.convertToRgbString(this.hsvToRgb(h, 100, 100, 1));\n    };\n    ColorPicker.prototype.getHsvContainer = function () {\n        return select('.' + HSVCONTAINER, this.container);\n    };\n    ColorPicker.prototype.setHandlerPosition = function () {\n        var dragHandler = this.getDragHandler();\n        var hsvArea = select('.' + HSVAREA, this.container);\n        if (this.enableRtl) {\n            dragHandler.style.left = formatUnit(hsvArea.offsetWidth * Math.abs(100 - this.hsv[1]) / 100);\n        }\n        else {\n            dragHandler.style.left = formatUnit(hsvArea.offsetWidth * this.hsv[1] / 100);\n        }\n        dragHandler.style.top = formatUnit(hsvArea.offsetHeight * (100 - this.hsv[2]) / 100);\n    };\n    ColorPicker.prototype.createSlider = function () {\n        var sliderPreviewWrapper = this.createElement('div', { className: 'e-slider-preview' });\n        this.appendElement(sliderPreviewWrapper, 1);\n        this.createPreview(sliderPreviewWrapper);\n        var sliderWrapper = this.createElement('div', { className: 'e-colorpicker-slider' });\n        sliderPreviewWrapper.insertBefore(sliderWrapper, sliderPreviewWrapper.children[0]);\n        var slider = this.createElement('div', { className: 'e-hue-slider' });\n        sliderWrapper.appendChild(slider);\n        this.hueSlider = new Slider({\n            value: this.hsv[0],\n            min: 0,\n            max: 359,\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            change: this.hueChange.bind(this)\n        }, slider);\n        slider = this.createElement('div', { className: 'e-opacity-slider' });\n        sliderWrapper.appendChild(slider);\n        this.opacitySlider = new Slider({\n            value: this.rgb[3] * 100,\n            min: 0,\n            max: 100,\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            change: this.opacityChange.bind(this)\n        }, slider);\n        var opacityBgTrack = this.createElement('div', { className: 'e-opacity-empty-track' });\n        slider.appendChild(opacityBgTrack);\n        this.updateOpacitySliderBg();\n    };\n    ColorPicker.prototype.updateOpacitySliderBg = function () {\n        var direction = this.enableRtl ? 'to left' : 'to right';\n        select('.e-slider-track', this.opacitySlider.element).style.background =\n            'linear-gradient(' + direction + ', rgba(' + this.rgb.slice(0, 3) + ', 0) 0%, ' +\n                this.convertToRgbString(this.rgb.slice(0, 3)) + ' 100%)';\n    };\n    ColorPicker.prototype.hueChange = function (args) {\n        this.hsv[0] = args.value;\n        this.setHsvContainerBg();\n        this.convertToOtherFormat();\n    };\n    ColorPicker.prototype.opacityChange = function (args) {\n        var value = args.value;\n        var pValue = this.rgbToHex(this.rgb);\n        this.hsv[3] = value / 100;\n        this.rgb[3] = value / 100;\n        var cValue = this.rgbToHex(this.rgb);\n        if (!this.getWrapper().classList.contains('e-hide-value')) {\n            getInstance(select('.e-opacity-value', this.container), NumericTextBox).value = value;\n        }\n        var rgb = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgb);\n        this.triggerEvent(cValue, pValue, rgb);\n    };\n    ColorPicker.prototype.createPreview = function (parentEle) {\n        var previewContainer = this.createElement('div', { className: PREVIEW });\n        parentEle.appendChild(previewContainer);\n        var preview = this.createElement('span', { className: 'e-preview ' + CURRENT });\n        previewContainer.appendChild(preview);\n        var colorValue = this.convertToRgbString(this.rgb);\n        preview.style.backgroundColor = colorValue;\n        preview = this.createElement('span', { className: 'e-preview ' + PREVIOUS });\n        previewContainer.appendChild(preview);\n        preview.style.backgroundColor = colorValue;\n    };\n    ColorPicker.prototype.isPicker = function () {\n        return !this.container.classList.contains(PALETTECONTENT);\n    };\n    ColorPicker.prototype.getPopupEle = function () {\n        return this.container.parentElement;\n    };\n    ColorPicker.prototype.getNumericTextBoxModel = function (value, label, max) {\n        var _this = this;\n        return {\n            value: value,\n            placeholder: label,\n            min: 0,\n            max: max,\n            format: '###.##',\n            showSpinButton: false,\n            floatLabelType: 'Always',\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            readonly: this.isPicker() ? false : true,\n            change: function (args) {\n                if (args.event) {\n                    _this.inputHandler(args.event);\n                }\n            }\n        };\n    };\n    ColorPicker.prototype.createInput = function (child) {\n        if (child === void 0) { child = 2; }\n        var inputWrap = this.createElement('div', { className: INPUTWRAPPER });\n        this.appendElement(inputWrap, child);\n        var container = this.createElement('div', { className: 'e-input-container' });\n        inputWrap.appendChild(container);\n        inputWrap.appendChild(this.createElement('button', { className: 'e-icons e-btn e-flat e-icon-btn ' + FORMATSWITCH + ' ' + TOHSV }));\n        var hexInput = this.createElement('input', {\n            className: HEX,\n            attrs: { 'maxlength': '7', 'spellcheck': 'false' }\n        });\n        if (!this.isPicker()) {\n            Input.setReadonly(true, hexInput);\n        }\n        container.appendChild(hexInput);\n        Input.createInput({\n            element: hexInput,\n            floatLabelType: 'Always',\n            properties: {\n                placeholder: 'HEX',\n                enableRtl: this.enableRtl,\n                enabled: !this.disabled\n            }\n        }, this.createElement);\n        Input.setValue(this.value.slice(0, 7), hexInput);\n        var numericInput;\n        var label = 'RGB';\n        var clsName = ['rh', 'gs', 'bv'];\n        for (var i = 0; i < 3; i++) {\n            numericInput = new NumericTextBox(this.getNumericTextBoxModel(this.rgb[i], label[i], 255), container.appendChild(this.createElement('input', { className: 'e-' + clsName[i] + '-value' })));\n        }\n        numericInput = new NumericTextBox(this.getNumericTextBoxModel(this.rgb[3] * 100, 'A', 100), container.appendChild(this.createElement('input', { className: 'e-opacity-value' })));\n    };\n    ColorPicker.prototype.createCtrlBtn = function () {\n        if (this.modeSwitcher || this.showButtons) {\n            this.l10n.setLocale(this.locale);\n            var btnWrapper = this.createElement('div', { className: CTRLSWITCH });\n            this.container.appendChild(btnWrapper);\n            if (this.showButtons) {\n                var controlBtnWrapper = this.createElement('div', { className: CTRLBTN });\n                btnWrapper.appendChild(controlBtnWrapper);\n                var apply = this.l10n.getConstant('Apply');\n                controlBtnWrapper.appendChild(this.createElement('button', {\n                    innerHTML: apply,\n                    className: 'e-btn e-flat e-primary e-small ' + APPLY,\n                    attrs: { 'title': apply }\n                }));\n                var cancel = this.l10n.getConstant('Cancel');\n                controlBtnWrapper.appendChild(this.createElement('button', {\n                    innerHTML: cancel,\n                    className: 'e-btn e-flat e-small ' + CANCEL,\n                    attrs: { 'title': cancel }\n                }));\n            }\n            if (this.modeSwitcher) {\n                this.appendModeSwitchBtn();\n            }\n        }\n    };\n    ColorPicker.prototype.appendModeSwitchBtn = function () {\n        var modeSwitcher = this.createElement('button', {\n            className: 'e-icons e-btn e-flat e-icon-btn ' + MODESWITCH, attrs: { title: this.l10n.getConstant('ModeSwitcher') }\n        });\n        select('.' + CTRLSWITCH, this.container).insertBefore(modeSwitcher, select('.' + CTRLBTN, this.container));\n    };\n    ColorPicker.prototype.createDragTooltip = function () {\n        var _this = this;\n        var tooltip = new Tooltip({\n            opensOn: 'Custom',\n            showTipPointer: false,\n            cssClass: 'e-color-picker-tooltip',\n            beforeOpen: function (args) {\n                _this.tooltipEle = args.element;\n            },\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        tooltip.appendTo(this.container);\n        tooltip.open(this.container);\n        this.tooltipEle.style.zIndex = getZindexPartial(this.tooltipEle).toString();\n        select('.e-tip-content', this.tooltipEle).appendChild(this.createElement('div', { className: 'e-tip-transparent' }));\n    };\n    ColorPicker.prototype.getTooltipInst = function () {\n        return getInstance(this.container, Tooltip);\n    };\n    ColorPicker.prototype.setTooltipOffset = function (value) {\n        this.getTooltipInst().offsetY = value;\n    };\n    ColorPicker.prototype.toggleDisabled = function (enable) {\n        enable ? this.getWrapper().classList.add(DISABLED) : this.getWrapper().classList.remove(DISABLED);\n        if (this.showButtons) {\n            ([].slice.call(selectAll('.e-btn', this.container))).forEach(function (ele) {\n                enable ? attributes(ele, { 'disabled': '' }) : ele.removeAttribute('disabled');\n            });\n        }\n    };\n    ColorPicker.prototype.convertToRgbString = function (rgb) {\n        return rgb.length ? rgb.length === 4 ? 'rgba(' + rgb.join() + ')' : 'rgb(' + rgb.join() + ')' : '';\n    };\n    ColorPicker.prototype.convertToHsvString = function (hsv) {\n        return hsv.length === 4 ? 'hsva(' + hsv.join() + ')' : 'hsv(' + hsv.join() + ')';\n    };\n    ColorPicker.prototype.updateHsv = function () {\n        this.hsv[1] = this.hsv[1] > 100 ? 100 : this.hsv[1];\n        this.hsv[2] = this.hsv[2] > 100 ? 100 : this.hsv[2];\n        this.setHandlerPosition();\n    };\n    ColorPicker.prototype.convertToOtherFormat = function (isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = this.hsvToRgb.apply(this, this.hsv);\n        var cValue = this.rgbToHex(this.rgb);\n        var rgba = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgba);\n        this.updateInput(cValue);\n        this.triggerEvent(cValue, pValue, rgba, isKey);\n    };\n    ColorPicker.prototype.updateInput = function (value) {\n        if (!this.getWrapper().classList.contains('e-hide-value')) {\n            Input.setValue(value.substr(0, 7), select('.' + HEX, this.container));\n            if (select('.' + FORMATSWITCH, this.container).classList.contains(TOHSV)) {\n                this.updateValue(this.rgb, false);\n            }\n            else {\n                this.updateValue(this.hsv, false);\n            }\n        }\n    };\n    ColorPicker.prototype.updatePreview = function (value) {\n        this.updateOpacitySliderBg();\n        select('.e-tip-transparent', this.tooltipEle).style.backgroundColor = value;\n        select('.' + PREVIEW + ' .' + CURRENT, this.container).style.backgroundColor = value;\n        select('.' + PREVIEW + ' .' + PREVIOUS, this.container).style.backgroundColor\n            = this.convertToRgbString(this.hexToRgb(this.value));\n    };\n    ColorPicker.prototype.getDragHandler = function () {\n        return select('.' + HANDLER, this.container);\n    };\n    ColorPicker.prototype.removeTileSelection = function () {\n        var selectedEle = [].slice.call(selectAll('.' + SELECT, this.container.children[0]));\n        selectedEle.forEach(function (ele) {\n            ele.classList.remove(SELECT);\n            ele.setAttribute('aria-selected', 'false');\n        });\n    };\n    ColorPicker.prototype.convertRgbToNumberArray = function (value) {\n        return (value.slice(value.indexOf('(') + 1, value.indexOf(')'))).split(',').map(function (n, i) {\n            return (i !== 3) ? parseInt(n, 10) : parseFloat(n);\n        });\n    };\n    /**\n     * To get color value in specified type.\n     * @param value - Specify the color value.\n     * @param type - Specify the converted color value type.\n     * @method getValue\n     * @return {string}\n     */\n    ColorPicker.prototype.getValue = function (value, type) {\n        if (!value) {\n            value = this.value;\n        }\n        type = !type ? 'hex' : type.toLowerCase();\n        if (value[0] === 'r') {\n            var cValue = this.convertRgbToNumberArray(value);\n            if (type === 'hex' || type === 'hexa') {\n                var hex = this.rgbToHex(cValue);\n                return type === 'hex' ? hex.slice(0, 7) : hex;\n            }\n            else {\n                if (type === 'hsv') {\n                    return this.convertToHsvString(this.rgbToHsv.apply(this, cValue.slice(0, 3)));\n                }\n                else {\n                    if (type === 'hsva') {\n                        return this.convertToHsvString(this.rgbToHsv.apply(this, cValue));\n                    }\n                    else {\n                        return 'null';\n                    }\n                }\n            }\n        }\n        else {\n            if (value[0] === 'h') {\n                var cValue = this.hsvToRgb.apply(this, this.convertRgbToNumberArray(value));\n                if (type === 'rgba') {\n                    return this.convertToRgbString(cValue);\n                }\n                else {\n                    if (type === 'hex' || type === 'hexa') {\n                        var hex = this.rgbToHex(cValue);\n                        return type === 'hex' ? hex.slice(0, 7) : hex;\n                    }\n                    else {\n                        if (type === 'rgb') {\n                            return this.convertToRgbString(cValue.slice(0, 3));\n                        }\n                        else {\n                            return 'null';\n                        }\n                    }\n                }\n            }\n            else {\n                value = this.roundValue(value);\n                var rgb = this.hexToRgb(value);\n                if (type === 'rgb' || type === 'hsv') {\n                    rgb = rgb.slice(0, 3);\n                }\n                if (type === 'rgba' || type === 'rgb') {\n                    return this.convertToRgbString(rgb);\n                }\n                else {\n                    if (type === 'hsva' || type === 'hsv') {\n                        return this.convertToHsvString(this.rgbToHsv.apply(this, rgb));\n                    }\n                    else {\n                        if (type === 'hex') {\n                            return value.slice(0, 7);\n                        }\n                        else {\n                            if (type === 'a') {\n                                return rgb[3].toString();\n                            }\n                            else {\n                                return 'null';\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To show/hide ColorPicker popup based on current state of the SplitButton.\n     * @method toggle\n     * @return {void}\n     */\n    ColorPicker.prototype.toggle = function () {\n        this.splitBtn.toggle();\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    ColorPicker.prototype.getModuleName = function () {\n        return 'colorpicker';\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     * @return {string}\n     */\n    ColorPicker.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ColorPicker.prototype.wireEvents = function () {\n        if (this.isPicker()) {\n            var dragHandler = this.getDragHandler();\n            EventHandler.add(dragHandler, 'keydown', this.pickerKeyDown, this);\n            EventHandler.add(this.getHsvContainer(), 'mousedown touchstart', this.handlerDown, this);\n            if (this.modeSwitcher || this.showButtons) {\n                this.addCtrlSwitchEvent();\n            }\n            if (!this.getWrapper().classList.contains('e-hide-value')) {\n                this.addvalueEventHandler();\n            }\n            EventHandler.add(select('.' + PREVIOUS, this.container), 'click', this.previewHandler, this);\n        }\n        else {\n            EventHandler.add(this.container, 'click', this.paletteClickHandler, this);\n            EventHandler.add(this.container, 'keydown', this.paletteKeyDown, this);\n        }\n    };\n    ColorPicker.prototype.addCtrlSwitchEvent = function () {\n        EventHandler.add(select('.' + CTRLSWITCH, this.container), 'click', this.btnClickHandler, this);\n    };\n    ColorPicker.prototype.addInputEvent = function () {\n        EventHandler.add(select('.' + HEX, this.container), 'input', this.inputHandler, this);\n    };\n    ColorPicker.prototype.addvalueEventHandler = function () {\n        this.addInputEvent();\n        EventHandler.add(select('.' + FORMATSWITCH, this.container), 'click', this.formatSwitchHandler, this);\n    };\n    ColorPicker.prototype.pickerKeyDown = function (e) {\n        switch (e.keyCode) {\n            case 39:\n                this.handlerDragPosition(1, this.enableRtl ? -1 : 1, e);\n                break;\n            case 37:\n                this.handlerDragPosition(1, this.enableRtl ? 1 : -1, e);\n                break;\n            case 38:\n                this.handlerDragPosition(2, 1, e);\n                break;\n            case 40:\n                this.handlerDragPosition(2, -1, e);\n                break;\n            case 13:\n                e.preventDefault();\n                var cValue = this.rgbToHex(this.rgb);\n                this.enterKeyHandler(cValue);\n        }\n    };\n    ColorPicker.prototype.enterKeyHandler = function (value) {\n        this.triggerChangeEvent(value);\n        if (!this.inline) {\n            this.toggle();\n            this.splitBtn.element.focus();\n        }\n    };\n    ColorPicker.prototype.triggerChangeEvent = function (value) {\n        var hex = value.slice(0, 7);\n        this.trigger('change', {\n            currentValue: { hex: hex, rgba: this.convertToRgbString(this.rgb) },\n            previousValue: { hex: this.value.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(this.value)) }\n        });\n        this.setProperties({ 'value': value }, true);\n        this.element.value = hex ? hex : '#000000';\n    };\n    ColorPicker.prototype.handlerDragPosition = function (prob, value, e) {\n        e.preventDefault();\n        this.hsv[prob] += value * (e.ctrlKey ? 1 : 3);\n        if (this.hsv[prob] < 0) {\n            this.hsv[prob] = 0;\n        }\n        this.updateHsv();\n        this.convertToOtherFormat(true);\n    };\n    ColorPicker.prototype.handlerDown = function (e) {\n        e.preventDefault();\n        var x;\n        var y;\n        if (e.type === 'mousedown') {\n            this.clientX = Math.abs(e.pageX - pageXOffset);\n            this.clientY = Math.abs(e.pageY - pageYOffset);\n            this.setTooltipOffset(8);\n        }\n        else {\n            this.clientX = Math.abs(e.changedTouches[0].pageX - pageXOffset);\n            this.clientY = Math.abs(e.changedTouches[0].pageY - pageYOffset);\n            this.setTooltipOffset(-8);\n        }\n        this.setHsv(this.clientX, this.clientY);\n        this.getDragHandler().style.transition = 'left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)';\n        this.updateHsv();\n        this.convertToOtherFormat();\n        this.getDragHandler().focus();\n        EventHandler.add(document, 'mousemove touchmove', this.handlerMove, this);\n        EventHandler.add(document, 'mouseup touchend', this.handlerEnd, this);\n    };\n    ColorPicker.prototype.handlerMove = function (e) {\n        if (e.type !== 'touchmove') {\n            e.preventDefault();\n        }\n        var x;\n        var y;\n        if (e.type === 'mousemove') {\n            x = Math.abs(e.pageX - pageXOffset);\n            y = Math.abs(e.pageY - pageYOffset);\n        }\n        else {\n            x = Math.abs(e.changedTouches[0].pageX - pageXOffset);\n            y = Math.abs(e.changedTouches[0].pageY - pageYOffset);\n        }\n        this.setHsv(x, y);\n        var dragHandler = this.getDragHandler();\n        var left = parseInt(dragHandler.style.left, 10);\n        var top = parseInt(dragHandler.style.top, 10);\n        this.updateHsv();\n        this.convertToOtherFormat();\n        this.getTooltipInst().refresh(dragHandler);\n        if (!this.tooltipEle.style.transform) {\n            if (Math.abs(this.clientX - x) > 8 || Math.abs(this.clientY - y) > 8) {\n                select('.' + HSVAREA, this.container).style.cursor = 'pointer';\n                dragHandler.style.transition = 'none';\n                if (!this.inline) {\n                    this.tooltipEle.style.zIndex = (parseInt(this.getPopupEle().style.zIndex, 10) + 1).toString();\n                }\n                this.tooltipEle.style.transform = 'rotate(45deg)';\n                dragHandler.classList.add('e-hide-handler');\n            }\n        }\n    };\n    ColorPicker.prototype.setHsv = function (clientX, clientY) {\n        var ele = select('.' + HSVAREA, this.container);\n        var position = ele.getBoundingClientRect();\n        if (this.enableRtl) {\n            clientX = clientX > position.right ? 0 : Math.abs(clientX - position.right);\n        }\n        else {\n            clientX = clientX > position.left ? Math.abs(clientX - position.left) : 0;\n        }\n        clientY = clientY > position.top ? Math.abs(clientY - position.top) : 0;\n        this.hsv[2] = Math.round(Number(100 * (ele.offsetHeight -\n            Math.max(0, Math.min(ele.offsetHeight, (clientY - ele.offsetTop)))) / ele.offsetHeight) * 10) / 10;\n        this.hsv[1] =\n            Math.round(Number(100 * (Math.max(0, Math.min(ele.offsetWidth, (clientX - ele.offsetLeft)))) / ele.offsetWidth) * 10) / 10;\n    };\n    ColorPicker.prototype.handlerEnd = function (e) {\n        if (e.type !== 'touchend') {\n            e.preventDefault();\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.handlerMove);\n        EventHandler.remove(document, 'mouseup touchend', this.handlerEnd);\n        var dragHandler = this.getDragHandler();\n        select('.' + HSVAREA, this.container).style.cursor = '';\n        if (this.tooltipEle.style.transform) {\n            this.tooltipEle.style.transform = '';\n            dragHandler.classList.remove('e-hide-handler');\n        }\n        if (!this.inline && !this.showButtons) {\n            this.toggle();\n        }\n    };\n    ColorPicker.prototype.btnClickHandler = function (e) {\n        var target = e.target;\n        if (closest(target, '.' + MODESWITCH)) {\n            e.stopPropagation();\n            this.switchToPalette();\n        }\n        else {\n            if (target.classList.contains(APPLY) || target.classList.contains(CANCEL)) {\n                this.ctrlBtnClick(target);\n            }\n        }\n    };\n    ColorPicker.prototype.switchToPalette = function () {\n        this.trigger('beforeModeSwitch', { element: this.container, mode: 'Palette' });\n        this.unWireEvents();\n        this.destroyOtherComp();\n        detach(select('.e-slider-preview', this.container));\n        if (!this.getWrapper().classList.contains('e-hide-value')) {\n            detach(select('.' + INPUTWRAPPER, this.container));\n        }\n        detach(this.getHsvContainer());\n        this.createPalette();\n        this.firstPaletteFocus();\n        if (this.getWrapper().classList.contains('e-show-value')) {\n            this.createInput(1);\n        }\n        this.refreshPopupPos();\n        this.wireEvents();\n    };\n    ColorPicker.prototype.refreshPopupPos = function () {\n        if (!this.inline) {\n            var popupEle = this.getPopupEle();\n            popupEle.style.left = '0px';\n            popupEle.style.top = '0px';\n            this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement);\n        }\n    };\n    ColorPicker.prototype.formatSwitchHandler = function (e) {\n        var target = e.target;\n        if (target.classList.contains(TOHSV)) {\n            this.updateValue(this.hsv, true, 3, [360, 100, 100]);\n            target.classList.remove(TOHSV);\n        }\n        else {\n            this.updateValue(this.rgb, true, 2);\n            target.classList.add(TOHSV);\n        }\n    };\n    ColorPicker.prototype.updateValue = function (value, format, idx, max) {\n        var clsName = ['e-rh-value', 'e-gs-value', 'e-bv-value'];\n        var inst;\n        for (var i = 0, len = clsName.length; i < len; i++) {\n            inst = getInstance(select('.' + clsName[i], this.container), NumericTextBox);\n            inst.value = Math.round(value[i]);\n            if (format) {\n                inst.placeholder = clsName[i].substr(idx, 1).toUpperCase();\n                inst.max = max ? max[i] : 255;\n            }\n            inst.dataBind();\n        }\n    };\n    ColorPicker.prototype.previewHandler = function (e) {\n        var target = e.target;\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = this.convertRgbToNumberArray(target.style.backgroundColor);\n        if (!this.rgb[3]) {\n            this.rgb[3] = 1;\n        }\n        var cValue = this.rgbToHex(this.rgb);\n        var hsv = this.rgbToHsv.apply(this, this.rgb);\n        if (hsv[0] !== this.hsv[0]) {\n            this.hueSlider.setProperties({ 'value': hsv[0] }, true);\n            this.hueSlider.refresh();\n        }\n        this.setHsvContainerBg(hsv[0]);\n        if (hsv[3] !== this.hsv[3]) {\n            this.opacitySlider.setProperties({ 'value': hsv[3] * 100 }, true);\n            this.opacitySlider.refresh();\n        }\n        this.updateOpacitySliderBg();\n        this.hsv = hsv;\n        this.setHandlerPosition();\n        this.updateInput(cValue);\n        select('.' + PREVIEW + ' .' + CURRENT, this.container).style.backgroundColor = this.convertToRgbString(this.rgb);\n        this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb));\n    };\n    ColorPicker.prototype.paletteClickHandler = function (e) {\n        e.preventDefault();\n        var target = e.target;\n        if (target.classList.contains(TILE)) {\n            this.removeTileSelection();\n            this.addTileSelection(target);\n            if (target.classList.contains(NOCOLOR)) {\n                this.noColorTile();\n            }\n            else {\n                var cValue = target.getAttribute('aria-label');\n                var pValue = this.rgbToHex(this.rgb);\n                this.rgb = this.hexToRgb(this.roundValue(cValue));\n                this.hsv = this.rgbToHsv.apply(this, this.rgb);\n                if (this.getWrapper().classList.contains('e-show-value')) {\n                    this.updateInput(cValue);\n                }\n                this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb));\n            }\n            if (!this.inline && !this.showButtons) {\n                this.toggle();\n            }\n        }\n        else {\n            if (closest(target, '.' + MODESWITCH)) {\n                this.switchToPicker();\n            }\n            else {\n                if (target.classList.contains(APPLY) || target.classList.contains(CANCEL)) {\n                    this.ctrlBtnClick(target);\n                }\n                else {\n                    if (this.getWrapper().classList.contains('e-show-value') && closest(target, '.' + FORMATSWITCH)) {\n                        this.formatSwitchHandler(e);\n                    }\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.noColorTile = function (isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = [];\n        this.hsv = [];\n        this.triggerEvent('', pValue, '', isKey);\n    };\n    ColorPicker.prototype.switchToPicker = function () {\n        var wrapper = this.getWrapper();\n        this.trigger('beforeModeSwitch', { element: this.container, mode: 'Picker' });\n        this.unWireEvents();\n        ([].slice.call(selectAll('.' + PALETTES, this.container))).forEach(function (ele) {\n            detach(ele);\n        });\n        if (wrapper.classList.contains('e-show-value')) {\n            detach(select('.' + INPUTWRAPPER, this.container));\n        }\n        this.container.style.width = '';\n        var grpEle = select('.e-custom-palette', this.container);\n        if (this.presetColors) {\n            remove(grpEle);\n        }\n        this.createPicker();\n        this.getDragHandler().focus();\n        if (!wrapper.classList.contains('e-hide-value')) {\n            this.createInput();\n        }\n        this.refreshPopupPos();\n        this.wireEvents();\n    };\n    ColorPicker.prototype.ctrlBtnClick = function (ele) {\n        if (ele.classList.contains(APPLY)) {\n            var cValue = this.rgbToHex(this.rgb);\n            this.triggerChangeEvent(cValue);\n        }\n        if (!this.inline) {\n            this.toggle();\n            this.splitBtn.element.focus();\n        }\n    };\n    ColorPicker.prototype.paletteKeyDown = function (e) {\n        var target = e.target;\n        if (!target.classList.contains(PALETTES)) {\n            return;\n        }\n        var selectedEle;\n        var idx;\n        var tiles = [].slice.call(selectAll('.' + TILE, target));\n        var prevSelectedEle = (tiles.filter(function (tile) { return tile.classList.contains('e-selected'); })).pop();\n        switch (!e.altKey && e.keyCode) {\n            case 39:\n                e.preventDefault();\n                selectedEle = prevSelectedEle ? tiles[this.tilePosition(tiles, prevSelectedEle, this.enableRtl ? -1 : 1)]\n                    : tiles[this.enableRtl ? tiles.length - 1 : 0];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 37:\n                e.preventDefault();\n                selectedEle = prevSelectedEle ? tiles[this.tilePosition(tiles, prevSelectedEle, this.enableRtl ? 1 : -1)]\n                    : tiles[this.enableRtl ? 0 : tiles.length - 1];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 38:\n                e.preventDefault();\n                idx = prevSelectedEle ? this.tilePosition(tiles, prevSelectedEle, -this.columns) : 0;\n                selectedEle = tiles[idx] ? tiles[idx] : tiles[idx - this.columns];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 40:\n                e.preventDefault();\n                idx = prevSelectedEle ? this.tilePosition(tiles, prevSelectedEle, this.columns) : tiles.length - 1;\n                if (tiles[idx]) {\n                    selectedEle = tiles[idx];\n                }\n                else {\n                    idx %= tiles.length;\n                    idx += tiles[tiles.length - 1].parentElement.childElementCount;\n                    selectedEle = tiles[idx];\n                }\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 13:\n                e.preventDefault();\n                if (prevSelectedEle) {\n                    var cValue = prevSelectedEle.getAttribute('aria-label');\n                    this.enterKeyHandler(cValue ? cValue : '');\n                }\n        }\n    };\n    ColorPicker.prototype.keySelectionChanges = function (newEle) {\n        this.removeTileSelection();\n        this.addTileSelection(newEle);\n        if (newEle.classList.contains(NOCOLOR)) {\n            this.noColorTile(true);\n        }\n        else {\n            var cValue = newEle.getAttribute('aria-label');\n            var pValue = this.rgbToHex(this.rgb);\n            this.rgb = this.hexToRgb(cValue);\n            this.hsv = this.rgbToHsv.apply(this, this.rgb);\n            if (this.getWrapper().classList.contains('e-show-value')) {\n                this.updateInput(cValue);\n            }\n            this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb), true);\n        }\n    };\n    ColorPicker.prototype.tilePosition = function (items, element, cIdx) {\n        items = Array.prototype.slice.call(items);\n        var n = items.length;\n        var emptyCount = this.columns - items[n - 1].parentElement.childElementCount;\n        var idx = items.indexOf(element);\n        idx += cIdx;\n        idx < 0 ? idx += n + emptyCount : idx %= n + emptyCount;\n        return idx;\n    };\n    ColorPicker.prototype.inputHandler = function (e) {\n        var target = e.target;\n        if (!target.value.length) {\n            return;\n        }\n        var hsv;\n        var pValue;\n        var label = select('.e-float-text', target.parentElement).textContent;\n        switch (label) {\n            case 'HEX':\n                var value = '';\n                if ((target.value[0] === '#' && target.value.length !== 5) || (target.value[0] !== '#' && target.value.length !== 4)) {\n                    value = this.roundValue(target.value);\n                }\n                if (value.length === 9) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb = this.hexToRgb(value + value.substr(-2));\n                    this.inputValueChange(this.rgbToHsv.apply(this, this.rgb), pValue, target.value);\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'R':\n                if (this.rgb[0] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[0] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'G':\n                if (this.rgb[1] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[1] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'B':\n                if (this.rgb[2] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[2] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'H':\n                this.hueSlider.value = Number(target.value);\n                break;\n            case 'S':\n                if (this.hsv[1] !== Number(target.value)) {\n                    this.hsv[1] = Number(target.value);\n                    this.updateHsv();\n                    this.convertToOtherFormat();\n                }\n                break;\n            case 'V':\n                if (this.hsv[2] !== Number(target.value)) {\n                    this.hsv[2] = Number(target.value);\n                    this.updateHsv();\n                    this.convertToOtherFormat();\n                }\n                break;\n            case 'A':\n                this.opacitySlider.value = Number(target.value);\n                break;\n        }\n    };\n    ColorPicker.prototype.inputValueChange = function (hsv, pValue, value) {\n        if (hsv[0] !== this.hsv[0]) {\n            this.hueSlider.setProperties({ 'value': hsv[0] }, true);\n            this.hueSlider.refresh();\n            this.setHsvContainerBg(hsv[0]);\n        }\n        this.hsv = hsv;\n        var cValue = this.rgbToHex(this.rgb);\n        this.setHandlerPosition();\n        this.updateInput(value ? value : cValue);\n        var rgba = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgba);\n        this.triggerEvent(cValue, pValue, rgba);\n    };\n    ColorPicker.prototype.triggerEvent = function (cValue, pValue, rgba, isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var hex = cValue.slice(0, 7);\n        var eventArgs = {\n            currentValue: { hex: hex, rgba: rgba },\n            previousValue: { hex: pValue.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(pValue)) }\n        };\n        if (!this.showButtons && !isKey) {\n            eventArgs.previousValue = { hex: this.value.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(this.value)) };\n            this.trigger('change', eventArgs);\n            this.setProperties({ 'value': cValue }, true);\n            this.element.value = hex ? hex : '#000000';\n        }\n        else {\n            this.trigger('select', eventArgs);\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     * @method destroy\n     * @return {void}\n     */\n    ColorPicker.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        _super.prototype.destroy.call(this);\n        ['tabindex', 'spellcheck'].forEach(function (attr) { _this.element.removeAttribute(attr); });\n        if (this.inline) {\n            this.unWireEvents();\n            this.destroyOtherComp();\n        }\n        else {\n            if (this.isPopupOpen()) {\n                this.unWireEvents();\n                this.destroyOtherComp();\n            }\n            this.splitBtn.destroy();\n            this.splitBtn = null;\n        }\n        this.tileRipple();\n        this.tileRipple = null;\n        this.ctrlBtnRipple();\n        this.ctrlBtnRipple = null;\n        detach(this.element.nextElementSibling);\n        wrapper.parentElement.insertBefore(this.element, wrapper);\n        detach(wrapper);\n        this.container = null;\n    };\n    ColorPicker.prototype.destroyOtherComp = function () {\n        if (this.isPicker()) {\n            this.hueSlider.destroy();\n            this.opacitySlider.destroy();\n            this.hueSlider = null;\n            this.opacitySlider = null;\n            var tooltipInst = this.getTooltipInst();\n            tooltipInst.close();\n            tooltipInst.destroy();\n            this.tooltipEle = null;\n        }\n    };\n    ColorPicker.prototype.isPopupOpen = function () {\n        return this.getPopupEle().classList.contains('e-popup-open');\n    };\n    ColorPicker.prototype.unWireEvents = function () {\n        if (this.isPicker()) {\n            var dragHandler = this.getDragHandler();\n            EventHandler.remove(dragHandler, 'keydown', this.pickerKeyDown);\n            EventHandler.remove(this.getHsvContainer(), 'mousedown touchstart', this.handlerDown);\n            if (this.modeSwitcher || this.showButtons) {\n                EventHandler.remove(select('.' + CTRLSWITCH, this.container), 'click', this.btnClickHandler);\n            }\n            if (!this.getWrapper().classList.contains('e-hide-value')) {\n                EventHandler.remove(select('.' + FORMATSWITCH, this.container), 'click', this.formatSwitchHandler);\n                EventHandler.remove(select('.' + HEX, this.container), 'input', this.inputHandler);\n            }\n            EventHandler.remove(select('.' + PREVIOUS, this.container), 'click', this.previewHandler);\n        }\n        else {\n            EventHandler.remove(this.container, 'click', this.paletteClickHandler);\n            EventHandler.remove(this.container, 'keydown', this.paletteKeyDown);\n        }\n    };\n    ColorPicker.prototype.roundValue = function (value) {\n        if (!value) {\n            return '';\n        }\n        if (value[0] !== '#') {\n            value = '#' + value;\n        }\n        var len = value.length;\n        if (len === 4) {\n            value += 'f';\n            len = 5;\n        }\n        if (len === 5) {\n            var tempValue = '';\n            for (var i = 1, len_1 = value.length; i < len_1; i++) {\n                tempValue += (value.charAt(i) + value.charAt(i));\n            }\n            value = '#' + tempValue;\n            len = 9;\n        }\n        if (len === 7) {\n            value += 'ff';\n        }\n        return value;\n    };\n    ColorPicker.prototype.hexToRgb = function (hex) {\n        if (!hex) {\n            return [];\n        }\n        hex = hex.trim();\n        if (hex.length !== 9) {\n            hex = this.roundValue(hex);\n        }\n        var opacity = Number((parseInt(hex.slice(-2), 16) / 255).toFixed(2));\n        hex = hex.slice(1, 7);\n        var bigInt = parseInt(hex, 16);\n        var h = [];\n        h.push((bigInt >> 16) & 255);\n        h.push((bigInt >> 8) & 255);\n        h.push(bigInt & 255);\n        h.push(opacity);\n        return h;\n    };\n    ColorPicker.prototype.rgbToHsv = function (r, g, b, opacity) {\n        if (this.rgb && !this.rgb.length) {\n            return [];\n        }\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        var max = Math.max(r, g, b);\n        var min = Math.min(r, g, b);\n        var h;\n        var s;\n        var v = max;\n        var d = max - min;\n        s = max === 0 ? 0 : d / max;\n        if (max === min) {\n            h = 0;\n        }\n        else {\n            switch (max) {\n                case r:\n                    h = (g - b) / d + (g < b ? 6 : 0);\n                    break;\n                case g:\n                    h = (b - r) / d + 2;\n                    break;\n                case b:\n                    h = (r - g) / d + 4;\n                    break;\n            }\n            h /= 6;\n        }\n        var hsv = [Math.round(h * 360), Math.round(s * 1000) / 10, Math.round(v * 1000) / 10];\n        if (!isNullOrUndefined(opacity)) {\n            hsv.push(opacity);\n        }\n        return hsv;\n    };\n    ColorPicker.prototype.hsvToRgb = function (h, s, v, opacity) {\n        var r;\n        var g;\n        var b;\n        var i;\n        var f;\n        var p;\n        var q;\n        var t;\n        s /= 100;\n        v /= 100;\n        if (s === 0) {\n            r = g = b = v;\n            return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), opacity];\n        }\n        h /= 60;\n        i = Math.floor(h);\n        f = h - i;\n        p = v * (1 - s);\n        q = v * (1 - s * f);\n        t = v * (1 - s * (1 - f));\n        switch (i) {\n            case 0:\n                r = v;\n                g = t;\n                b = p;\n                break;\n            case 1:\n                r = q;\n                g = v;\n                b = p;\n                break;\n            case 2:\n                r = p;\n                g = v;\n                b = t;\n                break;\n            case 3:\n                r = p;\n                g = q;\n                b = v;\n                break;\n            case 4:\n                r = t;\n                g = p;\n                b = v;\n                break;\n            default:\n                r = v;\n                g = p;\n                b = q;\n        }\n        var rgb = [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n        if (!isNullOrUndefined(opacity)) {\n            rgb.push(opacity);\n        }\n        return rgb;\n    };\n    ColorPicker.prototype.rgbToHex = function (rgb) {\n        return rgb.length ? ('#' + this.hex(rgb[0]) + this.hex(rgb[1]) + this.hex(rgb[2]) +\n            (!isNullOrUndefined(rgb[3]) ? (rgb[3] !== 0 ? (Math.round(rgb[3] * 255) + 0x10000).toString(16).substr(-2) : '00') : '')) : '';\n    };\n    ColorPicker.prototype.hex = function (x) {\n        return ('0' + x.toString(16)).slice(-2);\n    };\n    ColorPicker.prototype.changeModeSwitcherProp = function (prop) {\n        var ctrlSwitchWrapper = select('.' + CTRLSWITCH, this.container);\n        if (prop) {\n            if (ctrlSwitchWrapper) {\n                this.appendModeSwitchBtn();\n            }\n            else {\n                this.createCtrlBtn();\n                if (this.isPicker() && !this.disabled) {\n                    this.addCtrlSwitchEvent();\n                }\n            }\n        }\n        else {\n            if (ctrlSwitchWrapper) {\n                if (this.showButtons) {\n                    detach(select('.' + MODESWITCH, ctrlSwitchWrapper));\n                }\n                else {\n                    remove(ctrlSwitchWrapper);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.changeShowBtnProps = function (prop) {\n        var ctrlBtnWrapper = select('.' + CTRLSWITCH, this.container);\n        if (prop) {\n            if (ctrlBtnWrapper) {\n                remove(ctrlBtnWrapper);\n            }\n            this.createCtrlBtn();\n            if (this.isPicker() && !this.disabled) {\n                this.addCtrlSwitchEvent();\n            }\n        }\n        else {\n            if (this.modeSwitcher) {\n                detach(select('.' + CTRLBTN, ctrlBtnWrapper));\n            }\n            else {\n                remove(ctrlBtnWrapper);\n            }\n        }\n    };\n    ColorPicker.prototype.changeValueProp = function (newProp) {\n        if (this.isPicker()) {\n            this.rgb = this.hexToRgb(newProp);\n            this.hsv = this.rgbToHsv.apply(this, this.rgb);\n            this.setHandlerPosition();\n            detach(closest(this.hueSlider.element, '.e-slider-preview'));\n            this.createSlider();\n            this.setHsvContainerBg();\n            this.updateOpacitySliderBg();\n            this.updateInput(newProp);\n        }\n        else {\n            this.removeTileSelection();\n            this.addTileSelection(select('span[aria-label=\"' + newProp + '\"]', this.container));\n        }\n        this.element.value = newProp.slice(0, 7);\n    };\n    ColorPicker.prototype.setInputEleProps = function (prop) {\n        remove(select('.' + INPUTWRAPPER, this.container));\n        this.createInput();\n    };\n    ColorPicker.prototype.changeDisabledProp = function (newProp) {\n        if (this.isPicker()) {\n            this.hueSlider.enabled = !newProp;\n            this.opacitySlider.enabled = !newProp;\n            this.setInputEleProps(newProp);\n        }\n        if (newProp) {\n            this.toggleDisabled(true);\n            this.unWireEvents();\n        }\n        else {\n            this.toggleDisabled(false);\n            this.wireEvents();\n        }\n    };\n    ColorPicker.prototype.changeCssClassProps = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        var popupWrapper = this.getPopupEle();\n        if (oldProp) {\n            removeClass([wrapper, popupWrapper], oldProp.split(' '));\n        }\n        if (newProp) {\n            addClass([wrapper, popupWrapper], newProp.split(' '));\n        }\n    };\n    ColorPicker.prototype.changeRtlProps = function (newProp) {\n        if (newProp) {\n            addClass([this.getWrapper()], 'e-rtl');\n        }\n        else {\n            removeClass([this.getWrapper()], 'e-rtl');\n        }\n    };\n    ColorPicker.prototype.changePaletteProps = function () {\n        detach(this.container.children[0]);\n        this.container.style.width = '';\n        this.createPalette();\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {ColorPickerModel} newProp\n     * @param  {ColorPickerModel} oldProp\n     * @returns void\n     * @private\n     */\n    ColorPicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        if (!this.inline && isNullOrUndefined(newProp.inline)) {\n            var otherCompModel = ['disabled', 'enableRtl'];\n            this.splitBtn.setProperties(getModel(newProp, otherCompModel));\n            if (!this.isPopupOpen()) {\n                if (newProp.value) {\n                    select('.' + SPLITPREVIEW, this.splitBtn.element).style.backgroundColor = newProp.value;\n                }\n                this.changeCssClassProps(newProp.cssClass, oldProp.cssClass);\n                this.changeRtlProps(newProp.enableRtl);\n                return;\n            }\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'inline':\n                    if (newProp.inline) {\n                        this.getWrapper().appendChild(this.container);\n                        this.splitBtn.destroy();\n                        detach(this.element.nextElementSibling);\n                        if (!this.container.children.length) {\n                            this.createWidget();\n                        }\n                    }\n                    else {\n                        this.destroyOtherComp();\n                        this.unWireEvents();\n                        this.container.innerHTML = '';\n                        this.createSplitBtn();\n                    }\n                    break;\n                case 'cssClass':\n                    if (this.isPicker()) {\n                        if (wrapper.classList.contains('e-hide-value')) {\n                            this.createInput();\n                            this.addvalueEventHandler();\n                        }\n                        newProp.cssClass.split(' ').forEach(function (cls) {\n                            if (cls === 'e-hide-value') {\n                                remove(select('.' + INPUTWRAPPER, _this.container));\n                            }\n                        });\n                    }\n                    else {\n                        if (wrapper.classList.contains('e-show-value')) {\n                            remove(select('.' + INPUTWRAPPER, this.container));\n                        }\n                        newProp.cssClass.split(' ').forEach(function (cls) {\n                            if (cls === 'e-show-value') {\n                                _this.createInput(1);\n                                _this.addInputEvent();\n                            }\n                        });\n                    }\n                    this.changeCssClassProps(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    if (this.isPicker()) {\n                        this.hueSlider.enableRtl = newProp.enableRtl;\n                        this.opacitySlider.enableRtl = newProp.enableRtl;\n                        this.setInputEleProps(newProp.enableRtl);\n                    }\n                    this.changeRtlProps(newProp.enableRtl);\n                    break;\n                case 'disabled':\n                    this.changeDisabledProp(newProp.disabled);\n                    break;\n                case 'value':\n                    this.changeValueProp(newProp.value);\n                    break;\n                case 'showButtons':\n                    this.changeShowBtnProps(newProp.showButtons);\n                    break;\n                case 'mode':\n                    if (newProp.mode === 'Picker') {\n                        this.switchToPicker();\n                    }\n                    else {\n                        this.switchToPalette();\n                    }\n                    break;\n                case 'modeSwitcher':\n                    this.changeModeSwitcherProp(newProp.modeSwitcher);\n                    break;\n                case 'columns':\n                case 'presetColors':\n                    if (!this.isPicker()) {\n                        this.changePaletteProps();\n                    }\n                    break;\n                case 'noColor':\n                    if (newProp.noColor) {\n                        if (this.mode === 'Palette' && !this.modeSwitcher) {\n                            this.setNoColor();\n                        }\n                    }\n                    else {\n                        this.changePaletteProps();\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property('#008000')\n    ], ColorPicker.prototype, \"value\", void 0);\n    __decorate([\n        Property('')\n    ], ColorPicker.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('Picker')\n    ], ColorPicker.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"modeSwitcher\", void 0);\n    __decorate([\n        Property(null)\n    ], ColorPicker.prototype, \"presetColors\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property(10)\n    ], ColorPicker.prototype, \"columns\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"inline\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"noColor\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeTileRender\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeModeSwitch\", void 0);\n    ColorPicker = __decorate([\n        NotifyPropertyChanges\n    ], ColorPicker);\n    return ColorPicker;\n}(Component));\nexport { ColorPicker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, isUndefined, Browser, compile } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { rippleEffect, Animation } from '@syncfusion/ej2-base';\nimport { Draggable, Droppable } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, closest, matches, detach, select, selectAll, isVisible, append } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { isNullOrUndefined as isNOU, Touch, getValue, setValue } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { createCheckBox, rippleMouseHandler } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nvar ROOT = 'e-treeview';\nvar CONTROL = 'e-control';\nvar COLLAPSIBLE = 'e-icon-collapsible';\nvar EXPANDABLE = 'e-icon-expandable';\nvar LISTITEM = 'e-list-item';\nvar LISTTEXT = 'e-list-text';\nvar PARENTITEM = 'e-list-parent';\nvar HOVER = 'e-hover';\nvar ACTIVE = 'e-active';\nvar LOAD = 'e-icons-spinner';\nvar PROCESS = 'e-process';\nvar ICON = 'e-icons';\nvar TEXTWRAP = 'e-text-content';\nvar INPUT = 'e-input';\nvar INPUTGROUP = 'e-input-group';\nvar TREEINPUT = 'e-tree-input';\nvar EDITING = 'e-editing';\nvar RTL = 'e-rtl';\nvar DRAGITEM = 'e-drag-item';\nvar DROPPABLE = 'e-droppable';\nvar DRAGGING = 'e-dragging';\nvar SIBLING = 'e-sibling';\nvar DROPIN = 'e-drop-in';\nvar DROPNEXT = 'e-drop-next';\nvar DROPOUT = 'e-drop-out';\nvar NODROP = 'e-no-drop';\nvar FULLROWWRAP = 'e-fullrow-wrap';\nvar FULLROW = 'e-fullrow';\nvar SELECTED = 'e-selected';\nvar EXPANDED = 'e-expanded';\nvar NODECOLLAPSED = 'e-node-collapsed';\nvar DISABLE = 'e-disable';\nvar CONTENT = 'e-content';\nvar DOWNTAIL = 'e-downtail';\nvar DROPCOUNT = 'e-drop-count';\nvar CHECK = 'e-check';\nvar INDETERMINATE = 'e-stop';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECKBOXRIPPLE = 'e-ripple-container';\nvar FOCUS = 'e-node-focus';\nvar IMAGE = 'e-list-img';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar treeAriaAttr = {\n    treeRole: 'tree',\n    itemRole: 'treeitem',\n    listRole: 'group',\n    itemText: '',\n    wrapperRole: '',\n};\n/**\n * Configures the fields to bind to the properties of node in the TreeView component.\n */\nvar FieldsSettings = /** @class */ (function (_super) {\n    __extends(FieldsSettings, _super);\n    function FieldsSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('child')\n    ], FieldsSettings.prototype, \"child\", void 0);\n    __decorate([\n        Property([])\n    ], FieldsSettings.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('expanded')\n    ], FieldsSettings.prototype, \"expanded\", void 0);\n    __decorate([\n        Property('hasChildren')\n    ], FieldsSettings.prototype, \"hasChildren\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], FieldsSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], FieldsSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('id')\n    ], FieldsSettings.prototype, \"id\", void 0);\n    __decorate([\n        Property('imageUrl')\n    ], FieldsSettings.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property('isChecked')\n    ], FieldsSettings.prototype, \"isChecked\", void 0);\n    __decorate([\n        Property('parentID')\n    ], FieldsSettings.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], FieldsSettings.prototype, \"query\", void 0);\n    __decorate([\n        Property('selected')\n    ], FieldsSettings.prototype, \"selected\", void 0);\n    __decorate([\n        Property(null)\n    ], FieldsSettings.prototype, \"tableName\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldsSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], FieldsSettings.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('navigateUrl')\n    ], FieldsSettings.prototype, \"navigateUrl\", void 0);\n    return FieldsSettings;\n}(ChildProperty));\nexport { FieldsSettings };\n/**\n * Configures animation settings for the TreeView component.\n */\nvar ActionSettings = /** @class */ (function (_super) {\n    __extends(ActionSettings, _super);\n    function ActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], ActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], ActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], ActionSettings.prototype, \"easing\", void 0);\n    return ActionSettings;\n}(ChildProperty));\nexport { ActionSettings };\n/**\n * Configures the animation settings for expanding and collapsing nodes in TreeView.\n */\nvar NodeAnimationSettings = /** @class */ (function (_super) {\n    __extends(NodeAnimationSettings, _super);\n    function NodeAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"expand\", void 0);\n    return NodeAnimationSettings;\n}(ChildProperty));\nexport { NodeAnimationSettings };\n/**\n * The TreeView component is used to represent hierarchical data in a tree like structure with advanced\n * functions to perform edit, drag and drop, selection with check-box, and more.\n * ```html\n *  <div id=\"tree\"></div>\n * ```\n * ```typescript\n *  let treeObj: TreeView = new TreeView();\n *  treeObj.appendTo('#tree');\n * ```\n */\nvar TreeView = /** @class */ (function (_super) {\n    __extends(TreeView, _super);\n    function TreeView(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseDownStatus = false;\n        return _this;\n    }\n    TreeView_1 = TreeView;\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    TreeView.prototype.getModuleName = function () {\n        return 'treeview';\n    };\n    /**\n     * Initialize the event handler\n     */\n    TreeView.prototype.preRender = function () {\n        var _this = this;\n        this.checkActionNodes = [];\n        this.dragStartAction = false;\n        this.isAnimate = false;\n        this.keyConfigs = {\n            escape: 'escape',\n            end: 'end',\n            enter: 'enter',\n            f2: 'f2',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            ctrlA: 'ctrl+A',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space',\n        };\n        this.listBaseOption = {\n            expandCollapse: true,\n            showIcon: true,\n            expandIconClass: EXPANDABLE,\n            ariaAttributes: treeAriaAttr,\n            expandIconPosition: 'Left',\n            itemCreated: function (e) {\n                _this.beforeNodeCreate(e);\n            },\n        };\n        this.updateListProp(this.fields);\n        this.aniObj = new Animation({});\n        this.treeList = [];\n        this.isLoaded = false;\n        this.setTouchClass();\n        if (isNOU(this.selectedNodes)) {\n            this.setProperties({ selectedNodes: [] }, true);\n        }\n        if (isNOU(this.checkedNodes)) {\n            this.setProperties({ checkedNodes: [] }, true);\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     * @hidden\n     */\n    TreeView.prototype.getPersistData = function () {\n        var keyEntity = ['selectedNodes', 'checkedNodes'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    TreeView.prototype.render = function () {\n        this.isAnimate = true;\n        this.initialize();\n        this.setDataBinding();\n        this.setExpandOnType();\n        this.setRipple();\n        this.wireEditingEvents(this.allowEditing);\n        this.setDragAndDrop(this.allowDragAndDrop);\n        this.wireEvents();\n    };\n    TreeView.prototype.initialize = function () {\n        this.element.setAttribute('role', 'tree');\n        this.element.setAttribute('tabindex', '0');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n        this.setCssClass(null, this.cssClass);\n        this.setEnableRtl();\n        this.setFullRow(this.fullRowSelect);\n        this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n    };\n    TreeView.prototype.setEnableRtl = function () {\n        this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    };\n    TreeView.prototype.setRipple = function () {\n        var tempStr = '.' + FULLROW + ',.' + TEXTWRAP;\n        var rippleModel = {\n            selector: tempStr,\n            ignore: '.' + TEXTWRAP + ' > .' + ICON + ',.' + INPUTGROUP + ',.' + INPUT + ', .' + CHECKBOXWRAP\n        };\n        this.rippleFn = rippleEffect(this.element, rippleModel);\n        var iconModel = {\n            selector: '.' + TEXTWRAP + ' > .' + ICON,\n            isCenterRipple: true,\n        };\n        this.rippleIconFn = rippleEffect(this.element, iconModel);\n    };\n    TreeView.prototype.setFullRow = function (isEnabled) {\n        isEnabled ? addClass([this.element], FULLROWWRAP) : removeClass([this.element], FULLROWWRAP);\n    };\n    TreeView.prototype.setMultiSelect = function (isEnabled) {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        if (isEnabled) {\n            firstUl.setAttribute('aria-multiselectable', 'true');\n        }\n        else {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n    };\n    TreeView.prototype.templateComplier = function (template) {\n        if (template) {\n            var e = void 0;\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        return undefined;\n    };\n    TreeView.prototype.setDataBinding = function () {\n        var _this = this;\n        this.treeList.push('false');\n        if (this.fields.dataSource instanceof DataManager) {\n            this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function (e) {\n                _this.treeList.pop();\n                _this.treeData = e.result;\n                _this.isNumberTypeId = _this.getType();\n                _this.setRootData();\n                _this.renderItems(true);\n                if (_this.treeList.length === 0 && !_this.isLoaded) {\n                    _this.finalize();\n                }\n            });\n        }\n        else {\n            this.treeList.pop();\n            if (isNOU(this.fields.dataSource)) {\n                this.rootData = this.treeData = [];\n            }\n            else {\n                this.treeData = this.fields.dataSource;\n                this.setRootData();\n            }\n            this.renderItems(false);\n        }\n        if (this.treeList.length === 0 && !this.isLoaded) {\n            this.finalize();\n        }\n    };\n    TreeView.prototype.getQuery = function (mapper, value) {\n        if (value === void 0) { value = null; }\n        var columns = [];\n        var query;\n        if (!mapper.query) {\n            query = new Query();\n            var prop = this.getActualProperties(mapper);\n            for (var _i = 0, _a = Object.keys(prop); _i < _a.length; _i++) {\n                var col = _a[_i];\n                if (col !== 'dataSource' && col !== 'tableName' && col !== 'child' && !!mapper[col]\n                    && columns.indexOf(mapper[col]) === -1) {\n                    columns.push(mapper[col]);\n                }\n            }\n            query.select(columns);\n            if (prop.hasOwnProperty('tableName')) {\n                query.from(mapper.tableName);\n            }\n        }\n        else {\n            query = mapper.query.clone();\n        }\n        ListBase.addSorting(this.sortOrder, mapper.text, query);\n        if (!isNOU(value) && !isNOU(mapper.parentID)) {\n            query.where(mapper.parentID, 'equal', (this.isNumberTypeId ? parseFloat(value) : value));\n        }\n        return query;\n    };\n    TreeView.prototype.getType = function () {\n        return this.treeData[0] ? ((typeof getValue(this.fields.id, this.treeData[0]) === 'number') ? true : false) : false;\n    };\n    TreeView.prototype.setRootData = function () {\n        this.dataType = this.getDataType(this.treeData, this.fields);\n        if (this.dataType === 1) {\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n            var rootItems = this.getChildNodes(this.treeData, undefined, true);\n            if (isNOU(rootItems)) {\n                this.rootData = [];\n            }\n            else {\n                this.rootData = rootItems;\n            }\n        }\n        else {\n            this.rootData = this.treeData;\n        }\n    };\n    TreeView.prototype.renderItems = function (isSorted) {\n        this.listBaseOption.ariaAttributes.level = 1;\n        this.ulElement = ListBase.createList(this.createElement, isSorted ? this.rootData : this.getSortedData(this.rootData), this.listBaseOption);\n        this.element.appendChild(this.ulElement);\n        this.finalizeNode(this.element);\n    };\n    TreeView.prototype.beforeNodeCreate = function (e) {\n        if (this.showCheckBox) {\n            var checkboxEle = createCheckBox(this.createElement, true, { cssClass: this.touchClass });\n            var icon = select('div.' + ICON, e.item);\n            var id = e.item.getAttribute('data-uid');\n            e.item.childNodes[0].insertBefore(checkboxEle, e.item.childNodes[0].childNodes[isNOU(icon) ? 0 : 1]);\n            var checkValue = getValue(e.fields.isChecked, e.curData);\n            if (this.checkedNodes.indexOf(id) > -1) {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else if (!isNOU(checkValue) && checkValue.toString() === 'true') {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else {\n                checkboxEle.setAttribute('aria-checked', 'false');\n            }\n            var frame = select('.' + CHECKBOXFRAME, checkboxEle);\n            EventHandler.add(frame, 'mousedown', this.frameMouseHandler, this);\n            EventHandler.add(frame, 'mouseup', this.frameMouseHandler, this);\n        }\n        if (this.fullRowSelect) {\n            this.createFullRow(e.item);\n        }\n        if (this.allowMultiSelection && !e.item.classList.contains(SELECTED)) {\n            e.item.setAttribute('aria-selected', 'false');\n        }\n        var fields = e.fields;\n        this.addActionClass(e, fields.selected, SELECTED);\n        this.addActionClass(e, fields.expanded, EXPANDED);\n        if (!isNOU(this.nodeTemplateFn)) {\n            var textEle = e.item.querySelector('.' + LISTTEXT);\n            textEle.innerHTML = '';\n            append(this.nodeTemplateFn(e.curData), textEle);\n        }\n        var eventArgs = {\n            node: e.item,\n            nodeData: e.curData,\n            text: e.text,\n        };\n        this.trigger('drawNode', eventArgs);\n    };\n    TreeView.prototype.frameMouseHandler = function (e) {\n        var rippleSpan = select('.' + CHECKBOXRIPPLE, e.target.parentElement);\n        rippleMouseHandler(e, rippleSpan);\n    };\n    TreeView.prototype.addActionClass = function (e, action, cssClass) {\n        var data = e.curData;\n        var actionValue = getValue(action, data);\n        if (!isNOU(actionValue) && actionValue.toString() !== 'false') {\n            e.item.classList.add(cssClass);\n        }\n    };\n    TreeView.prototype.getDataType = function (ds, mapper) {\n        if (this.fields.dataSource instanceof DataManager) {\n            for (var i = 0; i < ds.length; i++) {\n                if ((typeof mapper.child === 'string') && isNOU(getValue(mapper.child, ds[i]))) {\n                    return 1;\n                }\n            }\n            return 2;\n        }\n        for (var i = 0, len = ds.length; i < len; i++) {\n            if ((typeof mapper.child === 'string') && !isNOU(getValue(mapper.child, ds[i]))) {\n                return 2;\n            }\n            if (!isNOU(getValue(mapper.parentID, ds[i])) || !isNOU(getValue(mapper.hasChildren, ds[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    };\n    TreeView.prototype.getGroupedData = function (dataSource, groupBy) {\n        var cusQuery = new Query().group(groupBy);\n        var ds = ListBase.getDataSource(dataSource, cusQuery);\n        var grpItem = [];\n        for (var j = 0; j < ds.length; j++) {\n            var itemObj = ds[j].items;\n            grpItem.push(itemObj);\n        }\n        return grpItem;\n    };\n    TreeView.prototype.getSortedData = function (list) {\n        if (list && this.sortOrder !== 'None') {\n            list = ListBase.getDataSource(list, ListBase.addSorting(this.sortOrder, this.fields.text));\n        }\n        return list;\n    };\n    TreeView.prototype.finalizeNode = function (element) {\n        var iNodes = selectAll('.' + IMAGE, element);\n        for (var k = 0; k < iNodes.length; k++) {\n            iNodes[k].setAttribute('alt', IMAGE);\n        }\n        if (this.isLoaded) {\n            var sNodes = selectAll('.' + SELECTED, element);\n            for (var i = 0; i < sNodes.length; i++) {\n                this.selectNode(sNodes[i], null);\n                break;\n            }\n            removeClass(sNodes, SELECTED);\n        }\n        var cNodes = selectAll('.' + LISTITEM + ':not(.' + EXPANDED + ')', element);\n        for (var j = 0; j < cNodes.length; j++) {\n            var icon = select('div.' + ICON, cNodes[j]);\n            if (icon && icon.classList.contains(EXPANDABLE)) {\n                cNodes[j].setAttribute('aria-expanded', 'false');\n                addClass([cNodes[j]], NODECOLLAPSED);\n            }\n        }\n        var eNodes = selectAll('.' + EXPANDED, element);\n        for (var i = 0; i < eNodes.length; i++) {\n            this.renderChildNodes(eNodes[i]);\n        }\n        removeClass(eNodes, EXPANDED);\n        this.updateList();\n        if (this.isLoaded) {\n            this.updateCheckedProp();\n        }\n    };\n    TreeView.prototype.updateCheckedProp = function () {\n        var _this = this;\n        if (this.showCheckBox) {\n            var nodes_1 = [].concat([], this.checkedNodes);\n            this.checkedNodes.forEach(function (value, index) {\n                var checkBox = _this.element.querySelector('[data-uid=\"' + value + '\"]');\n                if (isNOU(checkBox)) {\n                    nodes_1 = nodes_1.filter(function (e) { return e !== value; });\n                }\n            });\n            this.setProperties({ checkedNodes: nodes_1 }, true);\n        }\n    };\n    TreeView.prototype.ensureParentCheckState = function (element) {\n        if (!isNOU(element)) {\n            if (element.classList.contains(ROOT)) {\n                return;\n            }\n            var ulElement = element;\n            if (element.classList.contains(LISTITEM)) {\n                ulElement = select('.' + PARENTITEM, element);\n            }\n            var checkedNodes = selectAll('.' + CHECK, ulElement);\n            var nodes = selectAll('.' + LISTITEM, ulElement);\n            var checkBoxEle = element.getElementsByClassName(CHECKBOXWRAP)[0];\n            if (nodes.length === checkedNodes.length) {\n                this.changeState(checkBoxEle, 'check', null, true, true);\n            }\n            else if (checkedNodes.length > 0) {\n                this.changeState(checkBoxEle, 'indeterminate', null, true, true);\n            }\n            else if (checkedNodes.length === 0) {\n                this.changeState(checkBoxEle, 'uncheck', null, true, true);\n            }\n            var parentUL = closest(element, '.' + PARENTITEM);\n            if (!isNOU(parentUL)) {\n                var currentParent = closest(parentUL, '.' + LISTITEM);\n                this.ensureParentCheckState(currentParent);\n            }\n        }\n    };\n    TreeView.prototype.ensureChildCheckState = function (element, e) {\n        if (!isNOU(element)) {\n            var childElement = select('.' + PARENTITEM, element);\n            var checkBoxes = void 0;\n            if (!isNOU(childElement)) {\n                checkBoxes = selectAll('.' + CHECKBOXWRAP, childElement);\n                var isChecked = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                var checkedState = void 0;\n                for (var index = 0; index < checkBoxes.length; index++) {\n                    if (!isNOU(this.currentLoadData) && !isNOU(getValue(this.fields.isChecked, this.currentLoadData[index]))) {\n                        checkedState = getValue(this.fields.isChecked, this.currentLoadData[index]) ? 'check' : 'uncheck';\n                    }\n                    else {\n                        var isNodeChecked = checkBoxes[index].getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                        checkedState = (!this.isLoaded && isNodeChecked) ? 'check' : (isChecked ? 'check' : 'uncheck');\n                    }\n                    this.changeState(checkBoxes[index], checkedState, e, true, true);\n                }\n            }\n        }\n    };\n    TreeView.prototype.doCheckBoxAction = function (nodes, doCheck) {\n        if (!isNOU(nodes)) {\n            for (var i = 0, len = nodes.length; i < len; i++) {\n                var liEle = this.getElement(nodes[i]);\n                if (isNOU(liEle)) {\n                    continue;\n                }\n                var checkBox = select('.' + PARENTITEM + ' .' + CHECKBOXWRAP, liEle);\n                this.validateCheckNode(checkBox, !doCheck, liEle, null);\n            }\n        }\n        else {\n            var checkBoxes = selectAll('.' + CHECKBOXWRAP, this.element);\n            for (var index = 0; index < checkBoxes.length; index++) {\n                this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck');\n            }\n        }\n    };\n    TreeView.prototype.changeState = function (wrapper, state, e, isPrevent, isAdd) {\n        var ariaState;\n        var eventArgs;\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        if (!isPrevent) {\n            this.checkActionNodes = [];\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            this.trigger('nodeChecking', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            this.addCheck(currLi);\n            ariaState = 'true';\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            this.removeCheck(currLi);\n            ariaState = 'false';\n        }\n        else if (state === 'indeterminate' && !frameSpan.classList.contains(INDETERMINATE)) {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            this.removeCheck(currLi);\n            ariaState = 'mixed';\n        }\n        ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n        if (!isNOU(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        if (isAdd) {\n            var data = [].concat([], this.checkActionNodes);\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            if (isUndefined(isPrevent)) {\n                eventArgs.data = data;\n            }\n        }\n        if (!isPrevent) {\n            if (!isNOU(ariaState)) {\n                wrapper.setAttribute('aria-checked', ariaState);\n                eventArgs.data[0].checked = ariaState;\n                this.trigger('nodeChecked', eventArgs);\n                this.checkActionNodes = [];\n            }\n        }\n    };\n    TreeView.prototype.addCheck = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.checkedNodes.indexOf(id) === -1) {\n            this.checkedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeCheck = function (liEle) {\n        var index = this.checkedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.checkedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.getCheckEvent = function (currLi, action, e) {\n        this.checkActionNodes.push(this.getNodeData(currLi));\n        var nodeData = this.checkActionNodes;\n        return { action: action, cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, data: nodeData };\n    };\n    TreeView.prototype.finalize = function () {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        firstUl.setAttribute('role', treeAriaAttr.treeRole);\n        this.setMultiSelect(this.allowMultiSelection);\n        var firstNode = select('.' + LISTITEM, this.element);\n        if (firstNode) {\n            addClass([firstNode], FOCUS);\n            this.updateIdAttr(null, firstNode);\n        }\n        this.doSelectionAction();\n        this.updateCheckedProp();\n        this.isLoaded = true;\n        this.isAnimate = false;\n        var eventArgs = { data: this.treeData };\n        this.trigger('dataBound', eventArgs);\n    };\n    TreeView.prototype.doSelectionAction = function () {\n        var sNodes = selectAll('.' + SELECTED, this.element);\n        var sUids = this.selectedNodes;\n        if (sUids.length > 0) {\n            this.setProperties({ selectedNodes: [] }, true);\n            for (var i = 0; i < sUids.length; i++) {\n                var sNode = select('[data-uid=\"' + sUids[i] + '\"]', this.element);\n                this.selectNode(sNode, null, true);\n                if (!this.allowMultiSelection) {\n                    break;\n                }\n            }\n        }\n        else {\n            this.selectGivenNodes(sNodes);\n        }\n        removeClass(sNodes, SELECTED);\n    };\n    TreeView.prototype.selectGivenNodes = function (sNodes) {\n        for (var i = 0; i < sNodes.length; i++) {\n            if (!sNodes[i].classList.contains('e-disable')) {\n                this.selectNode(sNodes[i], null, true);\n            }\n            if (!this.allowMultiSelection) {\n                break;\n            }\n        }\n    };\n    TreeView.prototype.clickHandler = function (event) {\n        var target = event.originalEvent.target;\n        EventHandler.remove(this.element, 'contextmenu', this.preventContextMenu);\n        if (!target || this.dragStartAction) {\n            return;\n        }\n        else {\n            var classList = target.classList;\n            var li = closest(target, '.' + LISTITEM);\n            if (!li) {\n                return;\n            }\n            else {\n                this.removeHover();\n                this.setFocusElement(li);\n                if (this.showCheckBox && !li.classList.contains('e-disable')) {\n                    var checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n                    if (!isNOU(checkWrapper)) {\n                        var checkElement = select('.' + CHECKBOXFRAME, checkWrapper);\n                        this.validateCheckNode(checkWrapper, checkElement.classList.contains(CHECK), li, event.originalEvent);\n                        this.triggerClickEvent(event.originalEvent, li);\n                        return;\n                    }\n                }\n                if (classList.contains(EXPANDABLE)) {\n                    this.expandAction(li, target, event);\n                }\n                else if (classList.contains(COLLAPSIBLE)) {\n                    this.collapseNode(li, target, event);\n                }\n                else {\n                    if (!classList.contains(PARENTITEM) && !classList.contains(LISTITEM)) {\n                        this.toggleSelect(li, event.originalEvent, false);\n                    }\n                }\n                this.triggerClickEvent(event.originalEvent, li);\n            }\n        }\n    };\n    TreeView.prototype.nodeCheckingEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        this.checkActionNodes = [];\n        var ariaState = !isCheck ? 'true' : 'false';\n        if (!isNOU(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        var eventArgs = this.getCheckEvent(currLi, isCheck ? 'uncheck' : 'check', e);\n        this.trigger('nodeChecking', eventArgs);\n        return eventArgs;\n    };\n    TreeView.prototype.nodeCheckedEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        var eventArgs = this.getCheckEvent(wrapper, isCheck ? 'uncheck' : 'check', e);\n        eventArgs.data = eventArgs.data.splice(0, eventArgs.data.length - 1);\n        this.trigger('nodeChecked', eventArgs);\n    };\n    TreeView.prototype.triggerClickEvent = function (e, li) {\n        var eventArgs = {\n            event: e,\n            node: li,\n        };\n        this.trigger('nodeClicked', eventArgs);\n    };\n    TreeView.prototype.expandNode = function (currLi, icon) {\n        var _this = this;\n        if (icon.classList.contains(LOAD)) {\n            this.hideSpinner(icon);\n        }\n        removeClass([icon], EXPANDABLE);\n        addClass([icon], COLLAPSIBLE);\n        var start = 0;\n        var end = 0;\n        var proxy = this;\n        var ul = select('.' + PARENTITEM, currLi);\n        var liEle = currLi;\n        this.setHeight(liEle, ul);\n        if (!this.isAnimate) {\n            this.aniObj.animate(ul, {\n                name: this.animation.expand.effect,\n                duration: this.animation.expand.duration,\n                timingFunction: this.animation.expand.easing,\n                begin: function (args) {\n                    liEle.style.overflow = 'hidden';\n                    start = liEle.offsetHeight;\n                    end = select('.' + TEXTWRAP, currLi).offsetHeight;\n                },\n                progress: function (args) {\n                    args.element.style.display = 'block';\n                    proxy.animateHeight(args, start, end);\n                },\n                end: function (args) {\n                    args.element.style.display = 'block';\n                    _this.expandedNode(liEle, ul, icon);\n                }\n            });\n        }\n        else {\n            this.expandedNode(liEle, ul, icon);\n        }\n    };\n    TreeView.prototype.expandedNode = function (currLi, ul, icon) {\n        ul.style.display = 'block';\n        currLi.style.display = 'block';\n        currLi.style.overflow = '';\n        currLi.style.height = '';\n        removeClass([icon], PROCESS);\n        currLi.setAttribute('aria-expanded', 'true');\n        removeClass([currLi], NODECOLLAPSED);\n        if (this.isLoaded && this.expandArgs) {\n            this.expandArgs = this.getExpandEvent(currLi, null);\n            this.trigger('nodeExpanded', this.expandArgs);\n        }\n    };\n    TreeView.prototype.collapseNode = function (currLi, icon, e) {\n        var _this = this;\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        var colArgs;\n        if (this.isLoaded) {\n            colArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeCollapsing', colArgs);\n            if (colArgs.cancel) {\n                removeClass([icon], PROCESS);\n                return;\n            }\n        }\n        removeClass([icon], COLLAPSIBLE);\n        addClass([icon], EXPANDABLE);\n        var start = 0;\n        var end = 0;\n        var proxy = this;\n        var ul = select('.' + PARENTITEM, currLi);\n        var liEle = currLi;\n        addClass([currLi], NODECOLLAPSED);\n        this.aniObj.animate(ul, {\n            name: this.animation.collapse.effect,\n            duration: this.animation.collapse.duration,\n            timingFunction: this.animation.collapse.easing,\n            begin: function (args) {\n                liEle.style.overflow = 'hidden';\n                start = select('.' + TEXTWRAP, currLi).offsetHeight;\n                end = liEle.offsetHeight;\n            },\n            progress: function (args) {\n                proxy.animateHeight(args, start, end);\n            },\n            end: function (args) {\n                liEle.style.overflow = '';\n                args.element.style.display = 'none';\n                liEle.style.height = '';\n                removeClass([icon], PROCESS);\n                currLi.setAttribute('aria-expanded', 'false');\n                if (_this.isLoaded) {\n                    _this.trigger('nodeCollapsed', colArgs);\n                }\n            }\n        });\n    };\n    TreeView.prototype.setHeight = function (currLi, ul) {\n        ul.style.display = 'block';\n        ul.style.visibility = 'hidden';\n        currLi.style.height = currLi.offsetHeight + 'px';\n        ul.style.display = 'none';\n        ul.style.visibility = '';\n    };\n    TreeView.prototype.animateHeight = function (args, start, end) {\n        var remaining = (args.duration - args.timeStamp) / args.duration;\n        var currentHeight = (end - start) * remaining + start;\n        args.element.parentElement.style.height = currentHeight + 'px';\n    };\n    TreeView.prototype.renderChildNodes = function (parentLi, expandChild) {\n        var _this = this;\n        var eicon = select('div.' + ICON, parentLi);\n        if (isNOU(eicon)) {\n            return;\n        }\n        this.showSpinner(eicon);\n        var childItems;\n        if (this.fields.dataSource instanceof DataManager) {\n            var level = this.parents(parentLi, '.' + PARENTITEM).length;\n            var mapper_1 = this.getChildFields(this.fields, level, 1);\n            if (isNOU(mapper_1) || isNOU(mapper_1.dataSource)) {\n                detach(eicon);\n                parentLi.removeAttribute('aria-expanded');\n                return;\n            }\n            this.treeList.push('false');\n            mapper_1.dataSource.executeQuery(this.getQuery(mapper_1, parentLi.getAttribute('data-uid'))).then(function (e) {\n                _this.treeList.pop();\n                childItems = e.result;\n                _this.currentLoadData = childItems;\n                if (isNOU(childItems) || childItems.length === 0) {\n                    detach(eicon);\n                    parentLi.removeAttribute('aria-expanded');\n                }\n                else {\n                    _this.updateListProp(mapper_1);\n                    var id = parentLi.getAttribute('data-uid');\n                    var nodeData = _this.getNodeObject(id);\n                    setValue('child', childItems, nodeData);\n                    _this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n                    parentLi.appendChild(ListBase.createList(_this.createElement, childItems, _this.listBaseOption));\n                    _this.expandNode(parentLi, eicon);\n                    _this.ensureCheckNode(parentLi);\n                    _this.finalizeNode(parentLi);\n                    _this.renderSubChild(parentLi, expandChild);\n                }\n                if (_this.treeList.length === 0 && !_this.isLoaded) {\n                    _this.finalize();\n                }\n            });\n        }\n        else {\n            childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n            this.currentLoadData = childItems;\n            if (isNOU(childItems) || childItems.length === 0) {\n                detach(eicon);\n                parentLi.removeAttribute('aria-expanded');\n                return;\n            }\n            else {\n                this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n                parentLi.appendChild(ListBase.createList(this.createElement, this.getSortedData(childItems), this.listBaseOption));\n                this.expandNode(parentLi, eicon);\n                this.ensureCheckNode(parentLi);\n                this.finalizeNode(parentLi);\n                this.renderSubChild(parentLi, expandChild);\n            }\n        }\n    };\n    TreeView.prototype.ensureCheckNode = function (element) {\n        if (this.showCheckBox) {\n            this.ensureChildCheckState(element);\n            this.ensureParentCheckState(element);\n        }\n        this.currentLoadData = null;\n    };\n    TreeView.prototype.getFields = function (mapper, nodeLevel, dataLevel) {\n        if (nodeLevel === dataLevel) {\n            return mapper;\n        }\n        else {\n            return this.getFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildFields = function (mapper, nodeLevel, dataLevel) {\n        var childData;\n        if (nodeLevel === dataLevel) {\n            return this.getChildMapper(mapper);\n        }\n        else {\n            return this.getChildFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildMapper = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    TreeView.prototype.getChildNodes = function (obj, parentId, isRoot) {\n        if (isRoot === void 0) { isRoot = false; }\n        var childNodes;\n        if (isNOU(obj)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            return this.getChildGroup(this.groupedData, parentId, isRoot);\n        }\n        else {\n            if (typeof this.fields.child === 'string') {\n                for (var i = 0, objlen = obj.length; i < objlen; i++) {\n                    var dataId = getValue(this.fields.id, obj[i]);\n                    if (dataId && dataId.toString() === parentId) {\n                        return getValue(this.fields.child, obj[i]);\n                    }\n                    else if (!isNOU(getValue(this.fields.child, obj[i]))) {\n                        childNodes = this.getChildNodes(getValue(this.fields.child, obj[i]), parentId);\n                        if (childNodes !== undefined) {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildGroup = function (data, parentId, isRoot) {\n        var childNodes;\n        if (isNOU(data)) {\n            return childNodes;\n        }\n        for (var i = 0, objlen = data.length; i < objlen; i++) {\n            if (!isNOU(data[i][0]) && !isNOU(getValue(this.fields.parentID, data[i][0]))) {\n                if (getValue(this.fields.parentID, data[i][0]).toString() === parentId) {\n                    return data[i];\n                }\n            }\n            else if (isRoot) {\n                return data[i];\n            }\n            else {\n                return [];\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.renderSubChild = function (element, expandChild) {\n        if (expandChild) {\n            var cIcons = selectAll('.' + EXPANDABLE, element);\n            for (var i = 0, len = cIcons.length; i < len; i++) {\n                var icon = cIcons[i];\n                var curLi = closest(icon, '.' + LISTITEM);\n                this.expandArgs = this.getExpandEvent(curLi, null);\n                this.trigger('nodeExpanding', this.expandArgs);\n                this.renderChildNodes(curLi, expandChild);\n            }\n        }\n    };\n    TreeView.prototype.toggleSelect = function (li, e, multiSelect) {\n        if (!li.classList.contains('e-disable')) {\n            if (this.allowMultiSelection && ((e && e.ctrlKey) || multiSelect) && this.isActive(li)) {\n                this.unselectNode(li, e);\n            }\n            else {\n                this.selectNode(li, e, multiSelect);\n            }\n        }\n    };\n    TreeView.prototype.isActive = function (li) {\n        return li.classList.contains(ACTIVE) ? true : false;\n    };\n    TreeView.prototype.selectNode = function (li, e, multiSelect) {\n        if (isNOU(li) || (!this.allowMultiSelection && this.isActive(li) && !isNOU(e))) {\n            this.setFocusElement(li);\n            return;\n        }\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'select', e);\n            this.trigger('nodeSelecting', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        if (!this.allowMultiSelection || (!multiSelect && (!e || (e && !e.ctrlKey)))) {\n            this.removeSelectAll();\n        }\n        if (this.allowMultiSelection && e && e.shiftKey) {\n            if (!this.startNode) {\n                this.startNode = li;\n            }\n            var startIndex = this.liList.indexOf(this.startNode);\n            var endIndex = this.liList.indexOf(li);\n            if (startIndex > endIndex) {\n                var temp = startIndex;\n                startIndex = endIndex;\n                endIndex = temp;\n            }\n            for (var i = startIndex; i <= endIndex; i++) {\n                var currNode = this.liList[i];\n                if (isVisible(currNode) && !currNode.classList.contains('e-disable')) {\n                    this.addSelect(currNode);\n                }\n            }\n        }\n        else {\n            this.startNode = li;\n            this.addSelect(li);\n        }\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.unselectNode = function (li, e) {\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'un-select', e);\n            this.trigger('nodeSelecting', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        this.removeSelect(li);\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.setFocusElement = function (li) {\n        if (!isNOU(li)) {\n            var focusedNode = this.getFocusedNode();\n            if (focusedNode) {\n                removeClass([focusedNode], FOCUS);\n            }\n            addClass([li], FOCUS);\n            this.updateIdAttr(focusedNode, li);\n        }\n    };\n    TreeView.prototype.addSelect = function (liEle) {\n        liEle.setAttribute('aria-selected', 'true');\n        addClass([liEle], ACTIVE);\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.selectedNodes.indexOf(id) === -1) {\n            this.selectedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeSelect = function (liEle) {\n        if (this.allowMultiSelection) {\n            liEle.setAttribute('aria-selected', 'false');\n        }\n        else {\n            liEle.removeAttribute('aria-selected');\n        }\n        removeClass([liEle], ACTIVE);\n        var index = this.selectedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.selectedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.removeSelectAll = function () {\n        var selectedLI = this.element.querySelectorAll('.' + ACTIVE);\n        for (var _i = 0, selectedLI_1 = selectedLI; _i < selectedLI_1.length; _i++) {\n            var ele = selectedLI_1[_i];\n            if (this.allowMultiSelection) {\n                ele.setAttribute('aria-selected', 'false');\n            }\n            else {\n                ele.removeAttribute('aria-selected');\n            }\n        }\n        removeClass(selectedLI, ACTIVE);\n        this.setProperties({ selectedNodes: [] }, true);\n    };\n    TreeView.prototype.getSelectEvent = function (currLi, action, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { action: action, cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, nodeData: nodeData };\n    };\n    TreeView.prototype.setExpandOnType = function () {\n        this.expandOnType = (this.expandOn === 'Auto') ? (Browser.isDevice ? 'Click' : 'DblClick') : this.expandOn;\n    };\n    TreeView.prototype.expandHandler = function (e) {\n        var target = e.originalEvent.target;\n        if (!target || target.classList.contains(INPUT) || target.classList.contains(ROOT) ||\n            target.classList.contains(PARENTITEM) || target.classList.contains(LISTITEM) ||\n            target.classList.contains(ICON) || this.showCheckBox && closest(target, '.' + CHECKBOXWRAP)) {\n            return;\n        }\n        else {\n            this.expandCollapseAction(closest(target, '.' + LISTITEM), e);\n        }\n    };\n    TreeView.prototype.expandCollapseAction = function (currLi, e) {\n        var icon = select('div.' + ICON, currLi);\n        if (!icon || icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            var classList = icon.classList;\n            if (classList.contains(EXPANDABLE)) {\n                this.expandAction(currLi, icon, e);\n            }\n            else {\n                this.collapseNode(currLi, icon, e);\n            }\n        }\n    };\n    TreeView.prototype.expandAction = function (currLi, icon, e, expandChild) {\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        if (this.isLoaded) {\n            this.expandArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeExpanding', this.expandArgs);\n            if (this.expandArgs.cancel) {\n                removeClass([icon], PROCESS);\n                return;\n            }\n        }\n        var ul = select('.' + PARENTITEM, currLi);\n        if (ul && ul.nodeName === 'UL') {\n            this.expandNode(currLi, icon);\n        }\n        else {\n            this.renderChildNodes(currLi, expandChild);\n        }\n    };\n    TreeView.prototype.keyActionHandler = function (e) {\n        var target = e.target;\n        var focusedNode = this.getFocusedNode();\n        if (target && target.classList.contains(INPUT)) {\n            var inpEle = target;\n            if (e.action === 'enter') {\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            else if (e.action === 'escape') {\n                inpEle.value = this.oldText;\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            return;\n        }\n        e.preventDefault();\n        var eventArgs = {\n            cancel: false,\n            event: e,\n            node: focusedNode,\n        };\n        this.trigger('keyPress', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        switch (e.action) {\n            case 'space':\n                if (this.showCheckBox) {\n                    this.checkNode(e);\n                }\n                break;\n            case 'moveRight':\n                this.openNode(this.enableRtl ? false : true, e);\n                break;\n            case 'moveLeft':\n                this.openNode(this.enableRtl ? true : false, e);\n                break;\n            case 'shiftDown':\n                this.shiftKeySelect(true, e);\n                break;\n            case 'moveDown':\n            case 'ctrlDown':\n            case 'csDown':\n                this.navigateNode(true);\n                break;\n            case 'shiftUp':\n                this.shiftKeySelect(false, e);\n                break;\n            case 'moveUp':\n            case 'ctrlUp':\n            case 'csUp':\n                this.navigateNode(false);\n                break;\n            case 'home':\n            case 'shiftHome':\n            case 'ctrlHome':\n            case 'csHome':\n                this.navigateRootNode(true);\n                break;\n            case 'end':\n            case 'shiftEnd':\n            case 'ctrlEnd':\n            case 'csEnd':\n                this.navigateRootNode(false);\n                break;\n            case 'enter':\n            case 'ctrlEnter':\n            case 'shiftEnter':\n            case 'csEnter':\n                this.toggleSelect(focusedNode, e);\n                break;\n            case 'f2':\n                if (this.allowEditing && !focusedNode.classList.contains('e-disable')) {\n                    this.createTextbox(focusedNode, e);\n                }\n                break;\n            case 'ctrlA':\n                if (this.allowMultiSelection) {\n                    var sNodes = selectAll('.' + LISTITEM + ':not(.' + ACTIVE + ')', this.element);\n                    this.selectGivenNodes(sNodes);\n                }\n                break;\n        }\n    };\n    TreeView.prototype.navigateToFocus = function (isUp) {\n        var focusNode = this.getFocusedNode().querySelector('.' + TEXTWRAP);\n        var pos = focusNode.getBoundingClientRect();\n        var parent = this.getScrollParent(this.element);\n        if (!isNOU(parent)) {\n            var parentPos = parent.getBoundingClientRect();\n            if (pos.bottom > parentPos.bottom) {\n                parent.scrollTop += pos.bottom - parentPos.bottom;\n            }\n            else if (pos.top < parentPos.top) {\n                parent.scrollTop -= parentPos.top - pos.top;\n            }\n        }\n        var isVisible = this.isVisibleInViewport(focusNode);\n        if (!isVisible) {\n            focusNode.scrollIntoView(isUp);\n        }\n    };\n    TreeView.prototype.isVisibleInViewport = function (txtWrap) {\n        var pos = txtWrap.getBoundingClientRect();\n        return (pos.top >= 0 && pos.left >= 0 && pos.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n            pos.right <= (window.innerWidth || document.documentElement.clientWidth));\n    };\n    TreeView.prototype.getScrollParent = function (node) {\n        if (isNOU(node)) {\n            return null;\n        }\n        return (node.scrollHeight > node.clientHeight) ? node : this.getScrollParent(node.parentElement);\n    };\n    TreeView.prototype.shiftKeySelect = function (isTowards, e) {\n        if (this.allowMultiSelection) {\n            var focusedNode = this.getFocusedNode();\n            var nextNode = isTowards ? this.getNextNode(focusedNode) : this.getPrevNode(focusedNode);\n            this.removeHover();\n            this.setFocusElement(nextNode);\n            this.toggleSelect(nextNode, e, false);\n            this.navigateToFocus(!isTowards);\n        }\n        else {\n            this.navigateNode(isTowards);\n        }\n    };\n    TreeView.prototype.checkNode = function (e) {\n        var focusedNode = this.getFocusedNode();\n        var checkWrap = select('.' + CHECKBOXWRAP, focusedNode);\n        var isChecked = select(' .' + CHECKBOXFRAME, checkWrap).classList.contains(CHECK);\n        if (!focusedNode.classList.contains('e-disable')) {\n            this.validateCheckNode(checkWrap, isChecked, focusedNode, e);\n        }\n    };\n    TreeView.prototype.validateCheckNode = function (checkWrap, isCheck, li, e) {\n        var eventArgs = this.nodeCheckingEvent(checkWrap, isCheck, e);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true);\n        this.ensureChildCheckState(li);\n        this.ensureParentCheckState(closest(closest(li, '.' + PARENTITEM), '.' + LISTITEM));\n        this.nodeCheckedEvent(checkWrap, isCheck, e);\n    };\n    TreeView.prototype.openNode = function (toBeOpened, e) {\n        var focusedNode = this.getFocusedNode();\n        var icon = select('div.' + ICON, focusedNode);\n        if (toBeOpened) {\n            if (!icon) {\n                return;\n            }\n            else if (icon.classList.contains(EXPANDABLE)) {\n                this.expandAction(focusedNode, icon, e);\n            }\n            else {\n                this.focusNextNode(focusedNode, true);\n            }\n        }\n        else {\n            if (icon && icon.classList.contains(COLLAPSIBLE)) {\n                this.collapseNode(focusedNode, icon, e);\n            }\n            else {\n                var parentLi = closest(closest(focusedNode, '.' + PARENTITEM), '.' + LISTITEM);\n                if (!parentLi) {\n                    return;\n                }\n                else {\n                    if (!parentLi.classList.contains('e-disable')) {\n                        this.setFocus(focusedNode, parentLi);\n                        this.navigateToFocus(true);\n                    }\n                }\n            }\n        }\n    };\n    TreeView.prototype.navigateNode = function (isTowards) {\n        var focusedNode = this.getFocusedNode();\n        this.focusNextNode(focusedNode, isTowards);\n    };\n    TreeView.prototype.navigateRootNode = function (isBackwards) {\n        var focusedNode = this.getFocusedNode();\n        var rootNode = isBackwards ? this.getRootNode() : this.getEndNode();\n        if (!rootNode.classList.contains('e-disable')) {\n            this.setFocus(focusedNode, rootNode);\n            this.navigateToFocus(isBackwards);\n        }\n    };\n    TreeView.prototype.getFocusedNode = function () {\n        var selectedItem;\n        var fNode = select('.' + LISTITEM + '.' + FOCUS, this.element);\n        if (isNOU(fNode)) {\n            selectedItem = select('.' + LISTITEM, this.element);\n        }\n        return isNOU(fNode) ? (isNOU(selectedItem) ? this.element.firstElementChild : selectedItem) : fNode;\n    };\n    TreeView.prototype.focusNextNode = function (li, isTowards) {\n        var nextNode = isTowards ? this.getNextNode(li) : this.getPrevNode(li);\n        this.setFocus(li, nextNode);\n        this.navigateToFocus(!isTowards);\n        if (nextNode.classList.contains('e-disable')) {\n            var lastChild = nextNode.lastChild;\n            if (nextNode.previousSibling == null && nextNode.classList.contains('e-level-1')) {\n                this.focusNextNode(nextNode, true);\n            }\n            else if (nextNode.nextSibling == null && nextNode.classList.contains('e-node-collapsed')) {\n                this.focusNextNode(nextNode, false);\n            }\n            else if (nextNode.nextSibling == null && lastChild.classList.contains('e-text-content')) {\n                this.focusNextNode(nextNode, false);\n            }\n            else {\n                this.focusNextNode(nextNode, isTowards);\n            }\n        }\n    };\n    TreeView.prototype.getNextNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var nextNode;\n        do {\n            index++;\n            nextNode = this.liList[index];\n            if (isNOU(nextNode)) {\n                return li;\n            }\n        } while (!isVisible(nextNode));\n        return nextNode;\n    };\n    TreeView.prototype.getPrevNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var prevNode;\n        do {\n            index--;\n            prevNode = this.liList[index];\n            if (isNOU(prevNode)) {\n                return li;\n            }\n        } while (!isVisible(prevNode));\n        return prevNode;\n    };\n    TreeView.prototype.getRootNode = function () {\n        var index = 0;\n        var rootNode;\n        do {\n            rootNode = this.liList[index];\n            index++;\n        } while (!isVisible(rootNode));\n        return rootNode;\n    };\n    TreeView.prototype.getEndNode = function () {\n        var index = this.liList.length - 1;\n        var endNode;\n        do {\n            endNode = this.liList[index];\n            index--;\n        } while (!isVisible(endNode));\n        return endNode;\n    };\n    TreeView.prototype.setFocus = function (preNode, nextNode) {\n        removeClass([preNode], [HOVER, FOCUS]);\n        if (!nextNode.classList.contains('e-disable')) {\n            addClass([nextNode], [HOVER, FOCUS]);\n            this.updateIdAttr(preNode, nextNode);\n        }\n    };\n    TreeView.prototype.updateIdAttr = function (preNode, nextNode) {\n        this.element.removeAttribute('aria-activedescendant');\n        if (preNode) {\n            preNode.removeAttribute('id');\n        }\n        nextNode.setAttribute('id', this.element.id + '_active');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n    };\n    TreeView.prototype.focusIn = function () {\n        if (!this.mouseDownStatus) {\n            addClass([this.getFocusedNode()], HOVER);\n        }\n        this.mouseDownStatus = false;\n    };\n    TreeView.prototype.focusOut = function () {\n        removeClass([this.getFocusedNode()], HOVER);\n    };\n    TreeView.prototype.onMouseOver = function (e) {\n        var target = e.target;\n        var classList = target.classList;\n        var currentLi = closest(target, '.' + LISTITEM);\n        if (!currentLi || classList.contains(PARENTITEM) || classList.contains(LISTITEM)) {\n            this.removeHover();\n            return;\n        }\n        else {\n            if (currentLi && !currentLi.classList.contains('e-disable')) {\n                this.setHover(currentLi);\n            }\n        }\n    };\n    TreeView.prototype.setHover = function (li) {\n        if (!li.classList.contains(HOVER)) {\n            this.removeHover();\n            addClass([li], HOVER);\n        }\n    };\n    ;\n    TreeView.prototype.onMouseLeave = function (e) {\n        this.removeHover();\n    };\n    TreeView.prototype.removeHover = function () {\n        var hoveredNode = selectAll('.' + HOVER, this.element);\n        if (hoveredNode && hoveredNode.length) {\n            removeClass(hoveredNode, HOVER);\n        }\n    };\n    ;\n    TreeView.prototype.getNodeData = function (currLi, fromDS) {\n        if (!isNOU(currLi) && currLi.classList.contains(LISTITEM) && closest(currLi, '.' + CONTROL).classList.contains(ROOT)) {\n            var id = currLi.getAttribute('data-uid');\n            var text = this.getText(currLi, fromDS);\n            var pNode = closest(currLi.parentNode, '.' + LISTITEM);\n            var pid = pNode ? pNode.getAttribute('data-uid') : null;\n            var selected = currLi.classList.contains(ACTIVE);\n            var expanded = (currLi.getAttribute('aria-expanded') === 'true') ? true : false;\n            var checked = null;\n            if (this.showCheckBox) {\n                checked = select('.' + CHECKBOXWRAP, currLi).getAttribute('aria-checked');\n            }\n            return { id: id, text: text, parentID: pid, selected: selected, expanded: expanded, isChecked: checked };\n        }\n        return { id: '', text: '', parentID: '', selected: '', expanded: '', isChecked: '' };\n    };\n    TreeView.prototype.getText = function (currLi, fromDS) {\n        if (fromDS) {\n            var nodeData = this.getNodeObject(currLi.getAttribute('data-uid'));\n            var level = parseFloat(currLi.getAttribute('aria-level'));\n            var nodeFields = this.getFields(this.fields, level, 1);\n            return getValue(nodeFields.text, nodeData);\n        }\n        return select('.' + LISTTEXT, currLi).textContent;\n    };\n    TreeView.prototype.getExpandEvent = function (currLi, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, nodeData: nodeData, event: e };\n    };\n    TreeView.prototype.reRenderNodes = function () {\n        this.element.innerHTML = '';\n        this.setTouchClass();\n        this.setProperties({ selectedNodes: [], checkedNodes: [] }, true);\n        this.isLoaded = false;\n        this.setDataBinding();\n    };\n    TreeView.prototype.setCssClass = function (oldClass, newClass) {\n        if (!isNOU(oldClass) && oldClass !== '') {\n            removeClass([this.element], oldClass.split(' '));\n        }\n        if (!isNOU(newClass) && newClass !== '') {\n            addClass([this.element], newClass.split(' '));\n        }\n    };\n    TreeView.prototype.editingHandler = function (e) {\n        var target = e.target;\n        if (!target || target.classList.contains(ROOT) || target.classList.contains(PARENTITEM) ||\n            target.classList.contains(LISTITEM) || target.classList.contains(ICON) ||\n            target.classList.contains(INPUT) || target.classList.contains(INPUTGROUP)) {\n            return;\n        }\n        else {\n            var liEle = closest(target, '.' + LISTITEM);\n            this.createTextbox(liEle, e);\n        }\n    };\n    TreeView.prototype.createTextbox = function (liEle, e) {\n        var oldInpEle = select('.' + TREEINPUT, this.element);\n        if (oldInpEle) {\n            oldInpEle.blur();\n        }\n        var textEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var innerEle = this.createElement('input', { className: TREEINPUT, attrs: { value: this.oldText } });\n        var eventArgs = this.getEditEvent(liEle, null, innerEle.outerHTML);\n        this.trigger('nodeEditing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        var inpWidth = textEle.offsetWidth + 5;\n        var style = 'width:' + inpWidth + 'px';\n        addClass([liEle], EDITING);\n        textEle.innerHTML = eventArgs.innerHtml;\n        var inpEle = select('.' + TREEINPUT, textEle);\n        this.inputObj = Input.createInput({\n            element: inpEle,\n            properties: {\n                enableRtl: this.enableRtl,\n            }\n        }, this.createElement);\n        this.inputObj.container.setAttribute('style', style);\n        inpEle.focus();\n        var inputEle = inpEle;\n        inputEle.setSelectionRange(0, inputEle.value.length);\n        this.wireInputEvents(inpEle);\n    };\n    TreeView.prototype.updateOldText = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        this.editData = this.getNodeObject(id);\n        var level = parseFloat(liEle.getAttribute('aria-level'));\n        this.editFields = this.getFields(this.fields, level, 1);\n        this.oldText = getValue(this.editFields.text, this.editData);\n    };\n    TreeView.prototype.inputFocusOut = function (e) {\n        if (!select('.' + TREEINPUT, this.element)) {\n            return;\n        }\n        var target = e.target;\n        var newText = target.value;\n        var txtEle = closest(target, '.' + LISTTEXT);\n        var liEle = closest(target, '.' + LISTITEM);\n        detach(this.inputObj.container);\n        this.appendNewText(liEle, txtEle, newText, true);\n    };\n    TreeView.prototype.appendNewText = function (liEle, txtEle, newText, isInput) {\n        var eventArgs = this.getEditEvent(liEle, newText, null);\n        this.trigger('nodeEdited', eventArgs);\n        newText = eventArgs.cancel ? eventArgs.oldText : eventArgs.newText;\n        var newData = setValue(this.editFields.text, newText, this.editData);\n        if (!isNOU(this.nodeTemplateFn)) {\n            txtEle.innerHTML = '';\n            append(this.nodeTemplateFn(newData), txtEle);\n        }\n        else {\n            txtEle.innerHTML = newText;\n        }\n        if (isInput) {\n            removeClass([liEle], EDITING);\n            txtEle.focus();\n        }\n    };\n    TreeView.prototype.getElement = function (ele) {\n        if (isNOU(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return this.element.querySelector('[data-uid=\"' + ele + '\"]');\n        }\n        else if (typeof ele === 'object') {\n            return ele;\n        }\n        else {\n            return null;\n        }\n    };\n    TreeView.prototype.getEditEvent = function (liEle, newText, inpEle) {\n        var data = this.getNodeData(liEle);\n        return { cancel: false, newText: newText, node: liEle, nodeData: data, oldText: this.oldText, innerHtml: inpEle };\n    };\n    TreeView.prototype.getNodeObject = function (id) {\n        var childNodes;\n        if (isNOU(id)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            for (var i = 0, objlen = this.treeData.length; i < objlen; i++) {\n                var dataId = getValue(this.fields.id, this.treeData[i]);\n                if (!isNOU(this.treeData[i]) && !isNOU(dataId) && dataId.toString() === id) {\n                    return this.treeData[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeObject(this.treeData, this.fields, id);\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildNodeObject = function (obj, mapper, id) {\n        var newList;\n        if (isNOU(obj)) {\n            return newList;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataId = getValue(mapper.id, obj[i]);\n            if (obj[i] && dataId && dataId.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childData = getValue(mapper.child, obj[i]);\n                newList = this.getChildNodeObject(childData, this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var child = 'child';\n                newList = this.getChildNodeObject(getValue(child, obj[i]), this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newList;\n    };\n    TreeView.prototype.setDragAndDrop = function (toBind) {\n        if (toBind) {\n            this.initializeDrag();\n        }\n        else {\n            this.destroyDrag();\n        }\n    };\n    TreeView.prototype.initializeDrag = function () {\n        var _this = this;\n        var virtualEle;\n        var proxy = this;\n        this.dragObj = new Draggable(this.element, {\n            enableTailMode: true,\n            enableAutoScroll: true,\n            dragTarget: '.' + TEXTWRAP,\n            helper: function (e) {\n                _this.dragTarget = e.sender.target;\n                var dragRoot = closest(_this.dragTarget, '.' + ROOT);\n                var dragWrap = closest(_this.dragTarget, '.' + TEXTWRAP);\n                _this.dragLi = closest(_this.dragTarget, '.' + LISTITEM);\n                if (_this.fullRowSelect && !dragWrap && _this.dragTarget.classList.contains(FULLROW)) {\n                    dragWrap = _this.dragTarget.nextElementSibling;\n                }\n                if (!_this.dragTarget || !e.element.isSameNode(dragRoot) || !dragWrap ||\n                    _this.dragTarget.classList.contains(ROOT) || _this.dragTarget.classList.contains(PARENTITEM) ||\n                    _this.dragTarget.classList.contains(LISTITEM) || _this.dragLi.classList.contains('e-disable')) {\n                    return false;\n                }\n                var cloneEle = (dragWrap.cloneNode(true));\n                if (isNOU(select('div.' + ICON, cloneEle))) {\n                    var icon = proxy.createElement('div', { className: ICON + ' ' + EXPANDABLE });\n                    cloneEle.insertBefore(icon, cloneEle.children[0]);\n                }\n                var cssClass = DRAGITEM + ' ' + ROOT + ' ' + _this.cssClass + ' ' + (_this.enableRtl ? RTL : '');\n                virtualEle = proxy.createElement('div', { className: cssClass });\n                virtualEle.appendChild(cloneEle);\n                var nLen = _this.selectedNodes.length;\n                if (nLen > 1 && _this.allowMultiSelection && _this.dragLi.classList.contains(ACTIVE)) {\n                    var cNode = proxy.createElement('span', { className: DROPCOUNT, innerHTML: '' + nLen });\n                    virtualEle.appendChild(cNode);\n                }\n                document.body.appendChild(virtualEle);\n                document.body.style.cursor = '';\n                _this.dragData = _this.getNodeData(_this.dragLi);\n                return virtualEle;\n            },\n            dragStart: function (e) {\n                addClass([_this.element], DRAGGING);\n                var eventArgs = _this.getDragEvent(e.event, _this, null, e.target);\n                if (eventArgs.draggedNode.classList.contains(EDITING)) {\n                    eventArgs.cancel = true;\n                }\n                else {\n                    _this.trigger('nodeDragStart', eventArgs);\n                }\n                if (eventArgs.cancel) {\n                    detach(virtualEle);\n                    removeClass([_this.element], DRAGGING);\n                    _this.dragStartAction = false;\n                }\n                else {\n                    _this.dragStartAction = true;\n                }\n            },\n            drag: function (e) {\n                _this.dragObj.setProperties({ cursorAt: { top: (!isNOU(e.event.targetTouches) || Browser.isDevice) ? 60 : -20 } });\n                _this.dragAction(e, virtualEle);\n            },\n            dragStop: function (e) {\n                removeClass([_this.element], DRAGGING);\n                _this.removeVirtualEle();\n                var dropTarget = e.target;\n                var dropRoot = (closest(dropTarget, '.' + DROPPABLE));\n                if (!dropTarget || !dropRoot) {\n                    detach(e.helper);\n                    document.body.style.cursor = '';\n                }\n                var eventArgs = _this.getDragEvent(e.event, _this, dropTarget, dropTarget);\n                _this.trigger('nodeDragStop', eventArgs);\n                if (eventArgs.cancel) {\n                    if (e.helper.parentNode) {\n                        detach(e.helper);\n                    }\n                    document.body.style.cursor = '';\n                }\n                _this.dragStartAction = false;\n            }\n        });\n        this.dropObj = new Droppable(this.element, {\n            out: function (e) {\n                if (!isNOU(e) && !e.target.classList.contains(SIBLING)) {\n                    document.body.style.cursor = 'not-allowed';\n                }\n            },\n            over: function (e) {\n                document.body.style.cursor = '';\n            },\n            drop: function (e) {\n                _this.dropAction(e);\n            }\n        });\n    };\n    TreeView.prototype.dragAction = function (e, virtualEle) {\n        var dropRoot = closest(e.target, '.' + DROPPABLE);\n        var dropWrap = closest(e.target, '.' + TEXTWRAP);\n        var icon = select('div.' + ICON, virtualEle);\n        removeClass([icon], [DROPIN, DROPNEXT, DROPOUT, NODROP]);\n        this.removeVirtualEle();\n        document.body.style.cursor = '';\n        var classList = e.target.classList;\n        if (this.fullRowSelect && !dropWrap && !isNOU(classList) && classList.contains(FULLROW)) {\n            dropWrap = e.target.nextElementSibling;\n        }\n        if (dropRoot) {\n            var dropLi = closest(e.target, '.' + LISTITEM);\n            if (!dropRoot.classList.contains(ROOT) || (dropWrap &&\n                (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi)))) {\n                if (dropLi && e && (e.event.offsetY < 7)) {\n                    addClass([icon], DROPNEXT);\n                    var virEle = this.createElement('div', { className: SIBLING });\n                    var index = this.fullRowSelect ? (1) : (0);\n                    dropLi.insertBefore(virEle, dropLi.children[index]);\n                }\n                else if (dropLi && e && (e.target.offsetHeight > 0 && e.event.offsetY > (e.target.offsetHeight - 10))) {\n                    addClass([icon], DROPNEXT);\n                    var virEle = this.createElement('div', { className: SIBLING });\n                    var index = this.fullRowSelect ? (2) : (1);\n                    dropLi.insertBefore(virEle, dropLi.children[index]);\n                }\n                else {\n                    addClass([icon], DROPIN);\n                }\n            }\n            else if (e.target.nodeName === 'LI' && (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi))) {\n                addClass([icon], DROPNEXT);\n                this.renderVirtualEle(e);\n            }\n            else if (e.target.classList.contains(SIBLING)) {\n                addClass([icon], DROPNEXT);\n            }\n            else {\n                addClass([icon], DROPOUT);\n            }\n        }\n        else {\n            addClass([icon], NODROP);\n            document.body.style.cursor = 'not-allowed';\n        }\n        this.trigger('nodeDragging', this.getDragEvent(e.event, this, e.target, e.target));\n    };\n    TreeView.prototype.dropAction = function (e) {\n        var offsetY = e.event.offsetY;\n        var dropTarget = e.target;\n        var dragObj;\n        var dragInstance = e.dragData.draggable;\n        for (var i = 0; i < dragInstance.ej2_instances.length; i++) {\n            if (dragInstance.ej2_instances[i] instanceof TreeView_1) {\n                dragObj = dragInstance.ej2_instances[i];\n                break;\n            }\n        }\n        if (dragObj && dragObj.dragTarget) {\n            var dragTarget = dragObj.dragTarget;\n            var dragLi = (closest(dragTarget, '.' + LISTITEM));\n            var dropLi = (closest(dropTarget, '.' + LISTITEM));\n            if (dropLi == null && dropTarget.classList.contains(ROOT)) {\n                dropLi = dropTarget.firstElementChild;\n            }\n            detach(e.droppedElement);\n            document.body.style.cursor = '';\n            if (!dropLi || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                return;\n            }\n            if (dragObj.allowMultiSelection && (dragLi.classList.contains(ACTIVE) || (offsetY < 7 ||\n                (e.target.offsetHeight > 0 && offsetY > (e.target.offsetHeight - 10))))) {\n                var sNodes = selectAll('.' + ACTIVE, dragObj.element);\n                for (var i = 0; i < sNodes.length; i++) {\n                    if (dropLi.isSameNode(sNodes[i]) || this.isDescendant(sNodes[i], dropLi)) {\n                        continue;\n                    }\n                    this.appendNode(dropTarget, sNodes[i], dropLi, e, dragObj, offsetY);\n                }\n            }\n            else {\n                this.appendNode(dropTarget, dragLi, dropLi, e, dragObj, offsetY);\n            }\n        }\n        this.trigger('nodeDropped', this.getDragEvent(e.event, dragObj, dropTarget, e.target, e.dragData.draggedElement));\n    };\n    TreeView.prototype.appendNode = function (dropTarget, dragLi, dropLi, e, dragObj, offsetY) {\n        if (!dragLi.classList.contains('e-disable') && !dropLi.classList.contains('e-disable')) {\n            if (dropTarget.nodeName === 'LI') {\n                this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n            }\n            else if (dropTarget.firstElementChild && dropTarget.classList.contains(ROOT)) {\n                if (dropTarget.firstElementChild.nodeName === 'UL') {\n                    this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n                }\n            }\n            else {\n                this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY);\n            }\n        }\n    };\n    TreeView.prototype.dropAsSiblingNode = function (dragLi, dropLi, e, dragObj) {\n        var dropUl = closest(dropLi, '.' + PARENTITEM);\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var pre;\n        if (e.target.offsetHeight > 0 && e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        dropUl.insertBefore(dragLi, pre ? e.target : e.target.nextElementSibling);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.dropAsChildNode = function (dragLi, dropLi, dragObj, index, e, pos) {\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var dropParentUl = closest(dropLi, '.' + PARENTITEM);\n        if (e && (pos < 7)) {\n            dropParentUl.insertBefore(dragLi, dropLi);\n        }\n        else if (e && (e.target.offsetHeight > 0 && pos > (e.target.offsetHeight - 10))) {\n            dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n        }\n        else {\n            var dropUl = this.expandParent(dropLi);\n            dropUl.insertBefore(dragLi, dropUl.childNodes[index]);\n        }\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.expandParent = function (dropLi) {\n        var dropIcon = select('div.' + ICON, dropLi);\n        if (dropIcon && dropIcon.classList.contains(EXPANDABLE)) {\n            this.expandAction(dropLi, dropIcon, null);\n        }\n        var dropUl = select('.' + PARENTITEM, dropLi);\n        if (isNOU(dropUl)) {\n            this.trigger('nodeExpanding', this.getExpandEvent(dropLi, null));\n            if (isNOU(dropIcon)) {\n                ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n            }\n            var icon = select('div.' + ICON, dropLi);\n            removeClass([icon], EXPANDABLE);\n            dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            dropLi.setAttribute('aria-expanded', 'true');\n            removeClass([dropLi], NODECOLLAPSED);\n            this.trigger('nodeExpanded', this.getExpandEvent(dropLi, null));\n        }\n        return dropUl;\n    };\n    TreeView.prototype.updateElement = function (dragParentUl, dragParentLi) {\n        if (dragParentLi && dragParentUl.childElementCount === 0) {\n            var dragIcon = select('div.' + ICON, dragParentLi);\n            detach(dragParentUl);\n            detach(dragIcon);\n            dragParentLi.removeAttribute('aria-expanded');\n        }\n    };\n    TreeView.prototype.updateAriaLevel = function (dragLi) {\n        var level = this.parents(dragLi, '.' + PARENTITEM).length;\n        dragLi.setAttribute('aria-level', '' + level);\n        this.updateChildAriaLevel(select('.' + PARENTITEM, dragLi), level + 1);\n    };\n    TreeView.prototype.updateChildAriaLevel = function (element, level) {\n        if (!isNOU(element)) {\n            var cNodes = element.childNodes;\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                liEle.setAttribute('aria-level', '' + level);\n                this.updateChildAriaLevel(select('.' + PARENTITEM, liEle), level + 1);\n            }\n        }\n    };\n    TreeView.prototype.renderVirtualEle = function (e) {\n        var pre;\n        if (e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        var virEle = this.createElement('div', { className: SIBLING });\n        var index = this.fullRowSelect ? (pre ? 1 : 2) : (pre ? 0 : 1);\n        e.target.insertBefore(virEle, e.target.children[index]);\n    };\n    TreeView.prototype.removeVirtualEle = function () {\n        var sibEle = select('.' + SIBLING);\n        if (sibEle) {\n            detach(sibEle);\n        }\n    };\n    TreeView.prototype.destroyDrag = function () {\n        if (this.dragObj && this.dropObj) {\n            this.dragObj.destroy();\n            this.dropObj.destroy();\n        }\n    };\n    TreeView.prototype.getDragEvent = function (event, obj, dropTarget, target, dragNode) {\n        var dropLi = dropTarget ? closest(dropTarget, '.' + LISTITEM) : null;\n        var dropData = dropLi ? this.getNodeData(dropLi) : null;\n        var draggedNode = obj ? obj.dragLi : dragNode;\n        var draggedNodeData = obj ? obj.dragData : null;\n        var newParent = dropTarget ? this.parents(dropTarget, '.e-list-item') : null;\n        var targetParent = null;\n        var pre = null;\n        if (dropTarget) {\n            if (newParent.length === 0) {\n                targetParent = null;\n            }\n            else if (dropTarget.classList.contains('e-list-item')) {\n                targetParent = newParent[0];\n            }\n            else {\n                targetParent = newParent[1];\n            }\n        }\n        if (dropTarget && closest(dropTarget, '.e-treeview')) {\n            if (event.offsetY <= 5) {\n                pre = 'Before';\n            }\n            else if (target.offsetHeight <= 32 && event.offsetY < target.offsetHeight - 10) {\n                pre = 'Child';\n                targetParent = closest(dropTarget, '.e-list-item');\n            }\n            else {\n                pre = 'After';\n            }\n        }\n        return {\n            cancel: false,\n            event: event,\n            draggedNode: draggedNode,\n            draggedNodeData: draggedNodeData,\n            droppedNode: dropLi,\n            droppedNodeData: dropData,\n            target: target,\n            dropTarget: targetParent\n        };\n    };\n    TreeView.prototype.addFullRow = function (toAdd) {\n        var len = this.liList.length;\n        if (toAdd) {\n            for (var i = 0; i < len; i++) {\n                this.createFullRow(this.liList[i]);\n            }\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                var rowDiv = select('.' + FULLROW, this.liList[i]);\n                detach(rowDiv);\n            }\n        }\n    };\n    TreeView.prototype.createFullRow = function (item) {\n        var rowDiv = this.createElement('div', { className: FULLROW });\n        item.insertBefore(rowDiv, item.childNodes[0]);\n    };\n    TreeView.prototype.addMultiSelect = function (toAdd) {\n        if (toAdd) {\n            var liEles = selectAll('.' + LISTITEM + ':not([aria-selected=\"true\"])', this.element);\n            for (var _i = 0, liEles_1 = liEles; _i < liEles_1.length; _i++) {\n                var ele = liEles_1[_i];\n                ele.setAttribute('aria-selected', 'false');\n            }\n        }\n        else {\n            var liEles = selectAll('.' + LISTITEM + '[aria-selected=\"false\"]', this.element);\n            for (var _a = 0, liEles_2 = liEles; _a < liEles_2.length; _a++) {\n                var ele = liEles_2[_a];\n                ele.removeAttribute('aria-selected');\n            }\n        }\n    };\n    TreeView.prototype.collapseByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNOU(element)) {\n            var cNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                var icon = select('.' + COLLAPSIBLE, select('.' + TEXTWRAP, liEle));\n                if (!isNOU(icon)) {\n                    this.collapseNode(liEle, icon, null);\n                }\n                this.collapseByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.collapseAllNodes = function (excludeHiddenNodes) {\n        var cIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + COLLAPSIBLE, this.element));\n        for (var i = 0, len = cIcons.length; i < len; i++) {\n            var icon = cIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.collapseNode(liEle, icon, null);\n        }\n    };\n    TreeView.prototype.expandByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNOU(element)) {\n            var eNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = eNodes.length; i < len; i++) {\n                var liEle = eNodes[i];\n                var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEle));\n                if (!isNOU(icon)) {\n                    this.expandAction(liEle, icon, null);\n                }\n                this.expandByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.expandAllNodes = function (excludeHiddenNodes) {\n        var eIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + EXPANDABLE, this.element));\n        for (var i = 0, len = eIcons.length; i < len; i++) {\n            var icon = eIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.expandAction(liEle, icon, null, true);\n        }\n    };\n    TreeView.prototype.getVisibleNodes = function (excludeHiddenNodes, nodes) {\n        var vNodes = Array.prototype.slice.call(nodes);\n        if (excludeHiddenNodes) {\n            for (var i = 0; i < vNodes.length; i++) {\n                if (!isVisible(vNodes[i])) {\n                    vNodes.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        return vNodes;\n    };\n    TreeView.prototype.removeNode = function (node) {\n        var dragParentUl = closest(node, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        detach(node);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateInstance();\n    };\n    TreeView.prototype.updateInstance = function () {\n        this.updateList();\n        this.updateSelectedNodes();\n    };\n    TreeView.prototype.updateList = function () {\n        this.liList = Array.prototype.slice.call(selectAll('.' + LISTITEM, this.element));\n    };\n    TreeView.prototype.updateSelectedNodes = function () {\n        this.setProperties({ selectedNodes: [] }, true);\n        var sNodes = selectAll('.' + ACTIVE, this.element);\n        this.selectGivenNodes(sNodes);\n    };\n    TreeView.prototype.doGivenAction = function (nodes, selector, toExpand) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            var icon = select('.' + selector, select('.' + TEXTWRAP, liEle));\n            if (!isNOU(icon)) {\n                toExpand ? this.expandAction(liEle, icon, null) : this.collapseNode(liEle, icon, null);\n            }\n        }\n    };\n    TreeView.prototype.addGivenNodes = function (nodes, dropLi, index, isRemote) {\n        var level = dropLi ? parseFloat(dropLi.getAttribute('aria-level')) + 1 : 1;\n        if (isRemote) {\n            this.updateMapper(level);\n        }\n        var li = ListBase.createListItemFromJson(this.createElement, nodes, this.listBaseOption, level);\n        var dropUl = dropLi ? this.expandParent(dropLi) : select('.' + PARENTITEM, this.element);\n        var refNode = dropUl.childNodes[index];\n        for (var i = 0; i < li.length; i++) {\n            dropUl.insertBefore(li[i], refNode);\n        }\n        this.finalizeNode(dropUl);\n    };\n    TreeView.prototype.updateMapper = function (level) {\n        var mapper = (level === 1) ? this.fields : this.getChildFields(this.fields, level - 1, 1);\n        this.updateListProp(mapper);\n    };\n    TreeView.prototype.updateListProp = function (mapper) {\n        var prop = this.getActualProperties(mapper);\n        this.listBaseOption.fields = prop;\n        this.listBaseOption.fields.url = prop.hasOwnProperty('navigateUrl') ? prop.navigateUrl : 'navigateUrl';\n    };\n    TreeView.prototype.doDisableAction = function (nodes) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            liEle.setAttribute('aria-disabled', 'true');\n            addClass([liEle], DISABLE);\n        }\n    };\n    TreeView.prototype.doEnableAction = function (nodes) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            liEle.removeAttribute('aria-disabled');\n            removeClass([liEle], DISABLE);\n        }\n    };\n    TreeView.prototype.setTouchClass = function () {\n        var ele = closest(this.element, '.' + BIGGER);\n        this.touchClass = isNOU(ele) ? '' : SMALL;\n    };\n    TreeView.prototype.wireInputEvents = function (inpEle) {\n        EventHandler.add(inpEle, 'blur', this.inputFocusOut, this);\n    };\n    TreeView.prototype.wireEditingEvents = function (toBind) {\n        if (toBind) {\n            var proxy_1 = this;\n            this.touchEditObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (e.tapCount === 2) {\n                        e.originalEvent.preventDefault();\n                        proxy_1.editingHandler(e.originalEvent);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchEditObj) {\n                this.touchEditObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireClickEvent = function (toBind) {\n        if (toBind) {\n            var proxy_2 = this;\n            this.touchClickObj = new Touch(this.element, {\n                tap: function (e) {\n                    e.originalEvent.preventDefault();\n                    proxy_2.clickHandler(e);\n                }\n            });\n        }\n        else {\n            if (this.touchClickObj) {\n                this.touchClickObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireExpandOnEvent = function (toBind) {\n        var _this = this;\n        if (toBind) {\n            var proxy_3 = this;\n            this.touchExpandObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (_this.expandOnType === 'Click' || (_this.expandOnType === 'DblClick' && e.tapCount === 2)) {\n                        proxy_3.expandHandler(e);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchExpandObj) {\n                this.touchExpandObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.mouseDownHandler = function (e) {\n        this.mouseDownStatus = true;\n        if (e.shiftKey || e.ctrlKey) {\n            e.preventDefault();\n        }\n        if (e.ctrlKey && this.allowMultiSelection) {\n            EventHandler.add(this.element, 'contextmenu', this.preventContextMenu, this);\n        }\n    };\n    ;\n    TreeView.prototype.preventContextMenu = function (e) {\n        e.preventDefault();\n    };\n    TreeView.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'mousedown', this.mouseDownHandler, this);\n        this.wireClickEvent(true);\n        this.wireExpandOnEvent(true);\n        EventHandler.add(this.element, 'focus', this.focusIn, this);\n        EventHandler.add(this.element, 'blur', this.focusOut, this);\n        EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.element, 'mouseout', this.onMouseLeave, this);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown',\n        });\n    };\n    TreeView.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'mousedown', this.mouseDownHandler);\n        this.wireClickEvent(false);\n        this.wireExpandOnEvent(false);\n        EventHandler.remove(this.element, 'focus', this.focusIn);\n        EventHandler.remove(this.element, 'blur', this.focusOut);\n        EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.element, 'mouseout', this.onMouseLeave);\n        this.keyboardModule.destroy();\n    };\n    TreeView.prototype.parents = function (element, selector) {\n        var matched = [];\n        var el = element.parentNode;\n        while (!isNOU(el)) {\n            if (matches(el, selector)) {\n                matched.push(el);\n            }\n            el = el.parentNode;\n        }\n        return matched;\n    };\n    TreeView.prototype.isDescendant = function (parent, child) {\n        var node = child.parentNode;\n        while (!isNOU(node)) {\n            if (node === parent) {\n                return true;\n            }\n            node = node.parentNode;\n        }\n        return false;\n    };\n    TreeView.prototype.showSpinner = function (element) {\n        addClass([element], LOAD);\n        createSpinner({\n            target: element,\n            width: Browser.isDevice ? 16 : 14\n        }, this.createElement);\n        showSpinner(element);\n    };\n    TreeView.prototype.hideSpinner = function (element) {\n        hideSpinner(element);\n        element.innerHTML = '';\n        removeClass([element], LOAD);\n    };\n    TreeView.prototype.setCheckedNodes = function (nodes) {\n        nodes = JSON.parse(JSON.stringify(nodes));\n        this.uncheckAll(this.checkedNodes);\n        if (nodes.length > 0) {\n            this.checkAll(nodes);\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {TreeView} newProp\n     * @param  {TreeView} oldProp\n     * @returns void\n     * @private\n     */\n    TreeView.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.setDragAndDrop(this.allowDragAndDrop);\n                    break;\n                case 'allowEditing':\n                    this.wireEditingEvents(this.allowEditing);\n                    break;\n                case 'allowMultiSelection':\n                    if (this.selectedNodes.length > 1) {\n                        var sNode = this.getElement(this.selectedNodes[0]);\n                        this.isLoaded = false;\n                        this.removeSelectAll();\n                        this.selectNode(sNode, null);\n                        this.isLoaded = true;\n                    }\n                    this.setMultiSelect(this.allowMultiSelection);\n                    this.addMultiSelect(this.allowMultiSelection);\n                    break;\n                case 'checkedNodes':\n                    if (this.showCheckBox) {\n                        this.checkedNodes = oldProp.checkedNodes;\n                        this.setCheckedNodes(newProp.checkedNodes);\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCssClass(oldProp.cssClass, newProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'expandOn':\n                    this.wireExpandOnEvent(false);\n                    this.setExpandOnType();\n                    this.wireExpandOnEvent(true);\n                    break;\n                case 'fields':\n                    this.updateListProp(this.fields);\n                    this.reRenderNodes();\n                    break;\n                case 'fullRowSelect':\n                    this.setFullRow(this.fullRowSelect);\n                    this.addFullRow(this.fullRowSelect);\n                    break;\n                case 'nodeTemplate':\n                    this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n                    this.reRenderNodes();\n                    break;\n                case 'selectedNodes':\n                    this.removeSelectAll();\n                    this.setProperties({ selectedNodes: newProp.selectedNodes }, true);\n                    this.doSelectionAction();\n                    break;\n                case 'showCheckBox':\n                    this.reRenderNodes();\n                    break;\n                case 'sortOrder':\n                    this.reRenderNodes();\n                    break;\n            }\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     */\n    TreeView.prototype.destroy = function () {\n        this.element.removeAttribute('aria-activedescendant');\n        this.element.removeAttribute('tabindex');\n        this.unWireEvents();\n        this.wireEditingEvents(false);\n        this.rippleFn();\n        this.rippleIconFn();\n        this.setCssClass(this.cssClass, null);\n        this.setDragAndDrop(false);\n        this.setFullRow(false);\n        this.element.innerHTML = '';\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Adds the collection of TreeView nodes based on target and index position. If target node is not specified,\n     * then the nodes are added as children of the given parentID or in the root level of TreeView.\n     * @param  { { [key: string]: Object }[] } nodes - Specifies the array of JSON data that has to be added.\n     * @param  { string | Element } target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  { number } index - Specifies the index to place the newly added nodes in the target element.\n     */\n    TreeView.prototype.addNodes = function (nodes, target, index) {\n        if (isNOU(nodes)) {\n            return;\n        }\n        var dropLi = this.getElement(target);\n        nodes = this.getSortedData(nodes);\n        if (this.fields.dataSource instanceof DataManager) {\n            this.addGivenNodes(nodes, dropLi, index, true);\n        }\n        else if (this.dataType === 2) {\n            this.addGivenNodes(nodes, dropLi, index);\n        }\n        else {\n            if (dropLi) {\n                this.addGivenNodes(nodes, dropLi, index);\n            }\n            else {\n                for (var i = 0; i < nodes.length; i++) {\n                    var pid = getValue(this.fields.parentID, nodes[i]);\n                    dropLi = pid ? this.getElement(pid.toString()) : pid;\n                    this.addGivenNodes([nodes[i]], dropLi, index);\n                }\n            }\n        }\n    };\n    /**\n     * Instead of clicking on the TreeView node for editing, we can enable it by using\n     * `beginEdit` property. On passing the node ID or element through this property, the edit textBox\n     * will be created for the particular node thus allowing us to edit it.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.beginEdit = function (node) {\n        var ele = this.getElement(node);\n        if (!isNOU(ele)) {\n            this.createTextbox(ele, null);\n        }\n    };\n    /**\n     * Checks all the unchecked nodes. You can also check specific nodes by passing array of unchecked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.checkAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, true);\n        }\n    };\n    /**\n     * Collapses all the expanded TreeView nodes. You can collapse specific nodes by passing array of nodes as argument to this method.\n     * You can also collapse all the nodes excluding the hidden nodes by setting **excludeHiddenNodes** to true. If you want to collapse\n     * a specific level of nodes, set **level** as argument to collapseAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/ array of TreeView node.\n     * @param  {number} level - TreeView nodes will collapse up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes of TreeView when collapsing all nodes.\n     */\n    TreeView.prototype.collapseAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNOU(nodes)) {\n            this.doGivenAction(nodes, COLLAPSIBLE, false);\n        }\n        else {\n            if (level > 0) {\n                this.collapseByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.collapseAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Disables the collection of nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.disableNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            this.doDisableAction(nodes);\n        }\n    };\n    /**\n     * Enables the collection of disabled nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.enableNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            this.doEnableAction(nodes);\n        }\n    };\n    /**\n     * Ensures visibility of the TreeView node by using node ID or node element.\n     * When many TreeView nodes are present and we need to find a particular node, `ensureVisible` property\n     * helps bring the node to visibility by expanding the TreeView and scrolling to the specific node.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView nodes.\n     */\n    TreeView.prototype.ensureVisible = function (node) {\n        var liEle = this.getElement(node);\n        if (isNOU(liEle)) {\n            return;\n        }\n        var parents = this.parents(liEle, '.' + LISTITEM);\n        this.expandAll(parents);\n        setTimeout(function () { liEle.scrollIntoView(true); }, 450);\n    };\n    /**\n     * Expands all the collapsed TreeView nodes. You can expand the specific nodes by passing the array of collapsed nodes\n     * as argument to this method. You can also expand all the collapsed nodes by excluding the hidden nodes by setting\n     * **excludeHiddenNodes** to true to this method. To expand a specific level of nodes, set **level** as argument to expandAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     * @param  {number} level - TreeView nodes will expand up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes when expanding all nodes.\n     */\n    TreeView.prototype.expandAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNOU(nodes)) {\n            this.doGivenAction(nodes, EXPANDABLE, true);\n        }\n        else {\n            if (level > 0) {\n                this.expandByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.expandAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Get the node's data such as id, text, parentID, selected, isChecked, and expanded by passing the node element or it's ID.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.getNode = function (node) {\n        var ele = this.getElement(node);\n        return this.getNodeData(ele, true);\n    };\n    /**\n     * Moves the collection of nodes within the same TreeView based on target or its index position.\n     * @param  {string[] | Element[]} sourceNodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {number} index - Specifies the index to place the moved nodes in the target element.\n     */\n    TreeView.prototype.moveNodes = function (sourceNodes, target, index) {\n        var dropLi = this.getElement(target);\n        if (isNOU(dropLi)) {\n            return;\n        }\n        for (var i = 0; i < sourceNodes.length; i++) {\n            var dragLi = this.getElement(sourceNodes[i]);\n            if (isNOU(dragLi) || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                continue;\n            }\n            this.dropAsChildNode(dragLi, dropLi, this, index);\n        }\n    };\n    /**\n     * Removes the collection of TreeView nodes by passing the array of node details as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.removeNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            for (var i = 0, len = nodes.length; i < len; i++) {\n                var liEle = this.getElement(nodes[i]);\n                if (isNOU(liEle)) {\n                    continue;\n                }\n                this.removeNode(liEle);\n            }\n        }\n    };\n    /**\n     * Replaces the text of the TreeView node with the given text.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {string} newText - Specifies the new text of TreeView node.\n     */\n    TreeView.prototype.updateNode = function (target, newText) {\n        if (isNOU(target) || isNOU(newText) || !this.allowEditing) {\n            return;\n        }\n        var liEle = this.getElement(target);\n        if (isNOU(liEle)) {\n            return;\n        }\n        var txtEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var eventArgs = this.getEditEvent(liEle, null, null);\n        this.trigger('nodeEditing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.appendNewText(liEle, txtEle, newText, false);\n    };\n    /**\n     * Unchecks all the checked nodes. You can also uncheck the specific nodes by passing array of checked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.uncheckAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, false);\n        }\n    };\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowMultiSelection\", void 0);\n    __decorate([\n        Complex({}, NodeAnimationSettings)\n    ], TreeView.prototype, \"animation\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"checkedNodes\", void 0);\n    __decorate([\n        Property('')\n    ], TreeView.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('Auto')\n    ], TreeView.prototype, \"expandOn\", void 0);\n    __decorate([\n        Complex({}, FieldsSettings)\n    ], TreeView.prototype, \"fields\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeView.prototype, \"fullRowSelect\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"nodeTemplate\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"selectedNodes\", void 0);\n    __decorate([\n        Property('None')\n    ], TreeView.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"drawNode\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"keyPress\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeChecked\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeChecking\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeClicked\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsed\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsing\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragging\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragStart\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragStop\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDropped\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeEdited\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeEditing\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeExpanded\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeExpanding\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeSelected\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeSelecting\", void 0);\n    TreeView = TreeView_1 = __decorate([\n        NotifyPropertyChanges\n    ], TreeView);\n    return TreeView;\n    var TreeView_1;\n}(Component));\nexport { TreeView };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, formatUnit, EventHandler, Event, isNullOrUndefined, closest } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, Browser } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, addClass, removeClass, Touch } from '@syncfusion/ej2-base';\nvar CONTROL = 'e-control';\nvar ROOT = 'e-sidebar';\nvar DOCKER = 'e-dock';\nvar CLOSE = 'e-close';\nvar OPEN = 'e-open';\nvar TRASITION = 'e-transition';\nvar DEFAULTBACKDROP = 'e-sidebar-overlay';\nvar CONTEXTBACKDROP = 'e-backdrop';\nvar RTL = 'e-rtl';\nvar RIGHT = 'e-right';\nvar LEFT = 'e-left';\nvar OVER = 'e-over';\nvar PUSH = 'e-push';\nvar SLIDE = 'e-slide';\nvar VISIBILITY = 'e-visibility';\nvar MAINCONTENTANIMATION = 'e-content-animation';\nvar DISABLEANIMATION = 'e-disable-animation';\nvar CONTEXT = 'e-sidebar-context';\nvar SIDEBARABSOLUTE = 'e-sidebar-absolute';\n/**\n * Sidebar is an expandable or collapsible\n * component that typically act as a side container to place the primary or secondary content alongside of the main content.\n * ```html\n * <aside id=\"sidebar\">\n * </aside>\n * ```\n * ```typescript\n * <script>\n *   let sidebarObject: Sidebar = new Sidebar();\n *   sidebarObject.appendTo(\"#sidebar\");\n * </script>\n * ```\n */\nvar Sidebar = /** @class */ (function (_super) {\n    __extends(Sidebar, _super);\n    function Sidebar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Sidebar.prototype.preRender = function () {\n        this.setWidth();\n    };\n    Sidebar.prototype.render = function () {\n        this.initialize();\n        this.wireEvents();\n    };\n    Sidebar.prototype.initialize = function () {\n        this.setTarget();\n        this.addClass();\n        this.setZindex();\n        if (this.enableDock) {\n            this.setDock();\n        }\n        if (this.isOpen) {\n            this.show();\n        }\n        else {\n            this.setMediaQuery();\n        }\n        this.setType(this.type);\n        this.setCloseOnDocumentClick();\n        this.setEnableRTL();\n    };\n    Sidebar.prototype.setEnableRTL = function () {\n        this.enableRtl ? (addClass([this.element], RTL)) :\n            (removeClass([this.element], RTL));\n    };\n    Sidebar.prototype.setTarget = function () {\n        this.targetParentElement = this.element.previousElementSibling || this.element.parentElement;\n        if (typeof (this.target) === 'string') {\n            this.setProperties({ target: document.querySelector(this.target) }, true);\n        }\n        if (this.target) {\n            this.target.insertBefore(this.element, this.target.children[0]);\n            addClass([this.element], SIDEBARABSOLUTE);\n            addClass([this.target], CONTEXT);\n        }\n    };\n    Sidebar.prototype.setCloseOnDocumentClick = function () {\n        if (this.closeOnDocumentClick) {\n            EventHandler.add(document, 'mousedown touchstart', this.documentclickHandler, this);\n        }\n        else {\n            EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        }\n    };\n    Sidebar.prototype.setWidth = function () {\n        if (this.enableDock && this.position === 'Left') {\n            setStyle(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n        else if (this.enableDock && this.position === 'Right') {\n            setStyle(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n        else if (!this.enableDock) {\n            setStyle(this.element, { 'width': this.setDimension(this.width) });\n        }\n    };\n    Sidebar.prototype.setDimension = function (width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            width = (width.match(/px|%|em/)) ? width : formatUnit(width);\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    };\n    Sidebar.prototype.setZindex = function () {\n        setStyle(this.element, { 'z-index': '' + this.zIndex });\n    };\n    Sidebar.prototype.addClass = function () {\n        var classELement = document.querySelector('.e-main-content');\n        if (!isNullOrUndefined((classELement ||\n            this.element.nextElementSibling))) {\n            addClass([classELement || this.element.nextElementSibling], [MAINCONTENTANIMATION]);\n        }\n        if (!this.enableDock && this.type !== 'Auto') {\n            addClass([this.element], [VISIBILITY]);\n        }\n        removeClass([this.element], [OPEN, CLOSE, RIGHT, LEFT, SLIDE, PUSH, OVER]);\n        this.element.classList.add(ROOT);\n        addClass([this.element], (this.position === 'Right') ? RIGHT : LEFT);\n        if (this.type === 'Auto' && !Browser.isDevice && !this.enableDock) {\n            addClass([this.element], OPEN);\n        }\n        else {\n            addClass([this.element], CLOSE);\n        }\n    };\n    Sidebar.prototype.destroyBackDrop = function () {\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (this.target && this.showBackdrop && sibling) {\n            removeClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && this.modal) {\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n    };\n    /**\n     * Hide the Sidebar component.\n     * @returns void\n     */\n    Sidebar.prototype.hide = function () {\n        var closeArguments = { model: this, element: this.element, cancel: false };\n        this.trigger('close', closeArguments);\n        if (!closeArguments.cancel) {\n            if (this.element.classList.contains(CLOSE)) {\n                return;\n            }\n            if (this.element.classList.contains(OPEN)) {\n                var changeArguments = { name: 'change', element: this.element };\n                this.trigger('change', changeArguments);\n            }\n            addClass([this.element], CLOSE);\n            removeClass([this.element], OPEN);\n            this.enableDock ? setStyle(this.element, { 'width': formatUnit(this.dockSize) }) :\n                setStyle(this.element, { 'width': formatUnit(this.width) });\n            this.setDock();\n            this.setType(this.type);\n            var sibling = document.querySelector('.e-main-content') ||\n                this.element.nextElementSibling;\n            if (!this.enableDock && sibling) {\n                sibling.style.transform = 'translateX(' + 0 + 'px)';\n                this.position === 'Left' ? sibling.style.marginLeft = '0px' : sibling.style.marginRight = '0px';\n            }\n            this.destroyBackDrop();\n            this.setCloseOnDocumentClick();\n            this.setAnimation();\n            if (this.type === 'Slide') {\n                document.body.classList.remove('e-sidebar-overflow');\n            }\n            this.setProperties({ isOpen: false }, true);\n        }\n    };\n    /**\n     * Shows the Sidebar component.\n     * @returns void\n     */\n    Sidebar.prototype.show = function () {\n        var openArguments = { model: this, element: this.element, cancel: false };\n        this.trigger('open', openArguments);\n        if (!openArguments.cancel) {\n            removeClass([this.element], VISIBILITY);\n            if (this.element.classList.contains(OPEN)) {\n                return;\n            }\n            if (this.element.classList.contains(CLOSE)) {\n                var changeArguments = { name: 'change', element: this.element };\n                this.trigger('change', changeArguments);\n            }\n            addClass([this.element], [OPEN, TRASITION]);\n            setStyle(this.element, { 'transform': '' });\n            removeClass([this.element], CLOSE);\n            setStyle(this.element, { 'width': formatUnit(this.width) });\n            var elementWidth = this.element.getBoundingClientRect().width;\n            this.setType(this.type);\n            this.createBackDrop();\n            this.setCloseOnDocumentClick();\n            this.setAnimation();\n            if (this.type === 'Slide') {\n                document.body.classList.add('e-sidebar-overflow');\n            }\n            this.setProperties({ isOpen: true }, true);\n        }\n    };\n    Sidebar.prototype.setAnimation = function () {\n        if (this.animate) {\n            removeClass([this.element], DISABLEANIMATION);\n        }\n        else {\n            addClass([this.element], DISABLEANIMATION);\n        }\n    };\n    Sidebar.prototype.setDock = function () {\n        if (this.enableDock && this.position === 'Left' && !this.getState()) {\n            setStyle(this.element, { 'transform': 'translateX(' + -100 + '%) translateX(' + this.setDimension(this.dockSize) + ')' });\n        }\n        else if (this.enableDock && this.position === 'Right' && !this.getState()) {\n            setStyle(this.element, { 'transform': 'translateX(' + 100 + '%) translateX(' + '-' + this.setDimension(this.dockSize) + ')' });\n        }\n        if (this.element.classList.contains(CLOSE) && this.enableDock) {\n            setStyle(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n    };\n    Sidebar.prototype.createBackDrop = function () {\n        if (this.target && this.showBackdrop) {\n            var sibling = document.querySelector('.e-main-content') ||\n                this.element.nextElementSibling;\n            addClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && !this.modal && this.getState()) {\n            this.modal = this.createElement('div');\n            this.modal.className = DEFAULTBACKDROP;\n            this.modal.style.display = 'block';\n            document.body.appendChild(this.modal);\n        }\n    };\n    Sidebar.prototype.getPersistData = function () {\n        return this.addOnPersist(['type', 'position', 'isOpen']);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Sidebar.prototype.getModuleName = function () {\n        return 'sidebar';\n    };\n    /**\n     * Shows or hides the Sidebar based on the current state.\n     * @returns void\n     */\n    Sidebar.prototype.toggle = function (e) {\n        this.element.classList.contains(OPEN) ? this.hide() : this.show();\n    };\n    Sidebar.prototype.getState = function () {\n        return this.element.classList.contains(OPEN) ? true : false;\n    };\n    Sidebar.prototype.setMediaQuery = function () {\n        if (this.mediaQuery && this.mediaQuery.matches) {\n            this.show();\n        }\n        else if (this.mediaQuery && this.getState()) {\n            this.hide();\n        }\n    };\n    Sidebar.prototype.resize = function (e) {\n        if (this.type === 'Auto') {\n            if (Browser.isDevice) {\n                addClass([this.element], OVER);\n            }\n            else {\n                addClass([this.element], PUSH);\n            }\n        }\n        this.setMediaQuery();\n    };\n    Sidebar.prototype.documentclickHandler = function (e) {\n        if (closest(e.target, '.' + CONTROL + '' + '.' + ROOT)) {\n            return;\n        }\n        this.hide();\n    };\n    Sidebar.prototype.enableGestureHandler = function (args) {\n        if (this.position === 'Left' && args.swipeDirection === 'Right' &&\n            (args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n        else if (this.position === 'Left' && args.swipeDirection === 'Left') {\n            this.hide();\n        }\n        else if (this.position === 'Right' && args.swipeDirection === 'Right') {\n            this.hide();\n        }\n        else if (this.position === 'Right' && args.swipeDirection === 'Left'\n            && (window.innerWidth - args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n    };\n    Sidebar.prototype.setEnableGestures = function () {\n        if (this.enableGestures) {\n            this.mainContentEle = new Touch(document.body, { swipe: this.enableGestureHandler.bind(this) });\n            this.sidebarEle = new Touch(this.element, { swipe: this.enableGestureHandler.bind(this) });\n        }\n        else {\n            if (this.mainContentEle && this.sidebarEle) {\n                this.mainContentEle.destroy();\n                this.sidebarEle.destroy();\n            }\n        }\n    };\n    Sidebar.prototype.wireEvents = function () {\n        this.setEnableGestures();\n        window.addEventListener('resize', this.resize.bind(this));\n    };\n    Sidebar.prototype.unWireEvents = function () {\n        window.removeEventListener('resize', this.resize.bind(this));\n        EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        if (this.mainContentEle) {\n            this.mainContentEle.destroy();\n        }\n        if (this.sidebarEle) {\n            this.sidebarEle.destroy();\n        }\n    };\n    Sidebar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'isOpen':\n                    this.isOpen ? this.show() : this.hide();\n                    break;\n                case 'width':\n                    this.setWidth();\n                    if (!this.getState()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'animate':\n                    this.setAnimation();\n                    break;\n                case 'type':\n                    removeClass([this.element], [VISIBILITY]);\n                    this.addClass();\n                    this.setType(this.type);\n                    break;\n                case 'position':\n                    this.element.style.transform = '';\n                    this.setDock();\n                    if (sibling) {\n                        this.position === 'Left' ? sibling.style.marginRight = '0px' : sibling.style.marginLeft = '0px';\n                    }\n                    if (this.position === 'Right') {\n                        removeClass([this.element], LEFT);\n                        addClass([this.element], RIGHT);\n                    }\n                    else {\n                        removeClass([this.element], RIGHT);\n                        addClass([this.element], LEFT);\n                    }\n                    this.setType(this.type);\n                    break;\n                case 'showBackdrop':\n                    if (this.showBackdrop) {\n                        this.createBackDrop();\n                    }\n                    else {\n                        if (this.modal) {\n                            this.modal.style.display = 'none';\n                            this.modal.outerHTML = '';\n                            this.modal = null;\n                        }\n                    }\n                    break;\n                case 'target':\n                    if (typeof (this.target) === 'string') {\n                        this.setProperties({ target: document.querySelector(this.target) }, true);\n                    }\n                    if (isNullOrUndefined(this.target)) {\n                        removeClass([this.element], SIDEBARABSOLUTE);\n                        removeClass([oldProp.target], CONTEXT);\n                        setStyle(sibling, { 'margin-left': 0, 'margin-right': 0 });\n                        document.body.insertAdjacentElement('afterbegin', this.element);\n                    }\n                    else {\n                        _super.prototype.refresh.call(this);\n                    }\n                    break;\n                case 'closeOnDocumentClick':\n                    this.setCloseOnDocumentClick();\n                    break;\n                case 'enableDock':\n                    if (!this.getState()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setZindex();\n                    break;\n                case 'mediaQuery':\n                    this.setMediaQuery();\n                    break;\n                case 'enableGestures':\n                    this.setEnableGestures();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n            }\n        }\n    };\n    Sidebar.prototype.setType = function (type) {\n        var elementWidth = this.element.getBoundingClientRect().width;\n        this.setZindex();\n        if (this.enableDock) {\n            addClass([this.element], DOCKER);\n        }\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (sibling) {\n            sibling.style.transform = 'translateX(' + 0 + 'px)';\n            if (!Browser.isDevice && this.type !== 'Auto') {\n                this.position === 'Left' ? sibling.style.marginLeft = '0px' : sibling.style.marginRight = '0px';\n            }\n        }\n        var margin = this.position === 'Left' ? elementWidth + 'px' : elementWidth + 'px';\n        var eleWidth = this.position === 'Left' ? elementWidth : -(elementWidth);\n        removeClass([this.element], [PUSH, OVER, SLIDE]);\n        switch (type) {\n            case 'Push':\n                addClass([this.element], [PUSH]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                }\n                break;\n            case 'Slide':\n                addClass([this.element], [SLIDE]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    sibling.style.transform = 'translateX(' + eleWidth + 'px)';\n                }\n                break;\n            case 'Over':\n                addClass([this.element], [OVER]);\n                if (this.enableDock && this.element.classList.contains(CLOSE)) {\n                    if (sibling) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                    }\n                }\n                break;\n            case 'Auto':\n                addClass([this.element], [TRASITION]);\n                if (Browser.isDevice) {\n                    if (sibling && (this.enableDock) && !this.getState()) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                        addClass([this.element], PUSH);\n                    }\n                    else {\n                        addClass([this.element], OVER);\n                    }\n                }\n                else {\n                    addClass([this.element], PUSH);\n                    if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                    }\n                    this.setProperties({ isOpen: true }, true);\n                }\n                this.createBackDrop();\n        }\n    };\n    /**\n     * Removes the control from the DOM and removes all its related events\n     * @returns void\n     */\n    Sidebar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], [OPEN, CLOSE, PUSH, SLIDE, OVER, LEFT, RIGHT, TRASITION, DISABLEANIMATION,\n            CONTEXTBACKDROP, MAINCONTENTANIMATION, VISIBILITY]);\n        this.destroyBackDrop();\n        this.element.style.width = '';\n        this.element.style.zIndex = '';\n        this.element.style.transform = '';\n        var sibling = document.querySelector('.e-main-content')\n            || this.element.nextElementSibling;\n        if (!isNullOrUndefined(sibling)) {\n            sibling.style.margin = '';\n            sibling.style.transform = '';\n        }\n        if (this.target) {\n            removeClass([this.element], SIDEBARABSOLUTE);\n            removeClass([this.target], CONTEXT);\n            if (this.targetParentElement.parentElement.tagName !== 'HTML') {\n                this.targetParentElement.parentNode.insertBefore(this.element, this.targetParentElement.nextSibling);\n            }\n        }\n        this.unWireEvents();\n    };\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"dockSize\", void 0);\n    __decorate([\n        Property(null)\n    ], Sidebar.prototype, \"mediaQuery\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enableDock\", void 0);\n    __decorate([\n        Property(true)\n    ], Sidebar.prototype, \"enableGestures\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"isOpen\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(true)\n    ], Sidebar.prototype, \"animate\", void 0);\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"closeOnDocumentClick\", void 0);\n    __decorate([\n        Property('Left')\n    ], Sidebar.prototype, \"position\", void 0);\n    __decorate([\n        Property(null)\n    ], Sidebar.prototype, \"target\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"showBackdrop\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Sidebar.prototype, \"type\", void 0);\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"width\", void 0);\n    __decorate([\n        Property(1000)\n    ], Sidebar.prototype, \"zIndex\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"destroyed\", void 0);\n    Sidebar = __decorate([\n        NotifyPropertyChanges\n    ], Sidebar);\n    return Sidebar;\n}(Component));\nexport { Sidebar };\n"],"names":["createInstance","classFunction","params","arrayParam","unshift","undefined","Function","prototype","bind","apply","setImmediate","handler","unbind","num","Uint16Array","window","msCrypto","crypto","getRandomValues","secret","combineArray","messageHandler","event","source","data","length","addEventListener","postMessage","removeEventListener","getValue","nameSpace","obj","value","splits","split","i","isUndefined","setValue","key","keys","start","fromObj","isNullOrUndefined","deleteObject","isObject","objCon","constructor","getEnumValue","enumObject","enumValue","merge","destination","temrObj","tempProp","_i","keys_1","Object","indexOf","Array","isArray","extend","copied","first","second","deep","result","arguments","arguments_1","obj1","forEach","clone","src","copy","getUniqueID","definedName","uid","debounce","eventFunction","delay","out","_this","this","args","later","clearTimeout","setTimeout","queryParams","array","keys_2","push","encodeURIComponent","join","isObjectArray","parser","toString","call","compareElementParent","child","parent","node","document","parentNode","throwError","message","Error","e","stack","print","element","printWindow","div","createElement","links","slice","getElementsByTagName","querySelectorAll","reference","open","appendChild","cloneNode","len","outerHTML","write","innerHTML","close","focus","interval","setInterval","ready","clearInterval","formatUnit","getInstance","component","elem","querySelector","instances","_a","inst","addInstance","instance","uniqueID","ret","tagName","properties","SVG_REG","test","createElementNS","className","id","styles","setAttribute","attrs","attributes","addClass","elements","classes","classList","getClassList","ele","_b","classList_1","contains","add","removeClass","classList_2","remove","isVisible","style","visibility","offsetWidth","prepend","fromElements","toElement","docFrag","createDocumentFragment","insertBefore","firstElementChild","append","detach","removeChild","EventHandler","clearEvents","select","selector","context","selectAll","closest","el","nodeType","matches","siblings","childNodes_1","childNodes","curNode","Node","ELEMENT_NODE","getAttributeOrDefault","property","attrVal","getAttribute","setStyleAttribute","addClasses","removeClasses","msMatchesSelector","webkitMatchesSelector","getComponent","comp","ej2_instances","getModuleName","getObject","curKey","defaultValue","type","hasOwnProperty","getObjectArray","isSetter","isFactory","curType","setProperties","propertyGetter","propertySetter","newValue","oldVal","saveChanges","complexGetter","complexSetter","complexFactoryGetter","complexFactorySetter","complexArrayGetter","defCollection","complexArraySetter","oldValueCollection","newValCollection","complexArrayFactorySetter","complexArrayFactoryGetter","Property","target","propertyDescriptor","set","get","enumerable","configurable","defineProperty","addPropertyCollection","Complex","ComplexFactory","Collection","CollectionFactory","Event","eventDescriptor","oldValue","finalContext","getParentContext","prefix","NotifyPropertyChanges","classConstructor","propertyType","propList","props","complexProps","colProps","events","propNames","complexPropNames","colPropNames","eventNames","propertyName","getBuilderProperties","builderObject","propCollections","isPropertyArray","rex","_c","prop","childType","tempValue","CreateBuilder","builderFunction","create","temp","curText","rippleEffect","rippleOptions","done","rippleModel","getRippleModel","rippleFlag","isRippleEnabled","rippleHandler","rippleUpHandler","rippleLeaveHandler","Browser","isPointer","removeAttribute","ignore","isCenterRipple","duration","offset","getBoundingClientRect","offsetX","pageX","body","scrollLeft","offsetY","pageY","scrollTop","documentElement","Math","max","abs","left","right","top","bottom","radius","sqrt","diameter","x","y","rippleElement","getComputedStyle","getPropertyValue","transform","removeRipple","eventArgs","rippleElements","opacity","getElementsByClassName","enableRipple","isRipple","setCulture","cultureName","defaultCulture","onIntlChange","notify","locale","setCurrencyCode","currencyCode","defaultCurrencyCode","loadCldr","data_1","cldrData","enableRtl","status","rightToLeft","getNumericObject","numObject","IntlBase","getDependables","mapper","dateObject","numSystem","symbPattern","pattern","getSymbolPattern","getFormatData","dateSeparator","getDateSeparator","getDefaultDateObject","compile","template","helper","fnCode","evalExp","str","varCOunt","localKeys","replace","LINES","DBL_QUOTED_STR","exp","match","cnt","matchStr","CALL_FUNCTION","rlStr","ELSEIF_STMT","WORD","trim","addNameSpace","QUOTES","IF_STMT","strs","FOR_STMT","rlStr_1","mtc","fnStr","fNameSpace","ELSE_STMT","IF_OR_FOR","addNS","ignoreList","NOT_NUMBER","templateString","compiler","engineObj","propName","HAS_SVG","HAS_ROW","setTemplateEngine","classObj","getTemplateEngine","calculateRelativeBasedPosition","anchor","fixedElement","anchorPos","tempAnchor","offsetParent","position","offsetLeft","offsetTop","parentElement","calculatePosition","currentElement","positionX","positionY","targetValues","popupRect","fixedParent","parentDocument","ownerDocument","pos","updatePosition","toLowerCase","setPosx","setPosy","posX","posY","elementRect","getElementHCenter","getElementTop","getElementRight","getElementVCenter","getElementLeft","getElementBottom","getBodyScrollTop","getBodyScrollLeft","height","width","fit","viewPortElement","axis","X","Y","elemData","targetContainer","containerWidth","getTargetContainerWidth","getViewPortWidth","containerLeft","ContainerLeft","containerRight","ContainerRight","overLeft","overRight","containerHeight","getTargetContainerHeight","getViewPortHeight","containerTop","ContainerTop","containerBottom","ContainerBottom","overTop","overBottom","isCollide","elemOffset","yAxis","topCollideCheck","xAxis","leftCollideCheck","topSide","rightSide","leftSide","bottomSide","flip","tEdge","TL","TR","BL","BR","eEdge","updateElementData","setPosition","leftFlip","topFlip","setPopup","edge","eStatus","deepCheck","collideSide","getTargetContainerLeft","getTargetContainerTop","innerHeight","innerWidth","getScrollableParent","eleStyle","scrollParents","overflowRegex","parentStyle","overflow","overflowY","overflowX","getZindexPartial","parentZindex","index","defaultView","childrenZindex","children","isEqualNode","siblingsZindex","finalValue","concat","wrapperInitialize","tag","WRAPPER","role","ejInstance","input","wrapper","aria-checked","nodeName","nodeValue","getTextNode","childnode","destroy","ejInst","checked","preRender","proxy","control","moduleName","createCheckBox","options","cssClass","rippleSpan","frameSpan","label","labelSpan","rippleMouseHandler","event_1","createEvent","initEvent","dispatchEvent","createSpinner","internalCreateElement","makeElement","container","create_spinner_container","wrap","spinTemplate","theme","getTheme","calculateRadius","setTheme","createLabel","inner_wrap","CLS_SPINTEMPLATE","replaceContent","spinCSSClass","CLS_HIDESPIN","labelEle","CLS_SPINLABEL","textContent","createMaterialSpinner","random_generator","globalTimeOut","timeOut","create_material_element","mat_calculate_attributes","startMatAnimate","globalObject","globalVariables","animateMaterial","globalInfo","timeOutVar","createFabricSpinner","create_fabric_element","CLS_FABRICSPIN","fb_calculate_attributes","createHighContrastSpinner","CLS_HIGHCONTRASTSPIN","innerContainer","CLS_SPININWRAP","svg","createBootstrapSpinner","create_bootstrap_element","boot_calculate_attributes","svgBoot","CLS_BOOTSPIN","firstChild","item","bootCircle","CLS_SPINCIRCLE","defaultRadius","startArc","defineArcPoints","circleEle","generateSeries","begin","stop","formSeries","series","end","count","increment","parseFloat","toFixed","animateBootstrap","circle","boot_animate","isAnimate","defaultSize","DEFT_MAT_WIDTH","DEFT_FAB_WIDTH","DEFT_BOOT_WIDTH","previousId","random","combine","charAt","floor","innerCon","themeClass","svgFabric","fabricCirclePath","fabricCircleArc","CLS_SPINARC","svgMaterial","CLS_MATERIALSPIN","matCirclePath","spinnerContainer","CLS_SPINWRAP","spinnerInnerContainer","spinnerInfo","createCircle","easeAnimation","easing","mat_animation","currentTime","min","Date","getTime","startTime","updatePath","change","path","getDashOffset","strokeSize","getSize","getStrokeSize","rotate","transformOrigin","drawArc","PI","current","timestamp","timecount","innerConainer","trgClass","centerX","centerY","defineCircle","defineArc","angle","radians","cos","sin","endArc","showSpinner","showHideSpinner","isHide","spinnerWrap","inner","CLS_SHOWSPIN","svgEle","hideSpinner","setSpinner","ensureTemplate","makeEle","replaceTheme","svgElement","getFieldValues","dataItem","fields","fieldData","isHeader","dataField","createMask","autocomplete","autocorrect","autocapitalize","spellcheck","aria-live","aria-valuenow","mask","splitMask","splitInnerMask","j","pushIntoRegExpCollec","chkSpace","customRegExpCollec","hiddenMask","promptChar","escapeMaskValue","promptMask","customCharacters","RegExp","escapeNumber","substring","aria-invalid","applyMask","setElementValue","setMaskValue","wireEvents","maskInputKeyDownHandler","maskInputKeyPressHandler","maskInputKeyUpHandler","maskInputHandler","maskInputFocusHandler","maskInputBlurHandler","maskInputPasteHandler","maskInputCutHandler","maskInputDropHandler","enabled","bindClearEvent","unwireEvents","showClearButton","inputObj","clearButton","resetHandler","preventDefault","clear","redoCollec","startIndex","selectionStart","endIndex","selectionEnd","triggerMaskChangeEvent","setSelectionRange","unstrippedValue","strippedValue","maskValues","k","checkMask","maskValue","regExpCollec","focusEventArgs","trigger","isFocus","isDevice","info","version","isIos","placeholder","floatLabelType","labelElement","TOPLABEL","sIndex_1","eIndex_1","oldValue_1","_callPasteHandler","maskKeyPress","validateValue","i_1","preValue_1","sIndex_2","eIndex","undoCollec","value_1","ctrlKey","keyCode","removeMaskInputValues","addedValues","preEleVal","val","prevValue","startValue","collec","splice","mobileRemoveFunction","sIndex","autoFillMaskInputValues","isRemove","oldEventVal","isDeleted","initStartIndex","initEndIndex","curMask","multipleDel","preValue","prompt_1","elementValue","code","String","fromCharCode","isIosInvalid","changeEventArgs","isInitial","maskedValue","isInteraction","removeMaskError","val_1","startIndex_1","isSpace","isAndroid","preventUnsupportedValues","temp_1","mobileSwipeCheck","mobileValidation","isCtrlKey","eventOldVal","allowText","prevSupport","isEqualVal","keyValue","customValArr","applySupportedValues","addMaskErrorClass","changeToLowerUpperCase","sIdx","idx","ctrl","chkSupport","timer","INPUTGROUP","FLOATINPUT","ERROR","curVal","caseCount","toUpperCase","newVal","BOTTOMLABEL","Input","maskInput","inputEle","getMaskInput","UTILMASK","regularExpressions","getVal","getUtilMaskEle","getMaskedVal","getModel","model","headerRegex","defaultType","Ajax","async","contentType","mode","emitError","url","send","cancel","Promise","resolve","reject","httpRequest","XMLHttpRequest","onreadystatechange","stateChange","onLoad","onload","onProgress","onprogress","onAbort","onabort","onError","onerror","onUploadProgress","upload","setRequestHeader","beforeSend","successHandler","onSuccess","failureHandler","reason","onFailure","responseText","dataType","JSON","parse","error","readyState","statusText","getResponseHeader","responseHeaders","header","headers","exec","getAllResponseHeaders","addOrGetEventData","__eventList","eventName","listener","bindTo","intDebounce","debounceListener","eventData","name","some","copyData","shift","eventProp","eventData_1","Observer","ranArray","boundedEvents","on","cntxt","notExist","isHandlerPresent","off","curObject","indexLocation","argument","curObject_1","cur","boundedEvents_1","Base","isProtectedOnChange","changedProperties","oldProperties","refreshing","finalUpdate","childChangedProperties","modelObserver","isDestroyed","muteOnChange","prevDetection","dataBind","callChildDataBind","obj_1","clearChanges","getOwnPropertyNames","newChanges","oldChanges","onPropertyChanged","moduleClass","filter","REGX_BROWSER","OPERA","EDGE","CHROME","PANTHOMEJS","SAFARI","WEBKIT","MSIE","MOZILLA","browserDetails","extractBrowserDetail","browserInfo","culture","clientInfo","userAgent","language","navigator","getEvent","isTouch","move","getTouchStartEvent","getTouchEndEvent","getTouchMoveEvent","getTouchCancelEvent","regX","uA","isMSPointer","isWebView","cordova","PhoneGap","phonegap","forge","touchStartEvent","touchMoveEvent","touchEndEvent","touchCancelEvent","__extends","extendStatics","setPrototypeOf","__proto__","d","b","p","__","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","Animation","_super","ease","linear","easeIn","easeOut","easeInOut","elasticInOut","elasticIn","elasticOut","Animation_1","animate","elements_1","element_1","delayAnimation","animation","animationId","frameId","parseInt","cancelAnimationFrame","applyAnimation","timeStamp","step","timerId","prevTimeStamp","startAnimation","avg","timingFunction","progress","requestAnimationFrame","performance","now","fail","newProp","oldProp","CanvasRenderer","rootID","rootId","getOptionValue","createCanvas","canvasObj","ctx","getContext","setCanvasSize","getElementById","size","setAttributes","lineWidth","dashArray","dashArrayString","setLineDash","strokeStyle","drawLine","save","beginPath","stroke","moveTo","x1","y1","lineTo","x2","y2","restore","dataUrl","toDataURL","drawRectangle","canvasCtx","cornerRadius","rx","globalAlpha","rect","drawCornerRadius","fill","fillStyle","fillRect","arcTo","closePath","drawPath","canvasTranslate","dataSplit","borderWidth","flag","translate","innerR","cx","c1","c2","c3","c4","bezierCurveTo","arc","counterClockWise","cy","drawText","fontWeight","fontSize","fontFamily","font","textAlign","baseline","textBaseline","labelRotation","fillText","drawCircle","drawPolyline","points","point","drawEllipse","circumference","ry","scaleX","scaleY","scale","drawImage","imageObj","Image","href","createLinearGradient","colors","myGradient","colorStop","setGradientValues","createRadialGradient","colorName","color","newColorStop","stopColor","addColorStop","setElementAttributes","values","map","updateCanvasAttributes","img_1","ModuleLoader","loadedModules","inject","requiredModules","moduleList","reqLength","clean","clearUnusedModule","modl","moduleList_1","module","modName","member","isModuleLoaded","moduleObject","memberName","getMemberName","isProperty","loadedModule","modules","usedModules","arg","removableModule_1","mod","ChildProperty","parentObj","controlParent","isParentArray","updateChange","updateTimeOut","changeTime_1","clearUpdate","curIndex","defaultNumberingSystem","latn","_digits","_type","defaultNumberSymbols","decimal","group","percentSign","plusSign","minusSign","infinity","nan","exponential","latnNumberSystem","ParserBase","getMainObject","cName","getNumberingSystem","numberingSystems","reverseObject","res","propKeys_1","getSymbolRegex","regexStr","getSymbolMatch","matchKeys_1","constructRegex","convertValueParts","regex","getDefaultNumberingSystem","nSystem","getCurrentNumericOptions","curObj","numberSystem","needSymbols","digits","numericPair","numberParseRegex","numericRegex","symbolNumberSystem","symbolMatch","getNumberMapper","isNumber","numberSymbols","timeSeparator","latnNumberSystem_1","nPair","nRegex","errorText","ms","ls","mf","lf","NumberFormat","numberFormatter","option","cldr","symbolPattern","fOptions","cOptions","dOptions","dependable","base","numberMapper","parserObject","currencySymbol","getCurrencySymbol","numericObject","currency","percentSymbol","minusSymbol","symbols","formatRegex","format","customFormat","getProperNumericSkeleton","isCurrency","isPercent","isAccount","groupOne","checkValueRange","maximumSignificantDigits","minimumSignificantDigits","maximumFractionDigits","minimumFractionDigits","fractionDigits","useGrouping","defaultCurrency","nData","pData","groupSeparator","groupData","getGroupingDetails","minimumFraction","mval","maximumFraction","mfrac","lfrac","isNaN","isFinite","intNumberFormatter","negativeDataRegex","pattern_1","lastIndexOf","primary","s","secondary","val1","val2","checkbothExist","isFraction","decide","dint","str1","str2","checkRange","text","range","curData","zeroData","fValue","processSignificantDigits","processFraction","minimumIntegerDigits","processMinimumIntegers","toExponential","groupNumbers","latnParseRegex","nlead","nend","toPrecision","level1","sep","decimalSymbol","level2","lead","getResultantPattern","skeleton","resPattern","iType","basicPatterns","dPattern","tPattern","defaultObject","patternMatcher","needFraction","cSymbol","fractionOnly","customRegex","changeCurrencySymbol","groupPattern","fraction","fmatch","fractionRegex","sym","formatSplit","customNumberFormat","integerPart","fractionPart","isCurrencyPercent","parts","actual","symbol","part","loc","typeMapper","substr","dateObj","getActualDateTimeFormat","isExcelFormat","actualPattern","patternRegex","patternMatch","tLength","timeZonePattern","options_1","timeZone","numMapper","timezone","getTimezoneOffset","hourFormat","gmtZeroFormat","DateFormat","getTimeZoneValue","gmtFormat","getActualNumberFormat","minFrac","parseOptions","custom","curMatch","currencyFormatRegex","curCode","hasNegativePattern","fractionDigitsPattern","minimumIntegerPattern","groupingPattern","cPattern","minDigits","maxDigits","a","diff","integer","no","getWeekData","firstDay","defaultFirstDay","iCulture","firstDayMapper","G","M","L","H","'"," a","yy","EEEE","E","sun","mon","tue","wed","thu","fri","sat","curWithoutNumberRegex","$","%","-","0","1","dateParseRegex","dates","calendars","gregorian","months","stand-alone","abbreviated","2","3","4","5","6","7","8","9","10","11","12","narrow","wide","days","short","dayPeriods","am","pm","eras","eraNames","0-alt-variant","1-alt-variant","eraAbbr","eraNarrow","dateFormats","full","long","medium","timeFormats","dateTimeFormats","availableFormats","Ed","Ehm","EHm","Ehms","EHms","Gy","GyMMM","GyMMMd","GyMMMEd","h","hm","Hm","hms","Hms","hmsv","Hmsv","hmv","Hmv","Md","MEd","MMM","MMMd","MMMEd","MMMMd","yM","yMd","yMEd","yMMM","yMMMd","yMMMEd","yMMMM","timeZoneNames","numbers","currencies","USD","displayName","symbol-alt-narrow","EUR","GBP","minimumGroupingDigits","symbols-numberSystem-latn","list","superscriptingExponent","perMille","decimalFormats-numberSystem-latn","standard","percentFormats-numberSystem-latn","currencyFormats-numberSystem-latn","accounting","scientificFormats-numberSystem-latn","monthIndex","month","C","P","N","A","lastPageID","weekdayKey","timeSetter","m","datePartMatcher","z","Z","dateFormat","formatOptions","dateSeperator","patternMatch_1","char","weekday","designator","eText","era","getDate","intDateFormatter","matches_1","length_1","curval","processNumber","curstr","getMonth","getDay","getFullYear","desig","getHours","dec","checkTwodigitNumber","tVal","curPattern","ishour","latnRegex","minute","hour","day","DateParser","dateParser","hourOnly","numOptions","regexString","evalposition","gmtCorrection","zCorrectTemp","isgmtTraversed","nRegx","canUpdate","charKey","optional","weekObject","hour12","tzone","hpattern","parseTimeZoneRegx","parserRegex","parsedDateParts","internalDateParse","getDateObject","setMilliseconds","tKeys","year","setFullYear","tKeys_1","tValue","pDate","setDate","lDate","lastDay","setHours","tzValue","setMinutes","getMinutes","retOptions","props_1","matchString","internalNumberParser","tmatch","getZoneValue","tZone","splitStr","cRegex","ival","NumberParser","numberParser","symbolRegex","symbolpattern","getParsedNumber","isNegative","Infinity","NaN","exponent","Internationalization","getDateFormat","getCulture","getNumberFormat","getDateParser","getNumberParser","formatNumber","formatDate","parseDate","parseNumber","getDatePattern","getNumberPattern","getFirstDayOfWeek","componentCount","lastHistoryLen","Component","randomId","needsID","moduleLoader","localObserver","detectFunction","appendTo","enablePersistence","setPersistData","refresh","injectModules","render","mergePersistData","event_2","getInjectedModules","injectedModules","Inject","localStorage","getItem","setItem","getPersistData","clearTemplate","templateName","isHistoryChanged","pageID","location","history","hash","charCodeAt","addOnPersist","persistObj","objValue","getActualProperties","stringify","ignoreOnPersist","iterateJsonProperties","newObj","this_1","newList","ListBase","defaultPosition","Position","Draggable","dragLimit","Draggable_1","getDefaultPosition","padding","diffX","diffY","droppables","toggleEvents","isIE","scope","isUnWire","handle","initialize","evt","currentTarget","abort","changedTouches","intCoord","getCoordinates","initialPosition","relativeXPosition","relativeYPosition","intDragStart","intDestroy","isChangeTouch","intCordinate","styleProp","margin","marginLeft","marginTop","marginRight","marginBottom","dragTarget","intClosest","calculateParentPosition","getMousePosition","distance","getHelperElement","dragTargetElement","helperElement","parentClientRect","dragStart","curTarget","getProperTargetElement","dragArea","setDragArea","enableTailMode","posValue","getProcessedPositionValue","getDragPosition","intDrag","intDragStop","setGlobalDroppables","elementInViewport","offsetHeight","pageYOffset","pageXOffset","queryPositionInfo","docHeight","getDocumentWidthHeight","docWidth","drag","eleObj","checkTargetElement","dragData","intOver","hoverObject","intOut","tLeft","tTop","pagex","pagey","dLeft","dTop","skipDistanceCheck","helperWidth","helperHeight","iTop","iLeft","dragValue","enableAutoScroll","scrollIntoView","docBody","docEle","dragStop","dragStopCalled","intDrop","eleWidthBound","eleHeightBound","elementArea","tborder","tpadding","lowerKey","prevStyle","display","elementFromPoint","clientX","clientY","cursorAt","sender","reset","draggable","draggedElement","dropIns","getDropInstance","parent_1","drop","eleInst","eleInst_1","Droppable","mouseOver","area","accept","isDrag","isDropArea","canDrop","droppedElement","coord","backspace","tab","enter","alt","pause","capslock","space","escape","pageup","pagedown","home","leftarrow","uparrow","rightarrow","downarrow","insert","delete","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","semicolon","plus","comma","minus","dot","forwardslash","graveaccent","openbracket","backslash","closebracket","singlequote","KeyboardEvents","keyPressHandler","isAltKey","altKey","isShiftKey","shiftKey","curkeyCode","which","keyConfigs","configCollection_1","rconfig","rKeyObj","KeyboardEvents_1","getKeyConfigData","action","keyAction","config","configCache","keyData","Number","getKeyCode","keyVal","L10n","controlName","localeStrings","setLocale","intLocale","intGetControlConstant","currentLocale","load","localeObject","getConstant","SvgRenderer","svgLink","createSvg","svgObj","setSVGSize","line","rectangle","polyline","ellipse","drawPolygon","polygon","img","setAttributeNS","preserveAspectRatio","createText","createTSpan","tSpan","createTitle","title","createDefs","createClipPath","clipPath","createForeignObject","foreignObject","createGroup","createPattern","newOptions","fx","fy","drawGradient","gradientType","defs","gradient","stop_1","drawClipPath","drawCircularClipPath","SwipeSettings","swipeRegex","Touch","touchAction","tapCount","startEvent","isTouchMoved","movedDirection","startPoint","lastMovedPoint","startEventData","hScrollLocked","vScrollLocked","tStampStart","timeOutTapHold","tapHoldEvent","tapHoldThreshold","moveEvent","endEvent","cancelEvent","movedPoint","eScrollArgs","calcScrollPoints","startEvents","originalEvent","startX","startY","distanceX","distanceY","scrollDirection","velocity","getVelocity","timeOutTap","swipeFn","tap","tapThreshold","modeclear","endPoint","calcPoints","swipeArgs","swipeDirection","eSwipeArgs","tDistance","swipeSettings","swipeThresholdDistance","defaultArgs","canTrigger","scrollBool","isScrollable","moved","checkSwipe","modeClear","lastTapTime","eTapArgs","pnt","newX","newY","newT","xDist","yDist","Engine","HScroll","browser","browserCheck","ieCheck","uniqueId","touchModule","scroll","touchHandler","createNavIcon","scrollEle","scrollHandler","scrollDiv","innerEle_1","ele_1","scrollItems","keyEntity","nav","disable","navEles","clsRight","navItem","CLS_NAVRIGHTARROW","clsLeft","navEle","navLeftItem","CLS_NAVLEFTARROW","eventBinding","onKeyPress","timeoutFun_1","keyTimeout","eleScrolling","keyTimer","onKeyUp","click","tapHold","tabHoldHandler","repeatScroll","clickEventHandler","timeout","trgt","timeoutFun","scrollDis","rootEle","scrlLeft","scrollStep","arrowDisabling","addDisable","removeDisable","navLeftEle","navRightEle","ceil","scrollWidth","disEle","PositionData","CLASSNAMES","ROOT","RTL","OPEN","CLOSE","Popup","zIndex","setEnableRtl","refreshPosition","setContent","actionOnScroll","wireScrollEvents","unwireScrollEvents","orientationOnChange","getRelateToElement","scrollRefresh","parent_2","relateToElement","relateTo","hide","targetVisible","isElementOnViewport","targetInvisibleStatus","scrollElement","parent_3","isElementVisible","parent_4","win","windowView","scrollY","scrollX","outerWidth","outerHeight","elementView","reposition","content","checkFixedParent","checkCollision","getAnchorPosition","anchorEle","eleRect","anchorRect","targetType","callFlip","param","callFit","viewPortRect","horz","collision","vert","show","animationOptions","relativeElement","zIndexElement","showAnimation","hideAnimation","cssClassName","BUTTON","PRIMARY","ICONBTN","Button","isPrimary","setIconCss","disabled","controlStatus","removeRippleEffect","iconCss","span","iconPosition","isToggle","btnClickHandler","unWireEvents","RIPPLE","CheckBox","isKeyPressed","changeState","state","ariaState","getWrapper","indeterminate","clickHandler","focusOutHandler","focusHandler","setDisabled","initWrapper","for","labelPosition","setText","keyDownHandler","labelMouseHandler","mouseDownHandler","labelWrap","RadioButton","RadioButton_1","changeHandler","radioGrp","radioWrap","getLabel","nextElementSibling","labelRippleHandler","textLabel","rippleLabel","Switch","bar","onLabel","offLabel","setLabel","switchInner","rippleTouchHandler","eventType","onText","offText","switchFocusHandler","switchMouseUp","toggle","ButtonProps","AnimationSettings","Dialog","initRender","headerContent","classArray","clonedEle","closeIconClickEventHandler","dlgOverlayClickEventHandler","localeText","l10n","prevOnChange","keyDown","isModal","buttonObj","btnObj","activeElement","focusableElements","isTagName","isContentEdit","hasAttribute","closeOnEscape","primaryButtonEle","buttonIndex_1","buttons","buttonModel","targetEle","setCSSClass","setMaxHeight","initialRender","setzIndex","calculatezIndex","setTargetContent","setHeader","showCloseIcon","renderCloseIcon","footerTemplate","setButton","setFooterTemplate","allowDragging","setAllowDragging","aria-modal","setIsModal","dlgContainer","popupObj","focusContent","unBindEvent","closeArgs","storeActiveElement","positionChange","setEnableRTL","setOverlayZindex","visible","dlgOverlay","zIndexValue","setPopupPosition","dragObj","buttonContent","btn","ftrTemplateContent","aria-describedby","contentEle","innerContentElement","HTMLElement","setTemplate","maxHeight","isContent","headerEle","createHeaderContent","aria-labelledby","closeIcon","closeIconBtnObj","DLG_CLOSE_ICON","closeIconTitle","oldCSSClass","getValidFocusNode","items","u","clientHeight","tabIndex","disableElement","getAutoFocusNode","validNode","t","elementMatch","Element","bindEvent","updateIsModal","setPopupZindex","isFullScreen","fullScreen","openAnimation","animationSettings","effect","dialogOpen","closeAnimation","Tooltip","formatPosition","tooltipPositionY","tooltipPositionX","renderArrow","setTipClass","tip","ARROW_TIP","tipClass","ARROW_TIP_OUTER","ARROW_TIP_INNER","tooltipEle","renderPopup","elePos","mouseTrail","getTooltipPosition","openPopupHandler","closePopupHandler","offsetPos","calculateTooltipOffset","collisionFlipFit","tooltipEventArgs","tooltipEleWidth","tooltipEleHeight","arrowEle","tipWidth","tipHeight","tipAdjust","showTipPointer","tipHeightAdjust","tipWidthAdjust","clientWidth","updateTipPosition","selEle","adjustArrow","leftValue","topValue","tooltipWidth","tooltipHeight","arrowInnerELe","tipPosExclude","tipPointerPosition","POINTER_ADJUST","renderContent","tooltipContent","isSticky","tipClose","ICON","onStickyClose","addDescribedBy","describedby","data-tooltip-id","removeDescribedBy","orgdescribedby","tapHoldHandler","autoCloseTimer","targetHover","touchEndHandler","targetClick","hideTooltip","targetList_1","ctrlId","target_1","restoreElement","showTooltip","wireMouseEvents","showTimer","hideTimer","isHidden","TOOLTIP_WRAP","aria-hidden","maxWidth","PopupAnimation","openDelay","horizontal","vertical","affectedPos","newpos","collidedPosition","eleOffset","arrowleft","targetElement","closeAnimation_1","closeDelay","unwireMouseEvents","onMouseOut","onMouseMove","eventPageX","eventPageY","touches","colpos","touchEnd","opensOn","triggerList_1","getTriggerList","wireFocusEvents","targetList_2","triggerList_2","unwireFocusEvents","targetList_3","triggerList_3","CLS_ITEMS","CLS_ITEM","CLS_POPUP","Item","Toolbar","moveLeft","moveRight","moveUp","moveDown","popupOpen","popupClose","tempId","isNOU","trgtEle","ctrlTem","clearProperty","popObj","tbarAlign","attrb","enableCollision","scrollModule","tbarItemsCol","popupPriCount","resize","keyModule","keyActionHandler","docKeyDown","popCheck","overflowMode","destroyHScroll","docEvent","tbarEle","tbarAlgEle","lefts","centers","rights","popEle","destroyItems","tbarItems","destroyMode","popupRefresh","elementFocus","fChild","activeEleSwitch","clstElement","tbrNavChk","keyHandling","clst","navChk","scrollChk","popAnimate","eleFocus","nodes","popupCheck","popFrstEle","lastElementChild","activeEle","activeEleRemove","tbarScrollChk","sib","skipEle","clsList","isPopupElement","popupNav","popupClickHandler","itemObj","CLS_RTL","minHeight","renderControl","separator","setStyle","ariaAttr","aria-disabled","aria-haspopup","aria-orientation","renderItems","renderOverflowMode","itemPositioning","childElementCount","checkPopupRefresh","initHScroll","innerItems","checkOverflow","itemWidthCal","innerItem","eleWidth","itemWidth","popNav","scrollNav","refreshOverflow","priorityCheck","offsetWid","removePositioning","createPopupEle","eleInlineItem","eleItem","multiVar","extendVar","innerEle","innerNav","createPopupIcon","direction","checkPriority","removeProperty","createPopup","pushingPoppedEle","tbarObj","popupPri","eleHeight","sepHeight","nodeIndex","nodePri","tbResize","tbarElement","sepItem","extendEle","CLS_POPUPCLASS","popupEle","popupInit","eleStyles","popup","borderRightWidth","tbarPopupHandler","isOpen","toolEle","popupElePos","popIcon","scrollVal","overflowHeight","inEle","pre","popPriority","eleWid","sepCheck","itemCount","itemPopCount","checkClass","rVal","cls","mrgn","fstEleCheck","tbarEleMrgn","eleWid_1","minWidth","sepEle","popedEle","CLS_POPUPDOWN","tbarPriRef","indx","sepPri","des","elWid","wid","ig","ignoreCount","priEleCnt","eleSep","ignoreCheck","eleSepWidth","prevSep","previousElementSibling","popupEleWidth","popupEleRefresh","ignoreEleFetch","ignoreEle","ignoreInx","root","tbarWidth","tbarItemsWid","elWidth","btnText","eleSplice","align","sepBeforePri_1","refreshPositioning","tbarWid","popWid","tbarItemAlign","itemEle","showAlwaysInPopup","alignDiv","alignEle","leftAlign_1","ctrlTemplate","itemEleDom","innerPos","renderSubComponent","setAttr","attr","enableItems","isEnable","enable","addItems","itemsDiv","itemsRerender","itemAgn","items_1","algIndex","removeItems","removeItemByIndex","eleIdx","indexAgn","templateRender","templateProp","isComponent","itemType","templateFn","tempStr","templateCompiler","tempArray","buttonRendering","dom","iconPos","textStr","btnTxt","prefixIcon","suffixIcon","htmlAttributes","tooltipText","tempDom","itemClick","showTextOn","sTxt","curEle","tEle","changedProb","newProperty","popupPriCheck","booleanCheck","hideItem","CLS_HEADER","CLS_CONTENT","AccordionActionSettings","AccordionAnimationSettings","AccordionItem","Accordion","isDestroy","templateEle","eleStr","nested","isNested","expandedItems","aria-multiselectable","initExpand","expandMode","initItemExpand","focusIn","focusOut","innerEles","tabindex","aria-level","toggleIconGenerate","tglIcon","hdrColIcon","expandItem","renderInnerItem","acrdnItem","acrdnHdr","acrdnCtn","acrdnCtnItem","acrdActive","getIndexByItem","contentRendering","ariaAttrUpdate","cntclkCheck","acrdAniEle","acrdAniEle_1","sameContentCheck","sameHeader","acrdnCtn_1","expandState","collapse","expand","eleMoveFocus","clstItem","headerEleGenerate","aria-expanded","aria-selected","ctnEle","hdrEle","fetchElement","hdr","expanded","hdrIcnEle","icon","hdrIcon","temString","eleVal","itemcnt","ctn","trgtItemEle","isExpanded","eff","expandedItemsPush","expandProgress","expandAnimation","ef","icn","trgtHgt","lastActiveItemId","expandedItemsPop","collapseProgress","collapseAnimation","trgtItEl","trgtHeight","itemHeight","remain","itemAttribUpdate","itemLen","addItem","innerItemEle","expandedItemRefresh","removeItem","enableItem","eleHeader","isExpand","itemExpand","expandedItem","updateItem","acrdn","changedProp","Query","from","subQuery","isChild","queries","fKey","fromTable","lookups","expands","sortedColumns","groupedColumns","setKey","field","using","dataManager","execute","always","executeQuery","DataUtil","executeLocal","cloned","subQuerySelector","isCountRequired","tableName","addParams","fn","tables","where","fieldName","operator","ignoreCase","ignoreAccent","predicate","Predicate","search","searchKey","fieldNames","comparer","fnOperators","sortBy","isFromGroup","sorts","order","endsWith","fnSort","filterQueries","sortByDesc","page","pageIndex","pageSize","take","nos","skip","hierarchy","query","selectorFn","foreignKey","requiresCount","aggregate","q","filterQueryLists","singles","filtered","isComplex","processOperator","condition","predicates","and","combinePredicates","or","fromJson","json","fromJSONData","pred","validate","record","isAnd","toJson","preds","consts","GroupGuid","startsWith","fnAscending","fnDescending","localeCompare","extractFields","jsonArray","newData","aggregates","level","groupDs","jsonData","childLevels","grouped","groupedArray","records","this_2","tempObj","aggs","buildHierarchy","lookup","pKey","grp","fKeyData","getFieldList","copyObj","sort","ds","middle","ignoreDiacritics","diacritics","callAdaptorFunction","adaptor","fnName","param1","param2","isPlainObject","isCors","xhr","getGuid","rand","arr","Uint8Array","isNull","getItemFromComparer","castRequired","distinct","requiresCompleteRecord","tmp","serverTimezoneOffset","sum","average","truecount","DataManager","falsecount","operatorSymbols","<",">","<=",">=","==","!=","*=","$=","^=","odBiOperator","lessthan","lessthanorequal","greaterthan","greaterthanorequal","equal","notequal","odUniOperator","endswith","startswith","odv4UniOperator","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","expected","notnull","isnull","processSymbols","parseJson","jsonText","jsonReviver","iterateAndReviveArray","iterateAndReviveJson","dupValue","dateParse","toTimeZone","isJson","isGuid","replacer","jsonReplacer","arrayReplacer","keys_3","addSelfOffset","toJSON","date","toUTC","utc","unix","toLocalTime","datefn","differenceString","localtimefn","norm","getSeconds","Adaptor","requestType","dataSource","pvt","processResponse","JsonAdaptor","processQuery","countFlg","agg","batchRequest","dm","changes","addedRecords","changedRecords","update","deletedRecords","onWhere","onAggregates","onSearch","onSortBy","fnCompare","onGroup","aggQuery","onPage","onRange","onTake","onSkip","onSelect","keyField","UrlAdaptor","hierarchyFilters","getQueryRequest","request","groups","filters","searches","getFiltersFrom","req","getRequestQuery","reqParams","pvtData","convertToQueryString","request1","selects","requests","getAggregateResult","original","batchUrl","crudUrl","removeUrl","changed","added","deleted","table","insertUrl","keyColumn","updateUrl","predicats","aggregateData","groupQuery","ODataAdaptor","multipartAccept","batch","changeSet","batchPre","contentId","batchContent","changeSetContent","batchChangeSetContentType","updateType","onPredicate","requiresCast","guid","returnValue","getField","onComplexPredicate","onEachWhere","onEachSearch","onEachSort","reverse","onCount","settings","overrideMimeType","dataCopy","results","emptyAndBatch","processBatchResponse","versionCheck","requiresFormat","keys_4","localTimeReplacer","convertObj","localTime","compareAndRemove","initialGuid","cid","cSet","generateInsertRequest","generateUpdateRequest","generateDeleteRequest","stat","method","generateBodyContent","org","o","cIdx","jsonObj","exVal","changeGuid","valueOf","ODataV4Adaptor","getModulename","isDate","onExpand","selected","exArr","ex","WebApiAdaptor","Count","Items","WebMethodAdaptor","RemoteSaveAdaptor","updateKey","CacheAdaptor","isCrudAction","isInsertAction","cacheAdaptor","guidId","forDel","requestTime","generateKey","currentFilter","newQuery","cachedItems","crossDomain","offline","timeTillExpiration","cachingPageSize","enableCaching","jsonp","defaultQuery","isDataAvailable","then","setDefaultQuery","deffered","Deferred","nextTick","getDeferedArgs","makeRequest","promise","extendRequest","fnSuccess","fnFail","cache","processData","isSelector","process","virtualSelectRecords","fnQueryChild","subDeffer","childArgs","subUrl","childReq","subData","virtualRecords","ajax","catch","all","pResult","cResult","deff","doAjaxRequest","defer","li","ul","check","hasChild","collapsible","image","iconWrapper","createList","isSingleLevel","curOpt","defaultListBaseOptions","ariaAttributes","defaultAriaAttributes","typeofData","typeof","createListFromArray","createListFromJson","generateUL","createListItemFromArray","subChild","getModuleClass","generateId","itemCreating","generateSingleLevelLI","generateLI","itemCreated","createListItemFromJson","defaultMappedFields","curItem","showCheckBox","showIcon","itemClass","tooltip","imageUrl","imageAttributes","processSubChild","listClass","getSiblingLI","elementArray","isPrevious","siblingLI","liIndex","liCollections","groupDataSource","sortOrder","cusQuery","groupBy","getDataSource","addSorting","grpItem","createJsonFromElement","jsonAr","childs","hasChildNodes","attributes_1","getAllAttributes","urlAttributes","elementAttributes","class","renderContentTemplate","ulElement","compiledString","liCollection","innerText","renderGroupTemplate","groupTemplate","headerItems","category","headerItems_1","headerData","subDS","hasChildren","subLi","expandCollapse","expandIconPosition","expandIconClass","innerElements","grpLI","elementID","groupItemRole","itemRole","anchorTag","createTextNode","uID","innerDiv","wrapperRole","itemText","liElement","listRole","generateIcon","isChecked","headerTemplate","effectsConfig","None","SlideLeft","SlideDown","Zoom","Fade","effectsRTLConfig","classNames","hover","focused","parentItem","listItem","listIcon","listItemText","groupListItem","view","headerText","headerTemplateText","backIcon","checkboxWrapper","checkbox","checklist","checkboxIcon","checkboxRight","checkboxLeft","listviewCheckbox","itemCheckList","FieldSettings","ListView","setHTMLAttribute","setEnable","setSize","listBaseOption","enableVirtualization","virtualizationModule","reRenderUiVirtualization","reRender","curDSLevel","headerTitle","contentContainer","setCheckbox","curViewDS","getSubDS","resetCurrentList","isWindow","enableElement","isEnabled","showBack","showHeader","innerHeaderEle","textEle","hedBackButton","headerTemplateEle","switchView","fromView","toView","fPos_1","overflow_1","anim","aniObj","curUL","renderCheckbox","initialization","animateOptions","currentLiElements","isNestedList","selectedData","selectedId","isValidLI","checkboxElement","frameElement_1","checkInternally","checkBoxPosition","checkItem","toggleCheckBase","HTMLLIElement","getLiFromObjOrElement","setSelectedItemData","uncheckItem","checkAllItems","toggleAllCheckBase","uncheckAllItems","checkIcon","checkedItem","args_1","getItemData","removeElement","selectedItems","back","removeFocus","selectEventData","removeHover","removeSelect","setSelectLI","setCheckboxLI","hoverHandler","curLi","setHoverLI","leaveHandler","homeKeyHandler","focusedElement","onArrowKeyDown","prev","arrowKeyHandler","elementTop","elementHeight","firstItemBounds","heightDiff","groupItemBounds","siblingTop","siblingHeight","scrollTo","uiFirstIndex","onUIScrolled","listItemHeight","topHeight","headerBounds","enterKeyHandler","spaceKeyHandler","tabFocus","swipeActionHandler","focusout","swipe","focusedLI_1","hoverLI","selectedLI_1","renderSubList","isInteracted","selectedLI","lastLi","hoverSiblingLI","curLIs","levelKeys","localData","levelKeys_1","curDSJSON","findItemFromDS","curDS","getElementUID","resultJSON","getQuery","columns","column","setViewDataSource","isInAnimation","setLocalData","renderList","renderIntoDom","createUIItem","uiVirtualization","rippleFn","classAr","pID","pop","toUL","fromUL","selectItem","selectMultipleItems","getParentId","parentId","getSelectedItems","liTextCollection","liDataCollection","dataParent","tempData","findItem","setItemState","disableItem","showItem","showHideItem","addListItem","removeItemFromList","dsIndex","removeMultipleItems","Virtualization","listViewInstance","firstDs","expectedDomItemCount","ValidateItemCount","domItemCount","uiLastIndex","wireScrollEvent","otherDs","topElement","bottomElement","totalHeight","topElementHeight","bottomElementHeight","listDiff","uiIndicesInitialization","onVirtualScroll","onVirtualUiScroll","dataSourceLength","round","uiIndices","activeIndices","disabledItemIndices","hiddenItemIndices","getscrollerHeight","startingHeight","scrollPosition","onLongScroll","onNormalScroll","isScrollingDown","updateUI","nextSibling","updateUiContent","curViewDs","dataset","checkListWrapper","changeElementAttributes","checklistElement","activeIndex","findDSAndIndexFromId","dataCollection_1","textCollection_1","curViewDS_1","curViewDS_2","text_1","resutJSON","removeUiItem","addUiItem","changeUiIndices","liItem","previousSibling","commonTemplate","templateElements","groupTemplateElements","templateData","flatTemplateNodes","groupTemplateNodes","compileTemplate","textProperty","classProperty","attributeProperty","onChange","listElement","updateContextData","regexMatch","resultantOutput","classNameMatch","subNode","bindedvalue","attributeNames","attributeName","attributeNameFunction","attributeValueFunction","attrNameMatch","attrValueMatch","subNode_1","attrName","attributeValue","isChildHasTextContent","textPropertyMatch","textFunction","FOCUSED","HEADER","SELECTED","HIDE","MenuItem","ContextMenu","navIdx","isTapHold","ngElement","createItems","targetElems","cmenuHandler","moverHandler","delegateClickHandler","keyBoardHandler","closeMenu","upDownKeyHandler","rightEnterKeyHandler","leftEscKeyHandler","cul","defaultIdx","fliIdx","fli","getLIByClass","getIdx","cli","openMenu","sli","canOpen","ulIndex","isMenuVisible","beforeCloseArgs","toggleAnimation","lastChild","ICONS","hdata","hli","getIndex","toggleVisiblity","collide","xCollision","hasField","listBaseOptions","toRawObject","menuItems","getLI","showItemOnClick","cliWrapper","isInstLI","setLISelected","showSubMenu","cliIdx","culIdx","classname","getItems","skipHdr","getChangedItemIndex","insertAfter","uls","keyboardModule","isMenuOpen","isUniqueId","isCallBack","showItems","showHideItems","hideItems","ishide","iitems","insertItems","isAfter","menuitem","CLS_TB_ITEMS","CLS_TB_ITEM","CLS_TB_POPUP","TabActionSettings","TabAnimationSettings","Header","TabItem","Tab","animObj","lastIndex","tbObj","expTemplateContent","isTemplate","cntEle","prevIndex","isPopup","isSwipeed","itemIndexArray","css","setCssClass","aria-activedescendant","btnCls","CLS_ICONS","renderContainer","setOrientation","headerPlacement","renderHeader","tbItems","bdrLine","CLS_INDICATOR","scrCnt","setContentHeight","selectedItem","setRTL","tabItems","hdrItems","aria-controls","txt","cont","parseObject","clicked","setCloseButton","showCloseButton","hdrItem","contents","reRenderItems","swipeHandler","txtWrapEle","tbCount","tItems","tHtml","txtEmpty","headerTextCompile","tCont","wrapAttrs","tItem","removeActiveClass","hdrActEle","extIndex","findEle","checkPopupOverflow","tbPop","tbrItems","popupHandler","ripEle","tbItem","actEleId","prevEle","trg","refreshActElePosition","prevCtnAnimation","previous","next","triggerPrevAnimation","oldCnt","animateObj","triggerAnimation","prevActiveEle","newCnt","getTrgContent","idNo","openEff","clsEff","setActiveBorder","keyPressed","trgParent","trgIndex","getEleIndex","templateCompile","tempEle","compileElement","templateFUN","getContent","callType","place","heightAdjustMode","getHeight","cs","hsCnt","tbWidth","setActive","trg_1","enableAnimation","eleTrg","itemIndex","curActItem","refreshItemVisibility","eventArg","previousItem","prevItem","previousIndex","selectedIndex","isSwiped","setItems","isReplace","refreshActiveBorder","spaceKeyDown","keyHandler","tabKeyModule","openPopup","shiftTab","removeTab","actEle","nxtSib","scrBar","scrStart","scrEnd","eleStart","eleEnd","eleViewRange","closeButtonTitle","enableTab","addTab","lastEleIndex","addedItems","itemsCount","removeArgs","removedItem","removedIndex","cntTrg","hideTab","selectingItem","selectingIndex","cntItem","isHiddenEle","tempHdrEle","DISABLE","INPUT","FLOATLINE","FLOATTEXT","CLEARICON","CLEARICONHIDE","LABELTOP","LABELBOTTOM","NOFLOATLABEL","INPUTCUSTOMTAG","FLOATCUSTOMTAG","createInput","inputObject","createInputContainer","createFloatingInput","getParentNode","setClearButton","appendSpan","setPropertyValue","_focusFn","_blurFn","wireFloatingEvents","unwireFloatingEvents","floatLinelement","floatLabelElement","customTag","updateLabelState","setEnabled","setPlaceholder","setReadonly","readonly","updateIconState","button","createClearButton","initial","insertAdjacentElement","wireClearBtnEvents","readOnly","validateLabel","tagClass","oldClass","aria-placeholder","isReadonly","isRtl","disabledAttrs","removeAttributes","addAttributes","isClear","removeFloating","addFloating","iconEle","floatLine","floatText","setRipple","_internalRipple","argsButton","_onMouseDownRipple","_onMouseUpRipple","_onMouseRipple","parentEle","iconClass","ErrorOption","SPINICON","INTREGEXP","NumericTextBox","isPrevFocused","decimalSeparator","intRegExp","isCalled","cloneElement","angularTagName","incrementTitle","decrementTitle","isValidState","inputStyle","inputName","cultureInfo","initCultureInfo","initCultureFunc","checkAttributes","validateMinMax","validateStep","updatePlaceholder","createWrapper","showSpinButton","spinBtnCreation","changeValue","strictMode","trimValue","decimals","roundNumber","inputWrapper","aria-readonly","hiddenInput","validateHidden","spinDown","aria-label","spinUp","wireSpinBtnEvents","MAX_VALUE","formattedValue","aria-valuemin","aria-valuemax","operation","isInteract","isFocused","performAction","raiseChangeEvent","checkErrorClass","keyUpHandler","inputHandler","pasteHandler","mouseDownOnSpinner","mouseUpOnSpinner","touchMoveOnSpinner","unwireSpinBtnEvents","parsedInput","updateValue","previousValue","beforeUpdate","preventHandler","iOS","platform","currentPos","prevPos","ignoreKeyCode","valArray","prevVal","nextEle","cursorPosChanged","updatedValue","correctRounding","floatExp","floatValue","floatStep","valueCount","stepCount","roundValue","precision","divide","pow","updateCurrency","propVal","numberOfDecimals","decimalPart","modifyText","validateState","result1","result2","metaKey","currentChar","stopPropagation","fractionRule","validateDecimalOnType","mouseWheel","delta","rawEvent","wheelDelta","detail","formatValue_1","getElementData","mouseUpClick","floatLabelTypeUpdate","decrement","getText","propValue","#","?","&","MaskUndo","MaskedTextBox","resetMaskedTextBox","setMaskPlaceholder","setWidth","setVal","dynamicPlaceholder","strippedValue_1","strippedVal","getMaskedValue","TicksData","LimitData","TooltipData","rtl","sliderHiddenInput","controlWrapper","sliderHandle","rangeBar","sliderButton","firstButton","secondButton","tick","large","tickValue","sliderTooltip","sliderHover","sliderFirstHandle","sliderSecondHandle","sliderDisabled","sliderContainer","horizontalTooltipBefore","horizontalTooltipAfter","verticalTooltipBefore","verticalTooltipAfter","materialTooltip","materialTooltipOpen","materialTooltipActive","materialSlider","sliderTrack","sliderHandleFocused","verticalSlider","horizontalSlider","sliderHandleStart","sliderTooltipStart","sliderTabHandle","sliderButtonIcon","sliderSmallSize","sliderTickPosition","sliderFirstTick","sliderLastTick","sliderButtonClass","sliderTooltipWrapper","sliderTabTrack","sliderTabRange","sliderActiveHandle","sliderMaterialHandle","sliderMaterialRange","sliderMaterialDefault","materialTooltipShow","materialTooltipHide","limits","limitBarDefault","limitBarFirst","limitBarSecond","dragHorizontal","dragVertical","Slider","horDir","verDir","transition","transitionOnMaterialTooltip","scaleTransform","customAriaText","isElementFocused","tickElementCollection","tooltipFormatInfo","ticksFormatInfo","internationalization","ticks","formatString","formatInfo","formatValue","makeRoundNumber","elementVal","fractionalToInteger","noOfDecimals","tens","setZindex","tooltipElement","firstTooltipElement","secondTooltipElement","showOn","isMaterial","isBootstrap","setHandler","createRangeBar","createLimitBar","setOrientClass","showButtons","setButtons","rangeValueUpdate","previousVal","checkHandleValue","previousChanged","setLimitBar","placement","renderScale","renderTooltip","orientation","firstElementClassName","firstHandle","secondHandle","setAriaAttributes","customValues","createSecondHandle","secondMaterialHandle","createFirstHandle","firstMaterialHandle","wireFirstHandleEvt","handleFocus","transitionEnd","handleOver","handleLeave","wireSecondHandleEvt","handleStart","activeHandle","handlePos1","handlePos2","getHandle","tooltipObj","firstTooltipObj","secondTooltipObj","refreshTooltip","openMaterialTooltip","tooltipAnimation","closeTooltip","handleFocusOut","tooltipValue","preDir","setTooltipContent","addTooltipClass","setAriaAttrValue","formatContent","handleVal1","ariaContent","handle1","handle2","handleVal2","count_1","getTooltipTransformProperties","previousTooltipClass","tooltipPlacement","tooltipPosition","tooltipBeforeOpen","transformProperties","bootstrapCollisionArgs","wireMaterialTooltipEvent","sliderDown","tooltipPositionCalculation","cursor","checkTooltipPosition","firstHandleTooltipPosition","secondHandleTooltipPosition","tooltipClass","tooltipPointer","beforeOpen","beforeCollision","afterClose","tooltipAfterClose","firstBtn","secondBtn","buttonTitle","enabledRTL","buttonFocusOut","repeatButton","openTooltip","hVal","handleValueUpdate","getLimitCorrectedValues","changeHandleValue","refreshTooltipOnMove","repeatHandlerMouse","buttonClick","repeatInterval","materialChange","repeatHandlerUp","changeEvent","customTickCounter","bigNum","tickCount","orien","smallStep","showSmallTicks","largeStep","steps","customStep","islargeTick","tickWidth","largestep","repeat","createTick","formatTicksValue","decimalPoints","tickesAlignment","ticksWrapper","tickElements","scaleAlignment","tickText","tickElement","tickValuePosition","other","otherChild","ariaValueText","isTickFormatted","valuenow","aria-valuetext","getLimitValueAndPosition","minStart","minEnd","maxStart","maxEnd","focusSliderElement","buttonUp","setRangeBar","checkValidValueAndPos","checkHandlePosition","setLimitBarPositions","fromMinPostion","fromMaxpostion","toMinPostion","toMaxpostion","fromPosition","toPosition","currentValue","minValue","maxValue","limitBar","preHandlePos1","setHandlePosition","validateRangeValue","setRangeValue","modifyZindex","updateRangeValue","setPreviousVal","preHandlePos2","values_1","tempStartEnd","onResize","startHandleFixed","endHandleFixed","xyToPosition","top_1","stepValueCalculation","percentStep","addition","f","positionToValue","sliderBarClick","handlepos","handleVal","checkRepeatedValue","xPostion","yPostion","firstPartRemain","secondPartRemain","minDiff","dragRangeBarMove","dragRangeBarUp","sliderBarMove","sliderBarUp","handleValueAdjust","handleValue","assignValue","handleNumber","valueAndPostion","wireButtonEvt","sliderFocusOut","onresize","keyUp","relatedTarget","transformProperties_1","hiddenHandle_1","handle_1","blur","changeSliderType","updateConfig","changeRtl","changeOrientation","limitsPropertyChange","setMinMaxValue","setTooltip","setReadOnly","VALIDATE_EMAIL","VALIDATE_URL","VALIDATE_DATE_ISO","VALIDATE_DIGITS","VALIDATE_PHONE","VALIDATE_CREDITCARD","FormValidator","validated","errorRules","allowSubmit","required","infoElement","inputElement","selectQuery","defaultMessages","email","dateIso","creditcard","number","maxLength","minLength","rangeLength","tel","equalTo","rules","inputElements","createHTML5Rules","FormValidator_1","addRules","removeRules","validateRules","rules_1","name_1","clearForm","getInputElement","errorClass","validClass","elements_2","getErrorElement","hideMessage","defRules","acceptedTypes","allRule","defRules_1","rule","defRule","annotationRule","ruleCon","ruleName","rulesList","ruleFirstName","ruleSecondName","minvalue","maxvalue","annotationMessage","isCheckable","submitHandler","excludeKeys","hiddenType","validateHiddenType","vhPos","hPos","rules_2","errorMessage","getErrorMessage","errorRule","isValid","removeErrorRules","showMessage","createErrorElement","errorElement","optionalValidationStatus","refer","currentRule","formElement","checkValidator","ruleValue","formats","errorOption","Message","errorContainer","containerId","customPlacement","checkRequired","inputType","compareTo","Label","FILE","STATUS","CLEAR_ICON","REMOVE_ICON","ABORT_ICON","RETRY_ICON","PROGRESS_WRAPPER","PROGRESSBAR","UPLOAD_SUCCESS","UPLOAD_FAILED","ICON_FOCUSED","PAUSE_UPLOAD","FilesProp","ButtonsProps","AsyncSettings","Uploader","initialAttr","multiple","fileList","filesData","uploadedFilesData","isForm","allTypes","pausedData","uploadMetaData","setExtensions","allowedExtensions","clearAll","setControlStatus","setMultipleSelection","reRenderFileList","browse","renderButtonTemplates","unBindDropEvents","setDropArea","renderPreLoadFiles","setLocalizedTexts","preLocaleObj","browseButton","localizedTexts","uploadWrapper","updateFileList","getKeyValue","autoUpload","uploadButton","listParent","createFileList","actionButtons","removeActionButtons","renderActionButtons","checkActionButtonStatus","Browse","Clear","Upload","dropFilesHint","invalidMaxFileSize","invalidMinFileSize","invalidFileType","uploadFailedMessage","uploadSuccessMessage","removedSuccessMessage","removedFailedMessage","inProgress","readyToUploadMessage","pauseUpload","resume","retry","fileUploadCancel","checkHTMLAttributes","asyncSettings","saveUrl","isPureReactComponent","renderBrowseButton","initializeUpload","wireActionButtonEvents","uploadButtonClick","clearButtonClick","unwireActionButtonEvents","uploadText","clearText","dropAreaWrapper","fileDropArea","files","clearData","files_1","fileData","rawFile","validationMessages","minSize","maxSize","statusCode","showFileList","dropTextArea","dropArea","dropZoneElement","enableDropText","bindDropEvents","newAttr","createAttribute","setAttributeNode","checkAutoUpload","browseButtonClick","onSelectFiles","resetForm","setTabFocus","setReverseFocus","metaData","getCurrentMetaData","file","abortUpload","resumeUpload","chunkUpload","removeFiles","fileInfo","targetMetaData","iconElements","iconElement","dropElement","dragHover","onDragLeave","selectedElement","spinnerTarget","removeFilesData","customTemplate","getLiElement","removeUploadedFile","removeDirectly","selectedFiles","formData","FormData","currentRequest","postRawFile","updateFormData","customFormData","removeCompleted","removeFailed","customData","updateStatus","rootElement","statusElement","targetFiles","dataTransfer","sortFileList","eventArgs_1","getFileType","validatedFileSize","isModified","modifiedFilesData","progressInterval","checkExtension","dataFiles","updateSortedFileList","singleUpload","removedList","previousListClone","removedList_1","oldList","createParentUL","dropFiles","extensions_1","extension","toLocaleLowerCase","fileSize","minSizeError","maxSizeError","minFileSize","maxFileSize","createCustomfileList","fileData_1","data-file-name","uploadTemplateFn","templateComplier","fileData_2","textContainer","textElement","getFileNameOnly","fileExtension","rtlContainer","bytesToSize","truncateName","nameElement","tail","setInitialAttributes","filterfileList","filterFiles","createProgressBar","progressbarWrapper","progressBar","progressbarInnerWrapper","progressbarText","updateProgressbar","loaded","total","changeProgressValue","progressValue","uploadInProgress","customUI","removecanceledFile","updateProgressBarClasses","renderFailureState","removeProgressbar","deleteIcon","pauseButton","reloadcanceledFile","uploadComplete","raiseSuccessEvent","uploadFailed","progressAnimation","animateProgressBar","extensions","uploadTemplate","exception","chunkSize","chunkIndex","blob","retryCount","sendRequest","totalChunk","chunkUploadComplete","chunkUploadInProgress","eventCancelByArgs","chunkUploadFailed","checkChunkUpload","response","updateMetaData","eventArgs_2","sendNextRequest","name_2","removeChunkFile","removeChunkProgressBar","pauseIcon","chunkCount","cancelButton","retryRequest","retryAfterDelay","checkPausePlayAction","retryUpload","fromcanceledStage","retryElement","clearIcon","loadedSize","bytes","fileNames","sortedFilesData","sortedFileNames_1","name_3","uploadFiles","validateFileType","chunkEnabled","name_4","getFilesData","validUrl","removeFiles_1","fileDataFiles","pauseUploading","getFiles","resumeFiles","retryFailedFiles","cancelUpload","DISABLED","FOCUS","ITEM","POPUP","SEPARATOR","VERTICAL","DropDownButton","openPopUp","closePopup","dropDown","getTargetElement","getPopUpElement","hasIcon","createAnchor","setIconPositionTop","appendArrowSpan","setActiveElem","iconSpan","activeElem","getULElement","popupElement","delegateMousedownHandler","mousedownHandler","keyEventHandler","liIdx","removeCustomSelection","selectedLi","beforeOpenArgs","openArgs","focusEle","btnModel","TAGNAME","SplitButton","createPrimaryButton","createSecondaryButton","secondaryBtnObj","setAria","primaryBtnObj","btnElem","dropDownBtnModel","beforeItemRender","beforeClose","aria-owns","primaryBtnClickHandler","btnKeyBoardHandler","altdownarrow","CTRLSWITCH","FORMATSWITCH","HEX","HSVAREA","INPUTWRAPPER","MODESWITCH","NOCOLOR","PREVIEW","SELECT","TILE","TOHSV","presets","default","ColorPicker","Apply","Cancel","ModeSwitcher","inline","createWidget","createSplitBtn","tileRipple","ctrlBtnRipple","createPalette","firstPaletteFocus","createPicker","getDragHandler","isPicker","createCtrlBtn","toggleDisabled","refreshPopupPos","splitButton","splitBtn","beforeOpenFn","onOpen","hex","rgba","convertToRgbString","hexToRgb","preview","backgroundColor","getPopupEle","popupInst","getPopupInst","modal","destroyOtherComp","presetColors","paletteGroup","appendElement","appendPalette","modeSwitcher","noColor","setNoColor","borderBottomWidth","rgb","hsv","rgbToHsv","refEle","palette","row","tile","presetName","addTileSelection","noColorEle","insertPos","hsvContainer","dragHandler","setHsvContainerBg","setHandlerPosition","createSlider","createDragTooltip","getHsvContainer","hsvToRgb","hsvArea","sliderPreviewWrapper","createPreview","sliderWrapper","slider","hueSlider","hueChange","opacitySlider","opacityChange","opacityBgTrack","updateOpacitySliderBg","background","convertToOtherFormat","pValue","rgbToHex","cValue","updatePreview","triggerEvent","previewContainer","colorValue","getNumericTextBoxModel","inputWrap","hexInput","maxlength","clsName","btnWrapper","controlBtnWrapper","appendModeSwitchBtn","getTooltipInst","setTooltipOffset","convertToHsvString","updateHsv","isKey","updateInput","removeTileSelection","convertRgbToNumberArray","n","pickerKeyDown","handlerDown","addCtrlSwitchEvent","addvalueEventHandler","previewHandler","paletteClickHandler","paletteKeyDown","addInputEvent","formatSwitchHandler","handlerDragPosition","triggerChangeEvent","prob","setHsv","handlerMove","handlerEnd","switchToPalette","ctrlBtnClick","noColorTile","switchToPicker","grpEle","selectedEle","tiles","prevSelectedEle","tilePosition","keySelectionChanges","newEle","emptyCount","inputValueChange","isPopupOpen","tooltipInst","len_1","bigInt","g","v","changeModeSwitcherProp","ctrlSwitchWrapper","changeShowBtnProps","ctrlBtnWrapper","changeValueProp","setInputEleProps","changeDisabledProp","changeCssClassProps","popupWrapper","changeRtlProps","changePaletteProps","otherCompModel","COLLAPSIBLE","EXPANDABLE","LISTITEM","LISTTEXT","PARENTITEM","HOVER","ACTIVE","LOAD","PROCESS","TEXTWRAP","SIBLING","DROPNEXT","CHECK","CHECKBOXWRAP","treeAriaAttr","treeRole","FieldsSettings","ActionSettings","NodeAnimationSettings","TreeView","mouseDownStatus","TreeView_1","checkActionNodes","dragStartAction","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","ctrlA","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","beforeNodeCreate","updateListProp","treeList","isLoaded","setTouchClass","selectedNodes","checkedNodes","setDataBinding","setExpandOnType","wireEditingEvents","allowEditing","setDragAndDrop","allowDragAndDrop","setFullRow","fullRowSelect","nodeTemplateFn","nodeTemplate","iconModel","rippleIconFn","setMultiSelect","firstUl","treeData","isNumberTypeId","getType","setRootData","finalize","rootData","col","parentID","getDataType","groupedData","getGroupedData","rootItems","getChildNodes","isSorted","getSortedData","finalizeNode","checkboxEle","touchClass","checkValue","addCheck","frame","frameMouseHandler","createFullRow","allowMultiSelection","addActionClass","nodeData","actionValue","iNodes","sNodes","selectNode","cNodes","eNodes","renderChildNodes","updateList","updateCheckedProp","nodes_1","ensureParentCheckState","checkBoxEle","parentUL","currentParent","ensureChildCheckState","childElement","checkBoxes","checkedState","currentLoadData","isNodeChecked","doCheckBoxAction","doCheck","liEle","getElement","checkBox","validateCheckNode","isPrevent","isAdd","currLi","getCheckEvent","removeCheck","getNodeData","firstNode","updateIdAttr","doSelectionAction","sUids","sNode","selectGivenNodes","preventContextMenu","setFocusElement","checkWrapper","checkElement","triggerClickEvent","expandAction","collapseNode","toggleSelect","nodeCheckingEvent","isCheck","nodeCheckedEvent","expandNode","setHeight","expandedNode","animateHeight","expandArgs","getExpandEvent","colArgs","currentHeight","parentLi","expandChild","eicon","childItems","parents","mapper_1","getChildFields","getNodeObject","ensureCheckNode","renderSubChild","getFields","nodeLevel","dataLevel","getChildMapper","isRoot","getChildGroup","objlen","dataId","cIcons","multiSelect","isActive","unselectNode","getSelectEvent","removeSelectAll","startNode","liList","currNode","addSelect","focusedNode","getFocusedNode","expandOnType","expandOn","expandHandler","expandCollapseAction","inpEle","oldText","checkNode","openNode","shiftKeySelect","navigateNode","navigateRootNode","createTextbox","navigateToFocus","isUp","focusNode","getScrollParent","parentPos","isVisibleInViewport","txtWrap","scrollHeight","isTowards","nextNode","getNextNode","getPrevNode","checkWrap","toBeOpened","focusNextNode","setFocus","isBackwards","rootNode","getRootNode","getEndNode","fNode","prevNode","endNode","preNode","onMouseOver","currentLi","setHover","onMouseLeave","hoveredNode","fromDS","pNode","pid","reRenderNodes","newClass","editingHandler","oldInpEle","updateOldText","getEditEvent","innerHtml","wireInputEvents","editData","editFields","inputFocusOut","newText","txtEle","appendNewText","isInput","getChildNodeObject","childData","toBind","initializeDrag","destroyDrag","virtualEle","dragRoot","dragWrap","dragLi","isSameNode","cloneEle","DRAGITEM","nLen","cNode","getDragEvent","draggedNode","targetTouches","dragAction","removeVirtualEle","dropTarget","dropRoot","dropObj","over","dropAction","dropWrap","dropLi","isDescendant","virEle","renderVirtualEle","dragInstance","appendNode","dropAsSiblingNode","dropAsChildNode","dropUl","dragParentUl","dragParentLi","updateElement","updateAriaLevel","updateInstance","dropParentUl","expandParent","dropIcon","dragIcon","updateChildAriaLevel","sibEle","dragNode","dropData","draggedNodeData","newParent","targetParent","droppedNode","droppedNodeData","addFullRow","toAdd","rowDiv","addMultiSelect","liEles_1","liEles","liEles_2","collapseByLevel","excludeHiddenNodes","getVisibleNodes","collapseAllNodes","expandByLevel","expandAllNodes","eIcons","vNodes","removeNode","updateSelectedNodes","doGivenAction","toExpand","addGivenNodes","isRemote","updateMapper","refNode","navigateUrl","doDisableAction","doEnableAction","proxy_1","touchEditObj","wireClickEvent","proxy_2","touchClickObj","wireExpandOnEvent","proxy_3","touchExpandObj","matched","setCheckedNodes","uncheckAll","checkAll","addNodes","beginEdit","collapseAll","disableNodes","enableNodes","ensureVisible","expandAll","getNode","moveNodes","sourceNodes","removeNodes","updateNode","RIGHT","LEFT","OVER","PUSH","CONTEXT","Sidebar","setTarget","enableDock","setDock","setMediaQuery","setType","setCloseOnDocumentClick","targetParentElement","closeOnDocumentClick","documentclickHandler","setDimension","dockSize","z-index","classELement","destroyBackDrop","sibling","showBackdrop","closeArguments","changeArguments","setAnimation","openArguments","createBackDrop","getState","mediaQuery","enableGestureHandler","setEnableGestures","enableGestures","mainContentEle","sidebarEle","margin-left","margin-right","elementWidth"],"mappings":"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AU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACV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"}